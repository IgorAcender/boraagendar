(this["webpackJsonpwebook-react"]=this["webpackJsonpwebook-react"]||[]).push([[22],{1096:function(e,t,o){"use strict";var a=o(13),n=o(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"},r=o(71),l=function(e,t){return n.createElement(r.a,Object(a.a)({},e,{ref:t,icon:c}))},s=n.forwardRef(l);t.a=s},1097:function(e,t,o){"use strict";var a=o(13),n=o(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M536.1 273H488c-4.4 0-8 3.6-8 8v275.3c0 2.6 1.2 5 3.3 6.5l165.3 120.7c3.6 2.6 8.6 1.9 11.2-1.7l28.6-39c2.7-3.7 1.9-8.7-1.7-11.2L544.1 528.5V281c0-4.4-3.6-8-8-8zm219.8 75.2l156.8 38.3c5 1.2 9.9-2.6 9.9-7.7l.8-161.5c0-6.7-7.7-10.5-12.9-6.3L752.9 334.1a8 8 0 003 14.1zm167.7 301.1l-56.7-19.5a8 8 0 00-10.1 4.8c-1.9 5.1-3.9 10.1-6 15.1-17.8 42.1-43.3 80-75.9 112.5a353 353 0 01-112.5 75.9 352.18 352.18 0 01-137.7 27.8c-47.8 0-94.1-9.3-137.7-27.8a353 353 0 01-112.5-75.9c-32.5-32.5-58-70.4-75.9-112.5A353.44 353.44 0 01171 512c0-47.8 9.3-94.2 27.8-137.8 17.8-42.1 43.3-80 75.9-112.5a353 353 0 01112.5-75.9C430.6 167.3 477 158 524.8 158s94.1 9.3 137.7 27.8A353 353 0 01775 261.7c10.2 10.3 19.8 21 28.6 32.3l59.8-46.8C784.7 146.6 662.2 81.9 524.6 82 285 82.1 92.6 276.7 95 516.4 97.4 751.9 288.9 942 524.8 942c185.5 0 343.5-117.6 403.7-282.3 1.5-4.2-.7-8.9-4.9-10.4z"}}]},name:"history",theme:"outlined"},r=o(71),l=function(e,t){return n.createElement(r.a,Object(a.a)({},e,{ref:t,icon:c}))},s=n.forwardRef(l);t.a=s},1804:function(e,t,o){"use strict";o.d(t,"a",(function(){return de})),o.d(t,"b",(function(){return be}));var a=o(0),n=o(50),c=o(250),r=o(2883),l=o(852),s=o(3023),i=o(2937),d=o(12),b=o(7),u=o.n(b),j=o(1199),p=o(84),h=o(130),m=o(119),O=o(899),g=o(790),v=o(46),f=o(948),x=o(153),w=o(127),_=o(189),y=o(343),C=o(829),$=o(1233),k=o(1428),I=o(1111),S=o(1231),N=o(1232),E=o(192);var F=function(e,t){const{getPrefixCls:o,direction:n,renderEmpty:c}=a.useContext(v.a),r=t||n;return[o("select",e),o("cascader",e),r,c]};function D(e,t){return a.useMemo((()=>!!t&&a.createElement("span",{className:`${e}-checkbox-inner`})),[e,t])}var P=o(1088),z=o(199),R=o(356);var L=(e,t,o)=>{let n=o;o||(n=t?a.createElement(P.a,null):a.createElement(R.a,null));const c=a.useMemo((()=>a.createElement("span",{className:`${e}-menu-item-loading-icon`},a.createElement(z.a,{spin:!0}))),[e]);return a.useMemo((()=>[n,c]),[n,c])},B=o(351),H=o(310),M=o(14),W=o(1018),A=o(57);var T=e=>{const{prefixCls:t,componentCls:o}=e,a=`${o}-menu-item`,n=`\n  &${a}-expand ${a}-expand-icon,\n  ${a}-loading-icon\n`;return[Object(W.b)(`${t}-checkbox`,e),{[o]:{"&-checkbox":{top:0,marginInlineEnd:e.paddingXS,pointerEvents:"unset"},"&-menus":{display:"flex",flexWrap:"nowrap",alignItems:"flex-start",[`&${o}-menu-empty`]:{[`${o}-menu`]:{width:"100%",height:"auto",[a]:{color:e.colorTextDisabled}}}},"&-menu":{flexGrow:1,flexShrink:0,minWidth:e.controlItemWidth,height:e.dropdownHeight,margin:0,padding:e.menuPadding,overflow:"auto",verticalAlign:"top",listStyle:"none","-ms-overflow-style":"-ms-autohiding-scrollbar","&:not(:last-child)":{borderInlineEnd:`${Object(M.unit)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},"&-item":Object.assign(Object.assign({},A.j),{display:"flex",flexWrap:"nowrap",alignItems:"center",padding:e.optionPadding,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationMid}`,borderRadius:e.borderRadiusSM,"&:hover":{background:e.controlItemBgHover},"&-disabled":{color:e.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"},[n]:{color:e.colorTextDisabled}},[`&-active:not(${a}-disabled)`]:{"&, &:hover":{color:e.optionSelectedColor,fontWeight:e.optionSelectedFontWeight,backgroundColor:e.optionSelectedBg}},"&-content":{flex:"auto"},[n]:{marginInlineStart:e.paddingXXS,color:e.colorIcon,fontSize:e.fontSizeIcon},"&-keyword":{color:e.colorHighlight}})}}}]};const q=e=>{const t=Math.round((e.controlHeight-e.fontSize*e.lineHeight)/2);return{controlWidth:184,controlItemWidth:111,dropdownHeight:180,optionSelectedBg:e.controlItemBgActive,optionSelectedFontWeight:e.fontWeightStrong,optionPadding:`${t}px ${e.paddingSM}px`,menuPadding:e.paddingXXS,optionSelectedColor:e.colorText}};var Y=Object(H.b)("Cascader",(e=>{const{componentCls:t,antCls:o}=e;return[{[t]:{width:e.controlWidth}},{[`${t}-dropdown`]:[{[`&${o}-select-dropdown`]:{padding:0}},T(e)]},{[`${t}-dropdown-rtl`]:{direction:"rtl"}},Object(B.a)(e)]}),q,{unitless:{optionSelectedFontWeight:!0}});var X=Object(H.a)(["Cascader","Panel"],(e=>{const{componentCls:t}=e;return{[`${t}-panel`]:[T(e),{display:"inline-flex",border:`${Object(M.unit)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,borderRadius:e.borderRadiusLG,overflowX:"auto",maxWidth:"100%",[`${t}-menus`]:{alignItems:"stretch"},[`${t}-menu`]:{height:"auto"},"&-empty":{padding:e.paddingXXS}}]}}),q);var G=function(e){const{prefixCls:t,className:o,multiple:n,rootClassName:c,notFoundContent:r,direction:l,expandIcon:s,disabled:i}=e,d=a.useContext(x.b),b=null!==i&&void 0!==i?i:d,[p,h,m,O]=F(t,l),g=Object(w.a)(h),[v,_,y]=Y(h,g);X(h);const C="rtl"===m,[$,k]=L(p,C,s),I=r||(null===O||void 0===O?void 0:O("Cascader"))||a.createElement(f.a,{componentName:"Cascader"}),S=D(h,n);return v(a.createElement(j.Panel,Object.assign({},e,{checkable:S,prefixCls:h,className:u()(o,_,c,y,g),notFoundContent:I,direction:m,expandIcon:$,loadingIcon:k,disabled:b})))},V=function(e,t){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(o[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(o[a[n]]=e[a[n]])}return o};const{SHOW_CHILD:J,SHOW_PARENT:K}=j.default;const U=(e,t,o,n)=>{const c=[],r=e.toLowerCase();return t.forEach(((e,t)=>{0!==t&&c.push(" / ");let l=e[n.label];const s=typeof l;"string"!==s&&"number"!==s||(l=function(e,t,o){const n=e.toLowerCase().split(t).reduce(((e,o,a)=>0===a?[o]:[].concat(Object(d.a)(e),[t,o])),[]),c=[];let r=0;return n.forEach(((t,n)=>{const l=r+t.length;let s=e.slice(r,l);r=l,n%2===1&&(s=a.createElement("span",{className:`${o}-menu-item-keyword`,key:`separator-${n}`},s)),c.push(s)})),c}(String(l),r,o)),c.push(l)})),c},Q=a.forwardRef(((e,t)=>{var o,n,c,r;const{prefixCls:l,size:s,disabled:i,className:d,rootClassName:b,multiple:O,bordered:P=!0,transitionName:z,choiceTransitionName:R="",popupClassName:B,dropdownClassName:H,expandIcon:M,placement:W,showSearch:A,allowClear:T=!0,notFoundContent:q,direction:X,getPopupContainer:G,status:J,showArrow:K,builtinPlacements:Q,style:Z,variant:ee,dropdownRender:te,onDropdownVisibleChange:oe,dropdownMenuColumnStyle:ae,popupRender:ne,dropdownStyle:ce,popupMenuColumnStyle:re,onOpenChange:le,styles:se,classNames:ie}=e,de=V(e,["prefixCls","size","disabled","className","rootClassName","multiple","bordered","transitionName","choiceTransitionName","popupClassName","dropdownClassName","expandIcon","placement","showSearch","allowClear","notFoundContent","direction","getPopupContainer","status","showArrow","builtinPlacements","style","variant","dropdownRender","onDropdownVisibleChange","dropdownMenuColumnStyle","popupRender","dropdownStyle","popupMenuColumnStyle","onOpenChange","styles","classNames"]),be=Object(p.a)(de,["suffixIcon"]),{getPrefixCls:ue,getPopupContainer:je,className:pe,style:he,classNames:me,styles:Oe}=Object(v.e)("cascader"),{popupOverflow:ge}=a.useContext(v.a),{status:ve,hasFeedback:fe,isFormItemInput:xe,feedbackIcon:we}=a.useContext(y.b),_e=Object(g.a)(ve,J);const[ye,Ce,$e,ke]=F(l,X),Ie="rtl"===$e,Se=ue(),Ne=Object(w.a)(ye),[Ee,Fe,De]=Object(k.a)(ye,Ne),Pe=Object(w.a)(Ce),[ze]=Y(Ce,Pe),{compactSize:Re,compactItemClassnames:Le}=Object(E.c)(ye,X),[Be,He]=Object(C.a)("cascader",ee,P),Me=q||(null===ke||void 0===ke?void 0:ke("Cascader"))||a.createElement(f.a,{componentName:"Cascader"}),We=u()((null===(o=null===ie||void 0===ie?void 0:ie.popup)||void 0===o?void 0:o.root)||(null===(n=me.popup)||void 0===n?void 0:n.root)||B||H,`${Ce}-dropdown`,{[`${Ce}-dropdown-rtl`]:"rtl"===$e},b,Ne,me.root,null===ie||void 0===ie?void 0:ie.root,Pe,Fe,De),Ae=Object(S.a)(ne||te),Te=re||ae,qe=le||oe,Ye=(null===(c=null===se||void 0===se?void 0:se.popup)||void 0===c?void 0:c.root)||(null===(r=Oe.popup)||void 0===r?void 0:r.root)||ce,Xe=a.useMemo((()=>{if(!A)return A;let e={render:U};return"object"===typeof A&&(e=Object.assign(Object.assign({},e),A)),e}),[A]),Ge=Object(_.a)((e=>{var t;return null!==(t=null!==s&&void 0!==s?s:Re)&&void 0!==t?t:e})),Ve=a.useContext(x.b),Je=null!==i&&void 0!==i?i:Ve,[Ke,Ue]=L(ye,Ie,M),Qe=D(Ce,O),Ze=Object(N.a)(e.suffixIcon,K),{suffixIcon:et,removeIcon:tt,clearIcon:ot}=Object(I.a)(Object.assign(Object.assign({},e),{hasFeedback:fe,feedbackIcon:we,showSuffixIcon:Ze,multiple:O,prefixCls:ye,componentName:"Cascader"})),at=a.useMemo((()=>void 0!==W?W:Ie?"bottomRight":"bottomLeft"),[W,Ie]),nt=!0===T?{clearIcon:ot}:T,[ct]=Object(h.b)("SelectLike",null===Ye||void 0===Ye?void 0:Ye.zIndex);return ze(Ee(a.createElement(j.default,Object.assign({prefixCls:ye,className:u()(!l&&Ce,{[`${ye}-lg`]:"large"===Ge,[`${ye}-sm`]:"small"===Ge,[`${ye}-rtl`]:Ie,[`${ye}-${Be}`]:He,[`${ye}-in-form-item`]:xe},Object(g.b)(ye,_e,fe),Le,pe,d,b,null===ie||void 0===ie?void 0:ie.root,me.root,Ne,Pe,Fe,De),disabled:Je,style:Object.assign(Object.assign(Object.assign(Object.assign({},Oe.root),null===se||void 0===se?void 0:se.root),he),Z)},be,{builtinPlacements:Object($.a)(Q,ge),direction:$e,placement:at,notFoundContent:Me,allowClear:nt,showSearch:Xe,expandIcon:Ke,suffixIcon:et,removeIcon:tt,loadingIcon:Ue,checkable:Qe,dropdownClassName:We,dropdownPrefixCls:l||Ce,dropdownStyle:Object.assign(Object.assign({},Ye),{zIndex:ct}),dropdownRender:Ae,dropdownMenuColumnStyle:Te,onOpenChange:qe,choiceTransitionName:Object(m.b)(Se,"",R),transitionName:Object(m.b)(Se,"slide-up",z),getPopupContainer:G||je,ref:t}))))}));const Z=Object(O.a)(Q,"dropdownAlign",(e=>Object(p.a)(e,["visible"])));Q.SHOW_PARENT=K,Q.SHOW_CHILD=J,Q.Panel=G,Q._InternalPanelDoNotUseOrYouWillBeFired=Z;var ee=Q,te=o(159),oe=o(624),ae=o(27),ne=o(19),ce=o(53),re=o.n(ce),le=o(22);const se=()=>{var e,t;const o=Object(ae.a)((e=>e.current_user.permissions)),a=Object(oe.b)((e=>e.schedule_group.date)),d=Object(oe.b)((e=>e.schedule_group.reminder)),b=Object(oe.b)((e=>e.schedule_group.id)),u=Object(oe.b)((e=>e.schedule_group.recurrence)),j=Object(oe.b)((e=>e.schedule_group.force_schedule)),p=Object(oe.b)((e=>{var t;return null===(t=e.schedule_group.inventory_sale)||void 0===t?void 0:t.finished})),h=Object(oe.b)((e=>e.getScheduleGroup)),m=Object(oe.b)((e=>e.dispatch)),O=!(null===u||void 0===u||!u.head_schedule_group_id),g=null===u||void 0===u?void 0:u.apply_forward,v=u?[u.frequency,u.number_occurrences]:void 0,f=b?o.can_edit_calendar:o.can_create_calendar;return Object(le.jsxs)(c.g,{$column:!0,$isFlex:!1,children:[Object(le.jsxs)(c.g,{$alignCenter:!0,gutter:12,$isFlex:!1,$mTop:25,$mBottom:25,children:[Object(le.jsx)(r.a,{children:Object(le.jsx)(c.g,{$alignCenter:!0,children:Object(le.jsxs)(l.a,{placement:"top",title:Object(n.b)("calendar.reminder_tooltip"),children:[Object(le.jsx)(s.a,{checked:d,disabled:p||!f,onChange:e=>{m({type:"change_reminder",payload:e})}}),Object(le.jsx)(c.h,{$size:16,$mLeft:8,children:Object(n.b)("calendar.send_reminder")})]})})}),Object(le.jsx)(r.a,{children:Object(le.jsxs)(c.g,{$alignCenter:!0,children:[Object(le.jsx)(s.a,{checked:j,disabled:p||!f,onChange:e=>{m({type:"change_force_schedule",payload:e})}}),Object(le.jsx)(c.h,{$size:16,$mLeft:8,children:Object(n.b)("calendar.fit_schedule")})]})})]}),Object(le.jsxs)(i.a,{layout:"vertical",children:[Object(le.jsxs)(c.g,{gutter:34,$alignCenter:!0,$isFlex:!1,children:[Object(le.jsx)(r.a,{span:O&&b!==(null===u||void 0===u?void 0:u.head_schedule_group_id)?0:10,children:Object(le.jsx)(i.a.Item,{label:Object(n.b)("calendar.besides_this_repeat_more"),children:Object(le.jsx)(ee,{size:"large",disabled:p||!f,value:v,placeholder:Object(n.b)("calendar.no_recurring_schedule"),options:be(a),onChange:e=>(e=>{m({type:"change_recurrence",payload:e})})(e)})})}),Object(le.jsx)(r.a,{span:O?14:0,children:Object(le.jsx)(i.a.Item,{children:Object(le.jsxs)(c.g,{$alignCenter:!0,$mTop:30,children:[Object(le.jsx)(s.a,{checked:g,disabled:p||!f,onChange:e=>{m({type:"change_recurrence_apply_forward",payload:e})}}),Object(le.jsx)(c.h,{$size:16,$mLeft:8,children:Object(n.b)("calendar.apply_changes_forward")})]})})})]}),Object(le.jsx)(i.a.Item,{label:Object(n.b)("calendar.upcoming_schedules"),hidden:!(null!==u&&void 0!==u&&null!==(e=u.schedule_groups)&&void 0!==e&&e.length),children:Object(le.jsx)(ie,{$wrap:!0,$gap:8,children:null===u||void 0===u||null===(t=u.schedule_groups)||void 0===t?void 0:t.map((e=>Object(le.jsx)(te.a,{type:"primary",style:{width:110},disabled:e.id===b,onClick:()=>h({variables:{id:e.id}}),children:re()(e.start_date,"YYYY-MM-DD").format("L")},e.id)))})})]})]})};se.displayName="ScheduleGroupActions";t.c=Object(a.memo)(se);const ie=Object(ne.d)(c.g).withConfig({componentId:"wb__sc-1jky5bg-0"})(["display:flex;row-gap:8px !important;max-height:136px;overflow-y:auto;"]),de=new Array(60).fill(0).map(((e,t)=>({value:t+1,label:`${t+1} ${Object(n.b)("calendar.recurrence.time",{count:t+1}).toLocaleLowerCase()}`}))),be=e=>[{value:"day",label:Object(n.b)("calendar.recurrence.daily"),children:de},{value:"week",label:Object(n.b)("calendar.recurrence.weekly",{date:e.format("dddd").toLocaleLowerCase()}),children:de},{value:"biweek",label:Object(n.b)("calendar.recurrence.bi_week"),children:de},{value:"three_weeks",label:Object(n.b)("calendar.recurrence.three_week"),children:de},{value:"four_weeks",label:Object(n.b)("calendar.recurrence.four_week"),children:de},{value:"month",label:Object(n.b)("calendar.recurrence.monthly",{day:e.date()}),children:de}]},1839:function(e,t,o){"use strict";var a=o(0),n=o(50),c=o(250),r=o(37),l=o(2879),s=o(76);const i=r.e`
  query ScheduleGroupHistorical($id: ID!) {
    schedule_group(id: $id, with_deleted: true) {
      id
      historical {
        type
        created_at
        user_email
        model_name
        product_service: calendar_product_service
        attribute
        attribute_name
        previous_value
        value
      }
    }
  }
`;var d=e=>Object(l.a)(i,{fetchPolicy:"network-only",onCompleted:t=>{let{schedule_group:{historical:o}}=t;e(o)},onError:e=>{s.a.captureException(e),console.log(e)}}),b=o(586),u=o(834),j=o(22);const p=(e,t)=>{const[o,r]=Object(a.useState)(!1),[l,s]=Object(a.useState)([]),[i,{loading:p,error:h}]=d(s),m=e=>{r(!0),i({variables:{id:e}})},O=()=>r(!1);Object(a.useImperativeHandle)(t,(()=>({open:m,close:O})));return Object(j.jsx)(c.a,{open:o,title:Object(n.b)("words.history"),width:700,height:"100%",onClose:O,closable:!0,destroyOnClose:!0,styles:{body:{padding:0,position:"relative"}},footer:null,afterOpenChange:e=>{e||s([])},push:!1,children:Object(j.jsx)(b.a,{visible:!!h,small:!0,children:Object(j.jsx)(u.a,{historical:l,loading:p})})})};p.displayName="HistoricalDrawer";t.a=Object(a.memo)(Object(a.forwardRef)(p))},705:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return c})),o.d(t,"c",(function(){return r}));var a=o(50);const n=[{hexadecimal:"#CED4DA",name:Object(a.b)("settings.colors.gray")},{hexadecimal:"#FFEB3B",name:Object(a.b)("settings.colors.yellow")},{hexadecimal:"#FFC107",name:Object(a.b)("settings.colors.amber")},{hexadecimal:"#FFA500",name:Object(a.b)("settings.colors.orange")},{hexadecimal:"#FF5722",name:Object(a.b)("settings.colors.dark_orange")},{hexadecimal:"#CDDC39",name:Object(a.b)("settings.colors.lime")},{hexadecimal:"#8BC34A",name:Object(a.b)("settings.colors.light_green")},{hexadecimal:"#32C787",name:Object(a.b)("settings.colors.green")},{hexadecimal:"#00BCD4",name:Object(a.b)("settings.colors.cyan")},{hexadecimal:"#39BBB0",name:Object(a.b)("settings.colors.turquoise")},{hexadecimal:"#004D40",name:Object(a.b)("settings.colors.dark_teal")},{hexadecimal:"#03A9F4",name:Object(a.b)("settings.colors.light_blue")},{hexadecimal:"#2196F3",name:Object(a.b)("settings.colors.blue")},{hexadecimal:"#3F51B5",name:Object(a.b)("settings.colors.dark_blue")},{hexadecimal:"#673AB7",name:Object(a.b)("settings.colors.purple")},{hexadecimal:"#D066E2",name:Object(a.b)("settings.colors.dark_purple")},{hexadecimal:"#BA68C8",name:Object(a.b)("settings.colors.light_purple")},{hexadecimal:"#FF6B68",name:Object(a.b)("settings.colors.red")},{hexadecimal:"#E91E63",name:Object(a.b)("settings.colors.pink")},{hexadecimal:"#B71C1C",name:Object(a.b)("settings.colors.dark_red")},{hexadecimal:"#607D8B",name:Object(a.b)("settings.colors.bluish_gray")},{hexadecimal:"#795548",name:Object(a.b)("settings.colors.brown")},{hexadecimal:"#3E2723",name:Object(a.b)("settings.colors.dark_brown")}],c=[{value:"confirmed",label:Object(a.b)("words.confirmed")},{value:"unconfirmed",label:Object(a.b)("words.unconfirmed")},{value:"waiting",label:Object(a.b)("verbs.waiting")},{value:"disconfirm",label:Object(a.b)("words.canceled")},{value:"invoiced",label:Object(a.b)("words.billed")},{value:"busy",label:Object(a.b)("words.occupation")}],r=[{name:`<${Object(a.b)("words.default")}>`,hexadecimal:"#32C787",default_for:"confirmed"},{name:`<${Object(a.b)("words.default")}>`,hexadecimal:"#2196F3",default_for:"unconfirmed"},{name:`<${Object(a.b)("words.default")}>`,hexadecimal:"#FFA500",default_for:"waiting"},{name:`<${Object(a.b)("words.default")}>`,hexadecimal:"#FF6B68",default_for:"disconfirm"},{name:`<${Object(a.b)("words.default")}>`,hexadecimal:"#607D8B",default_for:"invoiced"},{name:`<${Object(a.b)("words.default")}>`,hexadecimal:"#CED4DA",default_for:"busy"}]},744:function(e,t,o){"use strict";var a=o(0),n=o(50),c=o(705),r=o(1256),l=o(2937),s=o(2824),i=o(2883),d=o(755),b=o(250),u=o(37),j=o(1850),p=o(116),h=o(76);const m=u.e`
  mutation saveCalendarColor($data: ScheduleColorSaveInput!) {
    scheduleColorSave(input: $data) {
      success
      errors
      schedule_color {
        id
        name
        hexadecimal
        default_for
        updated_at
      }
    }
  }
`;var O=()=>{const[e,{loading:t}]=Object(j.a)(m);return[async t=>{try{var o;const a=await e({variables:{data:t}}),{success:n=!1,errors:c=[],schedule_color:r}=(null===(o=a.data)||void 0===o?void 0:o.scheduleColorSave)||{};return null===c||void 0===c||c.forEach((e=>p.b.error(e))),{success:n,schedule_color:r}}catch(a){return h.a.captureException(a),p.b.error(Object(n.b)("phrases.generic_save_error_message")),console.error(a),{success:!1,schedule_color:void 0}}},{loading:t}]},g=o(2879);const v=u.e`
  query CalendarsColors($id: ID!) {
    schedule_color(id: $id) {
      id
      name
      hexadecimal
      default_for
    }
  }
`;var f=e=>Object(g.a)(v,{...e,fetchPolicy:"network-only",onError:e=>{h.a.captureException(e),console.log({error:e})}}),x=o(27),w=o(339),_=o(586),y=o(19),C=o(581),$=o(22);const k=r.a.Option,I=(e,t)=>{let{onSave:o}=e;const[u,j]=Object(a.useState)(!1),h=Object(a.useRef)(null),[m]=l.a.useForm(),{resetFields:g,submit:v,setFieldsValue:y}=m,I=Object(x.a)((e=>e.is_mobile)),[N,{loading:E,error:F}]=f({onCompleted:e=>y({id:e.schedule_color.id,name:e.schedule_color.name,default_for:e.schedule_color.default_for,color:e.schedule_color.hexadecimal})}),D=e=>{e&&N({variables:{id:e}}),j(!0),setTimeout((()=>{var e;return null===(e=h.current)||void 0===e?void 0:e.focus()}),500)},P=Object(a.useCallback)((()=>{setTimeout((()=>g()),200),j(!1)}),[g]);Object(a.useImperativeHandle)(t,(()=>({open:D,close:P})));const[z,{loading:R}]=O();return Object($.jsx)(b.a,{closable:!0,open:u,title:Object(n.b)("settings.scheduling_colors"),destroyOnClose:!0,onClose:P,width:500,height:"100%",footer:Object($.jsx)(C.a,{disabled:R,close:P,loading:E,submit:v}),children:Object($.jsxs)(S,{children:[Object($.jsx)(w.a,{loading:E}),Object($.jsx)(l.a,{form:m,layout:"vertical",style:{width:"100%"},onFinish:async e=>{const t={...e,default_for:e.default_for||null},{success:a,schedule_color:c}=await z(t);a&&c&&(p.b.success(Object(n.b)("phrases.saved_successfully",{prefix:Object(n.b)("words.color"),context:"female"})),P(),null===o||void 0===o||o(c))},children:Object($.jsxs)(_.a,{visible:!!F,small:I,children:[Object($.jsx)(l.a.Item,{name:"id",noStyle:!0,children:Object($.jsx)(s.a,{type:"hidden"})}),Object($.jsxs)(b.g,{$wrap:!0,gutter:8,children:[Object($.jsx)(i.a,{xs:24,sm:24,children:Object($.jsx)(l.a.Item,{name:"name",label:Object(n.b)("words.name"),rules:[{required:!0,message:Object(n.b)("phrases.required_field")}],children:Object($.jsx)(s.a,{ref:h,autoFocus:!0,size:I?"large":"middle"})})}),Object($.jsx)(i.a,{xs:24,sm:12,children:Object($.jsx)(l.a.Item,{name:"color",label:Object(n.b)("words.color"),rules:[{required:!0,message:Object(n.b)("phrases.required_field")}],children:Object($.jsx)(r.a,{size:I?"large":"middle",children:c.a.map((e=>Object($.jsx)(k,{value:e.hexadecimal,children:Object(d.b)(e.hexadecimal)},e.name)))})})}),Object($.jsx)(i.a,{xs:24,sm:12,children:Object($.jsx)(l.a.Item,{name:"default_for",label:Object(n.b)("settings.colors.default_for"),children:Object($.jsx)(r.a,{allowClear:!0,size:I?"large":"middle",children:c.b.map((e=>Object($.jsx)(k,{value:e.value,children:e.label},e.value)))})})})]})]})})]})})};I.displayName="CalendarsColorDrawer";t.a=Object(a.memo)(Object(a.forwardRef)(I));const S=Object(y.d)(b.g).withConfig({componentId:"wb__sc-16z2wj7-0"})(["position:relative;height:100%;"])},755:function(e,t,o){"use strict";o.d(t,"b",(function(){return N})),o.d(t,"a",(function(){return E}));var a=o(0),n=o(50),c=o(340),r=o(705),l=o(250),s=o(2843),i=o(2976),d=o(159),b=o(585),u=o(37),j=o(405),p=o(76);const h=u.e`
  query CalendarsColors {
    schedule_colors {
      id
      name
      hexadecimal
      default_for
    }
  }
`;var m=()=>Object(j.f)(h,{fetchPolicy:"network-only",onError:e=>{p.a.captureException(e),console.log({error:e})}}),O=o(744),g=o(116),v=o(1850);const f=u.e`
  mutation DestroyCalendarColor($data: ScheduleColorDestroyInput!) {
    scheduleColorDestroy(input: $data) {
      success errors
    }
  }
`;var x=()=>{const[e]=Object(v.a)(f);return async t=>{const o=g.b.loading(`${Object(n.b)("verbs.wait")}...`,0);try{const{data:a}=await e({variables:{data:{id:t}}}),{success:n=!1,errors:c}=(null===a||void 0===a?void 0:a.scheduleColorDestroy)||{};return null===c||void 0===c||c.forEach((e=>g.b.error(e))),{success:n}}catch(a){return p.a.captureException(a),g.b.error(Object(n.b)("phrases.generic_delete_error_message")),console.error(a),{success:!1}}finally{o()}}},w=o(27),_=o(19),y=o(232),C=o(582),$=o(22);const k=Object(a.lazy)((()=>Object(y.a)((()=>o.e(182).then(o.bind(null,3095)))))),I=Object(a.lazy)((()=>Object(y.a)((()=>o.e(183).then(o.bind(null,2895)))))),S=()=>{const e=Object(w.a)((e=>e.is_mobile)),t=Object(w.a)((e=>e.current_user.permissions)),o=Object(a.useRef)(null),u=x(),{data:{schedule_colors:j=[]}={},refetch:p}=m(),h=Object(a.useCallback)((e=>{var t;return null===(t=o.current)||void 0===t?void 0:t.open(e)}),[]),v=Object(a.useCallback)((async e=>{const{success:t}=await u(e);t&&(g.b.success(Object(n.b)("phrases.deleted_successfully",{prefix:Object(n.b)("words.color"),context:"female"})),p())}),[u,p]),f=Object(a.useMemo)((()=>[...r.c,...j]),[j]);return Object($.jsxs)(b.c,{has_permission:t.is_admin,style:{width:"100%"},children:[Object($.jsxs)(l.g,{$column:!0,$mBottom:20,children:[Object($.jsx)(i.a,{message:Object($.jsx)(c.a,{i18nKey:"settings.colors.personalize_schedule",components:[Object($.jsx)("br",{}),Object($.jsx)("strong",{})]})}),Object($.jsx)(l.g,{justify:"end",style:{margin:"10px 0"},children:Object($.jsx)(d.a,{block:e,onClick:()=>h(),icon:Object($.jsx)(s.a,{}),type:"primary",children:Object(n.b)("verbs.create")})}),Object($.jsx)(C.a,{Desktop:k,Mobile:I,colors:f,handleDestroyCalendarColor:v,openCalendarColorModal:h})]}),Object($.jsx)(O.a,{ref:o,onSave:p})]})};S.displayName="CalendarColors";t.c=S;const N=e=>{var t;return Object($.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object($.jsx)(E,{scale:1,$hex:e}),Object($.jsx)(l.h,{$textEllipsis:!0,children:null===(t=r.a.find((t=>t.hexadecimal===e)))||void 0===t?void 0:t.name})]})};N.displayName="ColorWithName";const E=_.d.div.withConfig({componentId:"wb__sc-1ypvx7k-0"})(["width:","px;height:","px;min-width:20px;border-radius:3px;background-color:",";margin-right:10px;"],(e=>20*e.scale),(e=>20*e.scale),(e=>e.$hex))},763:function(e,t,o){"use strict";o.d(t,"a",(function(){return j}));var a=o(0),n=o(50),c=o(250),r=o(2843),l=o(27),s=o(629),i=o(19),d=o(744),b=o(22);const u=(e,t)=>{const o=Object(a.useRef)(null),i=Object(l.a)((e=>e.schedule_colors)),u=Object(a.useCallback)((e=>Object(b.jsxs)("div",{children:[e,Object(b.jsx)(c.g,{$paddings:10,style:{borderTop:"1px solid #f0f0f0"},children:Object(b.jsx)(c.i,{onClick:()=>{var e;return null===(e=o.current)||void 0===e?void 0:e.open()},children:Object(b.jsxs)(c.h,{$semibold:!0,children:[Object(b.jsx)(r.a,{})," ",Object(n.b)("verbs.create")," ",Object(n.b)("words.color").toLocaleLowerCase()]})})})]})),[]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(s.b,{allowClear:!0,ref:t,placeholder:Object(n.b)("words.default"),dropdownRender:u,getPopupContainer:Object(a.useCallback)((e=>e.parentElement),[]),...e,children:i.map((e=>Object(b.jsx)(s.a,{value:e.id,item:e,children:Object(b.jsxs)(c.g,{align:"middle",children:[Object(b.jsx)(j,{$hex:e.hexadecimal})," ",e.name]})},e.id)))}),Object(b.jsx)(d.a,{ref:o,onSave:t=>{var o;null===e||void 0===e||null===(o=e.onChange)||void 0===o||o.call(e,t.id,{label:t.id,value:t.id,key:t.id,item:t})}})]})};t.b=Object(a.forwardRef)(u);const j=i.d.div.withConfig({componentId:"wb__sc-hfh5cz-0"})(["width:20px;min-width:20px;height:20px;border-radius:5px;background-color:",";margin-right:10px;"],(e=>e.$hex))},788:function(e,t,o){"use strict";var a=o(0),n=o(629),c=o(652),r=o(27),l=o(592),s=o(250),i=o(50),d=o(19),b=o(22);const u=(e,t)=>{const[o,n]=Object(a.useState)(!1),{value:c,options:r,onConfirm:d}=e,u=Object(a.useRef)(null),j=()=>{n(!0),setTimeout((()=>{var e;null===u||void 0===u||null===(e=u.current)||void 0===e||e.scrollIntoView({behavior:"smooth",inline:"start"})}),500)},h=()=>{n(!1)};Object(a.useImperativeHandle)(t,(()=>({open:j,close:h})));const m=Object(a.useCallback)((e=>{}),[]);return Object(b.jsx)(s.b,{title:Object(i.b)("words.schedule_time"),closable:!0,height:"100%",width:700,destroyOnClose:!0,onClose:h,afterOpenChange:m,open:o,placement:"bottom",push:!1,footer:null,children:Object(b.jsx)(p,{children:r.map((e=>{const t=c===e.value;return Object(b.jsx)(l.b,{ref:t?u:void 0,$is_selected:t,onClick:()=>(d(e),void h()),children:Object(b.jsx)(s.g,{$alignCenter:!0,$paddings:10,children:e.label})},e.value)}))})})};u.displayName="TimeDrawerMobile";var j=Object(a.forwardRef)(u);const p=d.d.div.withConfig({componentId:"wb__sc-1t7ob08-0"})(["position:relative;"]),h=["00","05","10","15","20","25","30","35","40","45","50","55"],m=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"].reduce(((e,t)=>[...e,...h.map((e=>({value:`${t}:${e}`,label:`${t}:${e}h`})))]),[]),O=(e,t)=>{const o=Object(r.a)((e=>e.is_mobile)),l=e.options||m,s=Object(a.useRef)(null);var i,d;return o?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{style:{width:(null===(i=e.style)||void 0===i?void 0:i.width)||"100%"},onClick:()=>{var t;e.disabled||null===(t=s.current)||void 0===t||t.open()},children:Object(b.jsx)(c.a,{style:{...e.style,width:"100%"},className:"pointer-events-none-mobile",placeholder:l[0].label,...e,value:null===(d=l.find((t=>t.value===e.value)))||void 0===d?void 0:d.label})}),Object(b.jsx)(j,{ref:s,...e,options:l,onConfirm:t=>{var o;t&&(null===(o=e.onChange)||void 0===o||o.call(e,t.value,t))}})]}):Object(b.jsx)(n.b,{showSearch:!0,ref:t,placeholder:l[0].label,getPopupContainer:e=>e.parentElement||document.body,...e,onClick:e=>e.stopPropagation(),children:m.map((e=>Object(b.jsx)(n.a,{value:e.value,children:e.label},e.label)))})};O.displayName="TimeInput";t.a=Object(a.memo)(Object(a.forwardRef)(O))},834:function(e,t,o){"use strict";o(0);var a=o(250),n=o(50),c=o(1096),r=o(2989),l=o(631),s=o(53),i=o.n(s),d=o(18),b=o(19),u=o(22);const j=e=>{const{loading:t,historical:o}=e;return Object(u.jsx)(r.a,{loading:t,itemLayout:"horizontal",dataSource:o,renderItem:e=>Object(u.jsx)(r.a.Item,{style:{padding:"10px 15px",backgroundColor:"white",wordBreak:"break-word"},children:Object(u.jsx)(r.a.Item.Meta,{avatar:Object(u.jsx)(l.a,{src:void 0}),title:Object(u.jsxs)(a.h,{children:[Object(u.jsx)(a.h,{$semibold:!0,children:h(e.user_email)}),"\xa0",f(e.type),"\xa0",Object(u.jsx)(a.h,{$semibold:!0,children:m(e)}),Object(u.jsxs)(a.h,{$color:"gray_1",children:["\xa0\xa0",i()(e.created_at,d.H).format("LL, HH:mm[h]")]})]}),description:Object(u.jsxs)(a.g,{style:{display:"flex"},$fullWidth:!0,$alignCenter:!0,children:[Object(u.jsx)(p,{children:O(e)}),Object(u.jsx)("div",{children:g(e)}),Object(u.jsx)(p,{children:v(e)})]})})})})};j.displayName="HistoricalList",t.a=j;const p=b.d.div.withConfig({componentId:"wb__sc-1iqj1w1-0"})(["display:flex;max-width:50%;overflow:hidden;word-break:break-word;"]),h=e=>e||Object(n.b)("historical.online_customer"),m=e=>"destroy"===e.type?Object(n.b)("historical.schedule_destroyed",{name:e.product_service}):e.product_service?Object(u.jsxs)(u.Fragment,{children:[e.attribute_name,"\xa0",Object(u.jsxs)(a.h,{$size:12,$color:"gray_1",children:["(",e.product_service,")"]})]}):e.attribute_name,O=e=>["create","destroy"].includes(e.type)?"":e.previous_value||Object(n.b)("words.empty"),g=e=>["create","destroy"].includes(e.type)?"":Object(u.jsx)(a.d,{$paddings:[0,5],as:c.a}),v=e=>"destroy"===e.type?"":e.value,f=e=>({create:Object(n.b)("words.created"),update:Object(n.b)("words.updated"),destroy:Object(n.b)("words.destroyed")}[e])},872:function(e,t,o){"use strict";o.d(t,"b",(function(){return O}));o(0);var a=o(50),n=o(547),c=o(250),r=o(117),l=o(3042),s=o(579),i=o(18),d=o(27),b=o(591),u=o(604),j=o(53),p=o.n(j),h=o(22);const m=e=>{let{client:t,handleOpenWhatsapp:o}=e;return Object(d.a)((e=>e.current_user.permissions)).can_access_client_phone?t?Object(h.jsxs)(c.h,{$alignCenter:!0,children:[t.phone2||t.phone1?Object(h.jsx)(b.a,{value:(null===t||void 0===t?void 0:t.phone2)||(null===t||void 0===t?void 0:t.phone1),disabled:!0,hide_input_styles:!0},(null===t||void 0===t?void 0:t.phone2)||(null===t||void 0===t?void 0:t.phone1)):Object(a.b)("phrases.without_phone"),(t.phone2||t.phone1)&&Object(h.jsx)(n.a,{icon:Object(h.jsx)(l.a,{}),style:{cursor:"pointer",marginRight:0},color:r.a.success,onClick:o,children:Object(a.b)("words.chat")})]}):Object(h.jsx)(u.a,{width:"11ch"}):null};m.displayName="Contact",t.a=m;const O=e=>{const{template:t,client:o,calendars:a,calendar_hour:n="",date:c,salon_name:r,confirmation_link:l}=e,d=a.map((e=>{var t;return null===(t=e.inventory_product)||void 0===t?void 0:t.description})).join(", "),b=a.map((e=>{var t;return null===(t=e.employee)||void 0===t?void 0:t.view_name})),u=[...new Set(b)].join(", "),j=a.reduce(((e,t)=>{var o;return((null===(o=t.inventory_product)||void 0===o?void 0:o.price_cents)||0)+e}),0),h=t.replace(i.z,o.name).replace(i.B,o.nickname).replace(i.k,p()(c||"","YYYY-MM-DD").format("L")).replace(i.s,n).replace(i.f,r).replace(i.F,d).replace(i.o,u).replace(i.E,Object(s.d)(j)).replace(i.g,l||"");Object(s.z)({phone:o.phone2||o.phone1,message:h})}},919:function(e,t,o){"use strict";var a=o(0),n=o(50),c=o(250),r=o(117),l=o(629),s=o(27),i=o(763),d=o(22);const b=(e,t)=>{let{use_default_status:o,...r}=e;const b=Object(s.a)((e=>e.current_user.calendar_configuration.default_status));return Object(a.useEffect)((()=>{if(o){var e;const t=u.find((e=>e.value===b));null===(e=r.onChange)||void 0===e||e.call(r,t.value,{label:t.label,value:t.value})}}),[]),Object(d.jsx)(l.b,{ref:t,placeholder:Object(n.b)("words.status"),...r,children:u.map((e=>Object(d.jsx)(l.a,{value:e.value,children:Object(d.jsxs)(c.g,{align:"middle",children:[Object(d.jsx)(i.a,{$hex:e.color})," ",e.label]})},e.value)))})};b.displayName="ScheduleStatusInput",t.a=Object(a.forwardRef)(b);const u=[{value:"confirmed",label:Object(n.b)("words.confirmed"),color:r.a.calendar_confirmed},{value:"unconfirmed",label:Object(n.b)("words.unconfirmed"),color:r.a.calendar_unconfirmed},{value:"waiting",label:Object(n.b)("verbs.waiting"),color:r.a.calendar_waiting},{value:"disconfirm",label:Object(n.b)("words.disconfirmed"),color:r.a.calendar_disconfirm}]}}]);
//# sourceMappingURL=22.cd13d506.chunk.js.map