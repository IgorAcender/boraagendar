(this["webpackJsonpwebook-react"]=this["webpackJsonpwebook-react"]||[]).push([[57],{1050:function(e,t,c){"use strict";c(0);var a=c(50),n=c(547),r=c(1828),s=c(1442),l=c(664),i=c(19),o=c(22);t.a=e=>{let{status:t}=e;switch(t){case 0:return Object(o.jsx)(b,{color:"orange",children:Object(a.b)("words.open")});case 1:return Object(o.jsx)(b,{color:"cyan",children:Object(a.b)("finance.transactions.partial_discharge")});case 2:return Object(o.jsxs)(b,{color:"volcano",children:[Object(o.jsx)(r.a,{}),"\xa0",Object(a.b)("words.late")]});case 3:return Object(o.jsxs)(b,{color:"green",children:[Object(o.jsx)(s.a,{}),"\xa0",Object(a.b)("words.paid")]});case 4:return Object(o.jsx)(b,{color:"blue",children:Object(a.b)("words.available")});case 5:return Object(o.jsxs)(b,{children:[Object(o.jsx)(l.a,{}),"\xa0",Object(a.b)("words.blocked")]});default:return null}};const b=Object(i.d)(n.a).withConfig({componentId:"wb__sc-5t6nk1-0"})(["margin-right:0 !important;"])},1067:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var a=c(137);const n=(e,t)=>(e.sort(),t.sort(),Object(a.isEqual)(e,t))},1068:function(e,t,c){"use strict";c.d(t,"a",(function(){return j}));c(0);var a=c(50),n=c(1801),r=c(340),s=c(250),l=c(199),i=c(598),o=c(19),b=c(22);const d=()=>{const e=Object(i.b)((e=>e.total_count)),t=Object(i.b)((e=>e.results)),c=Object(i.b)((e=>e.page)),o=Object(i.b)((e=>e.onChange)),d=Object(i.b)((e=>e.row_selection)),{validated_records:p,selected_rows:u,selected_all:_,selectAll:h,resetSelected:m,is_selecting_all:O}=d,v=e>t,y=p.length>0&&u.length===p.length&&p.length!==e&&!O;return Object(b.jsxs)(j,{children:[v&&Object(b.jsxs)(s.g,{$alignCenter:!0,children:[y&&Object(b.jsx)(s.h,{children:Object(b.jsx)(r.a,{values:{results:t,count:e},i18nKey:"components.pagination.select_all_option",components:[Object(b.jsx)(s.h,{onClick:()=>h(),$link:!0,$semibold:!0})]})}),O&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(s.d,{as:l.a,$color:"primary"}),"\xa0",Object(b.jsxs)(s.h,{children:[Object(a.b)("verbs.selecting"),"..."]})]}),_&&!O&&Object(b.jsx)(s.h,{children:Object(b.jsx)(r.a,{values:{results:t,count:e},i18nKey:"components.pagination.clear_all_option",components:[Object(b.jsx)(s.h,{$link:!0,$semibold:!0,onClick:()=>m()})]})})]}),Object(b.jsx)(n.a,{showSizeChanger:!0,showQuickJumper:!0,size:"small",showTotal:e=>Object(a.b)("phrases.in_total",{count:e}),pageSize:t,current:c,total:e,className:"table-pagination",pageSizeOptions:["20","40","50","100"],onChange:(e,t)=>o({current:e,pageSize:t},{},{})})]})};d.displayName="PaginationDesktop",t.b=d;const j=o.d.div.withConfig({componentId:"wb__sc-xg91t-0"})(["padding:15px 10px;border-bottom:1px solid rgba(0,0,0,0.05);display:flex;align-items:center;justify-content:flex-end;background-color:rgba(250,250,250,1);@supports ((-webkit-backdrop-filter:blur(10px)) or (backdrop-filter:blur(10px))){background-color:rgba(250,250,250,0.8);backdrop-filter:blur(10px);}transition:all .3s;"])},1100:function(e,t,c){"use strict";var a=c(13),n=c(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},s=c(71),l=function(e,t){return n.createElement(s.a,Object(a.a)({},e,{ref:t,icon:r}))},i=n.forwardRef(l);t.a=i},1833:function(e,t,c){"use strict";var a=c(13),n=c(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M251.2 387H320v68.8c0 1.8 1.8 3.2 4 3.2h48c2.2 0 4-1.4 4-3.3V387h68.8c1.8 0 3.2-1.8 3.2-4v-48c0-2.2-1.4-4-3.3-4H376v-68.8c0-1.8-1.8-3.2-4-3.2h-48c-2.2 0-4 1.4-4 3.2V331h-68.8c-1.8 0-3.2 1.8-3.2 4v48c0 2.2 1.4 4 3.2 4zm328 0h193.6c1.8 0 3.2-1.8 3.2-4v-48c0-2.2-1.4-4-3.3-4H579.2c-1.8 0-3.2 1.8-3.2 4v48c0 2.2 1.4 4 3.2 4zm0 265h193.6c1.8 0 3.2-1.8 3.2-4v-48c0-2.2-1.4-4-3.3-4H579.2c-1.8 0-3.2 1.8-3.2 4v48c0 2.2 1.4 4 3.2 4zm0 104h193.6c1.8 0 3.2-1.8 3.2-4v-48c0-2.2-1.4-4-3.3-4H579.2c-1.8 0-3.2 1.8-3.2 4v48c0 2.2 1.4 4 3.2 4zm-195.7-81l61.2-74.9c4.3-5.2.7-13.1-5.9-13.1H388c-2.3 0-4.5 1-5.9 2.9l-34 41.6-34-41.6a7.85 7.85 0 00-5.9-2.9h-50.9c-6.6 0-10.2 7.9-5.9 13.1l61.2 74.9-62.7 76.8c-4.4 5.2-.8 13.1 5.8 13.1h50.8c2.3 0 4.5-1 5.9-2.9l35.5-43.5 35.5 43.5c1.5 1.8 3.7 2.9 5.9 2.9h50.8c6.6 0 10.2-7.9 5.9-13.1L383.5 675zM880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-36 732H180V180h664v664z"}}]},name:"calculator",theme:"outlined"},s=c(71),l=function(e,t){return n.createElement(s.a,Object(a.a)({},e,{ref:t,icon:r}))},i=n.forwardRef(l);t.a=i},2813:function(e,t,c){"use strict";var a=c(0),n=c(365);t.a=function(e,t,c){if(!n.a)return[t,n.b,n.b];if(!e)throw new Error("useLocalStorage key may not be falsy");var r=c?c.raw?function(e){return e}:c.deserializer:JSON.parse,s=Object(a.useRef)((function(e){try{var a=c?c.raw?String:c.serializer:JSON.stringify,n=localStorage.getItem(e);return null!==n?r(n):(t&&localStorage.setItem(e,a(t)),t)}catch(l){return t}})),l=Object(a.useState)((function(){return s.current(e)})),i=l[0],o=l[1];Object(a.useLayoutEffect)((function(){return o(s.current(e))}),[e]);var b=Object(a.useCallback)((function(t){try{var a="function"===typeof t?t(i):t;if("undefined"===typeof a)return;var n=void 0;n=c?c.raw?"string"===typeof a?a:JSON.stringify(a):c.serializer?c.serializer(a):JSON.stringify(a):JSON.stringify(a),localStorage.setItem(e,n),o(r(n))}catch(l){}}),[e,o]),d=Object(a.useCallback)((function(){try{localStorage.removeItem(e),o(void 0)}catch(l){}}),[e,o]);return[i,b,d]}},2956:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(50),r=c(1813),s=c(585),l=c(116),i=c(613),o=c(690),b=c(701),d=c(596),j=c(647),p=c(784),u=c(754),_=c(27),h=c(676),m=c(250),O=c(2813),v=c(18),y=c(579),f=c(635),x=c(37),g=c(405);const w=x.e`
  query FetchDocumentTemplates {
    bill_rec_document_templates: document_templates (class_type: "Finance::BillRec", page: 1, per_page: 10) {
      all {
        id name
      }
    }

    bill_pay_document_templates: document_templates (class_type: "Finance::BillPay", page: 1, per_page: 10) {
      all {
        id name
      }
    }
  }
`;var k=()=>{const{data:e}=Object(g.f)(w);return Object(a.useMemo)((()=>({bill_rec_document_templates:(null===e||void 0===e?void 0:e.bill_rec_document_templates.all)||[],bill_pay_document_templates:(null===e||void 0===e?void 0:e.bill_pay_document_templates.all)||[]})),[null===e||void 0===e?void 0:e.bill_pay_document_templates.all,null===e||void 0===e?void 0:e.bill_rec_document_templates.all])},C=c(852),$=c(1438),z=c(1809),S=c(1825),D=c(787),I=c(1088),M=c(2854),R=c(3048),E=c(691),N=c(19),H=c(3034),F=c(22);var P=e=>{var t,c;let{bill:r,openBillRecDrawer:s,openBillPayDrawer:l,openAdvanceDrawer:i}=e;const o=Object(_.a)((e=>e.current_user.permissions)),b=r.movement_id,d=Object(a.useMemo)((()=>{var e;return"rec"===r.bill_type&&("Transfer"===(null===(e=r.chart)||void 0===e?void 0:e._default)?o.can_edit_transfer:!!o.can_edit_bill_rec&&("Finance::CashAccounting"!==r.movement_type||"Finance::CashAccounting"===r.movement_type&&null==r.cash_accounting))}),[r.bill_type,r.cash_accounting,null===(t=r.chart)||void 0===t?void 0:t._default,r.movement_type,o.can_edit_bill_rec,o.can_edit_transfer]),j=Object(a.useMemo)((()=>{var e;return"pay"===r.bill_type&&("Transfer"===(null===(e=r.chart)||void 0===e?void 0:e._default)?o.can_edit_transfer:!!o.can_edit_bill_pay&&("Finance::CashAccounting"!==r.movement_type&&"Advance"!==r.movement_type||"Finance::CashAccounting"===r.movement_type&&null==r.cash_accounting))}),[r.bill_type,r.cash_accounting,null===(c=r.chart)||void 0===c?void 0:c._default,r.movement_type,o.can_edit_bill_pay,o.can_edit_transfer]),p="Advance"===r.movement_type&&null==r.cash_accounting&&!!b&&o.can_edit_advance;return Object(F.jsxs)(F.Fragment,{children:[d&&Object(F.jsxs)("span",{children:[Object(F.jsx)(C.a,{title:Object(n.b)("verbs.edit"),children:Object(F.jsx)(m.h,{$color:"primary",$cursor:"pointer",onClick:()=>s(r.id),children:Object(F.jsx)(H.a,{})})}),Object(F.jsx)($.a,{type:"vertical"})]}),j&&Object(F.jsxs)("span",{children:[Object(F.jsx)(C.a,{title:Object(n.b)("verbs.edit"),children:Object(F.jsx)(m.h,{$color:"primary",$cursor:"pointer",onClick:()=>l(r.id),children:Object(F.jsx)(H.a,{})})}),Object(F.jsx)($.a,{type:"vertical"})]}),p&&Object(F.jsxs)("span",{children:[Object(F.jsx)(C.a,{title:Object(n.b)("verbs.edit"),children:Object(F.jsx)(m.h,{$color:"primary",$cursor:"pointer",onClick:()=>i(b),children:Object(F.jsx)(H.a,{})})}),Object(F.jsx)($.a,{type:"vertical"})]})]})};const V=e=>{var t,c;const{bill:r,bill_pay_document_templates:s,bill_rec_document_templates:i}=e,o=Object(h.b)((e=>e.openBillRecDrawer)),b=Object(h.b)((e=>e.openBillPayDrawer)),d=Object(h.b)((e=>e.openAdvanceDrawer)),j=Object(h.b)((e=>e.openDeleteBillModal)),p=Object(h.b)((e=>e.openGenerateDocumentModal)),u=Object(_.a)((e=>e.current_user.permissions)),O=Object(_.a)((e=>e.current_user.addons.has_document_template)),v=null===(t=r.historical)||void 0===t||null===(c=t.toLowerCase())||void 0===c?void 0:c.includes("transfer\xeancia"),y="Advance"===r.movement_type,f="rec"===r.bill_type,x="pay"===r.bill_type,g=Object(a.useMemo)((()=>!!f&&(v?u.can_destroy_transfer:u.can_destroy_bill_rec)),[f,v,u.can_destroy_bill_rec,u.can_destroy_transfer]),w=Object(a.useMemo)((()=>!!x&&(v?u.can_destroy_transfer:y?u.can_destroy_advance:u.can_destroy_bill_pay)),[y,x,v,u.can_destroy_advance,u.can_destroy_bill_pay,u.can_destroy_transfer]),k=()=>{l.b.info(Object(n.b)("finance.transactions.cant_destroy"))},N="pay"===r.bill_type&&u.can_access_reports_financial,H=Object(a.useMemo)((()=>f?0===i.length?[{key:"empty-document",label:"Nenhum gerador encontrado",disabled:!0}]:i.map((e=>({key:e.id,label:`${Object(n.b)("verbs.generate")} ${e.name}`,icon:Object(F.jsx)(S.a,{}),onClick:()=>p({document_template_id:e.id,finance_bill_rec_id:r.id})}))):0===s.length?[{key:"empty-document",label:"Nenhum gerador encontrado",disabled:!0}]:s.map((e=>({key:e.id,label:`${Object(n.b)("verbs.generate")} ${e.name}`,icon:Object(F.jsx)(S.a,{}),onClick:()=>p({document_template_id:e.id,finance_bill_pay_id:r.id})})))),[r.id,s,i,f,p]),V=Object(a.useMemo)((()=>{const e=[];return N&&e.push({key:"print",icon:Object(F.jsx)(D.a,{}),label:Object(F.jsx)("a",{href:`/reports/bill_pay/receipt/${r.id}`,target:"_blank",rel:"noreferrer",children:Object(n.b)("verbs.print")})}),!y&&O&&e.push({key:"document_templates",icon:Object(F.jsx)(I.a,{}),label:Object(n.b)("document_templates.generate_document"),className:"hidden-right-arrow",children:H},{key:"print-divider",type:"divider"}),g&&e.push({key:"delete-bill-rec",danger:!0,onClick:r.movement?k:()=>j(r),icon:Object(F.jsx)(M.a,{}),label:Object(n.b)("verbs.delete")}),w&&e.push({key:"delete-bill-pay",danger:!0,onClick:r.movement&&"Advance"!==r.movement_type?k:()=>j(r),icon:Object(F.jsx)(M.a,{}),label:Object(n.b)("verbs.delete")}),e}),[r,w,g,H,O,y,j,N]);return Object(F.jsxs)(L,{children:[r.cash_accounting&&Object(F.jsxs)("span",{children:[Object(F.jsx)(C.a,{title:Object(n.b)("sale.verified_cash_closing",{number:r.cash_accounting.code}),placement:"topRight",children:Object(F.jsx)("span",{style:{color:"#FF9800"},children:Object(F.jsx)(R.a,{})})}),Object(F.jsx)($.a,{type:"vertical"})]}),Object(F.jsx)(P,{bill:r,openBillRecDrawer:o,openBillPayDrawer:b,openAdvanceDrawer:d}),Object(F.jsx)(z.a,{menu:{items:V},trigger:["click"],getPopupContainer:e=>e.parentElement||document.body,children:Object(F.jsx)(m.i,{className:"link",children:Object(F.jsx)(E.a,{})})})]})};V.displayName="ActionsColumn";var A=Object(a.memo)(V);const L=N.d.div.withConfig({componentId:"wb__sc-15ng73b-0"})(["display:flex;flex-direction:row;justify-content:center;"]);var B=c(3023),T=c(2934),J=c(53),q=c.n(J),K=c(1529),G=c(1222),Y=c(1530),Q=c(340);const U=e=>{let{bill:t}=e;const c=Object(_.a)((e=>e.current_user.permissions)),r=Object(_.a)((e=>e.current_user.salon_id)),[s,i]=Object(a.useState)(!1),o=Object(a.useRef)(null),b=Object(a.useRef)(null),d=c.can_edit_bill_pay,j=c.can_edit_bill_rec,p=t.bill_type,u=parseInt(t.status),h=t.salon.id,m=!!r&&!!h&&r!==h,O="Finance::CashAccounting"===t.movement_type,v=3===u,y=Object(Y.a)(t),f=Object(a.useCallback)((e=>{var t;e&&(i(!1),m?null===(t=o.current)||void 0===t||t.open(e):l.c.confirm({title:Object(n.b)("finance.transactions.confirm_payment"),content:Object(n.b)("finance.transactions.payment_made_to",{date:e.format("LL"),interpolation:{escapeValue:!1}}),okText:Object(n.b)("verbs.confirm"),onOk:()=>y(e)}))}),[y,m]);return Object(F.jsxs)(X,{children:[Object(F.jsx)(C.a,{title:v?Object(n.b)("finance.transactions.click_to_reverse"):Object(n.b)("finance.transactions.click_to_pay"),children:Object(F.jsx)(B.a,{checked:v,onClick:()=>{var e;"pay"===p&&!d||"rec"===p&&!j?l.b.info(Object(n.b)("phrases.no_permission_to_do_this")):O?l.c.info({centered:!0,className:"webook-modal",maskClosable:!0,closable:!0,title:Object(n.b)("finance.transactions.cant_reverse"),content:Object(F.jsx)(Q.a,{i18nKey:"finance.transactions.cant_reverse_description",components:[Object(F.jsx)("br",{})]})}):v?null===(e=b.current)||void 0===e||e.open():i(!0)}})}),s&&Object(F.jsx)(T.a,{open:!0,defaultValue:void 0,onChange:f,format:`[${Object(n.b)("finance.transactions.pay_in")}] L`,disabledDate:e=>e>q()()}),Object(F.jsx)(G.a,{ref:b,bill:t}),Object(F.jsx)(K.a,{confirmPayment:y,ref:o})]})};U.displayName="PaySwitch";var W=U;const X=N.d.div.withConfig({componentId:"wb__sc-9jzjlh-0"})([".ant-picker{visibility:hidden;height:0;width:0;padding:0;border:0;}"]);var Z=c(1050);const ee={"Inventory::Sale":Object(n.b)("finance.transactions.movement_abbreviations.inventory_sale"),"Inventory::Package":Object(n.b)("finance.transactions.movement_abbreviations.inventory_package"),"Inventory::Purchase":Object(n.b)("finance.transactions.movement_abbreviations.inventory_purchase"),"Offers::Sale":Object(n.b)("finance.transactions.movement_abbreviations.offers_sale"),"Customer::SubscriptionPayment":Object(n.b)("finance.transactions.movement_abbreviations.customer_subscription_payment")},te=e=>{let{movement:t,movement_type:c,openMovement:r}=e;const s=Object(a.useMemo)((()=>t?"Customer::SubscriptionPayment"===c?t.customer_subscription.code:t.code:null),[t,c]);return t&&"Finance::CashAccounting"!==c?"Advance"===c?Object(F.jsx)(F.Fragment,{children:Object(n.b)("words.advance")}):"Salary"===c?Object(F.jsx)(F.Fragment,{children:Object(n.b)("words.commission")}):Object(F.jsxs)(m.h,{$color:"primary",$cursor:"pointer",onClick:()=>r(c,t),children:[ee[c],"#",s]}):Object(F.jsx)(F.Fragment,{children:"-"})};te.displayName="Movement";var ce=Object(a.memo)(te);var ae=e=>{const{openEmployeeDrawer:t,openClientDrawer:c,openSaleDrawer:r,openPackageDrawer:s,openPurchaseDrawer:l,openVendorDrawer:i,openSubscriptionDrawer:o}=e,b=`${Object(_.a)((e=>e.current_user.salon_id))} | Transa\xe7\xf5es`,d=Object(h.b)((e=>e.filters.date_type)),{bill_pay_document_templates:j,bill_rec_document_templates:p}=k(),u=Object(a.useCallback)(((e,t)=>{"Inventory::Sale"!==e?"Inventory::Package"!==e?"Inventory::Purchase"!==e?"Customer::SubscriptionPayment"!==e||o(t.customer_subscription.id):l(t.id):s(t.id):r(t.id)}),[s,l,r,o]),x=Object(a.useCallback)((e=>{e&&("Client"!==e.__typename?"Employee"!==e.__typename?i(e.id):t(e.id):c(e.id))}),[c,t,i]),g=Object(a.useMemo)((()=>[{title:Object(n.b)("words.date"),key:"date",align:"center",always_visible:!0,width:100,render:(e,t)=>{var c;switch(d){case"available_at":const e=(null===(c=t.payment)||void 0===c?void 0:c.processing_days)||0;return q()(t.due).add(e,"days").format("L");case"date":return q()(t.date).format("L");case"compensated":const a=t.bill_pay_offs||t.bill_rec_offs||[];return a.length>0?q()(a[0].compensated_at,v.H).format("L"):"-"}},sorter:!0,defaultSortOrder:"descend"},{title:Object(n.b)("words.titular"),key:"titular",default_visible:!0,render:(e,t)=>{const c=t.client||t.employee||t.vendor;return Object(F.jsxs)("div",{children:[Object(F.jsxs)("div",{children:[!c&&!t.historical&&("rec"===t.bill_type?Object(n.b)("words.receipt"):Object(n.b)("words.expense")),c&&Object(F.jsx)(m.h,{$link:!0,$cursor:"pointer",onClick:()=>x(c),children:c.name})]}),Object(F.jsx)(m.h,{$block:!0,$size:c?12:void 0,children:"Advance"===t.movement_type&&t.movement.note||t.historical})]})}},{title:Object(n.b)("words.origin"),dataIndex:"movement",key:"movement",width:80,default_visible:!0,render:(e,t)=>Object(F.jsx)(ce,{movement:e,movement_type:t.movement_type,openMovement:u})},{title:Object(n.b)("words.payment_type"),dataIndex:"payment",key:"payment_name",default_visible:!0,ellipsis:!0,render:e=>null===e||void 0===e?void 0:e.name},{title:Object(n.b)("words.category"),dataIndex:"chart",key:"chart_name",ellipsis:!0,default_visible:!0,render:e=>null===e||void 0===e?void 0:e.name},{title:Object(n.b)("words.gross_value"),dataIndex:"value_cents",key:"value_cents",align:"right",width:100,default_visible:!0,render:(e,t)=>{const c=(t.account||{}).name;return Object(F.jsxs)("div",{style:{wordBreak:"keep-all",whiteSpace:"nowrap"},children:[Object(F.jsx)("div",{children:Object(y.d)(e)}),Object(F.jsx)(m.h,{$align:"right",$block:!0,$size:12,$textEllipsis:!0,title:c,children:c})]})}},{title:Object(n.b)("words.net_value"),dataIndex:"net_value_cents",key:"net_value_cents",align:"right",width:100,default_visible:!0,render:(e,t)=>"pay"===t.bill_type?Object(y.d)(t.value_cents):Object(F.jsxs)("div",{style:{wordBreak:"keep-all",whiteSpace:"nowrap"},children:[Object(F.jsx)("div",{children:Object(y.d)(e)}),t.consider_rates&&Object(F.jsxs)(m.h,{$align:"right",$block:!0,$size:12,children:[Object(n.b)("words.rate"),": ",Object(y.u)(t.payment_rates,{symbol_position:"right"})]})]})},{title:Object(n.b)("words.status"),dataIndex:"status",key:"status",width:100,default_visible:!0,render:e=>Object(F.jsx)(Z.a,{status:parseInt(e)})},{title:Object(n.b)("words.paid"),key:"paid",align:"center",default_visible:!0,width:70,render:(e,t)=>Object(F.jsx)(W,{bill:t})},{title:Object(n.b)("words.action",{count:2}),key:"actions",width:100,always_visible:!0,align:"center",render:(e,t)=>Object(F.jsx)(A,{bill:t,bill_pay_document_templates:j,bill_rec_document_templates:p})}]),[j,p,d,x,u]),[w,C]=Object(O.a)(`${b}@visible_columns`,g.filter((e=>e.default_visible)).map((e=>e.key)));return Object(a.useMemo)((()=>{const e=g.filter((e=>(null===w||void 0===w?void 0:w.includes(e.key))||e.always_visible)),t=e.findIndex((e=>"actions"===e.key));return t&&(e[t]={...e[t],title:Object(F.jsx)(f.a,{columns:g,visible_columns:w,setVisibleColumns:C})}),e}),[g,w,C])},ne=c(616),re=c(1801),se=c(1068);const le=e=>{let{total_count:t}=e;const c=Object(h.b)((e=>e.page)),a=Object(h.b)((e=>e.results)),r=Object(h.b)((e=>e.dispatch));return Object(F.jsx)(se.a,{children:Object(F.jsx)(re.a,{showSizeChanger:!0,showQuickJumper:!0,size:"small",showTotal:e=>Object(n.b)("phrases.in_total",{count:e}),pageSize:a,current:c,total:t,pageSizeOptions:["20","40","50","100"],onChange:(e,t)=>{r({type:"set_page",payload:e}),t&&r({type:"set_result",payload:t})}})})};le.displayName="Pagination";var ie=le,oe=c(1067),be=c(2853),de=c(1814),je=c(1810),pe=c(547),ue=c(610);const _e=()=>{const e=Object(_.a)((e=>e.finance_accounts)).filter((e=>!e.deleted_at)),t=Object(_.a)((e=>e.finance_payments)).filter((e=>!e.deleted_at)),c=Object(_.a)((e=>e.finance_charts)),r=e.filter((e=>e.active)),s=e.filter((e=>!e.active)),l=t.filter((e=>e.active)),i=t.filter((e=>!e.active)),o=c.filter((e=>!e.deleted_at)),b=Object(h.b)((e=>e.dispatch)),d=Object(h.b)((e=>e.filters)),j=Object(h.b)((e=>e.show_filters)),p=Object(a.useCallback)((e=>{b({type:"set_filters",payload:{bill_type:e}})}),[b]),u=Object(a.useCallback)((e=>{const t=e.target.value;b({type:"set_filters",payload:{date_type:t}})}),[b]),O=Object(a.useCallback)((e=>{b({type:"set_filters",payload:{accounts:e}})}),[b]),v=Object(a.useCallback)((e=>{b({type:"set_filters",payload:{status:e}})}),[b]),y=Object(a.useCallback)((e=>{b({type:"set_filters",payload:{payments:e}})}),[b]),f=Object(a.useCallback)((e=>{b({type:"set_filters",payload:{charts:e}})}),[b]),x=Object(oe.a)(d.accounts,r.map((e=>e.id))),g=Object(oe.a)(d.payments,l.map((e=>e.id))),w=Object(oe.a)(d.charts,o.map((e=>e.id))),k=Object(a.useCallback)((()=>{b(x?{type:"set_filters",payload:{accounts:[]}}:{type:"set_filters",payload:{accounts:r.map((e=>e.id))}})}),[r,x,b]),$=Object(a.useCallback)((()=>{b(g?{type:"set_filters",payload:{payments:[]}}:{type:"set_filters",payload:{payments:l.map((e=>e.id))}})}),[l,g,b]),z=Object(a.useCallback)((()=>{b(w?{type:"set_filters",payload:{charts:[]}}:{type:"set_filters",payload:{charts:o.map((e=>e.id))}})}),[o,w,b]);return Object(F.jsxs)(ue.a,{$visible:j,children:[Object(F.jsxs)(ue.b,{children:[Object(F.jsx)(m.g,{$alignCenter:!0,justify:"space-between",$bottom:15,children:Object(F.jsx)(m.h,{$size:14,$semibold:!0,children:Object(n.b)("words.period")})}),Object(F.jsxs)(m.g,{$column:!0,children:[Object(F.jsx)(ue.c,{value:d.start_date,onRangeChange:e=>b({type:"set_filters",payload:{start_date:e[0],end_date:e[1]}}),onChange:e=>b({type:"set_filters",payload:{start_date:e}}),format:"LL",placeholder:Object(n.b)("date.start_date"),allowClear:!1}),Object(F.jsx)(ue.c,{value:d.end_date,onRangeChange:e=>{b({type:"set_filters",payload:{start_date:e[0],end_date:e[1]}})},onChange:e=>b({type:"set_filters",payload:{end_date:e}}),format:"LL",placeholder:Object(n.b)("date.end_date"),allowClear:!1})]})]},"dates"),Object(F.jsxs)(ue.b,{children:[Object(F.jsx)(m.g,{$alignCenter:!0,justify:"space-between",$bottom:15,children:Object(F.jsx)(m.h,{$size:14,$semibold:!0,children:Object(n.b)("finance.transactions.transaction_type")})}),Object(F.jsxs)(me,{value:d.bill_type,onChange:p,children:[Object(F.jsx)(de.a,{value:"rec",children:Object(n.b)("finance.transactions.bills_receivable")}),Object(F.jsx)(de.a,{value:"pay",children:Object(n.b)("finance.transactions.bills_payable")})]})]},"bill_type"),Object(F.jsxs)(ue.b,{children:[Object(F.jsxs)(m.g,{$alignCenter:!0,justify:"space-between",$bottom:15,children:[Object(F.jsx)(m.h,{$size:14,$semibold:!0,children:Object(n.b)("finance.transactions.date_type")}),Object(F.jsx)(C.a,{title:Object(F.jsx)(Q.a,{i18nKey:"finance.transactions.date_type_tooltip",components:[Object(F.jsx)("br",{})]}),children:Object(F.jsx)(m.d,{as:be.a,$color:"gray_1"})})]}),Object(F.jsxs)(Oe,{value:d.date_type,onChange:u,children:[Object(F.jsxs)(je.a,{value:"available_at",children:[Object(n.b)("acronyms.due"),"/",Object(n.b)("words.availability")]}),Object(F.jsx)(je.a,{value:"date",children:Object(n.b)("words.competence")}),Object(F.jsx)(je.a,{value:"compensated",children:Object(n.b)("words.payment")})]})]},"date_type"),Object(F.jsxs)(ue.b,{children:[Object(F.jsx)(m.g,{$alignCenter:!0,justify:"space-between",children:Object(F.jsx)(m.h,{$size:14,$semibold:!0,children:Object(n.b)("words.account",{count:2})})}),Object(F.jsxs)(me,{value:d.accounts,onChange:O,children:[Object(F.jsx)(ve,{orientation:"left",children:Object(n.b)("words.active",{count:2,context:"female"})}),Object(F.jsx)(m.h,{$color:"primary",$cursor:"pointer",$bottom:8,onClick:k,children:x?Object(n.b)("phrases.deselect_all"):Object(n.b)("phrases.select_all")}),r.map((e=>Object(F.jsx)(ye,{value:e.id,children:Object(F.jsx)(m.h,{$textEllipsis:!0,$block:!0,title:e.name,children:e.name})},e.id))),s.length>0&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(ve,{orientation:"left",children:Object(n.b)("words.inactive",{count:2,context:"female"})}),s.map((e=>Object(F.jsx)(ye,{value:e.id,children:Object(F.jsx)(m.h,{$textEllipsis:!0,$block:!0,title:e.name,children:e.name})},e.id)))]})]})]},"accounts"),Object(F.jsxs)(ue.b,{children:[Object(F.jsx)(m.g,{$alignCenter:!0,justify:"space-between",children:Object(F.jsx)(m.h,{$size:14,$semibold:!0,children:Object(n.b)("words.status")})}),Object(F.jsxs)(me,{value:d.status,onChange:v,children:[Object(F.jsx)(de.a,{value:"5",children:Object(F.jsx)(pe.a,{style:{margin:"2px 0"},color:"#777777",children:Object(n.b)("words.blocked")})}),Object(F.jsx)(de.a,{value:"4",children:Object(F.jsx)(pe.a,{style:{margin:"2px 0"},color:"blue",children:Object(n.b)("words.available")})}),Object(F.jsx)(de.a,{value:"0",children:Object(F.jsx)(pe.a,{style:{margin:"2px 0"},color:"orange",children:Object(n.b)("words.open")})}),Object(F.jsx)(de.a,{value:"2",children:Object(F.jsx)(pe.a,{style:{margin:"2px 0"},color:"red",children:Object(n.b)("words.late")})}),Object(F.jsx)(de.a,{value:"3",children:Object(F.jsx)(pe.a,{style:{margin:"2px 0"},color:"green",children:Object(n.b)("words.paid")})})]})]},"status"),Object(F.jsxs)(ue.b,{children:[Object(F.jsx)(m.g,{$alignCenter:!0,justify:"space-between",children:Object(F.jsx)(m.h,{$size:14,$semibold:!0,children:Object(n.b)("words.payment_type",{count:2})})}),Object(F.jsxs)(me,{value:d.payments,onChange:y,children:[Object(F.jsx)(ve,{orientation:"left",children:Object(n.b)("words.active",{count:2,context:"female"})}),Object(F.jsx)(m.h,{$color:"primary",$cursor:"pointer",$bottom:8,onClick:$,children:g?Object(n.b)("phrases.deselect_all"):Object(n.b)("phrases.select_all")}),l.map((e=>Object(F.jsx)(ye,{value:e.id,children:Object(F.jsx)(m.h,{$textEllipsis:!0,$block:!0,title:e.name,children:e.name})},e.id))),i.length>0&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(ve,{orientation:"left",children:Object(n.b)("words.inactive",{count:2,context:"female"})}),i.map((e=>Object(F.jsx)(ye,{value:e.id,children:Object(F.jsx)(m.h,{$textEllipsis:!0,$block:!0,title:e.name,children:e.name})},e.id)))]})]})]},"payments"),Object(F.jsxs)(ue.b,{children:[Object(F.jsx)(m.g,{$alignCenter:!0,justify:"space-between",children:Object(F.jsx)(m.h,{$size:14,$semibold:!0,children:Object(n.b)("words.category",{count:2})})}),Object(F.jsxs)(me,{value:d.charts,onChange:f,children:[Object(F.jsx)(m.h,{$color:"primary",$cursor:"pointer",$bottom:8,onClick:z,children:w?Object(n.b)("phrases.deselect_all"):Object(n.b)("phrases.select_all")}),o.map((e=>Object(F.jsx)(ye,{value:e.id,children:Object(F.jsx)(m.h,{$textEllipsis:!0,$block:!0,title:e.name,children:e.name})},e.id)))]})]},"chart")]})};_e.displayName="Filters";var he=Object(a.memo)(_e);const me=Object(N.d)(de.a.Group).withConfig({componentId:"wb__sc-a6h7ig-0"})(["display:flex !important;flex-direction:column !important;"]),Oe=Object(N.d)(je.a.Group).withConfig({componentId:"wb__sc-a6h7ig-1"})(["display:flex !important;flex-direction:column !important;"]),ve=Object(N.d)($.a).withConfig({componentId:"wb__sc-a6h7ig-2"})(["color:"," !important;font-size:14rem !important;margin-bottom:8px !important;"],(e=>e.theme.colors.gray_1)),ye=Object(N.d)(de.a).withConfig({componentId:"wb__sc-a6h7ig-3"})(["& > span:not(.ant-checkbox){width:100%;overflow-x:hidden;}"]);var fe=c(159),xe=c(597),ge=c(2843),we=c(1100),ke=c(897),Ce=c(1444),$e=c(2855),ze=c(687),Se=c(3041),De=c(1833);const Ie=e=>{let{openTotalsModal:t}=e;const c=Object(_.a)((e=>e.current_user.permissions)),r=Object(N.f)(),s=Object(h.b)((e=>e.dispatch)),l=Object(h.b)((e=>e.show_filters)),i=Object(h.b)((e=>e.openBillRecDrawer)),o=Object(h.b)((e=>e.openBillPayDrawer)),b=Object(h.b)((e=>e.openAdvanceDrawer)),d=Object(h.b)((e=>e.openTransferDrawer)),j=Object(h.b)((e=>e.row_selection)),p=Object(h.b)((e=>e.mass_actions)),[u,m]=Object(a.useState)(!1),O=Object(a.useMemo)((()=>null===p||void 0===p?void 0:p.map((e=>({key:e.label,icon:e.icon,title:e.title,danger:e.danger,onClick:()=>e.onClick(j.selected_rows),label:Object(F.jsxs)(F.Fragment,{children:["\xa0",e.label]})})))),[p,j.selected_rows]),v=Object(a.useMemo)((()=>{const e=[];return c.can_create_bill_rec&&e.push({key:"rec",style:{color:"#51c431"},onClick:()=>i(),icon:Object(F.jsx)(ge.a,{}),label:Object(n.b)("words.receipt")}),c.can_create_bill_pay&&e.push({key:"pay",style:{color:"#c73d3d"},onClick:()=>o(),icon:Object(F.jsx)(we.a,{}),label:Object(n.b)("words.expense")}),c.can_create_advance&&e.push({key:"advance",style:{color:r.colors.primary},onClick:()=>b(),icon:Object(F.jsx)(S.a,{}),label:Object(n.b)("words.advance")}),c.can_create_transfer&&e.push({key:"transfer",style:{color:"#f5a139"},onClick:()=>d(),icon:Object(F.jsx)(ke.a,{}),label:Object(n.b)("words.transfer")}),e}),[b,o,i,d,c.can_create_advance,c.can_create_bill_pay,c.can_create_bill_rec,c.can_create_transfer,r.colors.primary]),y=c.can_create_bill_rec||c.can_create_bill_pay||c.can_create_advance||c.can_create_transfer,f=c.can_access_bill_pay||c.can_access_bill_rec||c.can_access_transfer||c.can_access_advance;return Object(F.jsxs)(xe.b,{title:Object(n.b)("words.transaction",{count:2}),children:[f&&Object(F.jsxs)(F.Fragment,{children:[u&&Object(F.jsx)(xe.a,{autoFocus:!0,width:350,allowClear:!0,placeholder:Object(n.b)("finance.transactions.placeholder"),onSearch:e=>s({type:"set_filters",payload:{search:e}}),onChange:e=>{let{target:{value:t}}=e;0===t.length&&s({type:"set_filters",payload:{search:void 0}})}}),!u&&Object(F.jsx)(fe.a,{icon:Object(F.jsx)(Ce.a,{}),onClick:()=>m(!0),children:Object(n.b)("verbs.search")}),Object(F.jsx)(fe.a,{className:l?"ant-btn-gold":void 0,type:l?"primary":"default",onClick:()=>s({type:"toggle_show_filters"}),icon:l?Object(F.jsx)($e.a,{}):Object(F.jsx)(ze.a,{}),children:Object(n.b)("verbs.filter")}),j.selected_rows.length>0&&Object(F.jsx)(z.a,{menu:{items:O},trigger:["click"],className:"table-mass-actions",children:Object(F.jsx)(fe.a,{icon:Object(F.jsx)(Se.a,{}),children:Object(n.b)("phrases.mass_actions")})}),Object(F.jsx)(fe.a,{onClick:()=>t(),icon:Object(F.jsx)(De.a,{}),children:Object(n.b)("finance.transactions.calculate_totals")})]}),y&&Object(F.jsx)(z.a,{menu:{items:v},trigger:["click"],placement:"bottomRight",children:Object(F.jsx)(fe.a,{icon:Object(F.jsx)(ge.a,{}),type:"primary",children:Object(n.b)("words.new")})})]})};Ie.displayName="Header";var Me=Ie;t.default=e=>{let{bills:t,loading:c,total_count:m}=e;const O=Object(_.a)((e=>e.current_user.permissions)),v=Object(h.b)((e=>e.dispatch)),y=Object(h.b)((e=>e.openTotalsModal)),f=Object(h.b)((e=>e.row_selection)),x=Object(a.useRef)(null),g=Object(a.useRef)(null),w=Object(a.useRef)(null),k=Object(a.useRef)(null),C=Object(a.useRef)(null),$=Object(a.useRef)(null),z=Object(a.useRef)(null),S=Object(a.useCallback)((e=>{var t;O.can_edit_purchase?null===(t=C.current)||void 0===t||t.open({id:e}):l.b.warning(Object(n.b)("phrases.no_permission_to_do_this"))}),[O.can_edit_purchase]),D=Object(a.useCallback)((e=>{var t;O.can_edit_employee?null===(t=$.current)||void 0===t||t.open({id:e}):l.b.warning(Object(n.b)("phrases.no_permission_to_do_this"))}),[O.can_edit_employee]),I=Object(a.useCallback)((e=>{var t;O.can_edit_sale?null===(t=x.current)||void 0===t||t.open({sale_id:e}):l.b.warning(Object(n.b)("phrases.no_permission_to_do_this"))}),[O.can_edit_sale]),M=Object(a.useCallback)((e=>{var t;O.can_edit_package?null===(t=k.current)||void 0===t||t.open(e):l.b.warning(Object(n.b)("phrases.no_permission_to_do_this"))}),[O.can_edit_package]),R=Object(a.useCallback)((e=>{var t;O.can_edit_vendor?null===(t=w.current)||void 0===t||t.open({id:e}):l.b.warning(Object(n.b)("phrases.no_permission_to_do_this"))}),[O.can_edit_vendor]),E=Object(a.useCallback)((e=>{var t;O.can_edit_client?null===(t=g.current)||void 0===t||t.open({id:e}):l.b.warning(Object(n.b)("phrases.no_permission_to_do_this"))}),[O.can_edit_client]),N=Object(a.useCallback)((e=>{var t;O.can_edit_subscription_template?null===(t=z.current)||void 0===t||t.open(e):l.b.warning(Object(n.b)("phrases.no_permission_to_do_this"))}),[O.can_edit_subscription_template]),H=Object(a.useCallback)(((e,t,c)=>{const a=c.order;v({type:"set_sort_order",payload:"ascend"===a?"ASC":"DESC"})}),[v]),P=ae({openEmployeeDrawer:D,openClientDrawer:E,openSaleDrawer:I,openPackageDrawer:M,openPurchaseDrawer:S,openVendorDrawer:R,openSubscriptionDrawer:N}),V=O.can_access_bill_pay||O.can_access_bill_rec||O.can_access_transfer||O.can_access_advance;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Me,{openTotalsModal:y}),Object(F.jsxs)(s.c,{style:{height:"unset"},$pageFull:!0,$minimalHeight:!0,has_permission:V,children:[Object(F.jsx)(he,{}),Object(F.jsx)(Re,{loading:c,dataSource:t,columns:P,rowKey:"id",tableLayout:"fixed",size:"middle",pagination:!1,rowSelection:f,rowClassName:e=>"rec"===e.bill_type?"bill-rec":"bill-pay",footer:()=>Object(F.jsx)(ie,{total_count:m}),onChange:H,locale:{emptyText:Object(F.jsx)(r.a,{description:Object(n.b)("phrases.empty"),image:r.a.PRESENTED_IMAGE_SIMPLE})}})]}),Object(F.jsx)(o.a,{ref:$}),Object(F.jsx)(j.a,{ref:k}),Object(F.jsx)(d.a,{ref:g}),Object(F.jsx)(i.a,{ref:x}),Object(F.jsx)(p.a,{ref:C}),Object(F.jsx)(b.a,{ref:w}),Object(F.jsx)(u.a,{ref:z})]})};const Re=Object(N.d)(ne.b).withConfig({componentId:"wb__sc-1xxa227-0"})(["tr.bill-rec{background:rgba(222,243,222,0.6);td.ant-table-column-sort{background:rgba(222,243,222,0.6);}}tr.bill-pay{background:rgba(255,229,229,0.6);td.ant-table-column-sort{background:rgba(255,229,229,0.6);}}"])},609:function(e,t,c){"use strict";var a=c(0),n=c(50),r=c(159),s=c(53),l=c.n(s),i=c(19),o=c(22);const b=e=>{let{handleChangeRange:t}=e;return Object(o.jsx)(d,{children:j.map((e=>{let{label:c,value:a}=e;return Object(o.jsx)(r.a,{type:"primary",onClick:()=>t(a),children:c},c)}))})};b.displayName="ExtraRangeComponent",t.a=Object(a.memo)(b);const d=i.d.div.withConfig({componentId:"wb__sc-hoi2yi-0"})(["display:flex;flex-wrap:wrap;justify-content:space-between;padding-top:8px;.ant-btn{cursor:pointer;width:49%;text-align:center;margin-bottom:8px;margin-right:0;}"]),j=[{label:Object(n.b)("words.today"),value:[l()(),l()()]},{label:Object(n.b)("date.last_week"),value:[l()().startOf("week").subtract(1,"week"),l()().endOf("week").subtract(1,"week")]},{label:Object(n.b)("date.last_month"),value:[l()().subtract(1,"month").startOf("month"),l()().subtract(1,"month").endOf("month")]},{label:Object(n.b)("date.current_month"),value:[l()().startOf("month"),l()().endOf("month")]},{label:Object(n.b)("date.six_months_ago"),value:[l()().subtract(6,"month"),l()()]},{label:Object(n.b)("date.one_year_ago"),value:[l()().subtract(12,"month"),l()()]}]},610:function(e,t,c){"use strict";c.d(t,"d",(function(){return p})),c.d(t,"b",(function(){return u})),c.d(t,"c",(function(){return _})),c.d(t,"a",(function(){return h}));var a=c(19),n=c(0),r=c(2934),s=c(609),l=c(22);const i=(e,t)=>{let{onRangeChange:c,...a}=e;const[i,o]=Object(n.useState)(!1),d=Object(n.useCallback)((e=>{c(e)}),[c]);return Object(l.jsx)(r.a,{ref:t,showNow:!1,renderExtraFooter:()=>Object(l.jsx)(b,{children:Object(l.jsx)(s.a,{handleChangeRange:d})}),...a,open:i,onOpenChange:o})};i.displayName="SimpleRangePicker";var o=Object(n.memo)(Object(n.forwardRef)(i));const b=a.d.div.withConfig({componentId:"wb__sc-13lwjt0-0"})(["width:265px;"]),d={true:!0,false:!1,all:null,none:null},j=["start_date","end_date","birthday_start_date","birthday_end_date","start_date_open","start_date_close","end_date_open","end_date_close"],p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={},c={};return Object.entries(e).forEach((e=>{let[c,a]=e;a in d&&(t[c]=d[a])})),Object.entries(e).forEach((e=>{let[t,a]=e;j.includes(t)&&(c[t]=null===a||void 0===a?void 0:a.format("YYYY-MM-DD"))})),{...e,...t,...c}},u=a.d.div.withConfig({componentId:"wb__sc-gq8qm5-0"})(["display:flex;flex-direction:column;background-color:",";border-radius:16px;box-shadow:0 0 10px 5px #f3f3f3;padding:15px;border:1px solid rgba(0 0 0 / 3%);transition:box-shadow .1s;margin-bottom:5px;.ant-checkbox-wrapper + .ant-checkbox-wrapper{overflow:hidden;margin-left:0;width:100%;:not(:first-child){overflow:hidden;white-space:nowrap;text-overflow:ellipsis;word-break:keep-all;}}.ant-radio-wrapper{margin-right:0;}.ant-checkbox-group-item{margin-right:0;}.ant-calendar-picker-clear{background:transparent;color:",";}.ant-calendar-picker-input{border-top:none;border-left:none;border-right:none;border-radius:0;margin-top:5px;background:transparent;"," &:focus{box-shadow:none;}}.anticon-calendar{color:rgba(0,0,0,.2);}",""],(e=>e.theme.colors.white),(e=>e.theme.dark&&e.theme.dark_white),(e=>e.theme.dark&&`\n      border-color: ${e.theme.dark_secondary};\n      color: ${e.theme.dark_white};\n    `),(e=>e.tags&&Object(a.c)(["display:flex;flex-wrap:wrap;.ant-tag{margin:0 4px 4px 0;cursor:pointer;}"]))),_=Object(a.d)(o).withConfig({componentId:"wb__sc-gq8qm5-1"})(["width:100%;border-top:none;border-left:none;border-right:none;border-radius:0 !important;margin-top:5px;background:transparent;&.ant-picker-focused{box-shadow:none;}"]),h=a.d.div.withConfig({componentId:"wb__sc-gq8qm5-2"})(["min-width:0;width:0;z-index:210;text-overflow:ellipsis;white-space:nowrap;position:sticky;top:calc(","px + 10px);overflow:hidden;max-height:calc(100vh - 60px);align-self:flex-start;transition:width .2s;",""],(e=>e.theme.menu_top_height),(e=>!!e.$visible&&Object(a.c)(["min-width:230px;width:230px;padding-right:7px;overflow-y:auto;overflow-x:hidden;"])))},635:function(e,t,c){"use strict";var a=c(0),n=c(50),r=c(1809),s=c(852),l=c(1814),i=c(3052),o=c(19),b=c(22);const d=e=>{let{columns:t,visible_columns:c,dispatch:l,setVisibleColumns:o}=e;const[d,p]=Object(a.useState)(!1),u=Object(a.useCallback)((()=>{const e=t.filter((e=>e.default_visible)).map((e=>e.key));null===l||void 0===l||l({type:"set_visible_columns",payload:e}),null===o||void 0===o||o(e)}),[t,l,o]),_=Object(a.useCallback)((e=>{if(c.includes(e)){const t=c.filter((t=>t!==e));return null===l||void 0===l||l({type:"set_visible_columns",payload:t}),void(null===o||void 0===o||o(t))}const t=[...c,e];null===l||void 0===l||l({type:"set_visible_columns",payload:t}),null===o||void 0===o||o(t)}),[l,o,c]),h=Object(a.useMemo)((()=>{const e=t.reduce(((e,t)=>{if(!t.title||t.always_visible)return e;const a={key:t.key,disabled:t.always_visible,label:Object(b.jsx)(j,{onClick:()=>_(t.key),checked:c.includes(t.key),children:t.title})};return[...e,a]}),[]);return[{key:"default_title",type:"group",label:Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(b.jsx)("span",{children:Object(n.b)("words.column",{count:2})}),Object(b.jsx)("button",{className:"link",onClick:u,children:Object(n.b)("words.default")})]}),children:e}]}),[t,u,_,c]);return Object(b.jsx)(r.a,{menu:{items:h},trigger:["click"],open:d,onOpenChange:p,className:"no-print table-configuration",children:Object(b.jsx)(s.a,{title:Object(n.b)("phrases.column_settings"),placement:"left",children:Object(b.jsx)("div",{className:"link no-print",style:{fontSize:"15px"},children:Object(b.jsx)(i.a,{})})})})};d.displayName="ColumnsSettings",t.a=d;const j=Object(o.d)(l.a).withConfig({componentId:"wb__sc-1oenz8-0"})(["width:100%;"])},664:function(e,t,c){"use strict";var a=c(13),n=c(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},s=c(71),l=function(e,t){return n.createElement(s.a,Object(a.a)({},e,{ref:t,icon:r}))},i=n.forwardRef(l);t.a=i},687:function(e,t,c){"use strict";var a=c(13),n=c(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"},s=c(71),l=function(e,t){return n.createElement(s.a,Object(a.a)({},e,{ref:t,icon:r}))},i=n.forwardRef(l);t.a=i},691:function(e,t,c){"use strict";var a=c(13),n=c(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"},s=c(71),l=function(e,t){return n.createElement(s.a,Object(a.a)({},e,{ref:t,icon:r}))},i=n.forwardRef(l);t.a=i},787:function(e,t,c){"use strict";var a=c(13),n=c(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M820 436h-40c-4.4 0-8 3.6-8 8v40c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-40c0-4.4-3.6-8-8-8zm32-104H732V120c0-4.4-3.6-8-8-8H300c-4.4 0-8 3.6-8 8v212H172c-44.2 0-80 35.8-80 80v328c0 17.7 14.3 32 32 32h168v132c0 4.4 3.6 8 8 8h424c4.4 0 8-3.6 8-8V772h168c17.7 0 32-14.3 32-32V412c0-44.2-35.8-80-80-80zM360 180h304v152H360V180zm304 664H360V568h304v276zm200-140H732V500H292v204H160V412c0-6.6 5.4-12 12-12h680c6.6 0 12 5.4 12 12v292z"}}]},name:"printer",theme:"outlined"},s=c(71),l=function(e,t){return n.createElement(s.a,Object(a.a)({},e,{ref:t,icon:r}))},i=n.forwardRef(l);t.a=i}}]);
//# sourceMappingURL=57.b833cfe7.chunk.js.map