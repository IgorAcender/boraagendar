(this["webpackJsonpwebook-react"]=this["webpackJsonpwebook-react"]||[]).push([[145],{3011:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(250),i=a(616),s=a(50),r=a(579),o=a(53),d=a.n(o),l=a(18),b=a(1809),m=a(116),j=a(117),u=a(3068),p=a(787),O=a(2854),g=a(691),h=a(27),_=a(600),v=a(22);const y=e=>{var t;let{record:a,handleDestroyBatchPayment:i,openSignatureDrawer:r}=e;const o=Object(h.a)((e=>e.current_user.permissions)),y=Object(n.useCallback)((e=>{o.can_destroy_commission?m.c.confirm({centered:!0,className:"webook-modal",title:Object(s.b)("words.attention"),maskClosable:!0,content:Object(s.b)("phrases.confirm_delete",{model:Object(s.b)("words.commission").toLocaleLowerCase(),context:"female"}),okText:Object(s.b)("phrases.yes_delete"),okType:"danger",cancelText:Object(s.b)("verbs.cancel"),onOk:()=>i(e)}):m.b.warning(Object(s.b)("phrases.no_permission_to_do_this"))}),[i,o.can_destroy_commission]),w=!(null===(t=a.digital_signature)||void 0===t||!t.id),x=Object(n.useMemo)((()=>[{key:"signature",title:w?Object(s.b)("digital_signature.signed_in",{date:d()(a.digital_signature.created_at,l.H).format("L, HH:mm[h]"),interpolation:{escapeValue:!1}}):Object(s.b)("verbs.sign"),icon:Object(v.jsx)(u.a,{style:{color:w?j.a.green_1:j.a.default_text}}),onClick:()=>r(a.id,a.employee.id),label:Object(v.jsx)(c.h,{$hex:w?j.a.green_1:void 0,children:w?Object(s.b)("digital_signature.signed"):Object(s.b)("verbs.sign")})},{key:"print-complete",title:`${Object(s.b)("verbs.print")} (${Object(s.b)("words.complete")})`,icon:Object(v.jsx)(p.a,{}),onClick:()=>{const e=`/finance/commissions/batch_payments/${a.id}/print_page`;Object(_.a)(e)},label:Object(v.jsx)(c.h,{children:`${Object(s.b)("verbs.print")} (${Object(s.b)("words.complete")})`})},{key:"print-resumed",title:`${Object(s.b)("verbs.print")} (${Object(s.b)("words.summary")})`,icon:Object(v.jsx)(p.a,{}),onClick:()=>{const e=`/finance/commissions/batch_payments/${a.id}/print_page_grouped`;Object(_.a)(e)},label:Object(v.jsx)(c.h,{children:`${Object(s.b)("verbs.print")} (${Object(s.b)("words.summary")})`})},{key:"delete",title:Object(s.b)("verbs.delete"),danger:!0,onClick:()=>y(a),icon:Object(v.jsx)(O.a,{}),label:Object(s.b)("verbs.delete")}]),[y,r,a,w]);return Object(v.jsx)(c.g,{$justifyCenter:!0,style:{background:"transparent"},children:Object(v.jsx)(b.a,{menu:{items:x},trigger:["click"],getPopupContainer:e=>e.parentElement||document.body,children:Object(v.jsx)(c.i,{className:"link",children:Object(v.jsx)(g.a,{})})})})};y.displayName="ActionsColumn";var w=Object(n.memo)(y);var x=e=>Object(n.useMemo)((()=>[{title:Object(s.b)("words.date"),key:"created_at",dataIndex:"created_at",width:120,render:e=>d()(e,l.H).format("L")},{title:Object(s.b)("words.payment"),key:"payment_date",dataIndex:"payment_date",width:110,render:(e,t)=>d()(t.payment_date).format("L")},{title:Object(s.b)("words.employee"),key:"employee",dataIndex:"employee",ellipsis:!0,render:e=>e.name},{title:Object(s.b)("words.user"),key:"user",dataIndex:"user",ellipsis:!0,render:e=>{var t;return(null===e||void 0===e||null===(t=e.employee)||void 0===t?void 0:t.name)||e.name}},{title:Object(s.b)("words.commission",{count:2}),key:"commission_items_total_value",dataIndex:"commission_items_total_value",width:110,align:"right",render:e=>Object(r.d)(e,{cents:!1})},{title:Object(s.b)("words.advance",{count:2}),key:"advances_total_value",dataIndex:"advances_total_value",width:110,align:"right",render:e=>Object(r.d)(e,{cents:!1})},{title:Object(s.b)("words.bonification_other"),key:"bonifications_total_value",dataIndex:"bonifications_total_value",width:110,align:"right",render:e=>Object(r.d)(e,{cents:!1})},{title:Object(s.b)("finance.commissions.paid_value"),key:"total_paid_value",dataIndex:"total_paid_value",width:110,align:"right",render:e=>Object(r.d)(e,{cents:!1})},{title:Object(s.b)("words.action",{count:2}),align:"center",key:"actions",width:70,render:(t,a)=>Object(v.jsx)(i.a,{width:54,children:Object(v.jsx)(w,{record:a,...e})})}]),[e]),f=a(19),k=a(1813);const H=e=>{const{batch_payments:t,loading:a,...n}=e,i=x(n);return Object(v.jsx)(c.g,{$paddings:[0,0,10,0],children:Object(v.jsx)($,{loading:a,dataSource:t,columns:i,rowKey:"id",rowClassName:e=>{var t;return null!==(t=e.digital_signature)&&void 0!==t&&t.id?"signed":"unsigned"},locale:{emptyText:Object(v.jsx)(k.a,{image:k.a.PRESENTED_IMAGE_SIMPLE,description:Object(s.b)("phrases.empty")})},tableLayout:"fixed",size:"middle",pagination:!1})})};H.displayName="BatchPaymentsTable";t.default=Object(n.memo)(H);const $=Object(f.d)(i.b).withConfig({componentId:"wb__sc-1pws2du-0"})(["tr.signed{background:rgba(222,243,222,0.6);}tr.unsigned{background:rgba(255,229,229,0.6);}"])},691:function(e,t,a){"use strict";var n=a(13),c=a(0),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"},s=a(71),r=function(e,t){return c.createElement(s.a,Object(n.a)({},e,{ref:t,icon:i}))},o=c.forwardRef(r);t.a=o},787:function(e,t,a){"use strict";var n=a(13),c=a(0),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M820 436h-40c-4.4 0-8 3.6-8 8v40c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-40c0-4.4-3.6-8-8-8zm32-104H732V120c0-4.4-3.6-8-8-8H300c-4.4 0-8 3.6-8 8v212H172c-44.2 0-80 35.8-80 80v328c0 17.7 14.3 32 32 32h168v132c0 4.4 3.6 8 8 8h424c4.4 0 8-3.6 8-8V772h168c17.7 0 32-14.3 32-32V412c0-44.2-35.8-80-80-80zM360 180h304v152H360V180zm304 664H360V568h304v276zm200-140H732V500H292v204H160V412c0-6.6 5.4-12 12-12h680c6.6 0 12 5.4 12 12v292z"}}]},name:"printer",theme:"outlined"},s=a(71),r=function(e,t){return c.createElement(s.a,Object(n.a)({},e,{ref:t,icon:i}))},o=c.forwardRef(r);t.a=o}}]);
//# sourceMappingURL=145.07554990.chunk.js.map