(this["webpackJsonpwebook-react"]=this["webpackJsonpwebook-react"]||[]).push([[49],{1037:function(e,t,c){"use strict";var n=c(37),a=c(2879),s=c(76);const o=n.e`
  query OpenedCashAccountingQuery {
    close_cash_accounting {
      pay_movements {
        id historical status value_cents bill_type due
        payment { id name processing_days }
        account { id name cash }
        chart { id name }

        account_used_to_pay: account { id name cash }
        payment_used_to_pay: payment { id name processing_days }
      }
      rec_movements {
        id historical status value_cents bill_type due
        payment { id name processing_days }
        account { id name cash }
        chart { id name }
        account_used_to_pay { id name cash }
        payment_used_to_pay { id name processing_days }
      }
      accounted_rec_movements {
        id historical status value_cents bill_type due type difference_cents
        payment { id name processing_days }
        account { id name cash }
        chart { id name }
        account_used_to_pay { id name cash }
        payment_used_to_pay { id name processing_days }
      }
      accounted_pay_movements {
        id historical status value_cents bill_type due type difference_cents
        payment { id name processing_days }
        account { id name cash }
        chart { id name }

        account_used_to_pay: account { id name cash }
        payment_used_to_pay: payment { id name processing_days }
      }

      last_cash_accounting {
        id balance_start_cents date_open date_close closed
      }
    }
  }
`;t.a=e=>Object(a.a)(o,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,onCompleted:t=>e(t),onError:e=>{s.a.captureException(e),console.error(e)}})},1083:function(e,t,c){"use strict";var n=c(0),a=c(50),s=c(2937),o=c(250),i=c(20),r=c(579),l=c(726),d=c(1094),b=c(2883),j=c(2934),u=c(1810),_=c(1438),p=c(852),m=c(27),O=c(732),h=c(662),x=c(2854),f=c(2824),g=c(2838),v=c(543),w=c(646),y=c(19),k=c(22);const C=e=>{const{field:t,container:c,last_item:n,add:o,destroy:i}=e,l=Object(m.a)((e=>e.is_mobile)),d=Object(m.a)((e=>e.finance_accounts.find((e=>"Caixa"===e.name)))),j=()=>{n&&o()};return Object(k.jsxs)(I,{gutter:{xs:0,md:8},children:[Object(k.jsx)(s.a.Item,{noStyle:!0,name:[t.name,"_destroy"],fieldKey:[t.key,"_destroy"],children:Object(k.jsx)(f.a,{type:"hidden"})}),Object(k.jsx)(b.a,{xs:24,md:14,children:Object(k.jsx)(s.a.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.transfers!==t.transfers,children:e=>{let{getFieldValue:o}=e;const i=o("transfers").reduce(((e,t)=>{const c=null===t||void 0===t?void 0:t.account_id;return c?[...e,c]:e}),[]),r=null!==d&&void 0!==d&&d.id?[...i,d.id]:i;return Object(k.jsx)(s.a.Item,{name:[t.name,"account_id"],rules:[{required:!n,message:Object(a.b)("finance.cash_account.inform_an_account")}],children:Object(k.jsx)(w.a,{onChange:j,disabledOptions:r,getPopupContainer:()=>c||document.body,size:l?"large":"middle",style:{width:"100%"}})})}})}),Object(k.jsx)(b.a,{xs:24,md:10,children:Object(k.jsx)(s.a.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.transfers!==t.transfers,children:e=>{let{getFieldValue:c}=e;const o=c(["transfers",t.name,"account_id"]);return Object(k.jsx)(s.a.Item,{initialValue:0,name:[t.name,"value_cents"],rules:[{required:!n,message:Object(a.b)("phrases.enter_value")}],children:Object(k.jsx)(g.a,{min:0,size:l?"large":"middle",parser:r.e,style:{width:"100%"},formatter:e=>Object(r.d)(e),disabled:!o})})}})}),!n&&!l&&Object(k.jsx)(z,{className:"color-red",onClick:()=>i(t.name)})]})};C.displayName="TransferItem";var $=C;const I=Object(y.d)(v.a).withConfig({componentId:"wb__sc-weocs4-0"})(["width:100%;position:relative;padding-right:20px;.ant-form-item{margin-bottom:8px;.ant-form-item-explain{display:none;}}@media (max-width:768px){padding:0;background-color:",";user-select:none;.swipeable-list-item__content{border-radius:5px;}}"],(e=>e.theme.colors.white)),z=Object(y.d)(x.a).withConfig({componentId:"wb__sc-weocs4-1"})(["position:absolute;right:0;top:8px;font-size:18rem;"]);var F=c(53),R=c.n(F);const S=e=>{var t;let{setFieldsValue:c,getFieldValue:i,movements:x,cash_accounting:f}=e;const g=Object(m.a)((e=>e.is_mobile)),[v,w]=Object(n.useState)("keep"),y=(null===f||void 0===f||null===(t=f.last_cash_accounting)||void 0===t?void 0:t.balance_start_cents)||0,C=x.filter(l.b),I=Object(l.e)(C).reduce(((e,t)=>e+t.total),0),z=I+y;return Object(k.jsxs)(o.g,{$column:!0,gutter:16,children:[Object(k.jsx)(b.a,{span:24,children:Object(k.jsx)(O.a,{style:{padding:"0 8px"},size:16,left:Object(a.b)("finance.cash_account.initial_balance"),value:y,black:!0})}),Object(k.jsx)(b.a,{span:24,children:Object(k.jsx)(O.a,{style:{padding:"0 8px"},size:16,left:Object(a.b)("words.movement",{count:2}),value:I,black:!0})}),Object(k.jsx)(b.a,{span:24,children:Object(k.jsx)(O.a,{style:{padding:"0 8px"},size:16,left:Object(a.b)("finance.cash_account.cash_balance"),value:z,black:!0})}),Object(k.jsx)(b.a,{span:24,children:Object(k.jsx)(s.a.Item,{name:"date_close",label:Object(a.b)("finance.cash_account.closing_date"),rules:[{required:!0,message:Object(a.b)("phrases.required_field")}],initialValue:R()(),children:Object(k.jsx)(j.a,{allowClear:!1,size:g?"large":"middle",format:"L",style:{width:"100%"}})})}),Object(k.jsx)(b.a,{span:24,children:Object(k.jsxs)(u.a.Group,{onChange:e=>w(e.target.value),value:v,children:[Object(k.jsx)(u.a,{value:"keep",children:Object(a.b)("finance.cash_account.keep_balance")}),Object(k.jsx)(u.a,{value:"transfer",children:Object(a.b)("finance.cash_account.transfer_amount_to_another_account")})]})}),Object(k.jsx)(b.a,{span:24,children:"transfer"===v&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(_.a,{}),Object(k.jsx)(o.g,{$justifyCenter:!0,$alignCenter:!0,children:Object(k.jsx)(o.h,{$size:16,$semibold:!0,children:Object(a.b)("words.transfer")})}),Object(k.jsx)(h.a,{name:"transfers",style:{margin:"0 0 0 0"},Item:$,setFieldsValue:c,getFieldValue:i}),Object(k.jsx)(_.a,{}),Object(k.jsx)(s.a.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.transfers!==t.transfers,children:e=>{let{getFieldValue:t}=e;const c=t("transfers").reduce(((e,t)=>e+t.value_cents),0),n=z-c;return Object(k.jsxs)(o.g,{justify:"center",gutter:16,style:g?{flexDirection:"column"}:void 0,children:[Object(k.jsx)(b.a,{xs:24,md:12,style:g?{textAlign:"center"}:{textAlign:"right"},children:Object(a.b)("finance.cash_account.total_to_be_transferred",{value:Object(r.d)(c)})}),Object(k.jsxs)(b.a,{xs:24,md:12,style:g?{textAlign:"center"}:void 0,children:[Object(a.b)("finance.cash_account.remaining_transfer",{value:Object(r.d)(n)}),n<0&&Object(k.jsx)(p.a,{title:Object(a.b)("finance.cash_account.cannot_go_negative"),children:Object(k.jsx)(d.a,{style:{color:"red",paddingLeft:5}})})]})]})}})]})})]})};S.displayName="CloseCashAccountingForm";var N=S,E=c(116),q=c(37),V=c(1850),A=c(76);const M=q.e`
  mutation CloseCashAccounting($data: CloseCashAccountingInput!) {
    closeCashAccounting(input: $data) {
      success errors
    }
  }
`;var P=()=>{const[e,{loading:t}]=Object(V.a)(M);return[async t=>{try{const{data:c}=await e({variables:{data:t}}),{success:n,errors:a}=(null===c||void 0===c?void 0:c.closeCashAccounting)||{};return null===a||void 0===a||a.forEach((e=>E.b.error(e))),{success:n}}catch(c){return A.a.captureException(c),E.b.error(Object(a.b)("finance.cash_account.close_error_message")),console.error(c),{success:!1}}},{loading:t}]},T=c(581),B=c(608);const D=(e,t)=>{let{afterSave:c,cash_accounting:d,movements:b,accounted_movements:j}=e;const u=Object(m.a)((e=>e.current_user.permissions)),_=Object(m.a)((e=>e.is_mobile)),p=Object(i.o)(),[O,h]=Object(n.useState)(!1),[x]=s.a.useForm(),{resetFields:f,submit:g,setFieldsValue:v,getFieldValue:w}=x,[y,{loading:C}]=P(),$=Object(n.useCallback)((()=>{h(!0),v({transfers:[{}]})}),[v]),I=Object(n.useCallback)((()=>{h(!1)}),[]);Object(n.useImperativeHandle)(t,(()=>({open:$,close:I})));const z=Object(n.useCallback)((async e=>{var t;if(!u.can_access_cash_accounting)return void E.b.warning(Object(a.b)("phrases.no_permission_to_do_this"));if(!d)return;const n=Object(l.c)(e,b,d,j),s=(null===(t=e.transfers)||void 0===t?void 0:t.reduce(((e,t)=>e+(t?t.value_cents:0)),0))||0,o=n.balance_cents-s;if(o<0)return void E.b.error(Object(a.b)("finance.cash_account.cannot_go_negative"));const{success:i}=await y(n);i&&B.a.success({className:"webook-modal hide-buttons",title:Object(a.b)("finance.cash_account.closed_successfully"),content:Object(a.b)("finance.cash_account.remaining_value",{value:Object(r.d)(o)}),onCancel:()=>{I(),null===c||void 0===c||c(),p("/finance/cash-accounting/closed")}})}),[j,c,d,I,y,b,p,u.can_access_cash_accounting]),F=Object(n.useCallback)((e=>{e||f()}),[f]);return Object(k.jsx)(o.a,{open:O,title:Object(a.b)("finance.cash_account.closing"),placement:_?"bottom":"right",height:"100%",onClose:I,width:680,closable:!0,destroyOnClose:!0,afterOpenChange:F,footer:Object(k.jsx)(T.a,{loading:C,submit:g,save_text:Object(a.b)("phrases.close_cash_account"),close:I}),push:!1,children:Object(k.jsx)(s.a,{form:x,layout:"vertical",onFinish:z,children:Object(k.jsx)(N,{setFieldsValue:v,getFieldValue:w,cash_accounting:d,movements:b})})})};D.displayName="CloseCashAccountingDrawer";t.a=Object(n.forwardRef)(D)},1086:function(e,t,c){"use strict";var n=c(0),a=c(50),s=c(2937),o=c(250),i=c(53),r=c.n(i),l=c(645),d=c(27),b=c(116),j=c(37),u=c(1850),_=c(657),p=c(76);const m=j.e`
  mutation TransferModal($data: CreateTransferInput!) {
    createTransfer(input: $data) {
      success errors
    }
  }
`;var O=e=>{const[t,{loading:c}]=Object(u.a)(m);return[async c=>{try{const{data:n}=await t({variables:{data:c}}),{success:a=!1,errors:s=[]}=(null===n||void 0===n?void 0:n.createTransfer)||{};return null===s||void 0===s||s.forEach((t=>{"Caixa n\xe3o est\xe1 aberto"!==t?b.b.error(t):Object(_.a)(e)})),{success:a}}catch(n){return p.a.captureException(n),b.b.error(Object(a.b)("phrases.generic_save_error_message")),console.error(n),{success:!1}}},{loading:c}]},h=c(543),x=c(2883),f=c(2824),g=c(2977),v=c(2857),w=c(2856),y=c(666),k=c(646),C=c(672),$=c(584),I=c(653),z=c(22);var F=()=>{const e=Object(d.a)((e=>e.is_mobile));return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(h.a,{gutter:16,children:[Object(z.jsx)(x.a,{xs:24,sm:24,md:8,children:Object(z.jsx)(s.a.Item,{name:"value_cents",label:Object(a.b)("words.value"),rules:[{required:!0,message:Object(a.b)("phrases.required_field")},{type:"number",min:1,message:Object(a.b)("phrases.enter_value")}],children:Object(z.jsx)($.a,{size:e?"large":"middle"})})}),Object(z.jsx)(x.a,{xs:24,sm:24,md:8,children:Object(z.jsx)(s.a.Item,{name:"date",label:Object(a.b)("words.date"),rules:[{required:!0,message:Object(a.b)("phrases.required_field")}],children:Object(z.jsx)(I.b,{})})}),Object(z.jsx)(x.a,{xs:24,sm:24,md:8,children:Object(z.jsx)(s.a.Item,{name:"payment_id",label:Object(a.b)("words.payment_type"),rules:[{required:!0,message:Object(a.b)("phrases.required_field")}],children:Object(z.jsx)(y.a,{size:e?"large":"middle",default_cash:!1})})}),Object(z.jsx)(x.a,{xs:24,sm:24,md:24,children:Object(z.jsx)(s.a.Item,{name:"historical",label:Object(a.b)("words.reason"),children:Object(z.jsx)(f.a,{placeholder:Object(a.b)("finance.drawers.insert_reason"),size:e?"large":"middle"})})})]}),Object(z.jsxs)(h.a,{gutter:16,children:[Object(z.jsx)(x.a,{xs:24,sm:24,md:12,children:Object(z.jsxs)(g.a,{size:"small",styles:{header:{textAlign:"center"}},title:Object(z.jsxs)("span",{children:[Object(z.jsx)(v.a,{style:{color:"red"}})," ",Object(a.b)("finance.drawers.source_account")]}),children:[Object(z.jsx)(s.a.Item,{name:"account_from",label:Object(a.b)("words.account"),rules:[{required:!0,message:Object(a.b)("phrases.required_field")}],children:Object(z.jsx)(k.a,{size:e?"large":"middle"})}),Object(z.jsx)(s.a.Item,{name:"chart_from",label:Object(a.b)("words.category"),rules:[{required:!0,message:Object(a.b)("phrases.required_field")}],children:Object(z.jsx)(C.a,{kind:"D",defaultOption:"Transfer",size:e?"large":"middle"})})]})}),Object(z.jsx)(x.a,{xs:24,sm:24,md:12,children:Object(z.jsxs)(g.a,{size:"small",styles:{header:{textAlign:"center"}},title:Object(z.jsxs)("span",{children:[Object(z.jsx)(w.a,{style:{color:"green"}})," ",Object(a.b)("finance.drawers.destination_account")]}),children:[Object(z.jsx)(s.a.Item,{name:"account_to",label:Object(a.b)("words.account"),dependencies:["account_from"],rules:[{required:!0,message:Object(a.b)("phrases.required_field")},e=>{let{getFieldValue:t}=e;return{validator:(e,c)=>c&&t("account_from")===c?Promise.reject(new Error(Object(a.b)("finance.drawers.cannot_be_the_same_as_source_account"))):Promise.resolve()}}],children:Object(z.jsx)(k.a,{size:e?"large":"middle"})}),Object(z.jsx)(s.a.Item,{name:"chart_to",label:Object(a.b)("words.category"),rules:[{required:!0,message:Object(a.b)("phrases.required_field")}],children:Object(z.jsx)(C.a,{kind:"C",defaultOption:"Transfer",size:e?"large":"middle"})})]})})]})]})},R=c(581);const S={value_cents:0,date:r()()},N=(e,t)=>{let{afterSave:c}=e;const i=Object(d.a)((e=>e.is_mobile)),r=Object(d.a)((e=>e.current_user.permissions)),[j,u]=Object(n.useState)(!1),[_]=s.a.useForm(),{submit:p,resetFields:m,setFieldsValue:h}=_,x=Object(n.useRef)(null),f=Object(n.useCallback)((()=>{var e;r.can_access_cash_accounting?null===(e=x.current)||void 0===e||e.open():b.b.warning(Object(a.b)("phrases.no_permission_to_do_this"))}),[r.can_access_cash_accounting]),[g,{loading:v}]=O(f),w=()=>{u(!0),h(S)},y=()=>{u(!1)};Object(n.useImperativeHandle)(t,(()=>({open:w,close:y})));return Object(z.jsxs)(o.a,{closable:!0,width:780,push:!1,height:"100%",destroyOnClose:!0,onClose:y,open:j,title:Object(a.b)("finance.drawers.new_transfer"),afterOpenChange:()=>{j||m()},placement:i?"bottom":"right",footer:Object(z.jsx)(R.a,{loading:v,submit:p,disabled:!r.can_create_transfer}),children:[Object(z.jsx)(s.a,{form:_,layout:"vertical",onFinish:async e=>{const t={...e,date:e.date.format("YYYY-MM-DD")},{success:n}=await g(t);n&&(b.b.success(Object(a.b)("phrases.saved_successfully",{context:"female",prefix:Object(a.b)("words.transfer")})),null===c||void 0===c||c(),y())},children:Object(z.jsx)(F,{})}),Object(z.jsx)(l.a,{ref:x})]})};N.displayName="TransferDrawer";t.a=Object(n.forwardRef)(N)},1129:function(e,t,c){"use strict";var n=c(0),a=c(50),s=c(1227),o=c(2969),i=c(250),r=c(199),l=c(3042),d=c(873),b=c(650),j=c(19),u=c(20),_=c(18),p=c(27),m=c(116),O=c(22);const h=(e,t)=>{const[c,o]=Object(n.useState)(!1),[r,l]=Object(n.useState)(!1),[j,h]=Object(n.useState)(!1),v=Object(u.o)(),w=Object(u.m)(),y=Object(p.a)((e=>e.current_user.permissions)),k=Object(p.a)((e=>e.is_mobile)),C=Object(b.b)(),$=Object(n.useCallback)((e=>{l(!(null===e||void 0===e||!e.has_whatsapp_feature)),h(!(null===e||void 0===e||!e.whatsapp_status))}),[]),{loading:I,refetch:z}=Object(d.b)($);Object(n.useEffect)((()=>{o(!1)}),[w.key]);const F=Object(n.useMemo)((()=>Object(a.b)("whatsapp_icon.support_message",{action:r?Object(a.b)("verbs.active"):Object(a.b)("verbs.hire")})),[r]),R=Object(n.useCallback)((()=>{y.can_access_whatsapp_marketing?v("/whatsapp_marketing/settings"):m.b.warning(Object(a.b)("phrases.no_permission_to_do_this"))}),[v,y.can_access_whatsapp_marketing]),S=Object(n.useMemo)((()=>r?j?Object(O.jsxs)(O.Fragment,{children:[Object(a.b)("whatsapp_icon.connected"),Object(O.jsx)("br",{}),Object(a.b)("whatsapp_icon.click_to_update")]}):Object(O.jsxs)(O.Fragment,{children:[Object(a.b)("whatsapp_icon.disconnected"),"\xa0",Object(a.b)("whatsapp_icon.click_to_update"),Object(O.jsx)("br",{}),Object(O.jsx)(i.i,{onClick:R,children:Object(a.b)("whatsapp_icon.click_to_setup")})]}):Object(O.jsxs)(O.Fragment,{children:[Object(a.b)("phrases.no_feature_in_plan"),Object(O.jsx)("br",{}),Object(O.jsx)(i.i,{onClick:()=>C({message:F}),children:Object(a.b)("whatsapp_icon.need_help")})]})),[R,r,C,F,j]);return Object(O.jsx)(i.i,{style:{lineHeight:1},onClick:()=>{r?z():v(`/subscription/addons?addon_id=${_.a.ID_MOBILE_MESSAGES_WHATSAPP}`)},children:Object(O.jsx)(s.a,{open:k?c:void 0,trigger:["click","hover"],content:S,children:Object(O.jsx)(x,{ref:t,dot:!0,count:I?Object(O.jsx)(f,{}):void 0,onClick:()=>o((e=>!e)),status:j?"success":"error",offset:[0,3],children:Object(O.jsx)(g,{})})})})};h.displayName="WhatsappBadge",t.a=Object(n.memo)(Object(n.forwardRef)(h));const x=Object(j.d)(o.a).withConfig({componentId:"wb__sc-16h6ht9-0"})(["opacity:1;transition:opacity .2s;.ant-badge-dot{width:8px;height:8px;.retracted &{top:8px;}}"]),f=Object(j.d)(r.a).withConfig({componentId:"wb__sc-16h6ht9-1"})(["color:#FFFFFF;.retracted &{font-size:14rem !important;top:8px !important;padding-left:0 !important;padding-top:0 !important;}"]),g=Object(j.d)(l.a).withConfig({componentId:"wb__sc-16h6ht9-2"})(["font-size:20rem;margin-left:8px;cursor:pointer;color:",";.retracted &{margin-left:0;}"],(e=>e.theme.color_text))},1203:function(e,t,c){"use strict";var n=c(0),a=c(20),s=c(18),o=c(3075),i=c(1809),r=c(2969),l=c(1082),d=c(1090),b=c(940),j=c(679),u=c(1091),_=c(1092),p=c(1093),m=c(37),O=c(405);const h=m.e`
  query BirthdayClientsQuery {
    clients_birthday {
      id name nickname first_name phone cellphone
    }
  }
`;var x=e=>Object(O.f)(h,{skip:!e,fetchPolicy:"network-only"}),f=c(27),g=c(137),v=c(76);const w=m.e`
  fragment NotificationAttributes on Notification {
    id
    created_at
    action
    read_at
    notifiable_id
    schedule_group_id

    client_name
    employee_name
    service_name
    ticket_number
    service_return_days
    calendar_date
    review_rating
    notifiable_is_deleted
    title
    message
  }
`,y=m.e`
  query Notifications {
    all_notifications (read: false, page: 1, results: 50, sort_field: "created_at", sort_order: "DESC") {
      all {
        ...NotificationAttributes
      }

      total_count
    }
  }

  ${w}
`,k=m.e`
  subscription OnNotificationUpdated {
    notificationUpdated {
      ...NotificationAttributes
    }
  }

  ${w}
`;var C=()=>{const{subscribeToMore:e,data:t,loading:c}=Object(O.f)(y,{fetchPolicy:"network-only",onError:e=>{console.log(e),v.a.captureException(e)}});Object(n.useEffect)((()=>{try{e({document:k,onError:e=>{console.log(e),v.a.captureException(e)},updateQuery:(e,t)=>{var c;let{subscriptionData:{data:{notificationUpdated:n}}}=t;if(!n)return e;console.debug("[Notification subscription]",{notificationUpdated:n});let a=(null===(c=e.all_notifications)||void 0===c?void 0:c.total_count)||0;e.all_notifications.all.find((e=>e.id===n.id))?n.read_at&&(a-=1):n.read_at||(a+=1);return{all_notifications:{all:Object(g.uniqBy)([n,...e.all_notifications.all],"id").filter((e=>!e.read_at)),total_count:a}}}})}catch(t){}}),[e]);return[Object(n.useMemo)((()=>({notifications:(null===t||void 0===t?void 0:t.all_notifications.all)||[],total_count:(null===t||void 0===t?void 0:t.all_notifications.total_count)||0})),[null===t||void 0===t?void 0:t.all_notifications.all,null===t||void 0===t?void 0:t.all_notifications.total_count]),c]},$=c(920),I=c(340),z=c(19),F=c(53),R=c.n(F),S=c(22);const N=e=>{let{notification:t,onClick:c}=e;const{t:a}=Object(I.c)(void 0,{keyPrefix:"notification"}),o=Object(n.useMemo)((()=>({response:a("response.title"),external_appointment:a("external_appointment.title"),salon_review:a("salon_review.title"),client_return:a("client_return.title"),schedule_canceled:a("schedule_canceled.title"),cs_announce:void 0,goals:void 0,online_payment:void 0,completed_anamnesis:void 0,new_subscription_sale:void 0,waiting_schedule:void 0,trial:void 0})),[a])[t.action]||t.title,{action:i,client_name:r,service_name:l,employee_name:d,calendar_date:b,service_return_days:j,message:u,review_rating:_}=t,p=Object(n.useMemo)((()=>{if("client_return"===i)return a("client_return.message",{service_return_days:j,client_name:r,service_name:l,interpolation:{escapeValue:!1}});if("external_appointment"===i)return a("external_appointment.message",{calendar_date:b,client_name:r,interpolation:{escapeValue:!1}});if("schedule_canceled"===i)return a("schedule_canceled.message",{calendar_date:b,client_name:r,interpolation:{escapeValue:!1}});if("response"===i)return a("response.message",{client_name:r,interpolation:{escapeValue:!1}});return["cs_announce","clients_birthday","goals","online_payment","completed_anamnesis","document_signed","new_subscription_sale","waiting_schedule","trial"].includes(i)?u:a("salon_review.message",{employee_name:d,review_rating:_,client_name:r,interpolation:{escapeValue:!1}})}),[i,b,r,d,u,_,l,j,a]),m=Object(n.useMemo)((()=>{if(!!!t.created_at)return null;const e=R()(t.created_at,s.H);return R()().isSame(e,"day")?e.fromNow():e.format("L")}),[t.created_at]);return Object(S.jsxs)(q,{onClick:()=>c(t),children:[Object(S.jsxs)("div",{className:"header",children:[Object(S.jsx)("span",{className:"title",children:o}),m&&Object(S.jsx)("span",{className:"time",children:m})]}),Object(S.jsx)("div",{className:"content",title:p,children:p})]})};N.displayName="NotificationItem";var E=N;const q=z.d.div.withConfig({componentId:"wb__sc-z4cudf-0"})(["background:rgba(0,0,0,.05);padding:10px;margin-top:5px;cursor:pointer;&:hover{background:rgba(0,0,0,.07);}.header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;font-weight:bold;letter-spacing:1px;margin-bottom:5px;.title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:75%;line-height:1.2;}.time{font-size:12rem;line-height:1.2;}}.content{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;line-height:1.3;font-size:13rem;@supports (-webkit-line-clamp:2){overflow:hidden;text-overflow:ellipsis;white-space:pre-line;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;}}"]);var V=c(1036),A=c.n(V),M=c(250),P=c(199),T=c(1813);const B=e=>{const{today_notifications:t,old_notifications:c,onClickNotification:s,setVisible:o,close:i,read_all_loading:r,handleReadAll:l,show_clients_birthday:d}=e,b=Object(n.useMemo)((()=>[...t,...c]),[c,t]),j=Object(f.a)((e=>e.is_mobile)),{t:u}=Object(I.c)(),_=Object(a.o)(),p=Object(n.useMemo)((()=>({id:"clients_birthday",notifiable_id:"clients_birthday",action:"clients_birthday",title:u("notification.birthdays_of_the_day")+" \ud83c\udf89",message:u("notification.birthdays_list")})),[u]);return Object(S.jsxs)(H,{children:[Object(S.jsxs)(L,{children:[Object(S.jsx)("h3",{children:u("words.notification",{count:2})}),b.length>0&&(r?Object(S.jsx)(M.d,{$size:20,$mRight:5,$color:"primary",as:P.a}):Object(S.jsx)(M.h,{style:{textTransform:"uppercase"},onClick:l,$link:!0,$size:12,$semibold:!0,children:u("notification.set_all_as_read")}))]}),Object(S.jsx)(K,{children:Object(S.jsxs)(A.a,{autoHide:!0,style:{overflowX:"hidden"},children:[d&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(W,{children:u("words.birthday_person",{count:2})}),Object(S.jsx)(E,{notification:p,onClick:s})]}),0===b.length&&!d&&Object(S.jsx)(T.a,{description:u("phrases.empty"),style:{marginTop:50},styles:{image:{height:60}}}),t.length>0&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(W,{children:u("words.today")}),t.map((e=>Object(S.jsx)(E,{notification:e,onClick:s},e.id)))]}),c.length>0&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(W,{children:u("words.previous",{count:2})}),c.map((e=>Object(S.jsx)(E,{notification:e,onClick:s},e.id)))]})]})}),Object(S.jsx)(U,{onClick:()=>{r||(o(!1),null===i||void 0===i||i(),_(j?"/notifications":"/notifications/news"))},children:Object(S.jsx)(M.h,{$size:12,$color:"primary",$semibold:!0,style:{textTransform:"uppercase"},children:u("notification.see_all",{context:"female"})})})]})};B.displayName="NotificationMenuDesktop";var D=B;const H=z.d.div.withConfig({componentId:"wb__sc-1jzjrqa-0"})(["width:400px;height:500px;display:flex;flex-direction:column;",""],(e=>e.theme.is_mobile&&Object(z.c)(["width:100vw;"]))),L=z.d.div.withConfig({componentId:"wb__sc-1jzjrqa-1"})(["display:flex;padding:10px;justify-content:space-between;align-items:center;background-color:#F8F8F8;& > h3{color:#4a4a4a;font-size:20rem;margin:0;}"]),U=z.d.div.withConfig({componentId:"wb__sc-1jzjrqa-2"})(["display:flex;justify-content:center;align-items:center;padding:10px;cursor:pointer;background-color:#F8F8F8;"]),K=z.d.div.withConfig({componentId:"wb__sc-1jzjrqa-3"})(["flex:1;"]),W=z.d.div.withConfig({componentId:"wb__sc-1jzjrqa-4"})(["font-weight:bold;color:#4a4a4a;opacity:.7;font-size:12rem;letter-spacing:.5px;margin-bottom:5px;margin-top:10px;margin-left:10px;"]);var G=c(852),Y=c(2921),J=c(3042),Q=c(579),X=c(596),Z=c(581),ee=c(50),te=c(591),ce=c(116);const ne=(e,t)=>{let{clients:c}=e;const[a,o]=Object(n.useState)(!1),i=Object(n.useRef)(null),r=Object(f.a)((e=>e.current_user.salon)),l=Object(f.a)((e=>e.current_user.permissions)),d=Object(f.a)((e=>e.is_mobile)),b=()=>o(!0),j=()=>o(!1);Object(n.useImperativeHandle)(t,(()=>({open:b,close:j})));const u=Object(n.useCallback)((e=>{var t,c;const n=r.sms_message_configuration.sms_message_birthday.replace(s.z,null===(t=e.first_name)||void 0===t?void 0:t.trim()).replace(s.B,e.nickname).replace(s.f,(null===(c=r.name)||void 0===c?void 0:c.trim())||"");Object(Q.z)({phone:e.cellphone||e.phone,message:n})}),[r.name,r.sms_message_configuration.sms_message_birthday]),_=Object(n.useMemo)((()=>[{title:Object(ee.b)("words.client"),key:"name",dataIndex:"name",ellipsis:!0,render:(e,t)=>{let{id:c}=t;return Object(S.jsx)(M.i,{title:e,className:"link text-overflow-ellipsis",onClick:()=>{var e;l.can_edit_client?null===(e=i.current)||void 0===e||e.open({id:c,initial_active_bar:"messages"}):ce.b.warning(Object(ee.b)("phrases.no_permission_to_do_this"))},children:e})}},{title:Object(ee.b)("words.phone"),dataIndex:"cellphone",key:"cellphone",width:200,render:(e,t)=>l.can_access_client_phone?e?Object(S.jsx)(G.a,{title:Object(ee.b)("phrases.send_whatsapp"),children:Object(S.jsxs)(M.h,{onClick:()=>u(t),$link:!0,children:[Object(S.jsx)(te.a,{hide_input_styles:!0,disabled:!0,value:e},e),"\xa0",Object(S.jsx)(M.d,{as:J.a,$color:"green_1"})]})}):Object(ee.b)("phrases.no_cellphone"):Object(ee.b)("phrases.no_permission")}]),[l.can_edit_client,l.can_access_client_phone,u]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(M.b,{title:Object(ee.b)("notification.birthdays_of_the_day"),open:a,maskClosable:!0,destroyOnClose:!0,onClose:j,width:600,placement:d?"bottom":"right",height:"100%",footer:Object(S.jsx)(Z.a,{close:j,cancel_text:Object(ee.b)("verbs.close")}),children:Object(S.jsx)(Y.a,{columns:_,size:"middle",dataSource:c,rowKey:"id",pagination:!1})}),Object(S.jsx)(X.a,{ref:i})]})};var ae=Object(n.memo)(Object(n.forwardRef)(ne)),se=c(846),oe=c(754),ie=c(1034);const re=R()(),le=e=>{let{closeMenuDrawer:t}=e;const[c,o]=Object(n.useState)(!1),[r,m]=Object(n.useState)(!1),O=Object(f.a)((e=>e.is_mobile)),h=Object(f.a)((e=>e.current_user.permissions)),g=Object(f.a)((e=>e.main_sidebar_retracted)),w=Object(a.o)(),{data:{clients_birthday:y=[]}={}}=x(h.is_admin),[{notifications:k,total_count:I}]=C(),[z]=Object($.a)(),F=Object(n.useRef)(null),N=Object(n.useRef)(null),E=Object(n.useRef)(null),q=Object(n.useRef)(null),V=Object(n.useRef)(null),A=Object(n.useRef)(null),M=Object(n.useRef)(null),P=Object(n.useRef)(null),T=Object(n.useRef)(null),B=Object(n.useRef)(null),H=Object(n.useRef)(null),{today_notifications:L,old_notifications:U}=Object(n.useMemo)((()=>k.reduce(((e,t)=>R()(t.created_at,s.H).isSame(re,"day")?{...e,today_notifications:[...e.today_notifications,t]}:{...e,old_notifications:[...e.old_notifications,t]}),{today_notifications:[],old_notifications:[]})),[k]),K=Object(n.useCallback)((async()=>{try{m(!0);const e=k.map((e=>e.id));await z({ids:e})}catch(e){console.log(e),v.a.captureException(e)}finally{m(!1)}}),[k,z]),W=Object(n.useCallback)((async e=>{var t,c,n,a,s,i,r;if(z({id:e.id}),o(!1),"clients_birthday"!==e.action)if(["external_appointment","waiting_schedule"].includes(e.action))null===(t=V.current)||void 0===t||t.open({schedule_group_id:e.schedule_group_id});else if("salon_review"!==e.action)if("response"!==e.action)if("client_return"!==e.action)if("cs_announce"!==e.action)if("online_payment"!==e.action)if("goals"!==e.action){var l,d,b,j,u;if("schedule_canceled"===e.action)return e.notifiable_is_deleted?void(null===(d=N.current)||void 0===d||d.open(e.schedule_group_id)):void(null===(l=V.current)||void 0===l||l.open({schedule_group_id:e.schedule_group_id}));if("completed_anamnesis"!==e.action)if("new_subscription_sale"!==e.action)if("trial"!==e.action);else null===(b=H.current)||void 0===b||b.open(e.title,e.message);else null===(j=B.current)||void 0===j||j.open(e.notifiable_id);else null===(u=T.current)||void 0===u||u.open(e.notifiable_id)}else w("/goals");else null===(c=E.current)||void 0===c||c.open(e.notifiable_id,e.message);else null===(n=M.current)||void 0===n||n.open(e.notifiable_id);else null===(a=q.current)||void 0===a||a.open(e.notifiable_id);else null===(s=A.current)||void 0===s||s.open(e.notifiable_id);else null===(i=P.current)||void 0===i||i.open(e.notifiable_id);else null===(r=F.current)||void 0===r||r.open()}),[w,z]),G=Object(n.useCallback)(((e,t)=>{(e||"menu"!==t.source)&&o(e)}),[]),Y=Object(n.useMemo)((()=>[{key:"menu",label:Object(S.jsx)(D,{today_notifications:L,old_notifications:U,onClickNotification:W,setVisible:o,show_clients_birthday:y.length>0,close:t,handleReadAll:K,read_all_loading:r})}]),[y.length,t,K,U,W,r,L]);return Object(S.jsxs)(ue,{$sidebar_retracted:g,children:[Object(S.jsx)(i.a,{trigger:["click"],open:c,forceRender:!0,onOpenChange:G,placement:O?"top":"bottomRight",menu:{items:Y},popupRender:e=>Object(S.jsx)(je,{children:e}),children:Object(S.jsx)(de,{count:I,size:"small",overflowCount:9,children:Object(S.jsx)(be,{})})}),Object(S.jsx)(j.a,{ref:V}),Object(S.jsx)(p.a,{ref:P}),Object(S.jsx)(u.a,{ref:A}),Object(S.jsx)(d.a,{ref:q}),Object(S.jsx)(l.a,{ref:N}),Object(S.jsx)(_.a,{ref:M}),Object(S.jsx)(b.a,{ref:E}),Object(S.jsx)(ae,{ref:F,clients:y}),Object(S.jsx)(se.a,{ref:T}),Object(S.jsx)(oe.a,{ref:B}),Object(S.jsx)(ie.a,{ref:H})]})};le.displayName="NotificationIcon";t.a=le;const de=Object(z.d)(r.a).withConfig({componentId:"wb__sc-uy04ln-0"})(["display:flex;cursor:pointer;.ant-badge-count{font-size:8rem;padding:0 2px;box-shadow:none;}"]),be=Object(z.d)(o.a).withConfig({componentId:"wb__sc-uy04ln-1"})(["color:",";padding-top:0 !important;font-size:20rem;cursor:pointer;.retracted &{font-size:22rem;}"],(e=>e.theme.color_text)),je=z.d.div.withConfig({componentId:"wb__sc-uy04ln-2"})(["border-radius:5px;overflow:hidden;box-shadow:0 3px 6px -4px rgba(0,0,0,0.12),0 6px 16px 0 rgba(0,0,0,0.08),0 9px 28px 8px rgba(0,0,0,0.05);& ul,li{cursor:default !important;padding:0 !important;}& > ul > li.ant-dropdown-menu-item.ant-dropdown-menu-item-active{background-color:#FFFFFF !important;}"]),ue=z.d.div.withConfig({componentId:"wb__sc-uy04ln-3"})(["",""],(e=>e.$sidebar_retracted&&"padding-top: 15px;"))},1211:function(e,t,c){"use strict";var n=c(0),a=c(250),s=c(1833),o=c(27),i=c(1227),r=c(1813),l=c(726),d=c(1083),b=c(645),j=c(1037),u=c(50),_=c(18),p=c(732),m=c(53),O=c.n(m),h=c(22);var x=e=>{var t;let{cash_accounting:c,movements:n,last_account_balance:s}=e;const i=Object(o.a)((e=>e.is_mobile)),r=Object(l.e)(n),d=n.filter(l.a),b=n.reduce(l.g,0),j=d.reduce(l.g,0);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(a.h,{$top:10,$bottom:10,$size:i?18:20,children:Object(u.b)("finance.cash_account.opened_at",{date:O()(null===c||void 0===c||null===(t=c.last_cash_accounting)||void 0===t?void 0:t.date_open,_.H).format("L, HH:mm[h]"),interpolation:{escapeValue:!1}})}),Object(h.jsx)(a.h,{$top:10,$bottom:10,$size:i?18:20,$bold:!0,children:Object(u.b)("words.movement",{count:2})}),0===r.length?Object(h.jsx)(p.a,{left:Object(u.b)("finance.cash_account.no_movements"),value:0,black:!0}):r.map((e=>Object(h.jsx)("div",{children:Object(h.jsx)(p.a,{left:e.name,value:e.total,black:!0})},e.key))),Object(h.jsx)(a.h,{$top:10,$bottom:10,$size:i?18:20,$bold:!0,children:Object(u.b)("words.total",{count:2})}),Object(h.jsx)(p.a,{left:Object(u.b)("finance.cash_account.initial_balance"),value:s,black:!0}),Object(h.jsx)(p.a,{left:Object(u.b)("words.cash_account"),value:j,black:!0}),Object(h.jsx)(p.a,{left:Object(u.b)("finance.cash_account.other_accounts"),value:b-j,black:!0})]})},f=c(339),g=c(581),v=c(20);const w=(e,t)=>{const c=Object(o.a)((e=>e.is_mobile)),[s,i]=Object(n.useState)(!1),[_,p]=Object(n.useState)(),[m,O]=Object(n.useState)([]),[w,y]=Object(n.useState)([]),[k,C]=Object(n.useState)(0),[$,I]=Object(n.useState)(!0),z=Object(n.useRef)(null),F=Object(n.useRef)(null),R=Object(v.o)(),S=Object(n.useCallback)((e=>{const t=null===e||void 0===e?void 0:e.close_cash_accounting,{last_account_balance:c,is_cash_accounting_closed:n,accounted_movements:a,movements:s}=Object(l.f)(t);p(t),O(s),y(a),C(c),I(n)}),[]),[N,{loading:E,refetch:q}]=Object(j.a)(S),V=Object(n.useCallback)((()=>{i(!0),N()}),[N]),A=Object(n.useCallback)((()=>{i(!1)}),[]);Object(n.useImperativeHandle)(t,(()=>({open:V,close:A})));const M=Object(n.useCallback)((()=>{var e;null===(e=F.current)||void 0===e||e.open()}),[]),P=Object(n.useCallback)((()=>{var e;null===(e=z.current)||void 0===e||e.open()}),[]),T=Object(n.useCallback)((()=>{R($?"/finance/cash-accounting/closed":"/finance/cash-accounting/opened"),A()}),[A,$,R]);return Object(h.jsxs)(a.a,{open:s,title:Object(h.jsx)(a.h,{$semibold:!0,$size:24,$color:$?"red":"green_1",children:$?Object(u.b)("finance.cash_account.closed"):Object(u.b)("finance.cash_account.open")}),placement:c?"bottom":"right",height:"100%",onClose:A,width:680,closable:!0,destroyOnClose:!0,footer:Object(h.jsx)(g.a,{loading:E,submit:$?M:P,save_text:$?Object(u.b)("phrases.open_cash_account"):Object(u.b)("phrases.close_cash_account"),cancel_text:Object(u.b)("phrases.see_more"),close:T}),push:!1,children:[Object(h.jsx)(f.a,{loading:E}),$?Object(h.jsx)(r.a,{description:Object(u.b)("finance.cash_account.closed"),image:r.a.PRESENTED_IMAGE_SIMPLE}):Object(h.jsx)(x,{last_account_balance:k,cash_accounting:_,movements:m}),Object(h.jsx)(d.a,{ref:z,afterSave:q,cash_accounting:_,movements:m,accounted_movements:w}),Object(h.jsx)(b.a,{ref:F,afterSave:q})]})};w.displayName="CashAccountingSummaryDrawer";var y=Object(n.forwardRef)(w),k=c(116);t.a=()=>{const e=Object(n.useRef)(null),t=Object(o.a)((e=>e.theme)),c=Object(o.a)((e=>e.current_user.permissions)),r=Object(o.a)((e=>e.main_sidebar_retracted)),l=Object(n.useCallback)((()=>{var t;c.can_access_cash_accounting?null===(t=e.current)||void 0===t||t.open():k.b.warning(Object(u.b)("phrases.no_permission_to_do_this"))}),[c.can_access_cash_accounting]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(i.a,{placement:r?"right":"topLeft",content:Object(u.b)("finance.cash_account.check"),children:Object(h.jsx)(a.d,{as:s.a,onClick:l,$hex:t.color_text,$paddings:{left:r?0:10},$size:r?24:20})}),Object(h.jsx)(y,{ref:e})]})}},1294:function(e,t,c){"use strict";var n=c(116),a=c(37),s=c(1850),o=c(76),i=c(50);const r=a.e`
  mutation UpdateUserSalon($data: UpdateUserSalonInput!) {
    updateUserSalon(input: $data) {
      success
      errors
    }
  }
`;t.a=()=>{const[e,{loading:t}]=Object(s.a)(r);return[async(t,c)=>{const a=n.b.loading(`${Object(i.b)("verbs.wait")}...`,0);try{const{data:s}=await e({variables:{data:{id:t,salon_id:c}}}),{success:o=!1,errors:i}=(null===s||void 0===s?void 0:s.updateUserSalon)||{};return o||(n.b.destroy(),null===i||void 0===i||i.map((e=>n.b.error(e)))),{success:o}}catch(s){return o.a.captureException(s),console.error(s),n.b.error(Object(i.b)("phrases.generic_save_error_message")),{success:!1}}finally{a(),setTimeout((()=>{window.location.reload()}),1e3)}},t]}},1295:function(e,t,c){"use strict";var n=c(37),a=c(405),s=c(50),o=c(116),i=c(76);const r=n.e`
  query findMultiSalons {
    current_salon {
      id name
    }
    salons(accessible_by_current_user: true) {
      id name
    }
  }
`;t.a=()=>Object(a.f)(r,{fetchPolicy:"network-only",onError:e=>{i.a.captureException(e),console.error(e),o.b.error(Object(s.b)("phrases.unable_to_fetch_data"))}})},1296:function(e,t,c){"use strict";var n=c(0),a=c(1809),s=c(250),o=c(20),i=c(340),r=c(3053),l=c(3041),d=c(1098),b=c(1441),j=c(785),u=c(27),_=c(599),p=c(19),m=c(116),O=c(22);const h=e=>{let{setMenuVisible:t,retracted:c}=e;const p=Object(n.useRef)(null),{t:h}=Object(i.c)(),f=Object(u.a)((e=>e.current_user.permissions)),g=Object(u.a)((e=>e.current_user)),v=Object(u.a)((e=>e.employees.find((t=>t.id===String(e.current_user.employee_id))))),w=Object(o.o)(),y=Object(n.useMemo)((()=>[{key:"account",icon:Object(O.jsx)(s.d,{as:r.a,$mBottom:5,$size:14}),onClick:()=>{var e;null===t||void 0===t||t(!1),null===(e=p.current)||void 0===e||e.open()},label:h("phrases.my_account")},{key:"subscription",icon:Object(O.jsx)(s.d,{as:l.a,$mBottom:5,$size:14}),onClick:()=>{f.is_admin?(null===t||void 0===t||t(!1),w("/subscription")):m.b.warning(h("phrases.no_permission_to_do_this"))},label:h("words.subscription")},{key:"logout",icon:Object(O.jsx)(s.d,{as:d.a,$mBottom:5,$size:14}),onClick:()=>w("/logout"),label:h("verbs.logout")}]),[w,f.is_admin,t,h]);return Object(O.jsxs)(x,{children:[Object(O.jsx)(a.a,{trigger:["click"],forceRender:!0,menu:{items:y},placement:"bottomRight",children:Object(O.jsxs)(s.g,{children:[Object(O.jsx)(_.a,{alt:"user-avatar",src:null===v||void 0===v?void 0:v.avatar_url,blurhash:null===v||void 0===v?void 0:v.avatar_blurhash,size:40},null===v||void 0===v?void 0:v.avatar_url),Object(O.jsxs)(s.g,{$column:!0,style:{marginLeft:6,display:c?"none":"flex"},children:[Object(O.jsx)(s.h,{$bold:!0,$textEllipsis:!0,children:h("greetings.hey",{name:(null===v||void 0===v?void 0:v.first_name)||g.name||h("words.user")})}),Object(O.jsxs)(s.h,{$size:12,children:[h("phrases.my_profile"),"\xa0",Object(O.jsx)(b.a,{style:{fontSize:"10rem"}})]})]})]})}),Object(O.jsx)(j.a,{ref:p})]})};h.displayName="UserInfo",t.a=Object(n.memo)(h);const x=p.d.div.withConfig({componentId:"wb__sc-1vjn8jg-0"})(["display:flex;flex-direction:column;margin-left:10px;margin-bottom:10px;cursor:pointer;.retracted &{margin-left:12px;}"])},1431:function(e,t,c){"use strict";var n=c(0),a=c(3041),s=c(1834),o=c(2852),i=c(1220),r=c(1829),l=c(3037),d=c(3044),b=c(2869),j=c(3078),u=c(1099),_=c(2850),p=c(3045),m=c(1833),O=c(2870),h=c(1216),x=c(1835),f=c(3079),g=c(1836),v=c(3060),w=c(1837),y=c(3055),k=c(3056),C=c(3061),$=c(1825),I=c(3064),z=c(3042),F=c(3054),R=c(854),S=c(3071),N=c(3080),E=c(3052),q=c(2853),V=c(3075),A=c(1221),M=c(18),P=c(756),T=c(20),B=c(116),D=c(50),H=c(686),L=c(743),U=c(742),K=c(785),W=c(771),G=c(722),Y=c(27),J=c(600),Q=c(1033),X=c(19),Z=c(22);const ee=e=>{let{children:t,title:c}=e;return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(ce,{children:c}),Object(Z.jsx)(ne,{children:t})]})};var te=Object(n.memo)(ee);const ce=X.d.p.withConfig({componentId:"wb__sc-113qt9t-0"})(["margin-bottom:4px;text-transform:uppercase;font-weight:bold;letter-spacing:1px;font-size:10rem;opacity:.8;padding-left:10px;.retracted &{padding:0;opacity:1;font-size:8rem;letter-spacing:0;text-align:center;background:rgba(0,0,0,.1);}"]),ne=X.d.ul.withConfig({componentId:"wb__sc-113qt9t-1"})(["margin:0;padding:0;list-style:none;"]);var ae=c(82),se=c(579),oe=c(1528),ie=c.n(oe);ie.a.init(M.y);const re=e=>{ie.a.identify(e)},le=(e,t)=>{ie.a.track(e,t)},de={set:e=>{ie.a.people.set(e)}};var be=c(251);const je=e=>{const{icon:t,name:c,to:a="",disabled:s=!1,onClick:o,tag:i,$component_key:r,...l}=e,{pathname:d}=Object(T.m)(),b=Object(n.useRef)(null),j=!!r&&d.startsWith(r);Object(n.useEffect)((()=>{var e;j&&b.current&&(null===(e=b.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"}))}),[j]);const u=Object(Y.a)((e=>e.current_user)),_=Object(Y.a)((e=>e.application_id)),p=Object(n.useCallback)((()=>{const e=Object(se.i)(_).origin;re(u.id),le(`[${e}] ${c}`,{origin:e}),de.set({$first_name:u.name,$email:u.email})}),[_,u.email,u.id,u.name,c]);return Object(Z.jsx)(_e,{...l,ref:b,children:Object(Z.jsxs)(me,{onClick:e=>{p(),o&&(e.preventDefault(),o())},to:a,selected:j,disabled:s,children:[Object(Z.jsxs)("div",{className:"item-container",children:[t,c]}),i]})})};je.displayName="MenuItem";var ue=Object(n.memo)(je);const _e=X.d.li.withConfig({componentId:"wb__sc-1hqrt2n-0"})(["list-style-type:none;width:100%;cursor:pointer;"]),pe=Object(X.c)(["text-decoration:none;display:flex;align-items:center;justify-content:space-between;padding:8px 16px;margin:0;font-size:13rem;font-weight:300;color:",";border-radius:12px;.item-container{display:flex;align-items:center;}.retracted &{.item-container{flex-direction:column;justify-content:center;}display:flex;flex-direction:column;align-items:center;text-align:center;justify-content:unset;font-size:9rem;border-radius:0;}.anticon{font-size:18rem;padding-right:10px;.retracted &{font-size:16rem;padding-right:0;}}.anticon-crown{font-size:16rem;padding-right:0;.retracted &{font-size:12rem;}}"],(e=>e.theme.color_text)),me=Object(X.d)(be.b).withConfig({componentId:"wb__sc-1hqrt2n-1"})(["",";color:",";background:",";&:hover,&.selected{background:",";}&:hover,&.disabled{color:gray;}&:hover,&:focus{text-decoration:none;color:",";}"],pe,(e=>e.theme.color_text),(e=>e.selected?e.theme.color_hover_background:"none"),(e=>e.theme.color_hover_background),(e=>e.theme.color_text));var Oe=c(1430),he=c(250),xe=c(342);const fe=()=>{var e,t;const c=Object(Y.a)((e=>e.current_user.permissions)),X=Object(Y.a)((e=>e.current_user.salon)),ee=Object(Y.a)((e=>e.is_agendapro)),ce=Object(Y.a)((e=>e.current_user.salon.whitelabel)),ne=Object(Y.a)((e=>e.is_webook))||"usewebook.com"===ce.domain,se=Object(Y.a)((e=>e.is_mobile)),oe=c.can_access_bill_pay||c.can_access_bill_rec||c.can_access_transfer||c.can_access_advance||c.can_create_bill_pay||c.can_create_bill_rec||c.can_create_transfer||c.can_create_advance,ie=Object(Y.a)((e=>e.current_user.show_work_with_us))&&!ne||M.v,re=!(null===(e=X.subscription)||void 0===e||!e.is_trial),le=!(null===(t=X.subscription)||void 0===t||!t.is_blocked),de=/chrom(e|ium)/.test(navigator.userAgent.toLowerCase())&&!se&&!ne||M.v,be=Object(T.o)(),je=Object(Q.a)(),_e=Object(G.a)(),pe=Object(n.useRef)(null),me=Object(n.useRef)(null),fe=Object(n.useRef)(null),ge=Object(n.useRef)(null),ve=Object(n.useRef)(null),we=Object(n.useRef)(null),ye=(e,t)=>{e?be(t):B.b.warning(Object(D.b)("phrases.no_permission_to_do_this"))};return Object(Z.jsxs)(Z.Fragment,{children:[re&&Object(Z.jsx)(ue,{name:Object(D.b)("phrases.hire_now"),icon:Object(Z.jsx)(a.a,{}),onClick:()=>be("/subscription")}),!re&&c.is_admin&&Object(Z.jsx)(ue,{name:"Retrospectiva 2025",$component_key:"/retrospectiva",icon:Object(Z.jsx)(s.a,{}),to:"/retrospectiva",tag:Object(Z.jsx)(he.e,{children:Object(D.b)("words.new")})}),c.is_admin&&Object(Z.jsx)(ue,{name:Object(D.b)("phrases.invite_employees"),icon:Object(Z.jsx)(o.a,{}),onClick:()=>{var e;return null===(e=pe.current)||void 0===e?void 0:e.open()}}),Object(Z.jsxs)(te,{title:Object(D.b)("words.main"),children:[Object(Z.jsx)(ue,{name:Object(D.b)("words.panel"),icon:Object(Z.jsx)(i.a,{}),$component_key:"/wow",onClick:()=>{ye(!0,"/wow")}}),Object(Z.jsx)(ue,{name:Object(D.b)("words.schedule"),$component_key:"/calendar",onClick:()=>{ye(c.can_access_calendar,"/calendar")},icon:Object(Z.jsx)(r.a,{})}),Object(Z.jsx)(ue,{onClick:()=>{ye(c.can_access_sale,"/sales")},$component_key:"/sales",name:Object(D.b)("words.sale_other"),icon:Object(Z.jsx)(l.a,{})}),Object(Z.jsx)(ue,{onClick:()=>{ye(c.can_access_package,"/packages")},$component_key:"/packages",name:Object(D.b)("words.package_other"),icon:Object(Z.jsx)(d.a,{})}),Object(Z.jsx)(ue,{onClick:()=>{ye(c.can_access_package,"/package-templates")},$component_key:"/package-templates",name:Object(D.b)("words.package_template_other"),icon:Object(Z.jsx)(d.a,{}),tag:ee||re?Object(Z.jsx)(b.a,{}):void 0})]}),Object(Z.jsxs)(te,{title:Object(D.b)("words.financial"),children:[Object(Z.jsx)(ue,{onClick:()=>{ye(c.can_access_finance,"/finance/dashboard")},$component_key:"/finance/dashboard",name:Object(D.b)("words.panel"),icon:Object(Z.jsx)(j.a,{}),tag:ee?Object(Z.jsx)(b.a,{}):void 0}),Object(Z.jsx)(ue,{onClick:()=>{ye(oe,"/finance/transactions")},$component_key:"/finance/transactions",name:Object(D.b)("words.transaction_other"),icon:Object(Z.jsx)(u.a,{}),tag:ee?Object(Z.jsx)(b.a,{}):void 0}),Object(Z.jsx)(ue,{onClick:()=>{ye(c.is_admin,"/finance/accounts")},$component_key:"/finance/accounts",name:Object(D.b)("words.record_other"),icon:Object(Z.jsx)(_.a,{}),tag:ee?Object(Z.jsx)(b.a,{}):Object(Z.jsx)(xe.c,{date:"2025/09/15",children:Object(Z.jsx)(he.e,{children:Object(D.b)("words.new")})})}),Object(Z.jsx)(ue,{onClick:()=>{ye(c.can_access_commission,se?"/finance/commissions/summary":"/finance/commissions")},$component_key:"/finance/commissions",name:Object(D.b)("words.commission_other"),icon:Object(Z.jsx)(p.a,{}),tag:ee?Object(Z.jsx)(b.a,{}):void 0}),Object(Z.jsx)(ue,{onClick:()=>{ye(c.can_access_cash_accounting,"/finance/cash-accounting")},$component_key:"/finance/cash-accounting",name:Object(D.b)("words.cash_account"),icon:Object(Z.jsx)(m.a,{}),tag:ee?Object(Z.jsx)(b.a,{}):void 0}),Object(Z.jsx)(ue,{name:ae.a.IS_WEBOOK?Object(D.b)("menu.webook_pay"):Object(D.b)("menu.belasis_pay"),icon:Object(Z.jsx)(O.a,{}),onClick:()=>{var e,t,n,a;if(re||le)return void B.b.warning(Object(D.b)("phrases.belasis_pay_warning"));if(!c.is_admin)return void B.b.warning(Object(D.b)("phrases.no_permission_to_do_this"));if(ee)return void(null===(a=me.current)||void 0===a||a.open());const s=!(null===(e=X.customer_success_salon_configuration)||void 0===e||!e.zoop_seller_id),o=!(null===(t=X.customer_success_salon_configuration)||void 0===t||!t.stripe_account_id),i=!(null===(n=X.asaas_account)||void 0===n||!n.account_id);if(ae.a.IS_WEBOOK){var r;if(o)return void Object(J.a)(M.K);null===(r=we.current)||void 0===r||r.open()}else{var l;if(i)return void be("/belasis-pay/panel");if(s)return void Object(J.a)(M.c);null===(l=ve.current)||void 0===l||l.open()}}}),!ne&&Object(Z.jsx)(ue,{onClick:()=>{ye(c.can_access_invoice,"/invoices")},$component_key:"/invoices",name:Object(D.b)("words.invoice_other"),icon:Object(Z.jsx)(h.a,{}),tag:ee||re?Object(Z.jsx)(b.a,{}):Object(Z.jsx)(xe.c,{date:"2025/12/10",children:Object(Z.jsx)(he.e,{children:Object(D.b)("words.new")})})})]}),Object(Z.jsxs)(te,{title:Object(D.b)("menu.control"),children:[Object(Z.jsx)(ue,{onClick:()=>{ye(c.can_access_goal,"/goals")},name:Object(D.b)("words.goal_other"),$component_key:"/goals",icon:Object(Z.jsx)(x.a,{}),tag:ee||re?Object(Z.jsx)(b.a,{}):void 0}),Object(Z.jsx)(ue,{onClick:()=>{ye(!0,"/reports/favorites")},$component_key:"/reports",name:Object(D.b)("words.report_other"),icon:Object(Z.jsx)(f.a,{})}),Object(Z.jsx)(ue,{onClick:()=>{ye(c.can_access_anamnesis,"/anamnesis")},$component_key:"/anamnesis",name:Object(D.b)("words.anamnesi_other"),icon:Object(Z.jsx)(g.a,{}),tag:ee||re?Object(Z.jsx)(b.a,{}):Object(Z.jsx)(xe.c,{date:"2025/07/05",children:Object(Z.jsx)(he.e,{children:Object(D.b)("words.new")})})}),Object(Z.jsx)(ue,{onClick:()=>{ye(c.can_access_purchase,"/purchases")},$component_key:"/purchases",name:Object(D.b)("words.purchase_other"),icon:Object(Z.jsx)(v.a,{}),tag:ee?Object(Z.jsx)(b.a,{}):void 0}),Object(Z.jsx)(ue,{onClick:()=>{ye(c.is_admin,"/cashback")},$component_key:"/cashback",name:Object(D.b)("menu.cashback"),icon:Object(Z.jsx)(P.a,{}),tag:ee||re?Object(Z.jsx)(b.a,{}):void 0})]}),Object(Z.jsxs)(te,{title:Object(D.b)("words.record_other"),children:[Object(Z.jsx)(ue,{onClick:()=>{ye(c.can_access_client,"/clients")},$component_key:"/clients",name:Object(D.b)("words.client_other"),icon:Object(Z.jsx)(w.a,{}),tag:Object(Z.jsx)(xe.c,{date:"2025/07/05",children:Object(Z.jsx)(he.e,{children:Object(D.b)("words.new")})})}),Object(Z.jsx)(ue,{onClick:()=>{ye(c.can_access_product,"/services")},$component_key:"/services",name:Object(D.b)("words.service_other"),icon:Object(Z.jsx)(y.a,{}),tag:Object(Z.jsx)(xe.c,{date:"2025/07/10",children:Object(Z.jsx)(he.e,{children:Object(D.b)("words.new")})})}),Object(Z.jsx)(ue,{name:Object(D.b)("words.product_other"),icon:Object(Z.jsx)(k.a,{}),$component_key:"/products",onClick:()=>{ye(c.can_access_product,"/products")}}),Object(Z.jsx)(ue,{onClick:()=>{ye(c.can_access_employee,"/employees")},$component_key:"/employees",name:Object(D.b)("words.employee_other"),icon:Object(Z.jsx)(w.a,{}),tag:re?void 0:Object(Z.jsx)(xe.c,{date:"2025/07/10",children:Object(Z.jsx)(he.e,{children:Object(D.b)("words.new")})})}),Object(Z.jsx)(ue,{onClick:()=>{ye(c.can_access_vendor,"/vendors")},$component_key:"/vendors",name:Object(D.b)("words.vendor_other"),icon:Object(Z.jsx)(w.a,{})}),Object(Z.jsx)(ue,{onClick:()=>{ye(c.can_access_product,"/groups")},$component_key:"/groups",name:Object(D.b)("words.category_other"),icon:Object(Z.jsx)(C.a,{})}),Object(Z.jsx)(ue,{onClick:()=>{ye(c.can_access_product,"/brands")},$component_key:"/brands",name:Object(D.b)("words.brand_other"),icon:Object(Z.jsx)(C.a,{})}),Object(Z.jsx)(ue,{onClick:()=>ye(c.is_admin,"/document-templates"),$component_key:"/document-templates",name:Object(D.b)("words.document_template"),icon:Object(Z.jsx)($.a,{}),tag:ee||re?Object(Z.jsx)(b.a,{}):void 0})]}),Object(Z.jsxs)(te,{title:Object(D.b)("menu.marketing"),children:[Object(Z.jsx)(ue,{name:Object(D.b)("menu.online_booking_link"),icon:Object(Z.jsx)(I.a,{}),onClick:()=>je(_e,X.name)}),Object(Z.jsx)(ue,{onClick:()=>{ye(c.is_admin,"/online-booking")},$component_key:"/online-booking",name:Object(D.b)("words.online_booking"),icon:Object(Z.jsx)(r.a,{}),tag:re?void 0:Object(Z.jsx)(xe.c,{date:"2024/10/01",children:Object(Z.jsx)(he.e,{children:Object(D.b)("words.new")})})}),Object(Z.jsx)(ue,{onClick:()=>{ye(c.can_access_whatsapp_marketing,"/whatsapp_marketing")},$component_key:"/whatsapp_marketing",name:Object(D.b)("words.whatsapp_marketing"),icon:Object(Z.jsx)(z.a,{}),tag:ee||re?Object(Z.jsx)(b.a,{}):Object(Z.jsx)(xe.c,{date:"2025/09/10",children:Object(Z.jsx)(he.e,{children:Object(D.b)("words.new")})})}),Object(Z.jsx)(ue,{onClick:()=>{ye(c.can_access_promotion,"/promotions")},$component_key:"/promotions",name:Object(D.b)("words.promotion_other"),icon:Object(Z.jsx)(F.a,{}),tag:ee||re?Object(Z.jsx)(b.a,{}):void 0}),Object(Z.jsx)(ue,{onClick:()=>{ye(c.can_access_subscription_template,"/customer/subscriptions")},$component_key:"/customer",name:Object(D.b)("phrases.subscription_sale_other"),icon:Object(Z.jsx)(R.a,{}),tag:ee||re?Object(Z.jsx)(b.a,{}):void 0}),Object(Z.jsx)(ue,{onClick:()=>{ye(c.can_access_reviews,"/reviews")},$component_key:"/reviews",name:Object(D.b)("words.review_other"),icon:Object(Z.jsx)(S.a,{}),tag:ee||re?Object(Z.jsx)(b.a,{}):void 0}),de&&Object(Z.jsx)(ue,{name:Object(D.b)("menu.belasis_booster"),icon:Object(Z.jsx)(N.a,{}),onClick:()=>Object(J.a)(M.e)})]}),Object(Z.jsx)(te,{title:Object(D.b)("words.account"),children:Object(Z.jsx)(ue,{name:Object(D.b)("words.setting_other"),$component_key:"/settings",onClick:()=>{ye(!0,"/settings")},icon:Object(Z.jsx)(E.a,{})})}),Object(Z.jsxs)(te,{title:Object(D.b)("words.extra"),children:[Object(Z.jsx)(ue,{name:Object(D.b)("words.help"),onClick:()=>{var e;return null===(e=fe.current)||void 0===e?void 0:e.open()},icon:Object(Z.jsx)(q.a,{})}),Object(Z.jsx)(ue,{name:Object(D.b)("modals.news.check_news"),icon:Object(Z.jsx)(V.a,{}),onClick:()=>Object(J.a)(M.A)}),ie&&Object(Z.jsx)(ue,{name:Object(D.b)("phrases.we_are_hiring"),icon:Object(Z.jsx)(A.a,{}),onClick:()=>Object(J.a)(M.P)})]}),Object(Z.jsx)(W.a,{ref:fe}),Object(Z.jsx)(K.a,{ref:ge}),Object(Z.jsx)(H.a,{ref:me}),Object(Z.jsx)(U.a,{ref:ve}),Object(Z.jsx)(L.a,{ref:we}),Object(Z.jsx)(Oe.a,{ref:pe})]})};t.a=Object(n.memo)(fe)},1447:function(e,t,c){"use strict";c.d(t,"a",(function(){return g}));var n=c(0),a=c(20),s=c(1203),o=c(27),i=c(1129),r=c(19),l=c(82),d=c(1211),b=c(3076),j=c(3077),u=c(250),_=c(62),p=c(50),m=c(22);const O=()=>{const e=Object(o.a)((e=>e.is_medium)),t=Object(o.a)((e=>e.main_sidebar_retracted)),c=Object(o.a)((e=>e.theme)),a=Object(_.a)();Object(n.useEffect)((()=>{e&&a({type:"set_main_sidebar_retracted",payload:e})}),[e,a]);return e?null:Object(m.jsx)(u.d,{className:"retract-icon",title:`${t?Object(p.b)("verbs.expand"):Object(p.b)("verbs.retract")} ${Object(p.b)("words.menu").toLocaleLowerCase()}`,as:t?b.a:j.a,onClick:()=>{a({type:"set_main_sidebar_retracted",payload:!t})},$hex:c.color_text,$paddings:{left:t?0:10},$size:t?24:20})};O.displayName="CollapseIcon";var h=O;const x=()=>{const e=Object(o.a)((e=>e.theme)),t=Object(a.o)();return Object(m.jsxs)(g,{children:[Object(m.jsx)(f,{onClick:()=>{t("/calendar")},src:e.is_text_inverted?l.a.BLACK_LOGO:l.a.WHITE_LOGO}),Object(m.jsxs)(v,{children:[Object(m.jsx)(s.a,{}),Object(m.jsx)(i.a,{}),Object(m.jsx)(d.a,{}),Object(m.jsx)(h,{})]})]})};x.displayName="SidebarHeaderDesktop";t.b=Object(n.memo)(x);const f=r.d.img.attrs({loading:"lazy"}).withConfig({componentId:"wb__sc-1r2nd2q-0"})(["width:90px;height:25px;background-repeat:no-repeat;background-size:contain;cursor:pointer;opacity:1;transition:opacity .2s;.retracted &{opacity:0;}"]),g=r.d.div.withConfig({componentId:"wb__sc-1r2nd2q-1"})(["min-height:40px;display:flex;align-items:center;justify-content:space-between;margin-top:0;margin-bottom:10px;padding-right:","px;padding-left:10px;border-bottom:1px solid ",";position:relative;transition:transform .2s linear 0s;.retracted &{transform:translateX(-80px);border-bottom:none;.anticon{padding-top:10px;font-size:20rem !important;}}"],(e=>e.theme.is_mobile?15:10),(e=>e.theme.is_text_inverted?"rgba(0, 0, 0, .1)":"rgba(255, 255, 255, .2)")),v=r.d.div.withConfig({componentId:"wb__sc-1r2nd2q-2"})(["display:flex;align-items:center;.retracted &{justify-content:center;flex-direction:column;padding-left:6px;}"])},1448:function(e,t,c){"use strict";var n=c(0),a=c(2843),s=c(340),o=c(1809),i=c(159),r=c(157),l=c(19),d=c(27),b=c(1829),j=c(3037),u=c(3044),_=c(3053),p=c(3034),m=c(3056),O=c(2871),h=c(3060),x=c(1100),f=c(1825),g=c(897),v=c(593),w=c(116),y=c(890),k=c(679),C=c(690),$=c(784),I=c(1086),z=c(647),F=c(713),R=c(770),S=c(596),N=c(1204),E=c(1205),q=c(613),V=c(701),A=c(896),M=c(895),P=c(892),T=c(18),B=c(50),D=c(22);const H=e=>{let{setVisible:t}=e;const c=Object(d.a)((e=>e.current_user.permissions)),s=Object(d.a)((e=>e.current_user.features)),o=Object(d.a)((e=>e.current_user.addons)),i=Object(v.b)(),r=Object(n.useRef)(null),l=Object(n.useRef)(null),H=Object(n.useRef)(null),L=Object(n.useRef)(null),G=Object(n.useRef)(null),Y=Object(n.useRef)(null),J=Object(n.useRef)(null),Q=Object(n.useRef)(null),X=Object(n.useRef)(null),Z=Object(n.useRef)(null),ee=Object(n.useRef)(null),te=Object(n.useRef)(null),ce=Object(n.useRef)(null),ne=Object(n.useRef)(null),ae=Object(n.useRef)(null),se=Object(n.useRef)(null),oe=()=>{w.b.warning(Object(B.b)("phrases.no_permission_to_do_this"))},ie=()=>{null===t||void 0===t||t(!1),i()};return Object(D.jsxs)(U,{children:[Object(D.jsx)("h3",{children:Object(B.b)("words.main")}),Object(D.jsxs)(K,{children:[Object(D.jsxs)(W,{onClick:()=>{var e;c.can_create_calendar?(null===(e=l.current)||void 0===e||e.open(),null===t||void 0===t||t(!1)):oe()},children:[Object(D.jsx)(b.a,{}),Object(D.jsx)("span",{children:Object(B.b)("words.scheduling")})]}),Object(D.jsxs)(W,{onClick:()=>{var e;c.can_create_sale?(null===(e=se.current)||void 0===e||e.open(),null===t||void 0===t||t(!1)):oe()},children:[Object(D.jsx)(j.a,{}),Object(D.jsx)("span",{children:Object(B.b)("words.sale")})]}),Object(D.jsxs)(W,{onClick:()=>{var e;c.can_create_package?s.has_packages?(null===(e=X.current)||void 0===e||e.open(),null===t||void 0===t||t(!1)):ie():oe()},children:[Object(D.jsx)(u.a,{}),Object(D.jsx)("span",{children:Object(B.b)("words.package")})]}),Object(D.jsxs)(W,{onClick:()=>{var e;if(c.can_create_package){if(!s.has_packages_template&&!o.has_packages_template)return n=T.a.ID_PACKAGE_TEMPLATE,null===t||void 0===t||t(!1),void i({is_addon:!0,search:n});var n;null===(e=r.current)||void 0===e||e.open(),null===t||void 0===t||t(!1)}else oe()},children:[Object(D.jsx)(u.a,{}),Object(D.jsx)("span",{children:Object(B.b)("words.package_template")})]})]}),Object(D.jsx)("h3",{children:Object(B.b)("words.record",{count:2})}),Object(D.jsxs)(K,{children:[Object(D.jsxs)(W,{onClick:()=>{var e;c.can_create_client?(null===(e=ce.current)||void 0===e||e.open(),null===t||void 0===t||t(!1)):oe()},children:[Object(D.jsx)(_.a,{}),Object(D.jsx)("span",{children:Object(B.b)("words.client")})]}),Object(D.jsxs)(W,{onClick:()=>{var e;c.can_create_product?(null===(e=Z.current)||void 0===e||e.open(),null===t||void 0===t||t(!1)):oe()},children:[Object(D.jsx)(p.a,{}),Object(D.jsx)("span",{children:Object(B.b)("words.service")})]}),Object(D.jsxs)(W,{onClick:()=>{var e;c.can_create_product?(null===(e=ee.current)||void 0===e||e.open(),null===t||void 0===t||t(!1)):oe()},children:[Object(D.jsx)(m.a,{}),Object(D.jsx)("span",{children:Object(B.b)("words.product")})]}),Object(D.jsxs)(W,{onClick:()=>{var e;c.can_create_product?(null===(e=ne.current)||void 0===e||e.open(),null===t||void 0===t||t(!1)):oe()},children:[Object(D.jsx)(O.a,{}),Object(D.jsx)("span",{children:Object(B.b)("words.category")})]})]}),Object(D.jsxs)(K,{children:[Object(D.jsxs)(W,{onClick:()=>{var e;c.can_create_employee?(null===(e=G.current)||void 0===e||e.open(),null===t||void 0===t||t(!1)):oe()},children:[Object(D.jsx)(_.a,{}),Object(D.jsx)("span",{children:Object(B.b)("words.employee")})]}),Object(D.jsxs)(W,{onClick:()=>{var e;c.can_create_vendor?(null===(e=te.current)||void 0===e||e.open(),null===t||void 0===t||t(!1)):oe()},children:[Object(D.jsx)(_.a,{}),Object(D.jsx)("span",{children:Object(B.b)("words.vendor")})]}),Object(D.jsxs)(W,{onClick:()=>{var e;s.has_purchases?c.can_create_purchase?(null===t||void 0===t||t(!1),null===(e=L.current)||void 0===e||e.open()):oe():ie()},children:[Object(D.jsx)(h.a,{}),Object(D.jsx)("span",{children:Object(B.b)("words.purchase")})]}),Object(D.jsxs)(W,{onClick:()=>{var e;c.can_create_product?(null===t||void 0===t||t(!1),null===(e=ae.current)||void 0===e||e.open()):oe()},children:[Object(D.jsx)(O.a,{}),Object(D.jsx)("span",{children:Object(B.b)("words.brand")})]})]}),Object(D.jsx)("h3",{children:Object(B.b)("words.financial")}),Object(D.jsxs)(K,{children:[Object(D.jsxs)(W,{onClick:()=>{var e;s.has_finance_transactions?c.can_create_bill_rec?(null===(e=Y.current)||void 0===e||e.open(),null===t||void 0===t||t(!1)):oe():ie()},children:[Object(D.jsx)(a.a,{}),Object(D.jsx)("span",{children:Object(B.b)("words.receipt")})]}),Object(D.jsxs)(W,{onClick:()=>{var e;s.has_finance_transactions?c.can_create_bill_pay?(null===(e=J.current)||void 0===e||e.open(),null===t||void 0===t||t(!1)):oe():ie()},children:[Object(D.jsx)(x.a,{}),Object(D.jsx)("span",{children:Object(B.b)("words.expense")})]}),Object(D.jsxs)(W,{onClick:()=>{var e;s.has_finance_transactions?c.can_create_advance?(null===(e=Q.current)||void 0===e||e.open(),null===t||void 0===t||t(!1)):oe():ie()},children:[Object(D.jsx)(f.a,{}),Object(D.jsx)("span",{children:Object(B.b)("words.advance")})]}),Object(D.jsxs)(W,{onClick:()=>{var e;s.has_finance_transactions?c.can_create_transfer?(null===(e=H.current)||void 0===e||e.open(),null===t||void 0===t||t(!1)):oe():ie()},children:[Object(D.jsx)(g.a,{}),Object(D.jsx)("span",{children:Object(B.b)("words.transfer")})]})]}),Object(D.jsx)(y.a,{ref:r}),Object(D.jsx)(k.a,{ref:l}),Object(D.jsx)(q.a,{ref:se}),Object(D.jsx)(C.a,{ref:G}),Object(D.jsx)(I.a,{ref:H}),Object(D.jsx)($.a,{ref:L}),Object(D.jsx)(z.a,{ref:X}),Object(D.jsx)(F.a,{ref:Z}),Object(D.jsx)(R.a,{ref:ee}),Object(D.jsx)(N.a,{ref:Y}),Object(D.jsx)(E.a,{ref:J}),Object(D.jsx)(P.a,{ref:Q}),Object(D.jsx)(S.a,{ref:ce}),Object(D.jsx)(V.a,{ref:te}),Object(D.jsx)(A.a,{ref:ne}),Object(D.jsx)(M.a,{ref:ae})]})};H.displayName="ActionMenu";var L=Object(n.memo)(H);const U=l.d.div.withConfig({componentId:"wb__sc-13e7xhx-0"})(["background:rgba(255,255,255,.8);backdrop-filter:blur(10px);max-width:100vw;width:550px;box-shadow:0 0 13px 0 rgba(56,56,56,0.2);border-radius:5px;padding:10px;display:flex;flex-direction:column;user-select:none;& > h3{color:#4a4a4a;padding-left:5px;text-transform:uppercase;font-weight:bold;font-size:14rem;opacity:.8;margin-bottom:0;}h3:not(:first-child){margin-top:10px;}",""],(e=>e.theme.is_mobile&&Object(l.c)(["width:100%;padding:5px;h3:not(:first-child){margin-top:5px;}"]))),K=l.d.div.withConfig({componentId:"wb__sc-13e7xhx-1"})(["display:flex;"]),W=l.d.a.withConfig({componentId:"wb__sc-13e7xhx-2"})(["background:",";padding:10px;border-radius:5px;margin:5px;min-width:50px;width:25%;color:",";display:flex;flex-direction:column;text-align:center;justify-content:center;align-items:center;box-shadow:0 0 10px 0 rgba(56,56,56,.1);transition:box-shadow .2s;&:hover,&:focus{text-decoration:none;color:",";box-shadow:0 0 10px 0 ",";}.anticon{font-size:24rem;margin-bottom:3px;justify-content:center;}",";span{width:100%;overflow:hidden;white-space:nowrap;word-break:break-all;text-overflow:ellipsis;}"],(e=>e.theme.color_background),(e=>e.theme.color_text),(e=>e.theme.color_text),(e=>e.theme.color_background),(e=>e.theme.is_mobile&&Object(l.c)(["font-size:11rem;padding:5px 7px;.anticon{font-size:22rem;}"]))),G=e=>{let{setVisible:t,retracted:c}=e;const[i,r]=Object(n.useState)(!1),{t:l}=Object(s.c)(void 0,{keyPrefix:"words"}),b=Object(d.a)((e=>e.is_mobile)),j=Object(d.a)((e=>e.is_webook)),u=Object(d.a)((e=>{var t,c;return!(null===(t=e.current_user)||void 0===t||null===(c=t.salon.subscription)||void 0===c||!c.is_blocked)})),_=Object(d.a)((e=>e.theme));return Object(D.jsx)(Y,{children:Object(D.jsx)(o.a,{overlayStyle:{width:b?"95%":void 0},disabled:u&&!j,open:i,onOpenChange:r,dropdownRender:()=>Object(D.jsx)(L,{setVisible:e=>{r(e),null===t||void 0===t||t(e)}}),trigger:["click"],children:Object(D.jsx)(J,{icon:Object(D.jsx)(a.a,{}),type:_.is_text_inverted?"primary":"default",block:!c,children:!c&&l("new")})})})};G.displayName="NewButton";t.a=Object(n.memo)(G);const Y=l.d.div.withConfig({componentId:"wb__sc-11ifzia-0"})(["position:sticky;top:0;z-index:1000;text-align:center;background:",";padding:0 10px 10px 10px;",";"],(e=>e.theme.color_background),(e=>e.theme.is_mobile?Object(l.c)(["margin:0 10px 10px;padding:unset;z-index:100;"]):Object(l.c)([".retracted &{z-index:100;top:0;padding-right:0;padding-left:0;}"]))),J=Object(l.d)(i.a).withConfig({componentId:"wb__sc-11ifzia-1"})(["background-color:"," !important;color:#FFFFFF !important;font-weight:bold;letter-spacing:1px;border-color:"," !important;&:hover,&:focus{color:#FFFFFF !important;border-color:"," !important;background-color:"," !important;}&:disabled{border-color:"," !important;background-color:"," !important;}"],(e=>e.theme.color_action_button),(e=>e.theme.color_action_button),(e=>Object(r.b)(.2,e.theme.color_action_button)),(e=>Object(r.b)(.2,e.theme.color_action_button)),(e=>Object(r.b)(.2,e.theme.color_action_button)),(e=>Object(r.b)(.2,e.theme.color_action_button)))},3027:function(e,t,c){"use strict";c.r(t);c(0);var n=c(316),a=c(250),s=c(27),o=c(1809),i=c(1256),r=c(159),l=c(1294),d=c(1295),b=c(19),j=c(50),u=c(823),_=c(3047),p=c(28),m=c(62),O=c(22);const h=()=>{const e=Object(m.a)(),t=Object(s.a)((e=>e.main_sidebar_retracted)),c=Object(s.a)((e=>e.current_user.id)),n=Object(s.a)((e=>e.current_user.salon_id)),{data:r}=Object(d.a)(),[b,h]=Object(l.a)(),x=(null===r||void 0===r?void 0:r.salons)||[],v=async t=>{p.b.invalidateNoEssentialCache(e),await b(c,t)};if(x.length<=1)return null;if(t){const e={key:"key",disabled:!0,label:Object(O.jsx)(a.h,{$size:12,$semibold:!0,children:Object(j.b)("words.unit",{count:2})})},t=x.map((e=>({key:e.id,title:e.name,label:e.name,value:e.id,icon:Object(O.jsx)(u.a,{}),onClick:()=>v(e.id),disabled:n===e.id||h})));return Object(O.jsx)(f,{children:Object(O.jsx)(o.a,{menu:{items:[e,...t]},trigger:["click"],children:Object(O.jsx)(g,{loading:h,icon:Object(O.jsx)(_.a,{}),type:"default"})})})}return Object(O.jsx)(f,{children:Object(O.jsx)(i.a,{value:n,onSelect:v,getPopupContainer:e=>e.parentNode||document.body,showSearch:!1,style:{width:"100%"},loading:h,disabled:h,children:Object(O.jsx)(i.a.OptGroup,{label:Object(j.b)("words.unit",{count:2}),children:x.map((e=>Object(O.jsx)(i.a.Option,{disabled:n===e.id,value:e.id,children:e.name},e.id)))})})})};h.displayName="MultiSalonsDesktop";var x=h;const f=b.d.div.withConfig({componentId:"wb__sc-15lxl9p-0"})(["margin:0 10px 10px;.retracted &{display:flex;justify-content:center;align-items:center;margin-right:0;margin-left:0;}.ant-select-selector{border:1px solid transparent !important;}"]),g=Object(b.d)(r.a).withConfig({componentId:"wb__sc-15lxl9p-1"})(["color:"," !important;font-weight:bold;letter-spacing:0.5px;&:hover,&:focus{color:"," !important;border:1px transparent solid !important;}"],(e=>e.theme.colors.gray_2),(e=>e.theme.colors.gray_2));var v=c(1447),w=c(1296),y=c(1431),k=c(1448);const C=e=>{let{children:t}=e;const c=Object(s.a)((e=>e.main_sidebar_retracted));return Object(O.jsxs)($,{className:c?"retracted":"",children:[Object(O.jsx)(v.b,{}),Object(O.jsxs)(I,{children:[Object(O.jsx)(w.a,{retracted:c}),Object(O.jsx)(k.a,{retracted:c}),Object(O.jsx)(x,{}),t&&!c&&Object(O.jsx)(z,{children:t}),Object(O.jsx)(y.a,{}),Object(O.jsxs)(a.h,{$top:30,$paddings:[5,10],$size:10,style:{marginTop:"auto"},children:["v",n.a]})]})]})};C.displayName="SidebarDesktop";t.default=C;const $=b.d.aside.withConfig({componentId:"wb__sc-dbruj-0"})(["min-width:230px;width:230px;display:flex;flex-direction:column;overflow:hidden;color:",";position:fixed;left:0;top:0;bottom:0;z-index:1000;background-color:",";&.retracted{min-width:80px;width:80px;}"],(e=>e.theme.color_text),(e=>e.theme.color_background)),I=b.d.div.withConfig({componentId:"wb__sc-dbruj-1"})(["flex:1;padding:0;overflow-y:scroll;display:flex;flex-direction:column;"]),z=b.d.div.withConfig({componentId:"wb__sc-dbruj-2"})(["margin-right:-20px;margin-left:-10px;margin-top:10px;"])},726:function(e,t,c){"use strict";c.d(t,"g",(function(){return s})),c.d(t,"b",(function(){return o})),c.d(t,"a",(function(){return i})),c.d(t,"c",(function(){return l})),c.d(t,"e",(function(){return d})),c.d(t,"d",(function(){return b})),c.d(t,"f",(function(){return u}));var n=c(50),a=c(579);const s=(e,t)=>e+t.value_cents,o=e=>e.is_accounted||e.account_used_to_pay.cash&&"3"===e.status,i=e=>!e.is_accounted&&e.account_used_to_pay.cash&&"3"===e.status,r=e=>!e.is_accounted,l=(e,t,c,a)=>{var o;const{rec_movements:l,pay_movements:d,last_cash_accounting:j}=c,u=j.balance_start_cents,_=b(t.filter(r),!0),p=[...l.filter(i),...a.filter((e=>e.value_cents>0))].reduce(s,0),m=[...d.filter(i),...a.filter((e=>e.value_cents<0)).map((e=>({...e,value_cents:-e.value_cents})))].reduce(s,0),O=[];_.forEach((e=>{e.children.forEach((e=>{O.push({payment_id:e.id,receive_cents:e.total_rec,pay_cents:e.total_pay,balance_cents:e.total_rec+e.total_pay,balance_checked_cents:e.total_rec+e.total_pay,is_cash_account:e.is_cash,cash_account_and_paid:e.is_cash,cash_accounting_payment_categories_attributes:e.children.map((e=>({chart_id:e.id,description:`${e.total>=0?Object(n.b)("words.cash_income"):Object(n.b)("words.cash_outflow")} ${e.name}`,balance_cents:e.total,balance_checked_cents:e.total,bill_rec_ids:e.children.filter((e=>"rec"===e.bill_type)).map((e=>e.id)),bill_pay_ids:e.children.filter((e=>"pay"===e.bill_type)).map((e=>e.id))})))})}))}));const h=(null===(o=e.transfers)||void 0===o?void 0:o.filter((e=>e.account_id)))||[];return{cash_accounting_id:j.id,date_close:e.date_close,receive_cents:p,payment_cents:m,balance_cents:p+u-m,balance_checked_cents:p+u-m,bill_rec_ids:l.map((e=>e.id)),bill_pay_ids:d.map((e=>e.id)),transfers:h,cash_accounting_payments_attributes:O}},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{account_id:"",show_total_in_out:!0,prefix:0},c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const o=Object(a.l)(e,(e=>e.payment_used_to_pay.id));return Object.keys(o).map(((e,i)=>{const r=Object(a.l)(o[e],(e=>{var t;return null===(t=e.chart)||void 0===t?void 0:t.id})),l=Object.keys(r).map((n=>{var a;return{id:n,key:(t.account_id?`Acc${t.account_id}`:"")+`Pay${e}_Cha${n}_i${i}_prefix${t.prefix}`,name:null===(a=r[n][0].chart)||void 0===a?void 0:a.name,total:r[n].reduce(s,0),children:j(r[n],c),show_color:!0}})),d=t.show_total_in_out?{total_in:o[e].filter((e=>e.value_cents>0)).reduce(s,0),total_out:o[e].filter((e=>e.value_cents<0)).reduce(s,0)}:{},b=o[e][0].payment_used_to_pay.processing_days,u=o[e][0].payment_used_to_pay.name;return{id:e,key:t.account_id?`Acc${t.account_id}_Pay${e}_i${i}`:`Pay${e}_y${i}_prefix${t.prefix}`,name:`${u}${b>0?` (${Object(n.b)("finance.registrations.payment.available_in_days",{count:b})}`:""}`,is_cash:o[e][0].payment_used_to_pay.is_cash,total:o[e].reduce(s,0),total_rec:o[e].filter((e=>e.value_cents>0)).reduce(s,0),total_pay:o[e].filter((e=>e.value_cents<0)).reduce(s,0),children:l,...d}}))},b=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const c=Object(a.l)(e,(e=>e.account_used_to_pay.id));return Object.keys(c).map((e=>({id:e,key:`Acc${e}`,name:c[e][0].account_used_to_pay.name,total:c[e].reduce(s,0),total_in:c[e].filter((e=>e.value_cents>0)).reduce(s,0),total_out:c[e].filter((e=>e.value_cents<0)).reduce(s,0),children:d(c[e],{account_id:e,show_total_in_out:!1,prefix:0},t)})))},j=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const c=t?e:e.filter((e=>"rec"===e.bill_type));return c.map((e=>({id:e.id,name:e.historical||("rec"===e.bill_type?Object(n.b)("words.receipt"):Object(n.b)("words.expense")),bill_type:e.bill_type,movement:e,total:e.value_cents})))},u=e=>{var t;const c=null===e||void 0===e?void 0:e.last_cash_accounting,a=(null===c||void 0===c?void 0:c.balance_start_cents)||0,s=null===(t=null===c||void 0===c?void 0:c.closed)||void 0===t||t,o=function(){return[...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],...arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]].map((e=>({...e,historical:`(${"chargeback"===e.type?Object(n.b)("words.reversal"):Object(n.b)("words.payment")}) - ${e.historical||""}`,value_cents:e.difference_cents,is_accounted:!0}))).filter((e=>0!==e.value_cents))}(null===e||void 0===e?void 0:e.accounted_rec_movements,null===e||void 0===e?void 0:e.accounted_pay_movements);return{last_account_balance:a,is_cash_accounting_closed:s,accounted_movements:o,movements:[...(null===e||void 0===e?void 0:e.rec_movements)||[],...((null===e||void 0===e?void 0:e.pay_movements)||[]).map((e=>({...e,value_cents:-e.value_cents}))),...o||[]]}}},785:function(e,t,c){"use strict";var n=c(0),a=c(50),s=c(2831),o=c(250),i=c(27),r=c(19),l=c(2937),d=c(2883),b=c(2824),j=c(116),u=c(721),_=c(347),p=c(37),m=c(1850),O=c(76);const h=p.e`
  mutation WebookUpdateUser($data: SaveAuthUserInput!) {
    saveAuthUser(input: $data) {
      success errors
    }
  }
`;var x=()=>{const[e,{loading:t}]=Object(m.a)(h);return[async t=>{try{const{data:c}=await e({variables:{data:t}}),{success:n=!1,errors:a=[]}=(null===c||void 0===c?void 0:c.saveAuthUser)||{};return n||(j.b.destroy(),null===a||void 0===a||a.map((e=>j.b.error(e)))),{success:n}}catch(c){return O.a.captureException(c),console.error(c),j.b.error(Object(a.b)("phrases.generic_update_error_message")),{success:!1}}},t]},f=c(581),g=c(22);const v=e=>{let{close:t}=e;const c=Object(i.a)((e=>e.current_user.email)),n=Object(i.a)((e=>e.is_mobile)),s=Object(i.a)((e=>e.keyboard_visible)),[r]=l.a.useForm(),{submit:p,resetFields:m}=r,[O,h]=x(),v=Object(_.b)();return Object(g.jsx)(l.a,{initialValues:{email:c,current_password:""},scrollToFirstError:!0,form:r,layout:"vertical",onFinish:async e=>{if(!(c!==e.email))return void j.b.warning(Object(a.b)("account.same_email"));const{success:n}=await O(e);n&&(j.c.warning({centered:!0,width:500,className:"webook-modal",maskClosable:!0,title:Object(a.b)("account.email_confirmation"),content:Object(a.b)("account.verify_new_email")}),t(),m(),v())},children:Object(g.jsxs)(o.g,{$wrap:!0,$isRelative:!0,children:[Object(g.jsx)(d.a,{span:24,children:Object(g.jsx)(l.a.Item,{name:"email",label:Object(a.b)("words.email"),rules:[{type:"email"},{required:!0,message:Object(a.b)("phrases.required_field")}],children:Object(g.jsx)(b.a,{size:n?"large":"middle",placeholder:Object(a.b)("words.email"),autoComplete:"username"})})}),Object(g.jsx)(d.a,{span:24,children:Object(g.jsx)(l.a.Item,{name:"current_password",label:Object(a.b)("account.current_password"),validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:Object(a.b)("phrases.required_field")},{validateTrigger:"onBlur",validator:u.a}],children:Object(g.jsx)(b.a.Password,{size:n?"large":"middle",placeholder:Object(a.b)("account.current_password"),autoComplete:"password"})})}),Object(g.jsx)(y,{style:{display:s?"none":void 0},className:"ant-drawer-footer",children:Object(g.jsx)(f.a,{close:t,submit:p,loading:h,disabled:h})})]})})};v.displayName="Profile";var w=v;const y=r.d.div.withConfig({componentId:"wb__sc-3remao-0"})(["background:#FFFFFF;z-index:999;width:",";position:fixed;bottom:0;right:0;"],(e=>e.theme.is_mobile?"100%":"600px"));var k=c(2976);var C=()=>{const e=Object(i.a)((e=>e.is_mobile));return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(d.a,{span:24,children:Object(g.jsx)(l.a.Item,{name:"current_password",label:Object(a.b)("account.current_password"),validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:Object(a.b)("phrases.required_field")},{validateTrigger:"onBlur",validator:u.a}],children:Object(g.jsx)(b.a.Password,{size:e?"large":"middle",placeholder:Object(a.b)("account.current_password"),autoComplete:"password"})})}),Object(g.jsx)(d.a,{span:24,children:Object(g.jsx)(l.a.Item,{name:"password",label:Object(a.b)("account.new_password"),validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:Object(a.b)("phrases.required_field")},{validateTrigger:"onBlur",validator:u.a}],children:Object(g.jsx)(b.a.Password,{size:e?"large":"middle",placeholder:Object(a.b)("account.new_password"),autoComplete:"off"})})}),Object(g.jsx)(d.a,{span:24,style:{marginBottom:100},children:Object(g.jsx)(l.a.Item,{name:"password_confirmation",label:Object(a.b)("account.repeat_new_password"),dependencies:["password"],validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:Object(a.b)("phrases.required_field")},e=>{let{getFieldValue:t}=e;return{validator:(e,c)=>c&&t("password")!==c?Promise.reject(new Error(Object(a.b)("account.confirmation_must_match_password"))):Promise.resolve()}}],children:Object(g.jsx)(b.a.Password,{size:e?"large":"middle",placeholder:Object(a.b)("account.confirm_password"),autoComplete:"off"})})})]})};const $=e=>{let{close:t}=e;const c=Object(i.a)((e=>e.keyboard_visible)),[n]=l.a.useForm(),{submit:s,resetFields:r}=n,[d,b]=x();return Object(g.jsx)(l.a,{initialValues:{password:"",password_confirmation:"",current_password:""},scrollToFirstError:!0,form:n,layout:"vertical",onFinish:async e=>{const{success:c}=await d(e);c&&(j.b.success(Object(a.b)("account.password_updated_successfully")),t(),r())},children:Object(g.jsxs)(o.g,{$wrap:!0,$isRelative:!0,children:[Object(g.jsx)(k.a,{type:"info",message:Object(a.b)("words.attention"),description:Object(a.b)("account.password_change_notice"),style:{width:"100%",marginBottom:10,padding:10}}),Object(g.jsx)(C,{}),Object(g.jsx)(y,{style:{display:c?"none":void 0},className:"ant-drawer-footer",children:Object(g.jsx)(f.a,{close:t,submit:s,loading:b,disabled:b})})]})})};$.displayName="Password";var I=$;const z=(e,t)=>{const{initial_active_bar:c="profile"}=e,[s,r]=Object(n.useState)(!1),[l,d]=Object(n.useState)(c),b=Object(i.a)((e=>e.is_mobile)),j=()=>{r(!0)},u=()=>{r(!1)};Object(n.useImperativeHandle)(t,(()=>({open:j,close:u})));const _=Object(n.useCallback)((e=>{d(e)}),[]),p=Object(n.useMemo)((()=>[{key:"profile",label:Object(a.b)("account.change_email"),children:Object(g.jsx)(w,{close:u})},{key:"password",label:Object(a.b)("account.change_password"),children:Object(g.jsx)(I,{close:u})}]),[]);return Object(g.jsx)(o.a,{closable:!0,push:!1,title:Object(a.b)("account.edit_user"),height:"100%",width:600,destroyOnClose:!0,onClose:u,open:s,placement:b?"bottom":"right",styles:{body:{paddingTop:10}},children:Object(g.jsx)(F,{onTabClick:_,tabPosition:b?"top":"left",activeKey:l,items:p})})};z.displayName="AccountDrawer";t.a=Object(n.memo)(Object(n.forwardRef)(z));const F=Object(r.d)(s.a).withConfig({componentId:"wb__sc-eixrw2-0"})(["height:100%;.ant-tabs-content-holder{overflow-y:auto;}"])},823:function(e,t,c){"use strict";var n=c(13),a=c(0),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]},name:"home",theme:"outlined"},o=c(71),i=function(e,t){return a.createElement(o.a,Object(n.a)({},e,{ref:t,icon:s}))},r=a.forwardRef(i);t.a=r},873:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var n=c(37),a=c(405),s=c(76);const o=n.e`
  query FetchWhatsappStatus {
    current_user {
      has_whatsapp_feature
      whatsapp_status
    }
  }
`;t.b=e=>Object(a.f)(o,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,onCompleted:t=>{const{current_user:c}=t;e(c)},onError:e=>{s.a.captureException(e),console.error(e)}})},920:function(e,t,c){"use strict";var n=c(37),a=c(1850),s=c(116),o=c(76),i=c(0);const r=n.e`
  mutation Notification($data: ReadNotificationInput!) {
    readNotifications(input: $data) {
      success errors
    }
  }
`;t.a=()=>{const[e,{loading:t}]=Object(a.a)(r);return[Object(i.useCallback)((async t=>{try{var c;const n=await e({variables:{data:t}}),{success:a=!1,errors:o}=(null===n||void 0===n||null===(c=n.data)||void 0===c?void 0:c.readNotifications)||{};return null===o||void 0===o||o.forEach((e=>s.b.error(e))),a}catch(n){return o.a.captureException(n),console.error(n),!1}}),[e]),{loading:t}]}},940:function(e,t,c){"use strict";var n=c(0),a=c(50),s=c(3024),o=c(1438),i=c(250),r=c(583),l=c(27),d=c(37),b=c(2879),j=c(76);const u=d.e`
  query OnlinePaymentModal ($id: ID) {
    payment_gateways_transaction (id: $id) {
      id
      metadata
      transactionable {
        id
        package_items {
          id
          sum_cents
          product {
            id
            description
          }
        }
      }
    }
  }
`;var _=()=>Object(b.a)(u,{onError:e=>{j.a.captureException(e),console.log(e)}}),p=c(19),m=c(579),O=c(53),h=c.n(O),x=c(22);var f=()=>Object(n.useMemo)((()=>[{title:Object(a.b)("words.date"),key:"date",dataIndex:"date",width:100,render:e=>h()(e).format("L")},{title:Object(a.b)("words.hour"),key:"start_hour",dataIndex:"start_hour",width:60,render:e=>e},{title:Object(a.b)("words.service"),key:"service_description",dataIndex:"service_description",ellipsis:!0,render:e=>Object(x.jsx)("span",{title:e,children:e})},{title:Object(a.b)("words.value"),key:"service_value",dataIndex:"service_value",align:"right",width:100,render:e=>Object(m.d)(e)}]),[]),g=c(232);const v=Object(n.lazy)((()=>Object(g.a)((()=>c.e(166).then(c.bind(null,3088)))))),w=Object(n.lazy)((()=>Object(g.a)((()=>c.e(194).then(c.bind(null,2908)))))),y=(e,t)=>{var c;const[d,b]=Object(n.useState)(!1),[j,u]=Object(n.useState)(""),p=Object(l.a)((e=>e.is_mobile)),[m,{data:O,loading:h}]=_(),g=f(),y=(e,t)=>{m({variables:{id:e}}),u(t),b(!0)},C=()=>{b(!1)};Object(n.useImperativeHandle)(t,(()=>({open:y,close:C})));const $=null===O||void 0===O?void 0:O.payment_gateways_transaction,{schedule_groups:I=[]}=JSON.parse((null===$||void 0===$?void 0:$.metadata)||"{}"),z=null===(c=I[0])||void 0===c?void 0:c.calendars_attributes.reduce(((e,t)=>{const c=null===$||void 0===$?void 0:$.transactionable.package_items.find((e=>e.product.id===t.product_id));if(!c)return e;const n={date:t.start_date,start_hour:t.start_hour,service_description:null===c||void 0===c?void 0:c.product.description,service_value:null===c||void 0===c?void 0:c.sum_cents};return[...e,n]}),[]);return Object(x.jsx)(s.a,{open:d,onCancel:()=>b(!1),footer:null,children:Object(x.jsx)(r.a.Provider,{value:h,children:Object(x.jsxs)(k,{children:[Object(x.jsx)(i.g,{$column:!0,children:Object(x.jsx)(i.h,{$alignCenter:!0,$size:24,$light:!0,children:Object(a.b)("modals.online_payment.payment_received_online")})}),Object(x.jsx)(o.a,{}),Object(x.jsx)(i.g,{$column:!0,children:Object(x.jsx)(r.b,{$alignCenter:!0,width:32,children:j})}),Object(x.jsx)(i.g,{$column:!0,children:Object(x.jsx)(r.b,{$alignCenter:!0,width:16,$size:16,$semibold:!0,children:Object(a.b)("modals.online_payment.schedule_details")})}),p?Object(x.jsx)(v,{calendars:z||[],loading:h}):Object(x.jsx)(w,{calendars:z||[],loading:h,columns:g})]})})})};y.displayName="OnlinePaymentModal";t.a=Object(n.forwardRef)(y);const k=p.d.div.withConfig({componentId:"wb__sc-1lct6cn-0"})(["background:rgba(255,255,255,0.9);border-radius:3px;display:flex;flex-wrap:wrap;flex-direction:column;align-items:center;width:100%;min-height:400px;"])}}]);
//# sourceMappingURL=49.6d2504e3.chunk.js.map