(this["webpackJsonpwebook-react"]=this["webpackJsonpwebook-react"]||[]).push([[42,62],{1e3:function(e,t,a){"use strict";a.d(t,"b",(function(){return I}));var s=a(0),i=a(50),c=a(159),n=a(250),r=a(18),o=a(593),l=a(681),d=a(340),b=a(847),u=a(802),j=a(803),m=a(27),p=a(602),h=a(682),O=a(116),_=a(22);const x=(e,t)=>{const[a,i]=Object(s.useState)(!1),r=Object(p.b)((e=>e.sale.id)),o=Object(p.b)((e=>e.sale.electronic_consumer_invoice)),x=Object(p.b)((e=>e.sale.finished)),v=Object(p.b)((e=>e.refetch)),g=Object(m.a)((e=>e.current_user.permissions)),[y]=Object(u.a)(),[f]=Object(j.a)(),w=Object(s.useCallback)((()=>{i(!0)}),[]),k=Object(s.useCallback)((()=>{i(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:w,close:k})));const C=Object(s.useRef)(null),{t:I}=Object(d.c)(),A=()=>{var e;x?g.can_create_invoice?null===(e=C.current)||void 0===e||e.open(r):O.b.warning(I("phrases.no_permission_to_do_this")):O.b.info("Finalize a comanda para realizar a emiss\xe3o!")},S=Object(s.useCallback)((async e=>{const{success:t}=await y(e);t&&v()}),[v,y]),$=Object(s.useCallback)((async e=>{const{success:t}=await f(e);t&&v()}),[f,v]);return Object(_.jsxs)(l.a,{title:"Nota fiscal de consumidor",open:a,onClose:k,closable:!0,width:"100%",placement:"bottom",height:"100%",destroyOnClose:!0,push:!1,children:[Object(_.jsxs)(n.g,{$column:!0,children:[Object(_.jsx)(n.h,{$bottom:20,children:o?Object(l.c)({status:o.status,emission_date:o.created_at,status_reason:null===o||void 0===o?void 0:o.status_reason,inventory_type:"Sale",invoice_type:"consumidor"}):"A nota fiscal de consumidor desta comanda n\xe3o foi emitida."}),o?Object(_.jsx)(h.a,{status:o.status,pdf_link:null===o||void 0===o?void 0:o.pdf_file_link,xml_link:null===o||void 0===o?void 0:o.xml_file_link,handleUpdateInvoice:()=>S(o.id),handleCancelInvoice:()=>$(o.id),openFormDrawer:A}):Object(_.jsx)(c.a,{block:!0,onClick:A,size:"large",children:Object(_.jsx)(n.h,{$semibold:!0,children:"Emitir nota fiscal"})})]}),Object(_.jsx)(b.a,{ref:C,type:"Inventory::Sale",refetch:v})]})};x.displayName="ConsumerInvoiceSaleDrawer";var v=Object(s.memo)(Object(s.forwardRef)(x)),g=a(848),y=a(804),f=a(805);const w=(e,t)=>{const[a,i]=Object(s.useState)(!1),r=Object(p.b)((e=>e.sale.id)),o=Object(p.b)((e=>e.sale.electronic_invoice)),b=Object(p.b)((e=>e.sale.finished)),u=Object(p.b)((e=>e.refetch)),j=Object(m.a)((e=>e.current_user.permissions)),[x]=Object(y.a)(),[v]=Object(f.a)(),w=Object(s.useCallback)((()=>{i(!0)}),[]),k=Object(s.useCallback)((()=>{i(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:w,close:k})));const C=Object(s.useRef)(null),{t:I}=Object(d.c)(),A=()=>{var e;b?j.can_create_invoice?null===(e=C.current)||void 0===e||e.open(r):O.b.warning(I("phrases.no_permission_to_do_this")):O.b.info("Finalize a comanda para realizar a emiss\xe3o!")},S=Object(s.useCallback)((async e=>{const{success:t}=await x(e);t&&u()}),[u,x]),$=Object(s.useCallback)((async e=>{const{success:t}=await v(e);t&&u()}),[v,u]);return Object(_.jsxs)(l.a,{title:"Nota fiscal de produto",open:a,onClose:k,closable:!0,width:"100%",placement:"bottom",height:"100%",destroyOnClose:!0,push:!1,children:[Object(_.jsxs)(n.g,{$column:!0,children:[Object(_.jsx)(n.h,{$bottom:20,children:o?Object(l.c)({status:o.status,emission_date:o.created_at,status_reason:null===o||void 0===o?void 0:o.status_reason,inventory_type:"Sale",invoice_type:"produto"}):"A nota fiscal de produto desta comanda n\xe3o foi emitida."}),o?Object(_.jsx)(h.a,{status:o.status,pdf_link:null===o||void 0===o?void 0:o.pdf_file_link,xml_link:null===o||void 0===o?void 0:o.xml_file_link,handleUpdateInvoice:()=>S(o.id),handleCancelInvoice:()=>$(o.id),openFormDrawer:A}):Object(_.jsx)(c.a,{block:!0,onClick:A,size:"large",children:Object(_.jsx)(n.h,{$semibold:!0,children:"Emitir nota fiscal"})})]}),Object(_.jsx)(g.a,{ref:C,type:"Inventory::Sale",refetch:u})]})};w.displayName="ElectronicInvoiceSaleDrawer";var k=Object(s.memo)(Object(s.forwardRef)(w));const C=()=>{const e=Object(o.b)(),t=Object(m.a)((e=>{var t;return!(null===(t=e.current_user.salon.enotas_token)||void 0===t||!t.token)})),a=Object(m.a)((e=>e.current_user.addons.has_nfs))&&t,d=Object(m.a)((e=>e.current_user.addons.has_nfe))&&t,b=Object(m.a)((e=>e.current_user.addons.has_nfce))&&t,u=Object(p.b)((e=>e.sale.invoice)),j=Object(p.b)((e=>e.sale.sale_items)),h=Object(p.b)((e=>e.sale.electronic_invoice)),x=Object(p.b)((e=>e.sale.electronic_consumer_invoice)),g=j.some((e=>{var t;return null===(t=e.inventory_product)||void 0===t?void 0:t.is_service})),y=j.some((e=>{var t;return!(null!==(t=e.inventory_product)&&void 0!==t&&t.is_service)})),f=Object(s.useRef)(null),w=Object(s.useRef)(null),C=Object(s.useRef)(null);return Object(_.jsxs)(n.g,{$column:!0,children:[Object(_.jsx)(c.a,{block:!0,onClick:()=>{var t;a?g?null===(t=f.current)||void 0===t||t.open():O.b.info(Object(i.b)("package.drawer.invoices.service_blank_warning",{sufix:"NFS-e"})):e({is_addon:!0,search:r.a.ID_NEW_INVOICE})},size:"large",style:{marginTop:10,backgroundColor:I((null===u||void 0===u?void 0:u.status)||"")},children:Object(_.jsx)(n.h,{$semibold:!0,children:Object(i.b)("words.service")})}),Object(_.jsx)(c.a,{block:!0,onClick:()=>{var t;d?y?null===(t=w.current)||void 0===t||t.open():O.b.info(Object(i.b)("package.drawer.invoices.product_blank_warning",{sufix:"NF-e"})):e({is_addon:!0,search:r.a.ID_NEW_ELECTRONIC_INVOICE})},size:"large",style:{marginTop:10,backgroundColor:I((null===h||void 0===h?void 0:h.status)||"")},children:Object(_.jsx)(n.h,{$semibold:!0,children:Object(i.b)("words.product")})}),Object(_.jsx)(c.a,{block:!0,onClick:()=>{var t;b?y?null===(t=C.current)||void 0===t||t.open():O.b.info(Object(i.b)("package.drawer.invoices.product_blank_warning",{sufix:"NFC-e"})):e({is_addon:!0,search:r.a.ID_NEW_ELECTRONIC_CONSUMER_INVOICE})},size:"large",style:{marginTop:10,backgroundColor:I((null===x||void 0===x?void 0:x.status)||"")},children:Object(_.jsx)(n.h,{$semibold:!0,children:Object(i.b)("words.consumer")})}),Object(_.jsx)(l.b,{ref:f}),Object(_.jsx)(k,{ref:w}),Object(_.jsx)(v,{ref:C})]})};C.displayName="Invoices";t.a=C;const I=e=>({pending:"#1194f6",issued:"#4eb660",canceled:"#faa84f",denied:"#e44e4d",cancel_denied:"#e44e4d",Erro:"#e44e4d",AutorizacaoSolicitada:"#1194f6",Negada:"#e44e4d",Autorizada:"#7e57c6"}[e]||"#ffffff")},1002:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(250),n=a(2937),r=a(543),o=a(2883),l=a(1256),d=a(538),b=a(2838),u=a(159),j=a(2824),m=a(37),p=a(1850),h=a(116),O=a(76);const _=m.e`
  mutation FlowDrawerSaveFlow($data: SaveInventoryProductFlowsInput!) {
    saveInventoryProductFlows(input: $data) {
      success
      errors
    }
  }
`;var x=()=>{const[e,{loading:t}]=Object(p.a)(_);return[async t=>{try{const{data:a}=await e({variables:{data:t}}),{success:s=!1,errors:i=[]}=(null===a||void 0===a?void 0:a.saveInventoryProductFlows)||{};return null===i||void 0===i||i.forEach((e=>h.b.error(e))),{success:s}}catch(a){return O.a.captureException(a),h.b.error("N\xe3o foi poss\xedvel salvar o ajuste de estoque. Atualize a p\xe1gina e tente novamente. Se o erro persistir entre em contato."),console.error(a),{success:!1}}},{loading:t}]},v=a(19),g=a(581),y=a(2843),f=a(27),w=a(22);const k=(e,t)=>{const[a,m]=Object(s.useState)(!1),{product_id:p,onSave:O}=e,_=Object(f.a)((e=>e.inventory_products.find((e=>e.id===p)))),[v]=n.a.useForm(),{submit:k}=v,[I,{loading:A}]=x(),S=Object(s.useCallback)((()=>{m(!0)}),[]),$=Object(s.useCallback)((()=>{m(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:S,close:$})));const E=Object(s.useCallback)((()=>{a||(v.resetFields(),$())}),[$,v,a]);return Object(w.jsx)(c.a,{open:a,title:Object(i.b)("products.drawer.stock_movement.new_movement"),width:500,afterOpenChange:E,onClose:$,closable:!0,destroyOnHidden:!0,height:"100%",footer:Object(w.jsx)(g.a,{close:$,submit:k,loading:A}),children:Object(w.jsx)(C,{children:Object(w.jsxs)(n.a,{form:v,layout:"vertical",onFinish:async e=>{const{success:t}=await I({...e,product_id:p});t&&(h.b.success(Object(i.b)("phrases.saved_successfully",{prefix:Object(i.b)("words.adjustment")})),$(),null===O||void 0===O||O())},children:[Object(w.jsxs)(r.a,{gutter:8,children:[Object(w.jsx)(o.a,{span:24,children:Object(w.jsx)(n.a.Item,{label:Object(i.b)("words.action"),name:"action",initialValue:"fix_quantity",children:Object(w.jsxs)(l.a,{size:"large",style:{width:"100%"},children:[Object(w.jsx)(l.a.Option,{value:"fix_quantity",children:Object(i.b)("products.drawer.stock_movement.stock_adjustment")}),Object(w.jsx)(l.a.Option,{value:"increase_quantity",style:{color:"green"},children:Object(i.b)("words.cash_income")}),Object(w.jsx)(l.a.Option,{value:"decrease_quantity",style:{color:"red"},children:Object(i.b)("words.cash_outflow")})]})})}),Object(w.jsx)(n.a.Item,{noStyle:!0,dependencies:["quantity"],children:e=>{var t,a;let{getFieldValue:s}=e;const c=s("quantity")||0,r=(null===_||void 0===_?void 0:_.unit_quantity)||1;return Object(w.jsx)(o.a,{span:24,children:Object(w.jsxs)(d.a.Compact,{children:[Object(w.jsx)(n.a.Item,{label:Object(i.b)("words.unit"),name:"quantity",initialValue:0,extra:`${Object(i.b)("subscription.equivalent_to")} ${r*c} ${null===_||void 0===_||null===(t=_.und)||void 0===t?void 0:t.toLocaleLowerCase()}s`,children:Object(w.jsx)(b.a,{min:0,addonAfter:Object(i.b)("words.unit").toLocaleLowerCase(),inputMode:"numeric",size:"large",style:{width:"100%"}})}),Object(w.jsx)(n.a.Item,{label:" ",children:Object(w.jsx)(u.a,{size:"large",icon:Object(w.jsx)(y.a,{}),disabled:!0})}),Object(w.jsx)(n.a.Item,{required:!1,label:Object(i.b)("words.extra"),name:"extra_quantity",initialValue:0,children:Object(w.jsx)(b.a,{min:0,size:"large",addonAfter:null===_||void 0===_||null===(a=_.und)||void 0===a?void 0:a.toLocaleLowerCase(),inputMode:"numeric",style:{width:"100%"}})})]})})}}),Object(w.jsx)(o.a,{span:24,children:Object(w.jsx)(n.a.Item,{name:"reason",label:Object(i.b)("words.description"),children:Object(w.jsx)(j.a.TextArea,{size:"large",placeholder:Object(i.b)("words.description"),rows:3,maxLength:500})})})]}),Object(w.jsx)("button",{type:"submit",hidden:!0})]})})})};k.displayName="FlowDrawer";t.a=Object(s.forwardRef)(k);const C=v.d.div.withConfig({componentId:"wb__sc-1r730x7-0"})(["position:relative;"])},1003:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(1256),n=a(137),r=a(37),o=a(405);const l=r.e`
  query AnamnesisTemplatesInputList {
    all_anamnesis_templates(with_deleted: true) {
      all {
        id
        name
        fields
        deleted_at
      }
    }
  }
`;var d=()=>Object(o.f)(l,{fetchPolicy:"network-only"}),b=a(619),u=a(22);const{Option:j,OptGroup:m}=c.a,p={isCaseSensitive:!1,findAllMatches:!0,keys:["name"]},h=e=>{const[t,a]=Object(s.useState)(),{data:r,loading:o}=d(),l=Object(s.useMemo)((()=>(null===r||void 0===r?void 0:r.all_anamnesis_templates.all)||[]),[null===r||void 0===r?void 0:r.all_anamnesis_templates.all]),h=Object(s.useMemo)((()=>l.filter((e=>!e.deleted_at))),[l]),O=Object(s.useMemo)((()=>l.filter((e=>e.deleted_at))),[l]),_=Object(s.useMemo)((()=>{if(!t)return h;return new b.a(h,p).search(t).map((e=>e.item))}),[h,t]),x=Object(s.useMemo)((()=>{if(!t)return O;return new b.a(O,p).search(t).map((e=>e.item))}),[O,t]);return Object(u.jsxs)(c.a,{showSearch:!0,filterOption:!1,onSearch:Object(n.debounce)(a,300),placeholder:Object(i.b)("words.anamnesi_template"),allowClear:!0,onClear:()=>a(void 0),getPopupContainer:Object(s.useCallback)((e=>e.parentElement),[]),loading:o,...e,children:[Object(u.jsx)(m,{label:Object(i.b)("words.active_other"),children:_.map((e=>Object(u.jsx)(j,{value:e.id,item:e,children:e.name},e.id)))}),Object(u.jsx)(m,{label:Object(i.b)("words.disabled_other"),children:x.map((e=>Object(u.jsx)(j,{value:e.id,item:e,children:e.name},e.id)))})]})};h.displayName="AnamnesisTemplateInput";t.a=Object(s.memo)(h)},1005:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(250),n=a(18),r=a(2937),o=a(3023),l=a(2824),d=a(1438),b=a(593),u=a(668),j=a(27),m=a(37),p=a(2879);const h=m.e`
  query WhatsAppMarketingConfiguration {
    current_salon {
      id
      send_reminder_sms_automatic

      sms_message_configuration {
        id
        sms_message_client_return
        sms_message_client_return_product
      }
    }
  }
`;var O=e=>{let{setFieldsValue:t,setChecked:a}=e;return Object(p.a)(h,{fetchPolicy:"network-only",onCompleted:e=>{let{current_salon:s}=e;t({sms_message_client_return:s.sms_message_configuration.sms_message_client_return,sms_message_client_return_product:s.sms_message_configuration.sms_message_client_return_product}),a(s.send_reminder_sms_automatic)}})},_=a(637),x=a(339),v=a(581),g=a(116),y=a(22);const f=(e,t)=>{const{afterSave:a}=e,[m,p]=Object(s.useState)(!1),[h,f]=Object(s.useState)(!1),w=Object(j.a)((e=>e.current_user.permissions)),k=Object(j.a)((e=>e.is_mobile)),C=Object(j.a)((e=>{let{current_user:{features:t,addons:a}}=e;return t.has_whatsapp_auto||a.has_messages_whatsapp})),I=Object(s.useRef)(null),A=Object(s.useRef)(null),S=Object(b.b)(),[$]=r.a.useForm(),{resetFields:E,submit:F,setFieldsValue:D}=$,[z,{loading:N}]=O({setFieldsValue:D,setChecked:f}),[q,{loading:B}]=Object(u.a)(),P=Object(s.useCallback)((()=>{z(),p(!0)}),[z]),R=Object(s.useCallback)((()=>{p(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:P,close:R})));const M=Object(s.useCallback)((e=>{e||E()}),[E]),T=Object(s.useCallback)((async e=>{C?f(e):S({is_addon:!0,search:n.a.ID_MOBILE_MESSAGES_WHATSAPP})}),[S,C]),L=Object(s.useCallback)((async e=>{if(!w.can_edit_whatsapp_marketing)return void g.b.warning(Object(i.b)("phrases.no_permission_to_do_this"));const t={send_reminder_sms_automatic:h,sms_message_configuration_attributes:{sms_message_client_return:e.sms_message_client_return,sms_message_client_return_product:e.sms_message_client_return_product}},{success:s}=await q(t);s&&(null===a||void 0===a||a(),R())}),[a,h,R,w.can_edit_whatsapp_marketing,q]);return Object(y.jsxs)(c.a,{open:m,onClose:R,closable:!0,width:500,placement:k?"bottom":"right",height:"100%",destroyOnClose:!0,styles:{body:{position:"relative"}},afterOpenChange:M,push:!1,title:Object(i.b)("setup_whatsapp_marketing.client_return.title"),footer:Object(y.jsx)(v.a,{close:R,submit:F,loading:B}),children:[Object(y.jsx)(x.a,{loading:N}),Object(y.jsxs)(r.a,{layout:"vertical",form:$,onFinish:L,children:[Object(y.jsx)(c.h,{$bottom:15,children:Object(i.b)("setup_whatsapp_marketing.client_return.customer_visit_message")}),Object(y.jsx)(r.a.Item,{label:Object(i.b)("phrases.enable_automatic_sending"),children:Object(y.jsx)(o.a,{checked:C&&h,onChange:T})}),Object(y.jsx)(r.a.Item,{label:Object(i.b)("setup_whatsapp_marketing.client_return.service_message"),name:"sms_message_client_return",rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(y.jsx)(l.a.TextArea,{showCount:!0,maxLength:750,ref:I,autoSize:{minRows:3}})}),Object(y.jsx)(_.a,{keys:["client_name","nickname","return_proserv_days","service_name"],textAreaRef:I,fieldName:"sms_message_client_return",setFieldsValue:D}),Object(y.jsx)(d.a,{}),Object(y.jsx)(r.a.Item,{label:Object(i.b)("setup_whatsapp_marketing.client_return.product_message"),name:"sms_message_client_return_product",rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(y.jsx)(l.a.TextArea,{showCount:!0,maxLength:750,ref:A,autoSize:{minRows:3}})}),Object(y.jsx)(_.a,{keys:["client_name","nickname","return_proserv_days","product_name"],textAreaRef:A,fieldName:"sms_message_client_return_product",setFieldsValue:D})]})]})};f.displayName="ClientReturnMessageDrawer";t.a=Object(s.forwardRef)(f)},1033:function(e,t,a){"use strict";var s=a(74),i=a(50),c=a(116),n=a(18);t.a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(i.b)("phrases.link_copied_successfully");return async(t,a)=>{const i=`${n.w?"https":"http"}://${t}`;if(s.a.is_native)s.a.sendMessage({type:"share_link",payload:{title:a,message:i}});else if(navigator.clipboard)await navigator.clipboard.writeText(i),c.b.success(e);else{let t=document.createElement("textarea");t.value=i,t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")&&c.b.success(e)}catch(r){}document.body.removeChild(t)}}}},1034:function(e,t,a){"use strict";var s=a(0),i=a(3024),c=a(250),n=a(19),r=a(22);const o=(e,t)=>{const[a,n]=Object(s.useState)(!1),[o,d]=Object(s.useState)(""),[b,u]=Object(s.useState)(""),j=(e,t)=>{u(e),d(t),n(!0)},m=()=>{n(!1)};return Object(s.useImperativeHandle)(t,(()=>({open:j,close:m}))),Object(r.jsx)(i.a,{open:a,onCancel:()=>n(!1),footer:null,centered:!0,children:Object(r.jsxs)(l,{children:[Object(r.jsx)(c.g,{$column:!0,children:Object(r.jsx)(c.h,{$alignCenter:!0,$size:24,$light:!0,children:b})}),Object(r.jsx)(c.g,{$column:!0,children:Object(r.jsx)(c.h,{$alignCenter:!0,children:o})})]})})};o.displayName="TrialModal",t.a=Object(s.forwardRef)(o);const l=n.d.div.withConfig({componentId:"wb__sc-pdjc94-0"})(["display:flex;flex-wrap:wrap;flex-direction:column;align-items:center;min-height:200px;"])},1082:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(116),n=a(250),r=a(583),o=a(596),l=a(27),d=a(18),b=a(53),u=a.n(b),j=a(340),m=a(22);const p=e=>{let{historical:t}=e;return Object(m.jsx)(r.b,{$alignCenter:!0,width:40,$margins:[15,0],children:Object(m.jsx)(j.a,{i18nKey:"deleted_calendar_drawer.deleted_historical",values:{origin:null!==t&&void 0!==t&&t.user_email?`${Object(i.b)("words.by").toLocaleLowerCase()} ${t.user_email}`:Object(i.b)("deleted_calendar_drawer.by_customer"),date:u()(null===t||void 0===t?void 0:t.created_at,d.H).format("L, HH:mm[h]")},shouldUnescape:!0})})};p.displayName="DeletedCalendarFooter";var h=p,O=a(2921);const _=e=>{let{calendars:t=[],loading:a}=e;const c=Object(s.useMemo)((()=>[{title:Object(i.b)("words.service"),key:"service",dataIndex:"service",ellipsis:!0,width:"45%",render:e=>e.description},{title:Object(i.b)("words.employee"),key:"employee",dataIndex:"employee",ellipsis:!0,width:"30%",render:e=>e.name},{title:Object(i.b)("words.schedule_time"),key:"start_date",dataIndex:"start_date",width:"25%",render:(e,t)=>Object(m.jsxs)(m.Fragment,{children:[u()(e).format("L"),"\xa0",Object(i.b)("words.at"),"\xa0",t.start_hour,"h"]})}]),[]);return Object(m.jsx)(O.a,{dataSource:t,columns:c,size:"middle",pagination:!1,loading:a})};_.displayName="CalendarsListDesktop";var x=_,v=a(592),g=a(604);const y=()=>Object(m.jsxs)(v.b,{style:{flexDirection:"column",padding:15,margin:"0 0 15px 0"},children:[Object(m.jsx)(g.a,{width:"70%"}),Object(m.jsx)(g.a,{width:"40%"}),Object(m.jsx)(g.a,{width:"80%"})]});y.displayName="LoadingItem";var f=Object(s.memo)(y);const w=e=>{let{calendars:t=[],loading:a}=e;return a?Object(m.jsx)(m.Fragment,{children:[-1,-2,-3].map((e=>Object(m.jsx)(f,{},`deleted-calendar-item-${e}`)))}):Object(m.jsx)(m.Fragment,{children:t.map((e=>Object(m.jsxs)(v.b,{style:{flexDirection:"column",padding:15,margin:"0 0 15px 0"},children:[Object(m.jsx)(n.h,{$block:!0,children:e.service.description}),Object(m.jsx)(n.h,{$block:!0,children:e.employee.name}),Object(m.jsxs)(n.h,{$block:!0,children:[u()(e.start_date).format("L"),"\xa0",Object(i.b)("words.at"),"\xa0",e.start_hour]})]},e.id)))})};var k=Object(s.memo)(w),C=a(37),I=a(2879),A=a(76);const S=C.e`
  query DeletedCalendarDrawer($id: ID!) {
    schedule_group (id: $id, with_deleted: true) {
      id

      client {
        id
        name
        avatar_url
      }

      calendars (with_deleted: true) {
        id
        start_date
        start_hour
        duration

        service (with_deleted: true) {
          id
          description
          image_url
        }

        employee {
          id
          name
        }
      }

      deleted_historical {
        id
        type
        created_at
        user_email
      }
    }
  }
`;var $=()=>Object(I.a)(S,{onError:e=>{A.a.captureException(e),console.log(e)}}),E=a(586),F=a(19),D=a(631),z=a(581);const N=(e,t)=>{const[a,d]=Object(s.useState)(!1),b=Object(l.a)((e=>e.is_mobile)),u=Object(l.a)((e=>e.current_user.permissions)),j=Object(s.useRef)(null),[p,{data:O,loading:_,error:v}]=$(),g=e=>{d(!0),p({variables:{id:e}})},y=()=>{d(!1)};Object(s.useImperativeHandle)(t,(()=>({open:g,close:y})));const f=null===O||void 0===O?void 0:O.schedule_group,w=null===f||void 0===f?void 0:f.client,C=null===f||void 0===f?void 0:f.deleted_historical,I=null===f||void 0===f?void 0:f.calendars,A=Object(s.useCallback)((()=>{var e;u.can_edit_client?null===(e=j.current)||void 0===e||e.open({id:null===w||void 0===w?void 0:w.id,initial_active_bar:"panel"}):c.b.warning(Object(i.b)("phrases.no_permission_to_do_this"))}),[null===w||void 0===w?void 0:w.id,u.can_edit_client]);return Object(m.jsxs)(q,{title:Object(i.b)("deleted_calendar_drawer.title"),open:a,width:800,placement:b?"bottom":"right",height:"100%",onClose:y,closable:!0,destroyOnClose:!0,push:!1,styles:{body:{paddingTop:10}},footer:Object(m.jsx)(z.a,{close:y,cancel_text:Object(i.b)("verbs.close")}),children:[Object(m.jsx)(r.a.Provider,{value:_,children:Object(m.jsxs)(B,{children:[Object(m.jsx)(E.a,{visible:!!v,small:!0}),Object(m.jsxs)(n.g,{$column:!0,$alignCenter:!0,$isFlex:!0,$mBottom:10,children:[Object(m.jsx)(D.a,{size:b?60:90,src:null===w||void 0===w?void 0:w.avatar_url,onClick:A},null===w||void 0===w?void 0:w.avatar_url),Object(m.jsx)(n.i,{$noColor:!0,onClick:A,$mTop:10,children:Object(m.jsx)(r.b,{width:b?16:18,$size:18,children:null===w||void 0===w?void 0:w.name})})]}),b?Object(m.jsx)(k,{calendars:I,loading:_}):Object(m.jsx)(x,{calendars:I,loading:_}),Object(m.jsx)(h,{historical:C})]})}),Object(m.jsx)(o.a,{ref:j})]})};N.displayName="DeletedCalendarDrawer";t.a=Object(s.forwardRef)(N);const q=Object(F.d)(n.a).withConfig({componentId:"wb__sc-cs945w-0"})([".ant-drawer-header,.ant-drawer-body{","}"],(e=>e.theme.is_mobile&&"background: #f8f8f8;")),B=F.d.div.withConfig({componentId:"wb__sc-cs945w-1"})(["display:flex;flex-direction:column;flex-wrap:wrap;position:relative;width:100%;"])},1090:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(3024),n=a(1438),r=a(159),o=a(250),l=a(579),d=a(18),b=a(596),u=a(583),j=a(27),m=a(37),p=a(2879),h=a(76);const O=m.e`
  query ClientReturnModal ($id: ID) {
    clients_service_return (id: $id) {
      id

      client {
        id
        name
        nickname
        phone2
        phone1
        avatar_url
      }

      inventory_product {
        id
        return_time
        description
        service
      }

      inventory_sale {
        id
        code
      }
    }

    current_salon {
      id

      sms_message_configuration {
        id
        sms_message_client_return
        sms_message_client_return_product
      }
    }
  }
`;var _=()=>Object(p.a)(O,{onError:e=>{h.a.captureException(e),console.log(e)}}),x=a(19),v=a(631),g=a(116),y=a(22);const f=(e,t)=>{var a,m;const p=Object(j.a)((e=>e.current_user.permissions)),h=Object(s.useRef)(null),[O,x]=Object(s.useState)(!1),[f,{data:k,loading:C}]=_(),I=e=>{f({variables:{id:e}}),x(!0)},A=()=>{x(!1)};Object(s.useImperativeHandle)(t,(()=>({open:I,close:A})));const S=null===k||void 0===k?void 0:k.clients_service_return,$=null===S||void 0===S?void 0:S.client,E=null===S||void 0===S?void 0:S.inventory_product,F=Object(s.useMemo)((()=>null!==E&&void 0!==E&&E.service?Object(i.b)("modals.client_return.service_description",{return_time:null===E||void 0===E?void 0:E.return_time,name:null===$||void 0===$?void 0:$.name,description:null===E||void 0===E?void 0:E.description}):Object(i.b)("modals.client_return.product_description",{return_time:null===E||void 0===E?void 0:E.return_time,name:null===$||void 0===$?void 0:$.name,description:null===E||void 0===E?void 0:E.description})),[null===$||void 0===$?void 0:$.name,null===E||void 0===E?void 0:E.description,null===E||void 0===E?void 0:E.return_time,null===E||void 0===E?void 0:E.service]),D=Object(s.useMemo)((()=>{let e="";var t,a;null!==E&&void 0!==E&&E.service?e=(null===k||void 0===k||null===(t=k.current_salon.sms_message_configuration)||void 0===t?void 0:t.sms_message_client_return)||"":e=(null===k||void 0===k||null===(a=k.current_salon.sms_message_configuration)||void 0===a?void 0:a.sms_message_client_return_product)||"";return e=e.replace(d.z,(null===$||void 0===$?void 0:$.name)||""),e=e.replace(d.B,(null===$||void 0===$?void 0:$.nickname)||""),e=e.replace(d.l,(null===E||void 0===E?void 0:E.return_time.toString())||""),e=e.replace(d.F,(null===E||void 0===E?void 0:E.description)||""),e}),[null===$||void 0===$?void 0:$.name,null===$||void 0===$?void 0:$.nickname,null===k||void 0===k||null===(a=k.current_salon.sms_message_configuration)||void 0===a?void 0:a.sms_message_client_return,null===k||void 0===k||null===(m=k.current_salon.sms_message_configuration)||void 0===m?void 0:m.sms_message_client_return_product,null===E||void 0===E?void 0:E.description,null===E||void 0===E?void 0:E.return_time,null===E||void 0===E?void 0:E.service]),z=Object(s.useCallback)((()=>{var e;p.can_edit_client?null===(e=h.current)||void 0===e||e.open({id:null===$||void 0===$?void 0:$.id,initial_active_bar:"panel"}):g.b.warning(Object(i.b)("phrases.no_permission_to_do_this"))}),[null===$||void 0===$?void 0:$.id,p.can_edit_client]);return Object(y.jsxs)(c.a,{open:O,onCancel:()=>x(!1),footer:null,children:[Object(y.jsx)(u.a.Provider,{value:C,children:Object(y.jsxs)(w,{children:[Object(y.jsx)(o.g,{$column:!0,children:Object(y.jsx)(o.h,{$alignCenter:!0,$textEllipsis:!0,$size:24,$light:!0,children:Object(i.b)("modals.client_return.return_of_client")})}),Object(y.jsx)(n.a,{}),Object(y.jsxs)(o.g,{$column:!0,$alignCenter:!0,$isFlex:!0,$mBottom:10,children:[Object(y.jsx)(v.a,{onClick:z,size:150,src:null===$||void 0===$?void 0:$.avatar_url}),Object(y.jsx)(o.i,{$noColor:!0,onClick:z,$mTop:10,children:Object(y.jsx)(u.b,{width:18,$size:18,children:null===$||void 0===$?void 0:$.name})}),Object(y.jsx)(u.b,{width:25,$mTop:10,$bold:!0,$alignCenter:!0,children:F})]}),p.can_access_client_phone&&Object(y.jsx)(o.g,{$column:!0,$alignCenter:!0,$margins:[20,0],children:(!(null===$||void 0===$||!$.phone1)||!(null===$||void 0===$||!$.phone2))&&Object(y.jsx)(r.a,{type:"primary",onClick:()=>{Object(l.z)({phone:(null===$||void 0===$?void 0:$.phone2)||(null===$||void 0===$?void 0:$.phone1),message:D})},children:Object(i.b)("modals.client_return.talk_to_client")})})]})}),Object(y.jsx)(b.a,{ref:h})]})};f.displayName="ClientReturnModal";t.a=Object(s.forwardRef)(f);const w=x.d.div.withConfig({componentId:"wb__sc-v2kwd4-0"})(["background:rgba(255,255,255,0.9);border-radius:3px;display:flex;flex-wrap:wrap;flex-direction:column;align-items:center;padding:15px;width:500px;max-width:95%;min-height:400px;"])},1091:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(3024),n=a(1438),r=a(250),o=a(583),l=a(596),d=a(27),b=a(37),u=a(2879),j=a(76);const m=b.e`
  query SMSResponseModal ($id: ID) {
    sms_response (id: $id) {
      id
      replied_at
      sms_text

      client {
        id
        name
        avatar_url
      }
    }
  }
`;var p=()=>Object(u.a)(m,{onError:e=>{j.a.captureException(e),console.log(e)}}),h=a(19),O=a(631),_=a(53),x=a.n(_),v=a(116),g=a(22);const y=(e,t)=>{const[a,b]=Object(s.useState)(!1),u=Object(d.a)((e=>e.current_user.permissions)),j=Object(s.useRef)(null),[m,{data:h,loading:_}]=p(),y=e=>{m({variables:{id:e}}),b(!0)},w=()=>{b(!1)};Object(s.useImperativeHandle)(t,(()=>({open:y,close:w})));const k=null===h||void 0===h?void 0:h.sms_response,C=null===k||void 0===k?void 0:k.client,I=Object(s.useCallback)((()=>{var e;u.can_edit_client?null===(e=j.current)||void 0===e||e.open({id:null===C||void 0===C?void 0:C.id,initial_active_bar:"panel"}):v.b.warning(Object(i.b)("phrases.no_permission_to_do_this"))}),[null===C||void 0===C?void 0:C.id,u.can_edit_client]);return Object(g.jsxs)(c.a,{open:a,onCancel:()=>b(!1),footer:null,children:[Object(g.jsx)(o.a.Provider,{value:_,children:Object(g.jsxs)(f,{children:[Object(g.jsx)(r.g,{$column:!0,children:Object(g.jsx)(r.h,{$alignCenter:!0,$textEllipsis:!0,$size:24,$light:!0,children:Object(i.b)("modals.sms_response.sms_response")})}),Object(g.jsx)(n.a,{}),Object(g.jsxs)(r.g,{$column:!0,$alignCenter:!0,$isFlex:!0,$mBottom:10,children:[Object(g.jsx)(O.a,{onClick:I,size:150,src:null===C||void 0===C?void 0:C.avatar_url}),Object(g.jsx)(r.i,{$noColor:!0,onClick:I,$mTop:10,children:Object(g.jsx)(o.b,{width:18,$size:18,children:null===C||void 0===C?void 0:C.name})}),null!==k&&void 0!==k&&k.sms_text?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(r.h,{$mTop:10,$bold:!0,children:[Object(i.b)("words.message"),":"]}),Object(g.jsx)(r.h,{$alignCenter:!0,children:null===k||void 0===k?void 0:k.sms_text})]}):Object(g.jsx)(o.b,{width:25,$mTop:10,$bold:!0,children:Object(i.b)("modals.sms_response.no_message")})]}),Object(g.jsx)(r.g,{$column:!0,$alignCenter:!0,$margins:[20,0],children:Object(g.jsx)(o.b,{width:7,children:x()(null===k||void 0===k?void 0:k.replied_at).format("LL")})})]})}),Object(g.jsx)(l.a,{ref:j})]})};y.displayName="SmsResponseModal";t.a=Object(s.forwardRef)(y);const f=h.d.div.withConfig({componentId:"wb__sc-1i40cp2-0"})(["background:rgba(255,255,255,0.9);border-radius:3px;display:flex;flex-wrap:wrap;flex-direction:column;align-items:center;padding:15px;width:500px;max-width:95%;min-height:400px;"])},1092:function(e,t,a){"use strict";var s=a(0),i=a(3024),c=a(250),n=a(583),r=a(37),o=a(2879),l=a(76);const d=r.e`
  query ClientReturnModal ($id: ID) {
    announce_notification(id: $id) {
      id
      title
      message
      send_to
      status
      created_at
    }
  }
`;var b=()=>Object(o.a)(d,{onError:e=>{l.a.captureException(e),console.log(e)}}),u=a(19),j=a(22);const m=(e,t)=>{const[a,r]=Object(s.useState)(!1),[o,{data:l,loading:d}]=b(),u=e=>{o({variables:{id:e}}),r(!0)},m=()=>{r(!1)};Object(s.useImperativeHandle)(t,(()=>({open:u,close:m})));const h=null===l||void 0===l?void 0:l.announce_notification;return Object(j.jsx)(i.a,{open:a,onCancel:()=>r(!1),footer:null,children:Object(j.jsx)(n.a.Provider,{value:d,children:Object(j.jsxs)(p,{children:[Object(j.jsx)(c.g,{$column:!0,children:Object(j.jsx)(c.h,{$alignCenter:!0,$size:24,$semibold:!0,$light:!0,children:null===h||void 0===h?void 0:h.title})}),Object(j.jsx)(c.g,{$column:!0,$isFlex:!0,$mBottom:10,children:Object(j.jsx)(n.b,{width:25,$mTop:10,children:null===h||void 0===h?void 0:h.message})})]})})})};m.displayName="CsAnnounceModal";t.a=Object(s.forwardRef)(m);const p=u.d.div.withConfig({componentId:"wb__sc-2bn7z7-0"})(["background:rgba(255,255,255,0.9);border-radius:3px;white-space:pre-line;display:flex;flex-wrap:wrap;flex-direction:column;width:500px;max-width:100%;height:auto;"])},1093:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(3024),n=a(3025),r=a(250),o=a(18),l=a(596),d=a(583),b=a(27),u=a(37),j=a(2879),m=a(76);const p=u.e`
  query ReviewModal ($id: ID) {
    salon_review (id: $id) {
      id
      description
      rating
      created_at

      inventory_sale {
        id
        code

        client {
          id
          name
          avatar_url
        }
      }

      employee {
        id
        name
      }
    }
  }
`;var h=()=>Object(j.a)(p,{onError:e=>{m.a.captureException(e),console.log(e)}}),O=a(19),_=a(631),x=a(53),v=a.n(x),g=a(116),y=a(22);const f=(e,t)=>{const[a,u]=Object(s.useState)(!1),j=Object(b.a)((e=>e.current_user.permissions)),m=Object(s.useRef)(null),[p,{data:O,loading:x}]=h(),f=e=>{p({variables:{id:e}}),u(!0)},k=()=>{u(!1)};Object(s.useImperativeHandle)(t,(()=>({open:f,close:k})));const C=null===O||void 0===O?void 0:O.salon_review,I=null===C||void 0===C?void 0:C.inventory_sale.client,A=Object(s.useCallback)((()=>{var e;j.can_edit_client?null===(e=m.current)||void 0===e||e.open({id:null===I||void 0===I?void 0:I.id,initial_active_bar:"panel"}):g.b.warning(Object(i.b)("phrases.no_permission_to_do_this"))}),[null===I||void 0===I?void 0:I.id,j.can_edit_client]);return Object(y.jsxs)(c.a,{className:"webook-modal",open:a,onCancel:()=>u(!1),footer:null,centered:!0,styles:{body:{padding:0,overflow:"hidden"}},children:[Object(y.jsx)(d.a.Provider,{value:x,children:Object(y.jsx)(w,{children:Object(y.jsxs)(r.g,{$column:!0,$alignCenter:!0,$isFlex:!0,$mBottom:10,children:[Object(y.jsx)(_.a,{onClick:A,size:150,src:null===I||void 0===I?void 0:I.avatar_url}),Object(y.jsx)(r.i,{$noColor:!0,onClick:A,$mTop:10,children:Object(y.jsx)(d.b,{width:18,$size:18,children:null===I||void 0===I?void 0:I.name})}),Object(y.jsx)(d.b,{width:15,children:Object(y.jsx)(n.a,{disabled:!0,value:null===C||void 0===C?void 0:C.rating})}),Object(y.jsxs)(r.h,{$mTop:10,$bold:!0,children:[Object(i.b)("words.comment"),":"]}),Object(y.jsx)(d.b,{$fullWidth:!0,$align:"justify",lines:6,width:"100%",$mTop:10,children:(null===C||void 0===C?void 0:C.description)||Object(i.b)("phrases.no_comment")}),Object(y.jsx)(r.g,{$column:!0,$alignCenter:!0,$margins:[20,0],children:Object(y.jsx)(d.b,{width:12,children:v()(null===C||void 0===C?void 0:C.created_at,o.H).format("L HH:mm")})})]})})}),Object(y.jsx)(l.a,{ref:m})]})};f.displayName="ReviewModal";t.a=Object(s.forwardRef)(f);const w=O.d.div.withConfig({componentId:"wb__sc-xb65df-0"})(["background:rgba(255,255,255,0.9);display:flex;flex-wrap:wrap;flex-direction:column;align-items:center;padding:20px;border-radius:5px;min-height:400px;overflow-y:auto;overflow-x:hidden;max-height:90vh;"])},1208:function(e,t,a){"use strict";var s=a(0);var i=a(18),c=a(37),n=a(1850),r=a(76);const o=c.e`
  mutation CreateWebpushSubscription ($data: CreateWebpushSubscriptionInput!) {
    createWebpushSubscription (input: $data) {
      success
      errors
    }
  }
`;var l=()=>{const[e,{loading:t}]=Object(n.a)(o);return[Object(s.useCallback)((async t=>{try{const{data:a}=await e({variables:{data:t}}),{success:s,errors:i}=(null===a||void 0===a?void 0:a.createWebpushSubscription)||{};return s?{success:!0}:(r.a.captureException(`[useCreateWebpushSubscription] ${i}`),console.error(i),{success:!1})}catch(a){return r.a.captureException(a),console.error(a),{success:!1}}}),[e]),{loading:t}]},d=a(62),b=a(27),u=a(116);const j=c.e`
  mutation DestroySale($data: DestroyWebpushSubscriptionInput!) {
    destroyWebpushSubscription(input: $data) {
      success errors
    }
  }
`;var m=()=>{const[e,{loading:t}]=Object(n.a)(j);return[Object(s.useCallback)((async t=>{try{var a;const s=await e({variables:{data:{endpoint:t}}}),{success:i=!1,errors:c=[]}=(null===(a=s.data)||void 0===a?void 0:a.destroyWebpushSubscription)||{};return null===c||void 0===c||c.forEach((e=>u.b.error(e))),{success:i}}catch(s){return r.a.captureException(s),console.error(s),{success:!1}}}),[e]),t]},p=a(82);t.a=()=>{const e=Object(b.a)((e=>e.is_mobile)),t=Object(d.a)(),a=Object(s.useRef)(),[c]=l(),[n]=m(),r=Object(s.useCallback)((()=>!(navigator.userAgent.indexOf("Edg")>-1)&&("serviceWorker"in navigator&&"PushManager"in window?"denied"!==Notification.permission||(console.debug("[useWebpushSubscription] Permission denied"),!1):(console.debug("[useWebpushSubscription] Push messaging is not supported"),!1))),[]),o=Object(s.useCallback)((async()=>{try{a.current=await navigator.serviceWorker.register(p.a.SERVICE_WORKER_URL);const e=await a.current.pushManager.getSubscription();return t({type:"set_webpush_subscription",payload:e}),e}catch(e){return console.debug("[useWebpushSubscription] Service Worker Error",e),t({type:"set_webpush_subscription",payload:null}),null}}),[t]),u=Object(s.useCallback)((async e=>{var a,s;const i=e.toJSON()||{},n=i.endpoint,r=null===(a=i.keys)||void 0===a?void 0:a.auth,o=null===(s=i.keys)||void 0===s?void 0:s.p256dh,{success:l}=await c({endpoint:n,auth:r,p256dh:o});l?t({type:"set_webpush_subscription",payload:e}):e.unsubscribe()}),[c,t]),j=Object(s.useCallback)((async()=>{const e=(e=>{const t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),a=window.atob(t),s=new Uint8Array(a.length);for(let i=0;i<a.length;++i)s[i]=a.charCodeAt(i);return s})(i.N);if(a.current)try{const t=await a.current.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e});u(t)}catch(t){console.debug("[useWebpushSubscription] Failed to subscribe the user: ",t)}}),[u]),h=Object(s.useCallback)((async()=>{if(e)return;const t=r(),a=await o();t&&!a&&j()}),[r,o,e,j]),O=Object(s.useCallback)((async()=>{if(e)return!1;try{const e=await o();if(!e)return!1;e.unsubscribe(),t({type:"set_webpush_subscription",payload:null});const a=e.endpoint,{success:s}=await n(a);return s}catch(a){return console.log("[useWebpushSubscription] ",a),!1}}),[n,t,o,e]);return Object(s.useMemo)((()=>({subscribeUser:h,removeSubscription:O})),[O,h])}},1272:function(e,t){},1430:function(e,t,a){"use strict";var s=a(0),i=a(27),c=a(250),n=a(3024),r=a(19),o=a(50),l=a(447),d=a(340),b=a(137),u=a(18),j=a(116),m=a(2824),p=a(159),h=a(2976),O=a(3023),_=a(1442),x=a(3064),v=a(1526),g=a.p+"static/media/employee_invitation.1c9ccfd3.png",y=a(22);const f=()=>Object(y.jsx)(k,{style:{backgroundImage:`url(${g})`},children:Object(y.jsxs)(C,{children:[Object(y.jsxs)(I,{children:[Object(y.jsx)(_.a,{}),Object(y.jsx)(c.h,{className:"description",children:Object(o.b)("employee_invitation.phrase1")})]}),Object(y.jsxs)(I,{children:[Object(y.jsx)(_.a,{}),Object(y.jsx)(c.h,{className:"description",children:Object(o.b)("employee_invitation.phrase2")})]}),Object(y.jsxs)(I,{children:[Object(y.jsx)(_.a,{}),Object(y.jsx)(c.h,{className:"description",children:Object(o.b)("employee_invitation.phrase3")})]})]})});f.displayName="ImageComponent";var w=f;const k=r.d.div.withConfig({componentId:"wb__sc-hkua7q-0"})(["display:flex;position:relative;align-items:flex-start;justify-content:center;flex:1;background-position:center;background-size:cover;",""],(e=>e.theme.is_mobile&&Object(r.c)(["width:100%;background-position:top;min-height:85vw;max-height:85vw;"]))),C=r.d.div.withConfig({componentId:"wb__sc-hkua7q-1"})(["position:absolute;bottom:40px;width:70%;display:flex;flex-direction:column;margin:0 auto;",""],(e=>e.theme.is_mobile&&Object(r.c)(["bottom:10px;width:80%;"]))),I=r.d.div.withConfig({componentId:"wb__sc-hkua7q-2"})(["color:#FFFFFF;display:flex;flex-direction:row;align-items:center;margin-bottom:10px;.anticon-check{font-size:","rem;}span + span{margin-left:","px;}.description{font-size:16rem;}",""],(e=>e.theme.is_mobile?18:22),(e=>e.theme.is_mobile?5:10),(e=>e.theme.is_mobile&&Object(r.c)(["margin-bottom:5px;.description{font-size:12rem;}"])));var A=a(62),S=a(1033),$=a(82);const E=()=>{const e=Object(A.a)(),t=Object(i.a)((e=>e.current_user)),a=Object(i.a)((e=>e.current_user.salon.salon_employee_invitation)),n=Object(i.a)((e=>e.employees.filter((e=>e.active)))),r=Object(i.a)((e=>{var t;return!(null===(t=e.current_user.salon.subscription)||void 0===t||!t.is_trial)})),[g,{loading:f}]=Object(v.a)(),k=Object(S.a)(Object(o.b)("employee_invitation.link_copy_message")),C=Object(s.useMemo)((()=>`${u.v?"localhost:3040":$.a.FRONTEND_DOMAIN}/register?invitation_uuid=${a.uuid}`),[a.uuid]),I=()=>{k(C,t.salon.name)},E=async a=>{const{success:s}=await g({salon_employee_invitation_attributes:a});s&&((a=>{const s=Object(b.cloneDeepWith)(t),i=Object(b.cloneDeepWith)(s.salon);s.salon={...i,salon_employee_invitation:{...i.salon_employee_invitation,...a}},e({type:"set_current_user",payload:s})})(a),j.b.success(Object(o.b)("phrases.saved_successfully",{prefix:Object(o.b)("words.setting"),context:"female"})))};return Object(y.jsxs)(D,{children:[Object(y.jsxs)(z,{children:[Object(y.jsx)(N,{children:Object(o.b)("employee_invitation.title")}),r&&Object(y.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:15},children:[Object(y.jsx)(_.a,{style:{color:"green",fontSize:22}}),Object(y.jsx)(c.h,{$mLeft:10,children:Object(o.b)("employee_invitation.trial_message")})]}),Object(y.jsx)(c.h,{$mBottom:10,children:Object(o.b)("employee_invitation.team_member",{count:n.length})}),Object(y.jsx)(m.a,{disabled:!0,value:`https://${C}`,suffix:Object(y.jsx)(p.a,{icon:Object(y.jsx)(x.a,{}),type:"primary",onClick:I,disabled:f,children:Object(o.b)("verbs.copy")}),style:{marginBottom:10}}),Object(y.jsx)(h.a,{style:{marginBottom:15},type:"info",showIcon:!1,message:Object(y.jsx)(d.a,{i18nKey:"employee_invitation.any_person_link_information",components:[Object(y.jsx)(c.i,{style:{textDecoration:"underline"},disabled:f,$noColor:!0,onClick:()=>{f||E({uuid:Object(l.a)()})}})]})}),Object(y.jsx)("div",{style:{display:"flex"},children:Object(y.jsx)(O.a,{checked:a.active,checkedChildren:Object(o.b)("words.active"),unCheckedChildren:Object(o.b)("words.inactive"),onClick:e=>E({active:e}),loading:f,disabled:f})}),Object(y.jsx)(c.h,{style:{marginTop:15},$size:12,$color:"gray_1",children:Object(o.b)("employee_invitation.recaptch_warning")}),Object(y.jsx)(p.a,{disabled:f,style:{marginTop:30},onClick:I,type:"primary",block:!0,size:"large",children:Object(o.b)("employee_invitation.invite_team_members")})]}),Object(y.jsx)(w,{})]})};E.displayName="Content";var F=Object(s.memo)(E);const D=r.d.div.withConfig({componentId:"wb__sc-1jw4u9-0"})(["display:flex;width:100%;height:100%;",""],(e=>e.theme.is_mobile&&Object(r.c)(["justify-content:start;flex-direction:column-reverse;"]))),z=r.d.div.withConfig({componentId:"wb__sc-1jw4u9-1"})(["display:flex;flex-direction:column;padding:50px 30px;justify-content:center;max-width:360px;",""],(e=>e.theme.is_mobile&&Object(r.c)(["padding:20px;height:100%;justify-content:start;"]))),N=Object(r.d)(c.h).attrs({$semibold:!0}).withConfig({componentId:"wb__sc-1jw4u9-2"})(["font-size:30rem;line-height:1.2;margin-bottom:15px;",""],(e=>e.theme.is_mobile&&Object(r.c)(["font-size:24rem;text-align:center;"]))),q=(e,t)=>{const[a,c]=Object(s.useState)(!1),n=Object(i.a)((e=>e.is_mobile)),r=()=>{c(!0)},o=()=>{c(!1)};return Object(s.useImperativeHandle)(t,(()=>({open:r,close:o}))),n?Object(y.jsx)(B,{destroyOnClose:!0,onClose:o,open:a,placement:"bottom",height:"100%",footer:null,children:Object(y.jsx)(F,{})}):Object(y.jsx)(P,{closable:!0,width:1e3,destroyOnClose:!0,centered:!0,onCancel:o,open:a,footer:null,children:Object(y.jsx)(F,{})})};q.displayName="InviteEmployeesModal";t.a=Object(s.forwardRef)(q);const B=Object(r.d)(c.a).withConfig({componentId:"wb__sc-1npmy6h-0"})([".ant-drawer-close{padding:0 !important;text-shadow:0 0 4px #000;}.anticon-close{padding:10px;border-radius:50%;background-color:rgba(0,0,0,0.5);color:#FFFFFF;}.ant-drawer-body{padding:0 !important;}"]),P=Object(r.d)(n.a).withConfig({componentId:"wb__sc-1npmy6h-1"})([".ant-modal-content{padding:0;}.ant-modal-close-x{border-radius:50%;display:flex;align-items:center;justify-content:center;width:34px;height:34px;background-color:rgba(0,0,0,0.5);color:#FFFFFF;text-shadow:0 0 4px #000;}.ant-modal-body{padding:0 !important;}.ant-modal-content{border-radius:15px;overflow:hidden;}"])},1526:function(e,t,a){"use strict";var s=a(116),i=a(0),c=a(37),n=a(1850),r=a(76),o=a(50);const l=c.e`
  mutation UserOnvoardingSaveSalon($data: SaveSalonInput!) {
    saveSalon(input: $data) {
      success
      errors
    }
  }
`;t.a=()=>{const[e,{loading:t}]=Object(n.a)(l);return[Object(i.useCallback)((async t=>{try{const{data:a}=await e({variables:{data:t}}),{success:i=!1,errors:c}=(null===a||void 0===a?void 0:a.saveSalon)||{};return null===c||void 0===c||c.forEach((e=>s.b.error(e))),{success:i}}catch(a){return r.a.captureException(a),s.b.error(Object(o.b)("phrases.generic_save_error_message")),console.error(a),{success:!1}}}),[e]),{loading:t}]}},1812:function(e,t,a){"use strict";a.r(t);var s=a(13),i=a(3),c=a(5),n=a(32),r=a(7),o=a.n(r),l=a(252),d=a(104),b=a(94),u=a(0),j=a.n(u);function m(e,t){var a=e.disabled,s=e.prefixCls,i=e.character,c=e.characterRender,n=e.index,r=e.count,l=e.value,b=e.allowHalf,u=e.focused,m=e.onHover,p=e.onClick,h=n+1,O=new Set([s]);0===l&&0===n&&u?O.add("".concat(s,"-focused")):b&&l+.5>=h&&l<h?(O.add("".concat(s,"-half")),O.add("".concat(s,"-active")),u&&O.add("".concat(s,"-focused"))):(h<=l?O.add("".concat(s,"-full")):O.add("".concat(s,"-zero")),h===l&&u&&O.add("".concat(s,"-focused")));var _="function"===typeof i?i(e):i,x=j.a.createElement("li",{className:o()(Array.from(O)),ref:t},j.a.createElement("div",{onClick:a?null:function(e){p(e,n)},onKeyDown:a?null:function(e){e.keyCode===d.a.ENTER&&p(e,n)},onMouseMove:a?null:function(e){m(e,n)},role:"radio","aria-checked":l>n?"true":"false","aria-posinset":n+1,"aria-setsize":r,tabIndex:a?-1:0},j.a.createElement("div",{className:"".concat(s,"-first")},_),j.a.createElement("div",{className:"".concat(s,"-second")},_)));return c&&(x=c(x,e)),x}var p=j.a.forwardRef(m);var h=["prefixCls","className","defaultValue","value","count","allowHalf","allowClear","keyboard","character","characterRender","disabled","direction","tabIndex","autoFocus","onHoverChange","onChange","onFocus","onBlur","onKeyDown","onMouseLeave"];function O(e,t){var a=e.prefixCls,r=void 0===a?"rc-rate":a,m=e.className,O=e.defaultValue,_=e.value,x=e.count,v=void 0===x?5:x,g=e.allowHalf,y=void 0!==g&&g,f=e.allowClear,w=void 0===f||f,k=e.keyboard,C=void 0===k||k,I=e.character,A=void 0===I?"\u2605":I,S=e.characterRender,$=e.disabled,E=e.direction,F=void 0===E?"ltr":E,D=e.tabIndex,z=void 0===D?0:D,N=e.autoFocus,q=e.onHoverChange,B=e.onChange,P=e.onFocus,R=e.onBlur,M=e.onKeyDown,T=e.onMouseLeave,L=Object(n.a)(e,h),V=function(){var e=u.useRef({});return[function(t){return e.current[t]},function(t){return function(a){e.current[t]=a}}]}(),H=Object(c.a)(V,2),U=H[0],G=H[1],Y=j.a.useRef(null),Q=function(){var e;$||(null===(e=Y.current)||void 0===e||e.focus())};j.a.useImperativeHandle(t,(function(){return{focus:Q,blur:function(){var e;$||(null===(e=Y.current)||void 0===e||e.blur())}}}));var J=Object(l.a)(O||0,{value:_}),W=Object(c.a)(J,2),Z=W[0],K=W[1],X=Object(l.a)(null),ee=Object(c.a)(X,2),te=ee[0],ae=ee[1],se=function(e,t){var a="rtl"===F,s=e+1;if(y){var i=U(e),c=function(e){var t=function(e){var t,a,s=e.ownerDocument,i=s.body,c=s&&s.documentElement,n=e.getBoundingClientRect();return t=n.left,a=n.top,{left:t-=c.clientLeft||i.clientLeft||0,top:a-=c.clientTop||i.clientTop||0}}(e),a=e.ownerDocument,s=a.defaultView||a.parentWindow;return t.left+=function(e){var t=e.pageXOffset,a="scrollLeft";if("number"!==typeof t){var s=e.document;"number"!==typeof(t=s.documentElement[a])&&(t=s.body[a])}return t}(s),t.left}(i),n=i.clientWidth;(a&&t-c>n/2||!a&&t-c<n/2)&&(s-=.5)}return s},ie=function(e){K(e),null===B||void 0===B||B(e)},ce=j.a.useState(!1),ne=Object(c.a)(ce,2),re=ne[0],oe=ne[1],le=j.a.useState(null),de=Object(c.a)(le,2),be=de[0],ue=de[1],je=function(e,t){var a=se(t,e.pageX);a!==te&&(ue(a),ae(null)),null===q||void 0===q||q(a)},me=function(e){$||(ue(null),ae(null),null===q||void 0===q||q(void 0)),e&&(null===T||void 0===T||T(e))},pe=function(e,t){var a=se(t,e.pageX),s=!1;w&&(s=a===Z),me(),ie(s?0:a),ae(s?a:null)};j.a.useEffect((function(){N&&!$&&Q()}),[]);var he=new Array(v).fill(0).map((function(e,t){return j.a.createElement(p,{ref:G(t),index:t,count:v,disabled:$,prefixCls:"".concat(r,"-star"),allowHalf:y,value:null===be?Z:be,onClick:pe,onHover:je,key:e||t,character:A,characterRender:S,focused:re})})),Oe=o()(r,m,Object(i.a)(Object(i.a)({},"".concat(r,"-disabled"),$),"".concat(r,"-rtl"),"rtl"===F));return j.a.createElement("ul",Object(s.a)({className:Oe,onMouseLeave:me,tabIndex:$?-1:z,onFocus:$?null:function(){oe(!0),null===P||void 0===P||P()},onBlur:$?null:function(){oe(!1),null===R||void 0===R||R()},onKeyDown:$?null:function(e){var t=e.keyCode,a="rtl"===F,s=y?.5:1;C&&(t===d.a.RIGHT&&Z<v&&!a?(ie(Z+s),e.preventDefault()):t===d.a.LEFT&&Z>0&&!a||t===d.a.RIGHT&&Z>0&&a?(ie(Z-s),e.preventDefault()):t===d.a.LEFT&&Z<v&&a&&(ie(Z+s),e.preventDefault())),null===M||void 0===M||M(e)},ref:Y},Object(b.a)(L,{aria:!0,data:!0,attr:!0})),he)}var _=j.a.forwardRef(O);t.default=_},2005:function(e,t,a){var s=a(2006);function i(){var e=Array.prototype.slice.call(arguments);if(!window.hj)throw new Error("Hotjar is not initialized");window.hj.apply(void 0,e)}e.exports={hotjar:{initialize:function(e,t){s(e,t)},identify:function(e,t){i("identify",e,t)},event:function(e){i("event",e)},stateChange:function(e){i("stateChange",e)}}}},2006:function(e,t){e.exports=function(e,t){var a,s,i,c;a=window,s=document,a.hj=a.hj||function(){(a.hj.q=a.hj.q||[]).push(arguments)},a._hjSettings={hjid:e,hjsv:t},a._scriptPath="//static.hotjar.com/c/hotjar-"+a._hjSettings.hjid+".js?sv="+a._hjSettings.hjsv,document.querySelector('script[src*="'+a._scriptPath+'"]')||(i=s.getElementsByTagName("head")[0],(c=s.createElement("script")).async=1,c.src=a._scriptPath,i.appendChild(c))}},2864:function(e,t,a){"use strict";var s=a(13),i=a(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 512a48 48 0 1096 0 48 48 0 10-96 0zm200 0a48 48 0 1096 0 48 48 0 10-96 0zm-400 0a48 48 0 1096 0 48 48 0 10-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"}}]},name:"message",theme:"outlined"},n=a(71),r=function(e,t){return i.createElement(n.a,Object(s.a)({},e,{ref:t,icon:c}))},o=i.forwardRef(r);t.a=o},2923:function(e,t,a){"use strict";a.r(t);var s=a(0),i=a.n(s),c=a(354),n=a(20),r=a(76),o=a(50),l=a(3024),d=a(1088),b=a(250),u=a(1430),j=a(19),m=a(37),p=a(1850),h=a(116);const O=m.e`
  mutation WebookSaveOnboardingAnswers($data: SaveOnboardingAnswersInput!) {
    saveOnboardingAnswers(input: $data) {
      success errors
    }
  }
`;var _=()=>{const[e,{loading:t}]=Object(p.a)(O);return[async t=>{const a=h.b.loading(`${Object(o.b)("verbs.saving")}...`,0);try{const{data:s}=await e({variables:{data:{answer_attributes:t}}}),{success:i=!1}=(null===s||void 0===s?void 0:s.saveOnboardingAnswers)||{};return{success:i}}catch(s){return r.a.captureException(s),console.error(s),{sucess:!1}}finally{a()}},t]},x=a(27),v=a(937),g=a.p+"static/media/barbearia.8e423fbf.svg",y=a.p+"static/media/salao-de-beleza.5ccdd695.svg",f=a.p+"static/media/esmalteria.a998883d.svg",w=a.p+"static/media/estetica.230a1696.svg",k=a.p+"static/media/outro-segmento.2f88b911.svg",C=a.p+"static/media/agendamento-online.910c453f.svg",I=a.p+"static/media/controlar-comandas.4c8ea260.svg",A=a.p+"static/media/controle-financeiro.951dcb4c.svg",S=a.p+"static/media/controle-estoque.aeb84165.svg",$=a.p+"static/media/profissional.63d1ce5c.svg",E=a.p+"static/media/users.50fdfacc.svg",F=a.p+"static/media/nao-quero-investir.04f1cd2b.svg",D=a.p+"static/media/sim-quero-investir.47e0cd78.svg",z=a.p+"static/media/urgente.510af4ab.svg",N=a.p+"static/media/muito-importante.3229f866.svg",q=a.p+"static/media/razoavelmente-importante.ca7c77ad.svg",B=a.p+"static/media/apenas-curiosidade.27897a2f.svg",P=a.p+"static/media/ferramentas-marketing-vendas.5c7aa264.svg",R=a.p+"static/media/gestao-completa-negocio.5d538794.svg",M=a.p+"static/media/relatorios-avancados.47d4de6c.svg",T=a.p+"static/media/suporte-humanizado.91094fec.svg",L=a.p+"static/media/sim-quero-sistema.37bc7534.svg",V=a.p+"static/media/nao-quero-sistema.04f1cd2b.svg";var H=[{title:Object(o.b)("onboarding.questions.your_segment"),question:"Qual o seu segmento?",subtitle:Object(o.b)("onboarding.questions.select_segment"),options:[{icon:g,name:Object(o.b)("onboarding.questions.barber_shop"),answer:"Barbearia"},{icon:y,name:Object(o.b)("onboarding.questions.beauty_salon"),answer:"Sal\xe3o de beleza"},{icon:f,name:Object(o.b)("onboarding.questions.nail_salon"),answer:"Esmalteria"},{icon:w,name:Object(o.b)("onboarding.questions.aesthetics"),answer:"Est\xe9tica"},{icon:w,name:Object(o.b)("onboarding.questions.clinic"),answer:"Clin\xedca"},{icon:k,name:Object(o.b)("onboarding.questions.other_segment"),answer:"Outro segmento"}]},{title:Object(o.b)("onboarding.questions.what_are_you_looking_for"),question:"O que voc\xea est\xe1 buscando?",subtitle:Object(o.b)("onboarding.questions.select_necessity"),options:[{icon:C,name:Object(o.b)("onboarding.questions.online_scheduling"),answer:"Agendamento online"},{icon:A,name:Object(o.b)("onboarding.questions.financial_control"),answer:"Controle financeiro avan\xe7ado"},{icon:I,name:Object(o.b)("onboarding.questions.sales_commission_control"),answer:"Controle de comandas e/ou comiss\xf5es"},{icon:S,name:Object(o.b)("onboarding.questions.stock_control"),answer:"Melhor gest\xe3o de estoque"},{icon:P,name:Object(o.b)("onboarding.questions.marketing_and_sales_tools"),answer:"Ferramentas de marketing e vendas"},{icon:R,name:Object(o.b)("onboarding.questions.full_business_management"),answer:"Gest\xe3o completa do neg\xf3cio"},{icon:M,name:Object(o.b)("onboarding.questions.advanced_reports"),answer:"Relat\xf3rios avan\xe7ados"},{icon:T,name:Object(o.b)("onboarding.questions.personalized_support"),answer:"Suporte humanizado"}]},{title:Object(o.b)("onboarding.questions.already_using_management_system"),question:"Utiliza algum sistema de gest\xe3o?",subtitle:"",isSingleColumn:!0,options:[{icon:L,name:Object(o.b)("words.yes"),answer:"Sim"},{icon:V,name:Object(o.b)("words.no"),answer:"N\xe3o"}]},{title:Object(o.b)("onboarding.questions.number_of_employees"),question:"N\xfamero de profissionais",subtitle:Object(o.b)("onboarding.questions.how_many_employees"),options:[{icon:$,name:Object(o.b)("onboarding.questions.only_me"),answer:"1 profissional"},{icon:E,name:Object(o.b)("onboarding.questions.two_employees"),answer:"2 profissionais"},{icon:E,name:Object(o.b)("onboarding.questions.three_to_five_employees"),answer:"3 a 5 profissionais"},{icon:E,name:Object(o.b)("onboarding.questions.six_to_ten_employees"),answer:"6 a 10 profissionais"},{icon:E,name:Object(o.b)("onboarding.questions.eleven_to_nineteen_employees"),answer:"11 a 19 profissionais"},{icon:E,name:Object(o.b)("onboarding.questions.above_nineteen_employees"),answer:"Acima de 19 profissionais"}]},{title:Object(o.b)("onboarding.questions.ready_to_grow"),question:"Disposto a investir",subtitle:Object(o.b)("onboarding.questions.ready_to_grow_subtitle"),isSingleColumn:!0,options:[{icon:D,name:Object(o.b)("onboarding.questions.yes_i_want_to_invest"),answer:"Sim, quero investir"},{icon:F,name:Object(o.b)("onboarding.questions.no_i_want_a_free_solution"),answer:"Nao, quero uma solucao gratuita"}]},{title:Object(o.b)("onboarding.questions.your_moment"),question:"Urgencia de contratacao",subtitle:Object(o.b)("onboarding.questions.your_moment_subtitle"),isSingleColumn:!0,options:[{icon:z,name:Object(o.b)("onboarding.questions.urgent"),answer:"Urgente"},{icon:N,name:Object(o.b)("onboarding.questions.very_important"),answer:"Muito"},{icon:q,name:Object(o.b)("onboarding.questions.reasonable"),answer:"Razoavel"},{icon:B,name:Object(o.b)("onboarding.questions.take_a_look"),answer:"Apenas curiosidade"}]}],U=a(159),G=a(585),Y=a(253);const Q=e=>{const t=new Intl.NumberFormat(Y.a.language,{minimumIntegerDigits:2,useGrouping:!1}),a=Math.floor(e/864e5),s=Math.floor(e%864e5/36e5),i=Math.floor(e%36e5/6e4),c=Math.floor(e%6e4/1e3);return{days:t.format(a),hours:t.format(s),minutes:t.format(i),seconds:t.format(c),expired:a+s+i+c<=0}};var J=e=>{const t=new Date(e).getTime(),[a,i]=Object(s.useState)(t-(new Date).getTime());return Object(s.useEffect)((()=>{i(t-(new Date).getTime());const e=setInterval((()=>i(t-(new Date).getTime())),1e3);return()=>clearInterval(e)}),[t]),Q(a)};const W=m.e`
  mutation SendPin($data: VerifyPinPhoneVerificationInput!) {
    phoneVerificationVerifyPin(input: $data) {
      success
      errors
    }
  }
`;var Z=()=>{const[e,{loading:t}]=Object(p.a)(W);return[Object(s.useCallback)((async t=>{try{const{data:a}=await e({variables:{data:{pin_code:t}}}),{success:s=!1,errors:i=[]}=(null===a||void 0===a?void 0:a.phoneVerificationVerifyPin)||{};return null===i||void 0===i||i.forEach((e=>h.b.error(e))),{success:s}}catch(a){return r.a.captureException(a),console.error(a),{success:!1}}}),[e]),{loading:t}]},K=a(3042),X=a(650),ee=a(591),te=a(22);var ae=e=>{let{send_method:t,setStep:a,sendPin:i,afterSave:c,phone:n,saving:r}=e;const[l,d]=Object(s.useState)(""),[u,j]=Object(s.useState)((new Date).getTime()+59999),m=Object(X.b)(),p=Object(x.a)((e=>e.is_mobile)),h=Object(s.useCallback)((()=>{m({message:"Ol\xe1, preciso de ajuda para valida\xe7\xe3o do meu telefone. Poderia me ajudar, por gentileza?"})}),[m]),O=Object(s.useRef)(null),[_,{loading:v}]=Z(),{minutes:g,seconds:y,expired:f}=J(u);Object(s.useEffect)((()=>{var e,t;0===l.length&&(null===(e=O.current)||void 0===e||e.forEach((e=>e.value="")),null===(t=O.current)||void 0===t||t[0].focus())}),[l]);const w=Object(s.useCallback)((()=>{t&&(i(t),j((new Date).getTime()+59999))}),[i,t]),k=Object(s.useCallback)((async e=>{const{success:t}=await _(e);t?c():d("")}),[c,_]);return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)(b.h,{$hex:"#777",$block:!0,$size:p?14:16,$alignCenter:!0,children:[Object(o.b)("onboarding.change_phone.sent_pin_code",{method:"sms"===t?Object(o.b)("acronyms.sms"):Object(o.b)("words.whatsapp")}),"\xa0",Object(te.jsx)(ee.a,{inputStyle:{fontWeight:"bold",color:"#777"},hide_input_styles:!0,disabled:!0,value:n},n),Object(te.jsx)("br",{}),Object(te.jsx)(U.a,{icon:Object(te.jsx)(K.a,{}),type:"link",onClick:h,loading:v,children:Object(o.b)("onboarding.change_phone.need_help")})]}),Object(te.jsxs)(b.g,{$alignCenter:!0,$column:!0,children:[Object(te.jsx)(b.g,{justify:"center",children:Object(te.jsx)(G.a,{autoFocus:!0,length:4,ref:O,validate:e=>!!e.match(/^\d+$/),inputMode:"numeric",disabled:v,onComplete:k})}),Object(te.jsx)(se,{children:Object(te.jsx)(U.a,{style:{marginTop:10},size:"large",block:!0,type:"primary",disabled:!f,loading:v||r,onClick:w,children:f?Object(o.b)("onboarding.change_phone.resend_code"):Object(o.b)("onboarding.change_phone.resend_code_in",{time:`${g}:${y}`})})})]})]})};const se=j.d.div.withConfig({componentId:"wb__sc-3uqxnl-0"})(["width:300px;margin-top:15px;display:flex;flex-direction:column;justify-content:center;"]);var ie=a(2937),ce=a(1526),ne=a(603);var re=e=>{let{setStep:t,refetch:a,phone:i}=e;const c=Object(x.a)((e=>e.is_mobile)),[n]=ie.a.useForm();Object(s.useEffect)((()=>{i&&n.setFieldsValue({phone:i})}),[n,i]);const[r,{loading:l}]=Object(ce.a)(),d=Object(s.useCallback)((async e=>{const{success:s}=await r(e);s&&(h.b.success(Object(o.b)("phrases.saved_successfully",{prefix:Object(o.b)("words.cellphone")})),a(),t("choose_send_method"))}),[a,r,t]);return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(b.h,{$hex:"#777",$block:!0,$semibold:!0,$size:c?16:20,$alignCenter:!0,children:Object(o.b)("onboarding.change_phone.change_phone_number")}),Object(te.jsx)(ie.a,{form:n,onFinish:d,children:Object(te.jsx)(b.g,{$justifyCenter:!0,children:Object(te.jsxs)(oe,{children:[Object(te.jsx)(ie.a.Item,{name:"phone",validateTrigger:"onBlur",rules:[{required:!0,message:Object(o.b)("phrases.is_required",{prefix:Object(o.b)("words.phone")})},{validateTrigger:"onBlur",validator:ne.j}],children:Object(te.jsx)(ee.a,{size:"large",placeholder:Object(o.b)("words.phone")})}),Object(te.jsx)(U.a,{size:"large",type:"primary",block:!0,loading:l,onClick:n.submit,children:Object(o.b)("verbs.save")})]})})})]})};const oe=j.d.div.withConfig({componentId:"wb__sc-1r8wo7t-0"})(["width:100%;max-width:300px;",""],(e=>e.theme.is_mobile&&Object(j.c)(["max-width:unset;"])));var le=a(2864);var de=e=>{let{phone:t,setStep:a,setSendMethod:i,sendPin:c}=e;const n=Object(x.a)((e=>e.is_mobile)),r=Object(s.useCallback)((e=>{i(e),a("verify_pin"),c(e)}),[c,i,a]);return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)(Ce,{onClick:()=>r("sms"),children:[Object(te.jsx)(b.d,{as:le.a,$paddings:10,$mRight:10}),Object(te.jsxs)("div",{children:[Object(te.jsx)(b.h,{$hex:"#777",$bold:!0,$block:!0,$size:n?16:20,children:Object(o.b)("acronyms.sms")}),Object(te.jsxs)(b.h,{$hex:"#777",$block:!0,$size:n?14:16,children:[Object(o.b)("onboarding.change_phone.in_the_number"),"\xa0",Object(te.jsx)(ee.a,{inputStyle:{fontWeight:"bold"},hide_input_styles:!0,disabled:!0,value:t},t)]})]})]}),Object(te.jsx)(b.h,{$mTop:10,$link:!0,onClick:()=>a("change_phone"),children:Object(o.b)("onboarding.change_phone.change_phone_number")})]})};const be=m.e`
  mutation SendPin($data: SendPinPhoneVerificationInput!) {
    phoneVerificationSendPin(input: $data) {
      success
      errors
    }
  }
`;var ue=()=>{const[e,{loading:t}]=Object(p.a)(be);return[Object(s.useCallback)((async t=>{try{const{data:a}=await e({variables:{data:{send_method:t}}}),{success:s,errors:i}=(null===a||void 0===a?void 0:a.phoneVerificationSendPin)||{};return s?{success:!0}:(null===i||void 0===i||i.forEach((e=>h.b.error(e))),{success:!1})}catch(a){return r.a.captureException(a),console.error(a),{success:!1}}}),[e]),{loading:t}]},je=a(405),me=a(59);const pe=m.e`
  query VerifySalonPhoneModal {
    current_salon {
      id
      phone
    }
  }
`;var he=()=>Object(je.f)(pe,{notifyOnNetworkStatusChange:!0,onError:e=>{Object(me.c)(e)}});const Oe=e=>{let{afterSave:t,saving:a}=e;const[i,c]=Object(s.useState)("choose_send_method"),[n,r]=Object(s.useState)(),[o]=ue(),{data:l,refetch:d}=he(),b=null===l||void 0===l?void 0:l.current_salon.phone;return"verify_pin"===i?Object(te.jsx)(ae,{send_method:n,phone:b,setStep:c,sendPin:o,afterSave:t,saving:a}):"change_phone"===i?Object(te.jsx)(re,{phone:b,setStep:c,refetch:d}):Object(te.jsx)(de,{setStep:c,setSendMethod:r,phone:b,sendPin:o})};Oe.displayName="VerifySalonPhone";var _e=Oe;const xe=e=>{var t;let{question:a,onAnswer:s,handleSave:i,saving:c}=e;const n=Object(x.a)((e=>e.is_mobile));return a?Object(te.jsxs)(ge,{children:[Object(te.jsx)(ye,{question:a}),Object(te.jsx)(fe,{$isSingleColumn:a.isSingleColumn,children:a.is_validating_phone?Object(te.jsx)(_e,{afterSave:i,saving:c}):null===(t=a.options)||void 0===t?void 0:t.map((e=>Object(te.jsxs)(Ce,{onClick:()=>s({question:a.question,answer:e.answer}),children:[Object(te.jsx)(we,{src:e.icon}),Object(te.jsx)(b.h,{$color:"default_text",$paddings:[0,n?10:20],$semibold:!0,$size:n?14:20,children:e.name})]},e.name)))})]}):null};xe.displayName="Question";var ve=xe;const ge=Object(j.d)(v.a).withConfig({componentId:"wb__sc-1leg005-0"})(["padding:25px;flex:1;display:flex;flex-direction:column;background-color:rgb(252 252 255 / 70%);border-top-right-radius:15px;border-bottom-right-radius:15px;",""],(e=>e.theme.is_mobile&&Object(j.c)(["padding:10px;"]))),ye=e=>{let{question:t}=e;const a=Object(x.a)((e=>e.is_mobile));return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(b.h,{$size:a?22:26,$bold:!0,children:null===t||void 0===t?void 0:t.title},"title"),Object(te.jsx)(b.h,{$semibold:!0,$size:a?14:18,$hex:"#777",$margins:{top:5},children:null===t||void 0===t?void 0:t.subtitle},"subtitle")]})},fe=Object(j.d)(v.a).withConfig({componentId:"wb__sc-1leg005-1"})(["display:grid;grid-template-columns:",";grid-gap:15px;padding-top:15px;@media (max-width:1300px){grid-template-columns:1fr;}",""],(e=>e.$isSingleColumn?"1fr":"1fr 1fr"),(e=>e.theme.is_mobile&&Object(j.c)(["grid-gap:10px;padding-top:10px;"]))),we=j.d.img.attrs({loading:"lazy"}).withConfig({componentId:"wb__sc-1leg005-2"})(["width:55px;background-color:rgb(230 232 254 / 0.5);padding:15px;border-radius:10px;transition:all .1s;",""],(e=>e.theme.is_mobile&&Object(j.c)(["width:40px;padding:7px;"]))),ke=Object(j.c)(["border-color:",";box-shadow:0 0 14px 4px #e6e6e6;.wb-icon{transform:scale(1.1);};","{padding:10px;background-color:rgb(230 232 254 / 0.8);transform:scale(1.05);}"],(e=>e.theme.colors.primary),we),Ce=j.d.button.withConfig({componentId:"wb__sc-1leg005-3"})(["background-color:#FFFFFF;margin:0;border:2px solid transparent;display:flex;align-items:center;padding:","px;border-radius:15px;box-shadow:0 0 14px 4px #f1f1f1;cursor:pointer;transition:box-shadow .2s;width:100%;position:relative;",";&:hover{","}&:focus{outline:none;","}.wb-icon{font-size:45rem;","}"],(e=>e.theme.is_mobile?7:15),(e=>e.$selected&&ke),ke,ke,(e=>e.theme.is_mobile&&Object(j.c)(["font-size:30rem;"])));var Ie=a(340);const Ae=()=>Object(te.jsxs)($e,{children:[Object(te.jsx)(b.h,{$size:26,$bold:!0,$color:"primary",children:Object(o.b)("onboarding.personalize_account")}),Object(te.jsx)(b.h,{$align:"justify",$size:18,$top:15,children:Object(te.jsx)(Ie.a,{i18nKey:"onboarding.welcome_message",components:[Object(te.jsx)("br",{})]})})]});Ae.displayName="Sidebar";var Se=Object(s.memo)(Ae);const $e=j.d.div.withConfig({componentId:"wb__sc-1ah9msa-0"})(["background-color:rgb(230 231 254 / 65%);width:380px;max-width:380px;min-width:380px;border-top-left-radius:15px;border-bottom-left-radius:15px;height:auto;min-height:640px;display:flex;flex-direction:column;justify-content:center;padding:25px;",""],(e=>e.theme.is_mobile&&Object(j.c)(["display:none;"]))),Ee=(e,t)=>{const[a,i]=Object(s.useState)([]),[c,r]=Object(s.useState)(!1),[l,j]=Object(s.useState)(0),m=Object(s.useRef)(null),p=Object(n.o)(),O=Object(x.a)((e=>{var t;return!(null===(t=e.current_user.salon.subscription)||void 0===t||!t.is_trial)})),v=Object(x.a)((e=>e.current_user.permissions)),g=Object(x.a)((e=>e.is_mobile)),y=Object(x.a)((e=>e.current_user.salon.has_verified_phone)),[f,w]=_(),k=async()=>{await f(a),r(!1),h.b.success(Object(o.b)("onboarding.thank_you_message")),p("/calendar"),setTimeout((()=>{var e;return null===(e=m.current)||void 0===e?void 0:e.open()}),2e3)},C=Object(s.useMemo)((()=>y?H:[...H,{title:Object(o.b)("onboarding.cellphone_validation"),question:"Valida\xe7\xe3o de Celular",subtitle:"",isSingleColumn:!0,is_validating_phone:!0}]),[y]),I=Object(s.useCallback)((()=>{v.is_admin&&O&&r(!0)}),[O,v.is_admin]),A=Object(s.useCallback)((()=>{r(!1)}),[]);return Object(s.useImperativeHandle)(t,(()=>({open:I,close:A}))),Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(De,{open:c,closable:!1,footer:null,centered:!0,width:g?"95%":1300,children:Object(te.jsxs)(b.g,{children:[Object(te.jsx)(Se,{}),Object(te.jsxs)(ze,{type:["right","left"],duration:200,delay:[200,0],children:[Object(te.jsx)(ve,{question:C[l],onAnswer:e=>{i((t=>(t[l]=e,t))),l+1<C.length?j((e=>e+1)):k()},handleSave:k,saving:w},`question-step-${l}`),l>0&&Object(te.jsx)(b.i,{style:{marginTop:10},onClick:()=>j((e=>e-1)),children:Object(te.jsx)(b.g,{$paddings:g?[0,15]:25,align:"middle",children:Object(te.jsxs)(b.h,{$link:!0,$size:g?14:16,$alignCenter:!0,$semibold:!0,children:[Object(te.jsx)(b.d,{as:d.a,$color:"primary",$right:5}),Object(o.b)("verbs.back")]})})},"back-button")]})]})}),Object(te.jsx)(u.a,{ref:m})]})};var Fe=Object(s.forwardRef)(Ee);const De=Object(j.d)(l.a).withConfig({componentId:"wb__sc-18z4gv3-0"})(["max-width:100vw;.ant-modal-content{border-radius:15px;padding:0;}@media (max-width:1300px){top:0;}",""],(e=>e.theme.is_mobile&&Object(j.c)([".ant-modal-body{padding:10px !important;}.ant-modal-content{padding:10px 0 !important;}"]))),ze=Object(j.d)(v.a).withConfig({componentId:"wb__sc-18z4gv3-1"})(["display:flex;flex-direction:column;width:100%;"]);var Ne=a(137),qe=a(350);const Be=m.e`
  mutation WebookSavePerson($data: SavePersonInput!) {
    savePerson(input: $data) {
      success errors
      person {
        id
      }
    }
  }
`;var Pe=()=>Object(p.a)(Be),Re=a(62);var Me=()=>{var e,t;const a=Object(x.a)((e=>e.current_user)),i=Object(Re.a)(),[c]=Pe(),n=Object(s.useCallback)((e=>{var t,s;const i=JSON.stringify({employee_id:parseInt(a.employee_id),token:e});if(null===(t=a.person)||void 0===t?void 0:t.contacts.some((e=>Object(Ne.isEqual)(e.contact_info,i))))return;const n={id:null===(s=a.person)||void 0===s?void 0:s.id,contacts_attributes:[{contact_type:"fcm_notification",contact_info:i}]};c({variables:{data:n}})}),[a.employee_id,null===(e=a.person)||void 0===e?void 0:e.contacts,null===(t=a.person)||void 0===t?void 0:t.id,c]);Object(qe.a)(Object(s.useMemo)((()=>({set_fcm_token:e=>{i({type:"set_current_fcm_token",payload:e}),n(e)}})),[n]))},Te=a(1208),Le=a(1082),Ve=a(754),He=a(1090),Ue=a(679),Ge=a(211),Ye=a(46),Qe=a(54),Je=a(269),We=a(302),Ze=a(403);let Ke=null,Xe=e=>e(),et=[],tt={};function at(){const{getContainer:e,rtl:t,maxCount:a,top:s,bottom:i,showProgress:c,pauseOnHover:n}=tt,r=(null===e||void 0===e?void 0:e())||document.body;return{getContainer:()=>r,rtl:t,maxCount:a,top:s,bottom:i,showProgress:c,pauseOnHover:n}}const st=i.a.forwardRef(((e,t)=>{const{notificationConfig:a,sync:c}=e,{getPrefixCls:n}=Object(s.useContext)(Ye.a),r=tt.prefixCls||n("notification"),o=Object(s.useContext)(Ge.a),[l,d]=Object(Ze.b)(Object.assign(Object.assign(Object.assign({},a),{prefixCls:r}),o.notification));return i.a.useEffect(c,[]),i.a.useImperativeHandle(t,(()=>{const e=Object.assign({},l);return Object.keys(e).forEach((t=>{e[t]=function(){c();for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return l[t].apply(l,a)}})),{instance:e,sync:c}})),d})),it=i.a.forwardRef(((e,t)=>{const[a,s]=i.a.useState(at),c=()=>{s(at)};i.a.useEffect(c,[]);const n=Object(Qe.b)(),r=n.getRootPrefixCls(),o=n.getIconPrefixCls(),l=n.getTheme(),d=i.a.createElement(st,{ref:t,sync:c,notificationConfig:a});return i.a.createElement(Qe.a,{prefixCls:r,iconPrefixCls:o,theme:l},n.holderRender?n.holderRender(d):d)})),ct=()=>{if(!Ke){const e=document.createDocumentFragment(),t={fragment:e};return Ke=t,void Xe((()=>{Object(Je.a)()(i.a.createElement(it,{ref:e=>{const{instance:a,sync:s}=e||{};Promise.resolve().then((()=>{!t.instance&&a&&(t.instance=a,t.sync=s,ct())}))}}),e)}))}Ke.instance&&(et.forEach((e=>{switch(e.type){case"open":Xe((()=>{Ke.instance.open(Object.assign(Object.assign({},tt),e.config))}));break;case"destroy":Xe((()=>{var t;null===(t=null===Ke||void 0===Ke?void 0:Ke.instance)||void 0===t||t.destroy(e.key)}))}})),et=[])};function nt(e){Object(Qe.b)();et.push({type:"open",config:e}),ct()}const rt={open:nt,destroy:e=>{et.push({type:"destroy",key:e}),ct()},config:function(e){tt=Object.assign(Object.assign({},tt),e),Xe((()=>{var e;null===(e=null===Ke||void 0===Ke?void 0:Ke.sync)||void 0===e||e.call(Ke)}))},useNotification:Ze.a,_InternalPanelDoNotUseOrYouWillBeFired:We.b};["success","info","warning","error"].forEach((e=>{rt[e]=t=>nt(Object.assign(Object.assign({},t),{type:e}))}));var ot=rt,lt=a(448);const dt=m.e`
  subscription UserNotificationsSubscription {
    userNotification {
      id
      tag
      title
      message
      notifiable_id
    }
  }
`;var bt=e=>{const t=Object(x.a)((e=>e.is_mobile)),[a,i]=ot.useNotification({stack:!1}),{data:c}=Object(lt.a)(dt,{skip:t}),n=null===c||void 0===c?void 0:c.userNotification,r=Object(s.useCallback)((e=>["new_schedule"].includes(e.tag)?"custom-notification-green":["waiting_schedule"].includes(e.tag)?"custom-notification-yellow":["schedule_deleted","schedule_canceled"].includes(e.tag)?"custom-notification-red":"custom-notification"),[]),o=Object(s.useCallback)((t=>{a.destroy(t.id),e(t)}),[a,e]);return Object(s.useEffect)((()=>{n&&a.open({key:n.id,message:n.title,description:n.message,placement:"bottomRight",duration:30,className:r(n),style:{userSelect:"none",whiteSpace:"pre-line",cursor:"pointer"},onClick:()=>o(n)})}),[n]),i},ut=a(1091),jt=a(1092),mt=a(846),pt=a(1093),ht=a(1034);var Ot=()=>{const e=Object(n.o)(),t=Object(s.useRef)(null),a=Object(s.useRef)(null),i=Object(s.useRef)(null),c=Object(s.useRef)(null),r=Object(s.useRef)(null),o=Object(s.useRef)(null),l=Object(s.useRef)(null),d=Object(s.useRef)(null),b=Object(s.useRef)(null),u=Object(s.useCallback)((s=>{var n,u,j,m,p,h,O,_,x;if(!s.notifiable_id)return;if(["new_schedule","schedule_canceled","waiting_schedule"].includes(s.tag))return void(null===(u=i.current)||void 0===u||u.open({schedule_group_id:s.notifiable_id}));if("schedule_deleted"===s.tag)return void(null===(j=r.current)||void 0===j||j.open(s.notifiable_id));if("new_review"===s.tag)return void(null===(m=t.current)||void 0===m||m.open(s.notifiable_id));if("sms_response"===s.tag)return void(null===(p=a.current)||void 0===p||p.open(s.notifiable_id));if("cs_announce"===s.tag)return void(null===(h=o.current)||void 0===h||h.open(s.notifiable_id));if("goals"===s.tag)return void e("/goals");if("client_return"===s.tag)return void(null===(O=c.current)||void 0===O||O.open(s.notifiable_id));if("completed_anamnesis"===s.tag)return void(null===(_=l.current)||void 0===_||_.open(s.notifiable_id));if("new_subscription_sale"===s.tag)return void(null===(x=d.current)||void 0===x||x.open(s.notifiable_id));["welcome_message","features_message","booster_message","online_schedule_message","end_trial_message"].includes(s.tag)&&(null===(n=b.current)||void 0===n||n.open(s.title,s.message))}),[e]),j=bt(u),{subscribeUser:m}=Object(Te.a)();return Object(qe.a)(Object(s.useMemo)((()=>({handle_notification:u})),[u])),Object(s.useEffect)((()=>{m()}),[]),Object(te.jsxs)(te.Fragment,{children:[j,Object(te.jsx)(pt.a,{ref:t}),Object(te.jsx)(ut.a,{ref:a}),Object(te.jsx)(Ue.a,{ref:i}),Object(te.jsx)(He.a,{ref:c}),Object(te.jsx)(Le.a,{ref:r}),Object(te.jsx)(jt.a,{ref:o}),Object(te.jsx)(mt.a,{ref:l}),Object(te.jsx)(Ve.a,{ref:d}),Object(te.jsx)(ht.a,{ref:b})]})},_t=a(874),xt=a(74);var vt=()=>{const e=Object(x.a)((e=>e.is_mobile));Object(s.useEffect)((()=>{e&&(xt.a.sendMessage({type:"content_loaded"}),xt.a.sendMessage({type:"get_current_platform"}),xt.a.sendMessage({type:"get_device_theme"}),xt.a.sendMessage({type:"get_fcm_token"}),xt.a.sendMessage({type:"check_need_update"}))}),[e])},gt=a(597);const yt=()=>{const[e,t]=Object(s.useState)(!1);return Object(s.useEffect)((()=>{const e=setTimeout((()=>{t(!0)}),300);return()=>clearTimeout(e)}),[]),Object(te.jsxs)(G.b,{children:[Object(te.jsx)(gt.b,{loading:e}),Object(te.jsx)(G.c,{$pageFull:!0,loading:e,style:{minHeight:"80vh"}})]})};yt.displayName="RouteLoading";var ft=yt,wt=a(349);const kt=!!Object(wt.b)("show_impersonate_bar");var Ct=e=>{const{useOnboardingModalRef:t}=e,a=0===Object(x.a)((e=>e.current_user.salon)).salon_onboarding_questions.length;Object(s.useEffect)((()=>{if(!kt&&a){const e=setTimeout((()=>{var e;return null===(e=t.current)||void 0===e?void 0:e.open()}),1500);return()=>clearTimeout(e)}}),[])},It=a(232),At=a(3074),St=a(538),$t=a(600),Et=a(313);const Ft=()=>{const e=Object(x.a)((e=>e.current_user.permissions.is_admin)),t=Object(x.a)((e=>e.status_message)),a=Object(x.a)((e=>e.is_agendapro)),i=Object(x.a)((e=>e.is_webook)),c=Object(x.a)((e=>e.is_mobile)),r=Object(X.b)(),o=Object(n.m)().pathname.match(/subscription/),l=Object(Re.a)(),d=Object(n.o)(),u=`hides_subscription_status_message_${null===t||void 0===t?void 0:t.id}`,j=Et.a.get(u),[m,p]=Object(s.useState)(!1);Object(s.useEffect)((()=>{if(!t)return;if(!e&&t.admin_only)return;const a=setTimeout((()=>{p(!j);const e=document.getElementById("navbar-main-menu");e&&l({type:"set_menu_top_height",payload:e.clientHeight})}),500);return()=>clearTimeout(a)}),[l,j,e,t]);return i||a?null:t&&m?!e&&t.admin_only||o?null:Object(te.jsxs)(zt,{id:"navbar-main-menu",style:{borderColor:t.color,backgroundColor:t.color},children:[Object(te.jsxs)("div",{className:"title-container",children:[Object(te.jsx)(b.h,{$alignCenter:!0,$black:!0,children:t.title}),Object(te.jsx)(b.h,{$size:12,children:t.subtitle})]}),Object(te.jsx)(St.a,{children:t.subscription_status_buttons.map((e=>Object(te.jsx)(U.a,{size:c?"small":"middle",onClick:()=>(e=>{let{button_type:t,custom_link:a}=e;if("open_crisp"===t)r({message:"Ol\xe1, estou usando o Belasis e gostaria de ajuda com minha a assinatura. Poderia me ajudar, por gentileza?"});else if("generate_boleto"===t)Object($t.a)(a);else{if(a.includes("wa.me")){const e=a.match(/wa.me\/(\d+)\?/),t=e?e[1]:"",s=a.match(/text=(.*)/),i=s?decodeURIComponent(s[1]):"";return void r({message:i,phone:t})}if(a.includes("https"))return void Object($t.a)(a);const e=a.split("/setup");d(e[1]||e[0])}})(e),type:"primary",children:e.title},e.title)))}),t.can_close_for_day&&Object(te.jsx)(Nt,{onClick:()=>{const e=new Date;e.setUTCHours(23,59,59,999),Et.a.set(u,!0,{secure:!0,sameSite:!0,expires:e}),p(!1),l({type:"set_menu_top_height",payload:0})}})]}):null};Ft.displayName="StatusTopBar";var Dt=Ft;const zt=j.d.header.withConfig({componentId:"wb__sc-16cufmr-0"})(["width:100%;overflow:hidden;display:flex;align-items:center;justify-content:center;color:#FFFFFF;border-radius:0;padding:10px 0;position:sticky;top:0;right:0;z-index:220;.title-container{display:flex;flex-direction:column;align-items:flex-end;justify-content:center;}.ant-space{height:100%;display:flex;border-left:1px solid #FFFFFF;align-items:center;margin-left:15px;padding-left:15px;}",""],(e=>e.theme.is_mobile&&Object(j.c)(["position:relative;top:unset;right:unset;flex-direction:column;z-index:unset;padding:var(--safe-area-inset-top) 5px 5px;.title-container{align-items:center;}.ant-space{margin:5px 0 0;border:none;}"]))),Nt=Object(j.d)(At.a).withConfig({componentId:"wb__sc-16cufmr-1"})(["font-size:20rem;position:absolute;top:5px;right:5px;cursor:pointer;",""],(e=>e.theme.is_mobile&&Object(j.c)(["top:var(--safe-area-inset-top);right:15px;"]))),qt=Object(s.lazy)((()=>Object(It.a)((()=>a.e(92).then(a.bind(null,2961)))))),Bt=Object(s.lazy)((()=>Object(It.a)((()=>a.e(80).then(a.bind(null,2962)))))),Pt=Object(s.lazy)((()=>Object(It.a)((()=>a.e(228).then(a.bind(null,2896)))))),Rt=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(47),a.e(52)]).then(a.bind(null,1796)))))),Mt=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(105),a.e(155)]).then(a.bind(null,2965)))))),Tt=Object(s.lazy)((()=>Object(It.a)((()=>a.e(225).then(a.bind(null,2897)))))),Lt=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(32),a.e(104),a.e(90)]).then(a.bind(null,2920)))))),Vt=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(16),a.e(66)]).then(a.bind(null,2941)))))),Ht=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(25),a.e(212)]).then(a.bind(null,2970)))))),Ut=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(25),a.e(211)]).then(a.bind(null,2958)))))),Gt=Object(s.lazy)((()=>Object(It.a)((()=>a.e(93).then(a.bind(null,2963)))))),Yt=Object(s.lazy)((()=>Object(It.a)((()=>a.e(100).then(a.bind(null,2959)))))),Qt=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(16),a.e(75)]).then(a.bind(null,2950)))))),Jt=Object(s.lazy)((()=>Object(It.a)((()=>a.e(209).then(a.bind(null,2898)))))),Wt=Object(s.lazy)((()=>Object(It.a)((()=>a.e(198).then(a.bind(null,1826)))))),Zt=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(0),a.e(69)]).then(a.bind(null,2979)))))),Kt=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(17),a.e(156)]).then(a.bind(null,2952)))))),Xt=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(17),a.e(122)]).then(a.bind(null,2951)))))),ea=Object(s.lazy)((()=>Object(It.a)((()=>a.e(63).then(a.bind(null,2942)))))),ta=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(2),a.e(149)]).then(a.bind(null,3028)))))),aa=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(2),a.e(35),a.e(148)]).then(a.bind(null,3029)))))),sa=Object(s.lazy)((()=>Object(It.a)((()=>a.e(223).then(a.bind(null,2899)))))),ia=Object(s.lazy)((()=>Object(It.a)((()=>a.e(216).then(a.bind(null,2900)))))),ca=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(0),a.e(9),a.e(95)]).then(a.bind(null,2945)))))),na=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(2),a.e(218)]).then(a.bind(null,3030)))))),ra=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(17),a.e(210)]).then(a.bind(null,2953)))))),oa=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(3),a.e(6),a.e(4),a.e(18),a.e(178)]).then(a.bind(null,2946)))))),la=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(0),a.e(9),a.e(51)]).then(a.bind(null,2939)))))),da=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(2),a.e(121)]).then(a.bind(null,3031)))))),ba=Object(s.lazy)((()=>Object(It.a)((()=>a.e(34).then(a.bind(null,1823)))))),ua=Object(s.lazy)((()=>Object(It.a)((()=>a.e(219).then(a.bind(null,2903)))))),ja=Object(s.lazy)((()=>Object(It.a)((()=>a.e(81).then(a.bind(null,2954)))))),ma=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(29),a.e(110)]).then(a.bind(null,2990)))))),pa=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(29),a.e(197)]).then(a.bind(null,2980)))))),ha=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(2),a.e(217)]).then(a.bind(null,1827)))))),Oa=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(0),a.e(55)]).then(a.bind(null,2971)))))),_a=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(0),a.e(53)]).then(a.bind(null,2943)))))),xa=Object(s.lazy)((()=>Object(It.a)((()=>a.e(227).then(a.bind(null,3004)))))),va=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(79),a.e(16),a.e(124)]).then(a.bind(null,2925)))))),ga=Object(s.lazy)((()=>Object(It.a)((()=>a.e(195).then(a.bind(null,2972)))))),ya=Object(s.lazy)((()=>Object(It.a)((()=>a.e(196).then(a.bind(null,2981)))))),fa=Object(s.lazy)((()=>Object(It.a)((()=>a.e(101).then(a.bind(null,2944)))))),wa=Object(s.lazy)((()=>Object(It.a)((()=>a.e(60).then(a.bind(null,2933)))))),ka=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(31),a.e(202)]).then(a.bind(null,2973)))))),Ca=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(31),a.e(144)]).then(a.bind(null,2991)))))),Ia=Object(s.lazy)((()=>Object(It.a)((()=>a.e(108).then(a.bind(null,999)))))),Aa=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(15),a.e(19),a.e(36),a.e(39),a.e(74)]).then(a.bind(null,2955)))))),Sa=Object(s.lazy)((()=>Object(It.a)((()=>a.e(120).then(a.bind(null,2935)))))),$a=Object(s.lazy)((()=>Object(It.a)((()=>a.e(143).then(a.bind(null,3032)))))),Ea=Object(s.lazy)((()=>Object(It.a)((()=>a.e(200).then(a.bind(null,2904))))));var Fa=[{path:"/",element:Object(te.jsx)(n.a,{to:"/calendar"})},{path:"/wow",element:Object(te.jsx)(Pt,{})},{path:"/calendar",element:Object(te.jsx)(Rt,{})},{path:"/clients",element:Object(te.jsx)(Bt,{})},{path:"/employees/*",element:Object(te.jsx)(Mt,{})},{path:"/settings/*",element:Object(te.jsx)(Tt,{})},{path:"/subscription/*",element:Object(te.jsx)(Lt,{})},{path:"/reviews/*",element:Object(te.jsx)(ea,{})},{path:"/products",element:Object(te.jsx)(Ut,{})},{path:"/sales",element:Object(te.jsx)(Vt,{})},{path:"/services",element:Object(te.jsx)(Ht,{})},{path:"/brands",element:Object(te.jsx)(qt,{})},{path:"/groups",element:Object(te.jsx)(Gt,{})},{path:"/package-templates",element:Object(te.jsx)(Yt,{})},{path:"/packages",element:Object(te.jsx)(Qt,{})},{path:"finance/commissions/*",element:Object(te.jsx)(Jt,{})},{path:"finance/accounts",element:Object(te.jsx)(Kt,{})},{path:"finance/payment-methods",element:Object(te.jsx)(Xt,{})},{path:"finance/charts",element:Object(te.jsx)(ra,{})},{path:"invoices/*",element:Object(te.jsx)(va,{})},{path:"finance/cash-accounting/*",element:Object(te.jsx)(la,{})},{path:"logout",element:Object(te.jsx)(Wt,{})},{path:"vendors",element:Object(te.jsx)(Zt,{})},{path:"reports/sale/:id",element:Object(te.jsx)(ta,{})},{path:"reports/package/:id",element:Object(te.jsx)(aa,{})},{path:"online-booking/*",element:Object(te.jsx)(sa,{})},{path:"notifications/*",element:Object(te.jsx)(ia,{})},{path:"finance/transactions",element:Object(te.jsx)(ca,{})},{path:"reports/bill_pay/receipt/:id",element:Object(te.jsx)(na,{})},{path:"finance/dashboard",element:Object(te.jsx)(oa,{})},{path:"/reports/client/:id/late_payments",element:Object(te.jsx)(da,{})},{path:"/confirmation",element:Object(te.jsx)(ba,{})},{path:"/reports/*",element:Object(te.jsx)(ua,{})},{path:"/goals/*",element:Object(te.jsx)(ja,{})},{path:"/anamnesis",element:Object(te.jsx)(ma,{})},{path:"/anamnesis-templates",element:Object(te.jsx)(pa,{})},{path:"reports/clients/anamnesis/:id",element:Object(te.jsx)(ha,{})},{path:"/purchases",element:Object(te.jsx)(Oa,{})},{path:"/purchases/imported-electronic-invoices",element:Object(te.jsx)(_a,{})},{path:"/whatsapp_marketing/*",element:Object(te.jsx)(xa,{})},{path:"/cs/impersonate",element:Object(te.jsx)(ga,{})},{path:"/cs/whatsapp-sessions",element:Object(te.jsx)(ya,{})},{path:"/promotions",element:Object(te.jsx)(fa,{})},{path:"/cashback/*",element:Object(te.jsx)(wa,{})},{path:"/customer/subscription-templates",element:Object(te.jsx)(ka,{})},{path:"/customer/subscriptions",element:Object(te.jsx)(Ca,{})},{path:"/customer/subscription-settings",element:Object(te.jsx)(Ia,{})},{path:"/document-templates",element:Object(te.jsx)(Aa,{})},{path:"/belasis-pay/panel",element:Object(te.jsx)(Sa,{})},{path:"/belasis-pay/transactions",element:Object(te.jsx)($a,{})},{path:"/retrospectiva",element:Object(te.jsx)(Ea,{})}],Da=a(18);var za=()=>{const[e,t]=Object(s.useState)(!1),a=Object(x.a)((e=>e.current_user)),i=Object(x.a)((e=>e.is_webook));if(e)return;if(i)return;if(Da.v)return;if(!a.permissions.is_admin)return;t(!0);const c=document.createElement("script");c.type="text/javascript",c.id="wootric-settings",c.async=!0,c.innerHTML=`\n      window.wootricSettings = {\n        email: '${a.email}',\n        created_at: ${a.created_at_integer},\n        account_token: '${Da.C}'\n      };\n    `,document.getElementById("wootric-settings")||document.body.appendChild(c);const n=document.createElement("script");n.type="text/javascript",n.id="wootric-beacon",n.async=!0,n.src="https://cdn.wootric.com/wootric-sdk.js",n.onload=()=>{var e,t;null===(e=(t=window).wootric)||void 0===e||e.call(t,"run")},null==document.getElementById("wootric-beacon")&&document.body.appendChild(n)},Na=a(2005);var qa=()=>{const[e,t]=Object(s.useState)(!1),a=Object(x.a)((e=>e.current_user)),i=Object(x.a)((e=>e.is_mobile));if(e)return;if(i||Da.v)return;t(!0);Na.hotjar.initialize(Da.r,6),Na.hotjar.identify(a.email,{userProperty:"value"})},Ba=a(53),Pa=a.n(Ba);const Ra={belasis_booster:{component:Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(36),a.e(152),a.e(180)]).then(a.bind(null,2966)))))),mobile:!1},news:{component:Object(s.lazy)((()=>Object(It.a)((()=>a.e(153).then(a.bind(null,2905)))))),mobile:!0},black_invertida_2025:{component:Object(s.lazy)((()=>Object(It.a)((()=>a.e(181).then(a.bind(null,3033)))))),mobile:!0}},Ma=()=>{const e=Object(x.a)((e=>e.banners.filter((e=>e.active)))),t=Object(x.a)((e=>{var t;return(null===(t=e.current_user)||void 0===t?void 0:t.banner_users)||[]})),a=Object(x.a)((e=>e.is_mobile)),i=Object(n.m)().pathname.match(/subscription|settings/),c=Object(s.useMemo)((()=>e.filter((e=>!!Ra[e.slug]&&(!a||Ra[e.slug].mobile))).filter((e=>{const a=t.find((t=>t.banner_id===e.id));return!a||!!a.show_again_at&&Pa()(a.show_again_at).isSameOrBefore(Pa()(),"day")}))),[t,e,a]);if(i)return null;if(!c.length)return null;const r=c[0],o=t.find((e=>e.banner_id===r.id)),l=Ra[r.slug].component;return Object(te.jsx)(l,{banner_user_id:null===o||void 0===o?void 0:o.id,banner_id:r.id})};Ma.displayName="Banners";var Ta=Ma;const La=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(4),a.e(20),a.e(0),a.e(9),a.e(49)]).then(a.bind(null,3027)))))),Va=Object(s.lazy)((()=>Object(It.a)((()=>Promise.all([a.e(4),a.e(20),a.e(0),a.e(9),a.e(50)]).then(a.bind(null,2978)))))),Ha=()=>{const e=Object(x.a)((e=>e.is_mobile)),t=Object(x.a)((e=>e.current_user)),a=Object(s.useRef)(null);return Me(),vt(),qa(),za(),Ct({useOnboardingModalRef:a}),Object(r.b)(t),Object(te.jsxs)(c.a,{children:[Object(te.jsx)(Ya,{}),Object(te.jsxs)(Ua,{children:[Object(te.jsx)(wt.a,{}),Object(te.jsx)(Dt,{}),Object(te.jsx)(Ot,{}),Object(te.jsx)(Ta,{}),e&&Object(te.jsx)(s.Suspense,{fallback:Object(te.jsx)("div",{}),children:Object(te.jsx)(Va,{})}),Object(te.jsxs)(Ga,{children:[!e&&Object(te.jsx)(s.Suspense,{fallback:Object(te.jsx)("div",{}),children:Object(te.jsx)(La,{})}),Object(te.jsx)(s.Suspense,{fallback:Object(te.jsx)(ft,{}),children:Object(te.jsxs)(n.d,{children:[Fa.map((e=>Object(te.jsx)(n.b,{...e},e.path))),Object(te.jsx)(n.b,{path:"*",element:Object(te.jsx)(_t.a,{})})]},`current-user-${null===t||void 0===t?void 0:t.id}`)})]}),Object(te.jsx)(Fe,{ref:a})]})]})};Ha.displayName="WebookContent";t.default=Ha;const Ua=j.d.div.withConfig({componentId:"wb__sc-1sgyk0r-0"})(["display:flex;flex-direction:column;background:#F8F8F8;"]),Ga=j.d.div.withConfig({componentId:"wb__sc-1sgyk0r-1"})(["display:flex;"]),Ya=Object(j.b)(["body{background-color:#F8F8F8 !important;}"])},3025:function(e,t,a){"use strict";var s=a(0),i=a(2845),c=a(7),n=a.n(c),r=a(1812),o=a(46),l=a(852),d=a(14),b=a(57),u=a(310),j=a(239);const m=e=>{const{componentCls:t}=e;return{[`${t}-star`]:{position:"relative",display:"inline-block",color:"inherit",cursor:"pointer","&:not(:last-child)":{marginInlineEnd:e.marginXS},"> div":{transition:`all ${e.motionDurationMid}, outline 0s`,"&:hover":{transform:e.starHoverScale},"&:focus":{outline:0},"&:focus-visible":{outline:`${Object(d.unit)(e.lineWidth)} dashed ${e.starColor}`,transform:e.starHoverScale}},"&-first, &-second":{color:e.starBg,transition:`all ${e.motionDurationMid}`,userSelect:"none"},"&-first":{position:"absolute",top:0,insetInlineStart:0,width:"50%",height:"100%",overflow:"hidden",opacity:0},[`&-half ${t}-star-first, &-half ${t}-star-second`]:{opacity:1},[`&-half ${t}-star-first, &-full ${t}-star-second`]:{color:"inherit"}}}},p=e=>({[`&-rtl${e.componentCls}`]:{direction:"rtl"}});var h=Object(u.b)("Rate",(e=>(e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Object(b.h)(e)),{display:"inline-block",margin:0,padding:0,color:e.starColor,fontSize:e.starSize,lineHeight:1,listStyle:"none",outline:"none",[`&-disabled${t} ${t}-star`]:{cursor:"default","> div:hover":{transform:"scale(1)"}}}),m(e)),p(e))}})(Object(j.mergeToken)(e,{}))),(e=>({starColor:e.yellow6,starSize:.5*e.controlHeightLG,starHoverScale:"scale(1.1)",starBg:e.colorFillContent}))),O=a(153),_=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(a[s[i]]=e[s[i]])}return a};const x=s.forwardRef(((e,t)=>{const{prefixCls:a,className:c,rootClassName:d,style:b,tooltips:u,character:j=s.createElement(i.a,null),disabled:m}=e,p=_(e,["prefixCls","className","rootClassName","style","tooltips","character","disabled"]),{getPrefixCls:x,direction:v,rate:g}=s.useContext(o.a),y=x("rate",a),[f,w,k]=h(y),C=Object.assign(Object.assign({},null===g||void 0===g?void 0:g.style),b),I=s.useContext(O.b),A=null!==m&&void 0!==m?m:I;return f(s.createElement(r.default,Object.assign({ref:t,character:j,characterRender:(e,t)=>{let{index:a}=t;return u?s.createElement(l.a,{title:u[a]},e):e},disabled:A},p,{className:n()(c,d,w,k,null===g||void 0===g?void 0:g.className),style:C,prefixCls:y,direction:v})))}));t.a=x},3074:function(e,t,a){"use strict";var s=a(13),i=a(0),c={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"},n=a(71),r=function(e,t){return i.createElement(n.a,Object(s.a)({},e,{ref:t,icon:c}))},o=i.forwardRef(r);t.a=o},579:function(e,t,a){"use strict";a.d(t,"m",(function(){return d})),a.d(t,"l",(function(){return b})),a.d(t,"u",(function(){return u})),a.d(t,"j",(function(){return j})),a.d(t,"v",(function(){return m})),a.d(t,"d",(function(){return h})),a.d(t,"h",(function(){return O})),a.d(t,"e",(function(){return _})),a.d(t,"f",(function(){return x})),a.d(t,"s",(function(){return v})),a.d(t,"t",(function(){return g})),a.d(t,"y",(function(){return y})),a.d(t,"q",(function(){return f})),a.d(t,"z",(function(){return w})),a.d(t,"r",(function(){return k})),a.d(t,"i",(function(){return C})),a.d(t,"k",(function(){return I})),a.d(t,"g",(function(){return A})),a.d(t,"C",(function(){return S})),a.d(t,"c",(function(){return $})),a.d(t,"x",(function(){return E})),a.d(t,"a",(function(){return F})),a.d(t,"D",(function(){return D})),a.d(t,"n",(function(){return z})),a.d(t,"p",(function(){return N})),a.d(t,"B",(function(){return q})),a.d(t,"o",(function(){return B})),a.d(t,"A",(function(){return P})),a.d(t,"w",(function(){return R})),a.d(t,"b",(function(){return M}));var s=a(53),i=a.n(s),c=a(18),n=a(50),r=a(74),o=a(28),l=a(347);a(82);const d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce(((e,t)=>e+`${e?", ":""}${t}`),"")},b=(e,t)=>e.reduce((function(e,a,s,i){let c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t(a);return(e[c]||(e[c]=[])).push(a)&&e}),{}),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{symbol_position:a="left",precision:s=2}=t,i=parseFloat(`${e}`)||0,c="left"===a?"% ":"",n="right"===a?"%":"",r=v(i,{precision:s});return`${c}${r}${n}`},j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.round(100*t/e)},m=e=>parseFloat((e||"0").replace(/\D/g,""))/100,p={"pt-BR":"BRL","en-US":"USD","es-ES":"EUR"}[n.a.language],h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{cents:a=!0,precision:s=2,currency:i=Object(o.c)(l.a)||p}=t;let c=parseFloat(`${e}`)||0;a&&(c/=100);const n=new Intl.NumberFormat(void 0,{style:"currency",currency:i,minimumFractionDigits:s,maximumFractionDigits:s});return n.format(c)},O=()=>h(0).replace(/[\d., ]+/g,"").trim(),_=e=>parseInt((e||"0").replace(/\D/g,"")),x=(e,t,a)=>{const{descriptive:s=!1}=a||{},c=i.a.duration(e,t),n=c.hours(),r=c.minutes(),o=e=>e<10?"0":"",l=`${o(n)}${n}:${o(r)}${r}`;return s?n>0?`${l} h`:`${r} min`:l},v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=parseFloat(`${e}`)||0,{precision:s=2}=t,i=new Intl.NumberFormat(n.a.language,{minimumFractionDigits:s,maximumFractionDigits:s});return i.format(a)},g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const a=parseFloat((e||"0").replace(/\D/g,""));return a/t},y=e=>{if(Array.isArray(e))return e.map((e=>y(e)));if(null===e||void 0===e||!e.__typename)return e;const{__typename:t,...a}=e;return Object.entries(a).reduce(((e,t)=>{let[a,s]=t;return e[a]=y(s),e}),{})},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\D|-|_/g;return e?e.replace(t,""):""},w=e=>{let{phone:t="",message:a}=e;const s=`${f(t)}`;if(!!window.ReactNativeWebView)return void r.a.sendMessage({type:"open_whatsapp",payload:{phone:s,message:a}});const i=`https://wa.me/${s}?text=${encodeURIComponent(a)}`;window.open(i,"_blank","noopener, noreferrer")},k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i()().minute();const t=e%5,a=5-t;return i()().add(a,"minutes").format("HH:mm")},C=e=>({"br.com.belasis.agendapro":{origin:"Belasis Fit"},"com.usewebook.mobile":{origin:"Webook para profissionais"},"com.uniom.belasis":{origin:"Belasis Pro"}}[e]||{origin:"Sistema web"}),I=e=>c.w?e?"https://app.usewebook.com/":"https://www.belasis.app/":"http://localhost:3040/",A=e=>{let t=[];for(let a in e)t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")},S=e=>e.then((e=>({error:null,result:e}))).catch((e=>({error:e,result:null}))),$=e=>{let{image_url:t,type:a}=e;return fetch(t,{method:"GET",cache:"no-store"}).then((e=>e.blob())).then((e=>{const t=a||e.type.split("/")[1],s=i()().format("x");return new File([e],`${s}.${t}`)}))},E=e=>null===e||void 0===e?void 0:e.replace(/[^a-zA-Z0-9-]/g,"").toLowerCase(),F=e=>e.charAt(0).toUpperCase()+e.slice(1),D=e=>e.trim().replace(/[^a-zA-Z0-9]+/g,"_").toLowerCase(),z=e=>1024*e*1024,N=e=>({confirmed:Object(n.b)("words.confirmed"),disconfirm:Object(n.b)("words.canceled"),unconfirmed:Object(n.b)("words.unconfirmed"),waiting:Object(n.b)("verbs.waiting")}[e]),q=(e,t)=>parseFloat((e+t).toFixed(2)),B=(e,t)=>parseFloat((e*t).toFixed(2)),P=e=>e.sort(((e,t)=>e.favorite===t.favorite?0:e.favorite?-1:1)),R=e=>{if("string"===typeof e)return e;const{areaCode:t,phoneNumber:a,countryCode:s}=e;return`${s}${Number(t)}${Number(a)}`},M=e=>Object.fromEntries(Object.entries(e).filter((e=>{let[t,a]=e;return![void 0,null].includes(a)})))},581:function(e,t,a){"use strict";a(0);var s=a(159),i=a(250),c=a(19),n=a(27),r=a(50),o=a(22);const l=e=>{const{loading:t,is_large:a,cancel_text:c=Object(r.b)("verbs.cancel"),save_text:l=Object(r.b)("verbs.save"),disabled:b,submit:u,close:j,extra:m}=e,p=Object(n.a)((e=>e.is_mobile));return Object(o.jsxs)(d,{children:[j&&Object(o.jsx)(s.a,{size:p||a?"large":"middle",block:p,disabled:b||t,onClick:j,children:Object(o.jsx)(i.h,{$semibold:!0,children:c})}),m,u&&Object(o.jsx)(s.a,{size:p||a?"large":"middle",block:p,disabled:b||t,loading:t,type:"primary",onClick:u,children:Object(o.jsx)(i.h,{$semibold:!0,children:l})})]})};l.displayName="Footer",t.a=l;const d=c.d.div.withConfig({componentId:"wb__sc-f78p2a-0"})(["display:flex;justify-content:flex-end;.ant-btn + .ant-btn{margin-left:8px;}"])},582:function(e,t,a){"use strict";var s=a(0),i=a(27),c=a(22);const n=e=>{let{Desktop:t,Mobile:a,media:n,...r}=e;const o=Object(i.a)((e=>e.is_mobile));return Object(c.jsx)(s.Suspense,{fallback:Object(c.jsx)("div",{}),children:o?Object(c.jsx)(a,{...r}):Object(c.jsx)(t,{...r})})};n.displayName="ResponsiveScreen",t.a=n},583:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var s=a(0),i=a(250),c=a(604),n=a(22);const r=e=>{let{width:t,lines:a,children:r,...l}=e;const d=Object(s.useContext)(o);return Object(n.jsx)(i.h,{...l,children:d?Object(n.jsx)(c.a,{borderRadius:4,width:"string"===typeof t?t:`${t}ch`,count:a}):r})};r.displayName="SkeletonText",t.b=r;const o=Object(s.createContext)(!0)},584:function(e,t,a){"use strict";var s=a(0),i=a(2838),c=a(579),n=a(27),r=a(22);const o=(e,t)=>{const a=Object(n.a)((e=>e.is_mobile));return Object(r.jsx)(i.a,{ref:t,placeholder:Object(c.d)(0),min:0,step:100,formatter:e=>Object(c.d)(e),parser:c.e,size:a?"large":"middle",inputMode:"decimal",...e,style:{width:"100%",...e.style||{}},className:`hide-number-button ${e.className||""}`})};o.displayName="MoneyInput",t.a=Object(s.forwardRef)(o)},585:function(e,t,a){"use strict";a.d(t,"c",(function(){return h})),a.d(t,"b",(function(){return O})),a.d(t,"d",(function(){return v})),a.d(t,"a",(function(){return g}));var s=a(0),i=a(50),c=a(546),n=a(159),r=a(1810),o=a(18),l=a(1449),d=a(20),b=a(19),u=a(598),j=a(27),m=a(339),p=a(22);const h=Object(s.memo)((e=>{const{has_permission:t=!0,has_feature:a=!0,loading:r=!1,children:l,className:b,...h}=e,O=Object(j.a)((e=>e.current_user.permissions.is_admin)),_=Object(u.b)((e=>e.addon_id)),v=Object(d.o)(),g=Object(s.useMemo)((()=>Object(o.Q)()),[]);if(t&&a||r)return Object(p.jsx)(x,{...h,className:`main-content ${b||""}`,children:Object(p.jsx)(m.a,{title:g,loading:r,$borderRadius:!0,children:t&&a&&l})});if(!a){const e="/addons"+(_?`?addon_id=${_}`:""),t=`/subscription${_?e:""}`;return Object(p.jsx)(x,{...h,$centerX:!0,$centerY:!0,children:Object(p.jsx)(c.a,{status:"403",title:Object(i.b)("phrases.no_feature_in_plan"),style:{marginTop:30},subTitle:O&&Object(p.jsx)(n.a,{type:"primary",onClick:()=>v(t),children:Object(i.b)("verbs.checkout")})})})}return Object(p.jsx)(x,{...h,$centerX:!0,$centerY:!0,children:Object(p.jsx)(c.a,{status:"403",title:Object(i.b)("phrases.no_permission"),style:{marginTop:30},subTitle:Object(i.b)("phrases.no_page_permission")})})})),O=e=>{let{children:t,...a}=e;const s=Object(j.a)((e=>e.main_sidebar_retracted));return Object(p.jsx)(_,{$sidebarRetracted:s,$content_padding:10,...a,children:t})};O.displayName="MainContainer";const _=b.d.div.withConfig({componentId:"wb__sc-5707wg-0"})(["width:100%;position:relative;box-sizing:border-box;",";",";",";"],(e=>!e.theme.is_mobile&&Object(b.c)(["padding-left:","px;padding-right:","px;"],e.$sidebarRetracted?80+e.$content_padding:230+e.$content_padding,e.$content_padding)),(e=>e.theme.is_mobile&&Object(b.c)(["padding-top:",";"],0!==e.theme.menu_top_height?0:"var(--safe-area-inset-top)")),(e=>e.$backgroundHex&&Object(b.c)(["background-color:",";"],e.$backgroundHex))),x=b.d.div.withConfig({componentId:"wb__sc-5707wg-1"})([""," display:flex;"," flex-shrink:1;margin-top:",";"," "," "," position:relative;align-self:start;.ant-table-scroll{&,.ant-table-header{border-top-left-radius:12px;}}"],(e=>e.$minimalHeight&&Object(b.c)(["height:100%;"])),(e=>e.$column&&Object(b.c)([" flex-direction:column;"])),(e=>e.$pageFull?0:e.$headerMargin?"60px":"10px"),(e=>e.$white&&Object(b.c)(["background:white;"])),(e=>e.$centerX&&Object(b.c)(["align-items:center;"])),(e=>e.$centerY&&Object(b.c)(["justify-content:center;"]))),v=Object(b.d)(r.a.Group).withConfig({componentId:"wb__sc-5707wg-2"})([".ant-radio-wrapper{display:list-item;}.ant-radio-wrapper-checked{font-weight:bold !important;}"]),g=Object(b.d)(l.a).withConfig({componentId:"wb__sc-5707wg-3"})(["width:","px;height:","px;border-radius:5px;border:1px solid rgba(0,0,0,.3);margin:15px 5px 0 5px;font-size:40rem;text-align:center;transition:transform .1s,background-color .2s;&.-focus{transform:scale(1.1);}&.invalid{background-color:rgba(255,0,0,.2);color:darkred;border-color:transparent;}&.valid{background-color:rgba(43,253,4,.2);color:green;border-color:transparent;}"],(e=>e.theme.is_mobile?50:60),(e=>e.theme.is_mobile?60:70))},586:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(137),n=a(159),r=a(546),o=a(250),l=a(340),d=a(19),b=a(650),u=a(22);const j=e=>{const{visible:t,error:a,zIndex:c,actions:r,status:d="500",showSupportMessage:j=!0,renderExtra:h,small:O=!1,children:_=null,...x}=e,v=Object(b.b)(),g={...r,...(null===a||void 0===a?void 0:a.actions)||{}},{t:y}=Object(l.c)(void 0,{keyPrefix:"phrases"}),{t:f}=Object(l.c)(void 0,{keyPrefix:"verbs"}),w=Object(s.useMemo)((()=>null!==a&&void 0!==a&&a.description?Array.isArray(a.description)?a.description.map(((e,t)=>Object(u.jsxs)("span",{children:[e,Object(u.jsx)("br",{})]},t))):a.description:Object(i.b)("phrases.unable_to_finalize_request")),[null===a||void 0===a?void 0:a.description]);return t?Object(u.jsxs)(m,{...x,$zIndex:c,children:[Object(u.jsx)(p,{status:d}),Object(u.jsx)(o.h,{$size:O?16:26,$bold:!0,$alignCenter:!0,children:(null===a||void 0===a?void 0:a.title)||y("something_strange_happened")}),Object(u.jsxs)(o.g,{$top:15,$isFlex:!1,$column:!0,$alignCenter:!0,style:{maxWidth:400},children:[Object(u.jsx)(o.h,{$size:O?14:18,$alignCenter:!0,children:w}),j&&Object(u.jsx)(o.h,{$size:O?14:18,$top:O?5:15,$alignCenter:!0,children:Object(u.jsx)(l.a,{i18nKey:"phrases.try_again_or_start_a_chat_for_support",components:[Object(u.jsx)(o.h,{$link:!0,onClick:()=>v(),$semibold:!0,$size:O?14:18})]})}),g&&Object(u.jsxs)(o.g,{$column:!0,$alignCenter:!0,$justifyCenter:!0,$top:O?10:35,children:[g.onTryAgain&&Object(u.jsx)(n.a,{type:"primary",onClick:g.onTryAgain,children:y("back_and_retry")}),!!g.onClose&&Object(u.jsx)(n.a,{type:"primary",style:{marginTop:10},onClick:g.onClose,children:f("close")})]}),!(null===a||void 0===a||!a.code)&&Object(u.jsxs)(o.h,{$top:O?5:35,children:[Object(i.b)("words.code"),": ",Object(u.jsx)(o.h,{$semibold:!0,children:null===a||void 0===a?void 0:a.code})]}),!!h&&h()]})]}):_};j.displayName="FullError",t.a=Object(s.memo)(j,c.isEqual);const m=d.d.div.withConfig({componentId:"wb__sc-1bznszl-0"})(["height:100vh;",";min-height:fit-content;position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(255,255,255,.8);z-index:",";display:flex;flex-direction:column;align-items:center;border-top-left-radius:",";backdrop-filter:blur(10px);padding:0 25px;",";"],(e=>e.$fullHeight&&"height: 100%;"),(e=>e.$zIndex||100),(e=>e.borderRadius&&"12px"),(e=>e.theme.is_mobile&&Object(d.c)(["padding-bottom:","px;"],e.theme.sidebar_mobile_bottom_margin))),p=Object(d.d)(r.a).withConfig({componentId:"wb__sc-1bznszl-1"})([".ant-result-image{width:250px;height:295px;margin-bottom:0;}"])},589:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var s=a(640),i=a(867);const c=Object(s.a)({subscription:i.a,save_loading:!1,destroy_loading:!1,cancel_loading:!1,disable_loading:!1,subscriptionDispatch:e=>{},submit:()=>{}});t.b=e=>Object(s.b)(c,e)},590:function(e,t,a){"use strict";a(0);var s=a(19),i=a(22);const c=e=>{let{header:t,children:a,noShadow:s}=e;return Object(i.jsxs)("div",{style:{width:"100%"},children:[t&&Object(i.jsx)(r,{children:t}),Object(i.jsx)(n,{$noShadow:s,children:a})]})};c.displayName="List",t.a=c;const n=s.d.div.withConfig({componentId:"wb__sc-1d20hp5-0"})(["background-color:",";border-radius:5px;overflow:hidden;font-size:16rem;transition:transform .4s;margin-bottom:15px;"," ",""],(e=>e.theme.colors.white),(e=>!e.$noShadow&&Object(s.c)(["box-shadow:0 2px 9px rgba(83,83,83,0.06);"])),(e=>e.onClick&&Object(s.c)(["&:active{transform:scale(0.98);}"]))),r=s.d.div.withConfig({componentId:"wb__sc-1d20hp5-1"})(["padding:15px 15px 10px 15px;font-size:14rem;color:#888;"])},591:function(e,t,a){"use strict";var s=a(0),i=a(157),c=a(1009),n=a.n(c),r=a(19),o=a(1010),l=a(1011),d=(a(1012),a(27)),b=a(340),u=a(22);const j=e=>{var t;const[a,i]=Object(s.useState)(""),[c,n]=Object(s.useState)(!1),{t:r,i18n:o}=Object(b.c)(),l=o.language,j=Object(d.a)((e=>{var t,a;return null===(t=e.countries.find((t=>{var a,s;return t.id===(null===(a=e.current_user)||void 0===a||null===(s=a.salon)||void 0===s?void 0:s.country_id)})))||void 0===t||null===(a=t.abbr_iso)||void 0===a?void 0:a.toLocaleLowerCase()}))||m(l);return Object(s.useEffect)((()=>{!c&&e.value&&(n(!0),i(e.value))}),[c,e.value]),Object(u.jsx)(h,{country:j,masks:{br:"(..) .....-....",ar:". ... ...-...."},localization:p(l),searchPlaceholder:null===(t=r("verbs.search"))||void 0===t?void 0:t.toLowerCase(),countryCodeEditable:!1,searchNotFound:r("phrases.empty"),enableSearch:!0,disableSearchIcon:!0,...e,value:a,regions:["north-america","south-america","central-america","europe","asia","africa","oceania","middle-east"],preferredCountries:["br","us","pt"]})};j.displayName="PhoneInput",t.a=j;const m=e=>({"pt-BR":"br","es-ES":"es","en-US":"us"}[e]||"br"),p=e=>({"pt-BR":l,"es-ES":o}[e]),h=Object(r.d)(n.a).withConfig({componentId:"wb__sc-fivbxx-0"})(["height:32px;"," position:relative;display:inline-flex;width:100%;min-width:0;color:rgba(0,0,0,0.65);line-height:1.5715;background-color:#FFFFFF;border:1px solid #f1f1f1;background-image:none;border-radius:","px !important;transition:all 0.3s;font-variant:tabular-nums;list-style:none;font-feature-settings:'tnum',\"tnum\";input{height:100% !important;width:100% !important;border-radius:","px !important;border:unset !important;:hover{border:1px solid "," !important;}:focus{border:1px solid "," !important;box-shadow:0 0 0 3px "," !important;}}&.react-tel-input .form-control{font-size:14rem;"," padding-left:40px;}&.react-tel-input .flag-dropdown{border:1px solid transparent;border-bottom-left-radius:","px;border-top-left-radius:","px;background-color:unset;}&.flag-dropdown{border:unset;border-bottom-left-radius:","px;border-top-left-radius:","px;.selected-flag{padding-left:12px;border-bottom-left-radius:","px;border-top-left-radius:","px;}}&.react-tel-input .flag-dropdown.open{border-radius:","px;}&.react-tel-input .country-list{max-height:230px;border-radius:","px;}&.react-tel-input .country-list .search{padding:10px 10px 6px;.search-box{border:1px solid #f1f1f1 !important;width:100%;margin-left:0;border-radius:","px;}}&.react-tel-input .flag-dropdown.open .selected-flag{border-radius:","px;}",";",";",";"],(e=>"large"===e.size&&Object(r.c)(["height:40px;"])),(e=>e.theme.is_mobile?5:3),(e=>e.theme.is_mobile?5:3),(e=>Object(i.b)(.1,e.theme.colors.primary)),(e=>Object(i.b)(.1,e.theme.colors.primary)),(e=>Object(i.b)(.3,e.theme.colors.primary)),(e=>"large"===e.size&&Object(r.c)(["font-size:16rem;"])),(e=>e.theme.is_mobile?5:3),(e=>e.theme.is_mobile?5:3),(e=>e.theme.is_mobile?5:3),(e=>e.theme.is_mobile?5:3),(e=>e.theme.is_mobile?5:3),(e=>e.theme.is_mobile?5:3),(e=>e.theme.is_mobile?5:3),(e=>e.theme.is_mobile?5:3),(e=>e.theme.is_mobile?5:3),(e=>e.theme.is_mobile?5:3),(e=>!!e["aria-invalid"]&&Object(r.c)(["border-color:#ff4d4f !important;input{:hover{border-color:transparent !important;}:focus{border-color:#ff4d4f !important;box-shadow:0 0 0 3px "," !important;}}"],Object(i.b)(.3,"#ff4d4f"))),(e=>!!e.disabled&&Object(r.c)(["background-color:#f5f5f5;input{:hover{border-color:transparent !important;border-right-width:1px;}:focus{border-color:#f1f1f1 !important;box-shadow:unset !important;}}&.react-tel-input .form-control{background:#f5f5f5;color:rgba(0,0,0,0.25);}"])),(e=>!!e.hide_input_styles&&Object(r.c)(["pointer-events:none;height:unset;background-color:transparent;border:unset;&.react-tel-input{width:","px;}&.react-tel-input .form-control{background:transparent;padding-left:0;line-height:unset;color:rgba(0,0,0,0.65);}&.react-tel-input .flag-dropdown{display:none;background-color:transparent;}&.react-tel-input .selected-flag{padding-left:0;width:unset;.arrow{display:none;}}&:hover,&:focus{border:unset !important;box-shadow:unset !important;}"],"large"===e.size?170:160)))},592:function(e,t,a){"use strict";a.d(t,"a",(function(){return O})),a.d(t,"b",(function(){return _}));var s=a(0),i=a(1814),c=a(50),n=a(250),r=a(116),o=a(583),l=a(2854),d=a(3039),b=a(615),u=a(598),j=a(612),m=a(19),p=a(22);const h=e=>{const{item:t,is_selected:a,is_selectable:m=!0,is_selecting:h,onSelectItem:x,swipeLeft:v,children:g,index:y,...f}=e,w=Object(u.b)((e=>e.mass_actions)),k=Object(u.b)((e=>e.permissions)),C=Object(u.b)((e=>e.openDrawer)),I=Object(u.b)((e=>e.validateRow))||e.validateRow,A=null===w||void 0===w?void 0:w.find((e=>e.label===Object(c.b)("verbs.delete"))),S=!t||(null===I||void 0===I?void 0:I(t)),$=Object(s.useMemo)((()=>{const e=null===v||void 0===v?void 0:v(t);if(S)return e||(A&&!A.disabled?{content:Object(p.jsx)(j.a,{icon:l.a,label:Object(c.b)("verbs.delete"),direction:"left",color:"red"}),action:()=>{A.onClick([t.id])}}:void 0)}),[S,A,t,v]),E=Object(s.useMemo)((()=>{if(S&&m)return{content:Object(p.jsx)(j.a,{icon:d.a,label:Object(c.b)("verbs.select"),direction:"right",color:"primary"}),action:()=>x(t)}}),[S,m,t,x]);return Object(p.jsx)(_,{onClick:()=>{!S&&h||(h?x(t):C&&(null!==k&&void 0!==k&&k.can_edit?null===C||void 0===C||C(t):r.b.warning(Object(c.b)("phrases.no_permission_to_do_this"))))},$is_selected:a,$disabled:!S,...f,children:Object(p.jsx)(b.SwipeableListItem,{swipeRight:E,swipeLeft:$,children:Object(p.jsxs)(n.g,{$paddings:10,$alignCenter:!0,children:[S&&Object(p.jsx)(O,{$visible:h,children:Object(p.jsx)(i.a,{checked:a})}),Object(p.jsx)(o.a.Provider,{value:!t,children:g})]})})})};h.displayName="TableItemMobile",t.c=Object(s.memo)(h);const O=m.d.div.withConfig({componentId:"wb__sc-1as9ybx-0"})(["display:flex;align-items:center;justify-content:center;transition:width .2s,opacity .2s;opacity:0;width:0;",""],(e=>e.$visible&&Object(m.c)(["width:30px;opacity:1;margin-right:5px;"]))),_=m.d.div.withConfig({componentId:"wb__sc-1as9ybx-1"})(["display:flex;flex-direction:row;background-color:",";border-radius:5px;box-shadow:0 2px 9px rgba(83,83,83,0.06);overflow:hidden;margin:0 15px 10px 15px;border:1px solid transparent;user-select:none;transition:transform .2s;.swipeable-list-item__content{border-radius:5px;}",";",";&:active{transform:scale(0.98);}"],(e=>e.theme.colors.white),(e=>e.$disabled&&Object(m.c)(["border-color:#e3e3e3;.swipeable-list-item__content{background-color:#e3e3e3;}"])),(e=>e.$is_selected&&Object(m.c)(["border:1px solid ",";"],(e=>e.theme.colors.primary))))},593:function(e,t,a){"use strict";a.d(t,"b",(function(){return m}));var s=a(0),i=a(20),c=a(250),n=a(3024),r=a(27),o=a(608),l=a(19),d=a(50),b=a(117),u=a(954),j=a(22);t.a=e=>{const[t,a]=Object(s.useState)(!1),{feature_keys:i=[],addon_keys:c=[],...o}=e,l=Object(r.a)((e=>e.current_user.features)),d=Object(r.a)((e=>e.current_user.addons)),b=Object(r.a)((e=>e.is_webook)),u=Object(r.a)((e=>{var t;return!(null===(t=e.current_user.salon.subscription)||void 0===t||!t.is_trial)})),j=i.reduce(((e,t)=>e||!!l[t]),!1),p=c.reduce(((e,t)=>e||!!d[t]),!1),h=!(!b&&!u)||(j||p),O=m();return t||h||(a(!0),n.a.destroyAll(),O({is_addon:c.length>0,onCancel:()=>window.history.back(),...o})),null};b.a.primary;const m=()=>{const e=Object(r.a)((e=>e.addons)),t=Object(i.o)(),a=Object(s.useCallback)((e=>{n.a.destroyAll(),t(e)}),[t]);return function(){var t;let{is_addon:s=!1,search:i,...c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n="/addons"+(i?`?addon_id=${i}`:""),r=`/subscription${s?n:""}`,l=null===(t=e.find((e=>parseInt(e.id)===i)))||void 0===t?void 0:t.url_video;return o.a.information({useConfirm:!0,title:Object(d.b)("phrases.no_feature_in_plan"),className:"webook-modal",onOk:()=>a(r),okText:Object(d.b)("verbs.hire"),cancelText:Object(d.b)("verbs.close"),...c,content:Object(j.jsx)(u.a,{url_video:l})})}}},595:function(e,t,a){"use strict";var s=a(0),i=a(250),c=a(356),n=a(19),r=a(22);const o=e=>{const{children:t,onClick:a,withRightArrow:s,spaced:n,is_column:o,align_items:d,is_drawer:b,...u}=e;return Object(r.jsxs)(l,{onClick:a,$spaced:n,$is_column:o,$align_items:d,$is_drawer:b,...u,children:[t,s&&Object(r.jsx)(i.d,{as:c.a,$color:"primary"})]})};o.displayName="ListItem",t.a=Object(s.memo)(o);const l=n.d.div.withConfig({componentId:"wb__sc-12hsxkr-0"})(["display:flex;flex-direction:",";align-items:",";justify-content:space-between;min-height:44px;vertical-align:middle;overflow:hidden;border-bottom:1px solid rgba(0,0,0,0.05);padding:10px 15px;",";&:last-child{border-bottom:none;}",";",";"],(e=>e.$is_column?"column":"row"),(e=>e.$align_items||"center"),(e=>e.$is_column&&Object(n.c)(["align-items:start;"])),(e=>e.$spaced&&Object(n.c)(["padding:10px 20px;"])),(e=>e.onClick&&Object(n.c)(["&:active{background:rgb(238,243,255);}"])))},596:function(e,t,a){"use strict";var s=a(0),i=a.n(s),c=a(50),n=a(53),r=a.n(n);var o=a(579),l=a(250),d=a(2937),b=a(2975),u=a(54),j=a(852),m=a(2831),p=a(18),h=a(116),O=a(593),_=a(686),x=a(19),v=a(27),g=a(754),y=a(232),f=a(582),w=a(37),k=a(405),C=a(76);const I=w.e`
  query CustomerSubscriptions($page: Int, $results: Int, $client_id: ID) {
    client (id: $client_id) {
      id
      name
    }

    all_customer_subscriptions(
      page: $page, results: $results, client_id: $client_id, sort_field: "created_at", sort_order: "DESC"
    ) {
      total_count
      all {
        id
        code
        due
        status
        payment_type
        total_cents

        client {
          id
          name
        }

        customer_subscription_template {
          id
          name
        }
      }
    }
  }
`;var A=e=>Object(k.f)(I,{fetchPolicy:"network-only",skip:!e.client_id,variables:e,onError:e=>{C.a.captureException(e),console.log({error:e})}}),S=a(22);const $=Object(s.lazy)((()=>Object(y.a)((()=>a.e(129).then(a.bind(null,3089)))))),E=Object(s.lazy)((()=>Object(y.a)((()=>a.e(130).then(a.bind(null,2998))))));var F=e=>{let{client_id:t}=e;const a=Object(v.a)((e=>e.is_mobile)),i=Object(v.a)((e=>e.current_user.permissions)),[n,r]=Object(s.useState)(1),{data:{client:o,all_customer_subscriptions:l}={},loading:d,refetch:b}=A({client_id:t,page:n,results:a?50:12}),u=Object(s.useRef)(null),j=Object(s.useCallback)((()=>{var e;i.can_create_subscription_template?null===(e=u.current)||void 0===e||e.open(void 0,o):h.b.warning(Object(c.b)("phrases.no_permission_to_do_this"))}),[o,i.can_create_subscription_template]),m=Object(s.useCallback)((e=>{var t;i.can_edit_subscription_template?null===(t=u.current)||void 0===t||t.open(e):h.b.warning(Object(c.b)("phrases.no_permission_to_do_this"))}),[i.can_edit_subscription_template]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(f.a,{Desktop:$,Mobile:E,loading:d,total_count:null===l||void 0===l?void 0:l.total_count,subscriptions:(null===l||void 0===l?void 0:l.all)||[],setPage:r,createSubscription:j,openSubscription:m}),Object(S.jsx)(g.a,{ref:u,afterSave:b})]})},D=a(1195),z=a(2879);const N=w.e`
  query ClientImages($client_id: ID!) {
    client(id: $client_id, search_inactives: true) {
      id
      name

      image_links {
        id
        link
        holder_id
        created_at
        size
        file_blurhash
        salon { id name }
      }
    }
  }
`;var q=e=>Object(z.a)(N,{...e,fetchPolicy:"network-only"}),B=a(1850);const P=w.e`
  mutation DestroyClientImagesMutation($data: DestroyImagesInput!) {
    destroyClientImages(input: $data) {
      success errors
    }
  }
`;var R=e=>{let{client_id:t}=e;const[a,{loading:s}]=Object(B.a)(P);return[async e=>{const s=h.b.loading(`${Object(c.b)("verbs.deleting")}...`,0);try{const{data:i}=await a({variables:{data:{holder_id:t,image_link_ids:e}}}),{success:c,errors:n}=(null===i||void 0===i?void 0:i.destroyClientImages)||{};return c?{success:!0}:(null===n||void 0===n||n.map((e=>h.b.error(e))),{success:!1})}catch(i){return C.a.captureException(i),h.b.error(Object(c.b)("clients.image_file.cant_delete_message_error")),console.error(i),{success:!1}}finally{s()}},s]};const M=e=>{let{selected:t}=e;const a=Object(v.a)((e=>e.theme));return Object(S.jsx)("div",{style:{left:"4px",top:"4px",position:"absolute",zIndex:1},children:t?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("svg",{style:{fill:"white",position:"absolute"},width:"24px",height:"24px",children:Object(S.jsx)("circle",{cx:"12.5",cy:"12.2",r:"8.292"})}),Object(S.jsx)("svg",{style:{fill:a.colors.primary,position:"absolute"},width:"24px",height:"24px",children:Object(S.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})]}):Object(S.jsx)("svg",{height:"24px",width:"24px",children:Object(S.jsx)("circle",{cx:"12.5",cy:"12.2",r:"8.292",stroke:"white",strokeWidth:"2",fill:"transparent"})})})};M.displayName="Checkmark";const T={transition:"transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s",transform:"translateZ(0px) scale3d(.98, .98, 1)",objectFit:"contain"},L={transform:"translateZ(0px) scale3d(0.9, 0.9, 1)",transition:"transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s"},V={backgroundColor:"#eee",cursor:"pointer",overflow:"hidden",position:"relative",left:0,top:0},H=e=>{const{index:t,onClick:a,photo:s,margin:i,direction:n,top:r,left:o}=e,l=(100-30/s.width*100)/100,d=(100-30/s.height*100)/100;return L.transform=`translateZ(0px) scale3d(${l}, ${d}, 1)`,"column"===n&&(V.position="absolute",V.left=o,V.top=r),Object(S.jsxs)("div",{style:{margin:i,height:s.height,width:s.width,...V},className:s.selected?"":"not-selected",children:[Object(S.jsx)(M,{selected:!!s.selected}),Object(S.jsx)("img",{alt:Object(c.b)("clients.image_file.selected_image"),style:s.selected?{...T,...L}:{...T},...s,onClick:e=>a(e,{index:t,photo:s})})]})};H.displayName="SelectedImage";var U=Object(s.memo)(H),G=a(339),Y=a(944),Q=a(1126),J=a(159),W=a(3001),Z=a(2854);const K=e=>{const{selecting:t,setSelecting:a,setImages:s,destroying:i,selected_images:n,deleteImages:r,images:o}=e,d=Object(v.a)((e=>e.is_mobile));return Object(S.jsxs)(te,{children:[!d&&Object(S.jsx)(l.h,{$size:22,children:Object(c.b)("words.image",{count:2})}),Object(S.jsx)(ee,{children:t?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(J.a,{onClick:()=>{a(!1),s((e=>e.map((e=>({...e,selected:!1})))))},block:d,disabled:i,children:Object(c.b)("verbs.cancel")}),Object(S.jsx)(W.a,{title:Object(c.b)("phrases.confirm_delete",{model:Object(c.b)("words.image",{count:n.length}).toLocaleLowerCase(),context:"female",count:n.length}),okText:Object(c.b)("words.yes"),okType:"danger",cancelText:Object(c.b)("verbs.cancel"),placement:"topLeft",trigger:"click",onConfirm:()=>r(),children:Object(S.jsxs)(J.a,{block:d,disabled:i,onClick:()=>!n.length&&a(!1),danger:!0,icon:Object(S.jsx)(Z.a,{}),ghost:!0,children:[Object(c.b)("verbs.delete")," (",n.length,")"]})})]}):o.length?Object(S.jsx)(J.a,{block:d,danger:!0,ghost:!0,disabled:i,icon:Object(S.jsx)(Z.a,{}),onClick:()=>a(!0),children:Object(c.b)("verbs.delete")}):null})]})};K.displayName="Header";var X=K;const ee=x.d.div.withConfig({componentId:"wb__sc-1hl5dqz-0"})(["margin-top:1px;display:flex;.ant-btn + .ant-btn{margin-left:8px;}",""],(e=>e.theme.is_mobile&&Object(x.c)(["width:100%;"]))),te=x.d.div.withConfig({componentId:"wb__sc-1hl5dqz-1"})(["display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;"]);var ae=a(826);const se=e=>{const{index:t,margin:a,photo:i,top:n,left:o,onClick:l}=e,d=Object(s.useMemo)((()=>{const e=i.blurhash||"U5SY{sxu~mxu%MfQt6fQ~mfQ9IfQ%MfQWCfQ";return Object(ae.a)(e,i.original_size[0],i.original_size[1])}),[i.blurhash,i.original_size]);return Object(S.jsxs)(ne,{style:{margin:a,height:i.height,width:i.width,top:n,left:o},children:[Object(S.jsx)(ce,{loading:"lazy",alt:Object(c.b)("words.image",{count:2}),...i,$bakground_image:d,onClick:e=>l(e,{index:t,photo:i})}),Object(S.jsx)(re,{children:r()(i.created_at,p.H).format("L")})]})};se.displayName="RemoteImage";var ie=Object(s.memo)(se);const ce=x.d.img.withConfig({componentId:"wb__sc-18kbf7b-0"})(["object-fit:contain;background-image:url(",");background-size:cover;"],(e=>e.$bakground_image)),ne=x.d.div.withConfig({componentId:"wb__sc-18kbf7b-1"})(["position:relative;cursor:pointer;"]),re=x.d.span.withConfig({componentId:"wb__sc-18kbf7b-2"})(["left:4px;bottom:4px;position:absolute;z-index:1;color:#FFFFFF;text-shadow:0 0 4px #000;"]),oe=window.innerHeight;var le=e=>{var t;let{client_id:a}=e;const[i,n]=Object(s.useState)(!1),[r,o]=Object(s.useState)(!1),[l,d]=Object(s.useState)(0),[b,u]=Object(s.useState)([]),[j,m]=R({client_id:a}),p=Object(s.useMemo)((()=>b.reduce(((e,t)=>t.selected?[...e,t.id]:e),[])),[b]),O=Object(s.useCallback)((e=>{const{client:{image_links:t=[]}={}}=e,a=t.map((e=>({id:e.id,key:e.id,src:e.link,width:e.size[0],height:e.size[1],salon:e.salon,created_at:e.created_at,selected:!1,original_size:e.size,blurhash:e.file_blurhash})));u(a)}),[]),[_,{loading:x}]=q({onCompleted:O});Object(s.useEffect)((()=>{a&&_({variables:{client_id:a}})}),[a]);const v=Object(s.useCallback)((e=>{u((t=>[...e,...t]))}),[]),g=Object(s.useCallback)((async()=>{const{success:e}=await j(p);e&&(u((e=>e.filter((e=>!p.includes(e.id))))),o(!1),h.b.success(Object(c.b)("phrases.deleted_successfully",{prefix:Object(c.b)("words.image",{count:p.length}),count:p.length,context:"female"})))}),[j,p]),y=Object(s.useCallback)(((e,t)=>{d(t.index),n(!0)}),[]),f=Object(s.useCallback)(((e,t)=>{u((e=>e.map((e=>e.id===t.photo.id?{...e,selected:!e.selected}:e))))}),[]),w=Object(s.useCallback)(((e,t)=>r?f(e,t):y(e,t)),[y,f,r]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{style:{position:"relative",minHeight:300,overflowX:"hidden"},children:[Object(S.jsx)(G.a,{style:{maxHeight:oe},loading:x}),Object(S.jsx)(X,{selecting:r,setSelecting:o,setImages:u,destroying:m,selected_images:p,deleteImages:g,images:b}),Object(S.jsx)(Y.a,{afterSave:v,selecting:r,client_id:a,only_images:!0}),Object(S.jsx)(Q.a,{photos:b,onClick:w,renderImage:e=>r?Object(S.jsx)(U,{...e}):Object(S.jsx)(ie,{...e}),margin:10},null===(t=b[0])||void 0===t?void 0:t.id)]}),Object(S.jsx)(D.b,{children:i?Object(S.jsx)(D.a,{onClose:()=>n(!1),children:Object(S.jsx)(D.c,{currentIndex:l,views:b})}):null})]})},de=a(868);const be=w.e`
  query ClientFiles($client_id: ID!) {
    client(id: $client_id, search_inactives: true) {
      id
      name

      file_links {
        id
        link
        name
        created_at
        is_pdf

        electronic_signature {
          id
          external_document_url
          signed_at
          status
          created_at
          updated_at
        }
      }
    }
  }
`;var ue=e=>{let{client_id:t}=e;return Object(k.f)(be,{skip:!t,fetchPolicy:"network-only",variables:{client_id:t},onError:e=>{C.a.captureException(e),console.log({error:e})}})},je=a(891);const me=(e,t)=>{const[a,i]=Object(s.useState)(),[n,r]=Object(s.useState)(!1),{afterSave:o,signaturable_type:d}=e,b=Object(v.a)((e=>e.is_mobile)),u=e=>{let{signaturable_id:t}=e;r(!0),i(t)},j=()=>{r(!1)};return Object(s.useImperativeHandle)(t,(()=>({open:u,close:j}))),Object(S.jsx)(l.a,{closable:!0,title:Object(c.b)("electronic_signature.title"),height:"100%",width:500,destroyOnClose:!0,onClose:j,open:n,placement:b?"bottom":"right",push:!b,footer:null,children:n&&Object(S.jsx)(je.a,{afterSave:()=>{j(),null===o||void 0===o||o()},signaturable_type:d,signaturable_id:a})})};me.displayName="ElectronicSignatureDrawer";var pe=Object(s.forwardRef)(me);const he=Object(s.lazy)((()=>Object(y.a)((()=>a.e(118).then(a.bind(null,3100)))))),Oe=Object(s.lazy)((()=>Object(y.a)((()=>a.e(119).then(a.bind(null,3021))))));var _e=e=>{let{client_id:t,close:a}=e;const{data:{client:n}={},loading:r,refetch:o}=ue({client_id:t}),[l]=R({client_id:t}),[d]=Object(de.a)(),b=i.a.useRef(null),u=Object(s.useCallback)((async(e,a)=>{try{const s=h.b.loading(`${Object(c.b)("verbs.updating")}...`,0),{success:i}=await d({id:e,client_id:t,name:a});return s(),i?(h.b.success(Object(c.b)("phrases.successfully_updated",{prefix:Object(c.b)("words.file")})),o(),{success:!0}):{success:!1}}catch(s){return console.log(s),{success:!1}}}),[t,d,o]),j=Object(s.useCallback)((async e=>{try{const{success:t}=await l([e]);t&&(h.b.success(Object(c.b)("phrases.deleted_successfully",{prefix:Object(c.b)("words.file")})),o())}catch(t){console.log(t)}}),[l,o]),m=Object(s.useCallback)((e=>{h.c.confirm({centered:!0,className:"webook-modal",title:Object(c.b)("words.attention"),maskClosable:!0,content:Object(c.b)("phrases.confirm_delete",{model:Object(c.b)("words.file").toLocaleLowerCase()}),okText:Object(c.b)("phrases.yes_delete"),okType:"danger",cancelText:Object(c.b)("verbs.cancel"),onOk:()=>j(e)})}),[j]),p=(null===n||void 0===n?void 0:n.file_links)||[],O=Object(s.useCallback)((e=>{var t;null===(t=b.current)||void 0===t||t.open({signaturable_id:e})}),[]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(f.a,{Desktop:he,Mobile:Oe,loading:r,file_links:p,client_id:t,refetch:o,updateClient:u,handleConfirmDestroy:m,handleOpenSignature:O,close:a}),Object(S.jsx)(pe,{ref:b,afterSave:o,signaturable_type:"ImageLink"})]})},xe=a(342);const ve=e=>{const t=Object(s.useMemo)((()=>[{key:"images",label:Object(c.b)("words.image",{count:2}),children:Object(S.jsx)(le,{...e})},{key:"files",label:Object(S.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(c.b)("words.file_other"),Object(S.jsx)(xe.c,{date:"2025/07/05"})]}),children:Object(S.jsx)(_e,{...e})}]),[e]);return Object(S.jsx)(ye,{items:t})};ve.displayName="ImagesFiles";var ge=ve;const ye=Object(x.d)(m.a).withConfig({componentId:"wb__sc-1wd0ac6-0"})(["height:100%;.ant-tabs-content-holder{padding-right:0 !important;}"]);var fe=a(846),we=a(964);const ke=w.e`
  query AnamnesisList($page: Int, $results: Int, $client_id: ID) {
    all_anamnesis(page: $page, results: $results, client_id: $client_id, order_by: "entry_date", order: "DESC") {
      total_count
      all {
        id
        anamnesis_template { id name }
        client { id name }
        fields
        entry_date
        employee { id name }
        salon { id name }
        digital_signature {
          id
          created_at
        }
      }
    }
  }
`;var Ce=e=>Object(k.f)(ke,{fetchPolicy:"network-only",skip:!e.client_id,variables:e,onError:e=>{C.a.captureException(e),console.log({error:e})}});const Ie=Object(s.lazy)((()=>Object(y.a)((()=>a.e(117).then(a.bind(null,3090)))))),Ae=Object(s.lazy)((()=>Object(y.a)((()=>a.e(160).then(a.bind(null,3012))))));var Se=e=>{let{client_id:t}=e;const a=Object(v.a)((e=>e.is_mobile)),i=Object(v.a)((e=>e.current_user.permissions)),n=Object(v.a)((e=>e.current_user.salon)),[r,o]=Object(s.useState)(1),{data:l,loading:d,refetch:b}=Ce({client_id:t,page:r,results:a?50:12}),[u]=Object(we.a)(),j=Object(s.useRef)(null),m=Object(s.useCallback)((()=>{var e;i.can_create_anamnesis?null===(e=j.current)||void 0===e||e.open(void 0,{client_id:t}):h.b.warning(Object(c.b)("phrases.no_permission_to_do_this"))}),[t,i.can_create_anamnesis]),p=Object(s.useCallback)(((e,t)=>{var a;i.can_edit_anamnesis?null===(a=j.current)||void 0===a||a.open(null===e||void 0===e?void 0:e.id,{tab:t}):h.b.warning(Object(c.b)("phrases.no_permission_to_do_this"))}),[i.can_edit_anamnesis]),O=Object(s.useCallback)((e=>{var t;b(),e&&(null===(t=j.current)||void 0===t||t.open(e,{tab:"digital_signature"}))}),[b]),_=Object(s.useCallback)((async e=>{await u({id:e.id}),b()}),[u,b]),x=Object(s.useCallback)((e=>{n.id===e.salon.id?i.can_destroy_anamnesis?h.c.confirm({centered:!0,className:"webook-modal",title:Object(c.b)("words.attention"),maskClosable:!0,content:Object(c.b)("phrases.confirm_delete",{model:Object(c.b)("words.anamnesi").toLocaleLowerCase(),context:"female"}),okText:Object(c.b)("phrases.yes_delete"),okType:"danger",cancelText:Object(c.b)("verbs.cancel"),onOk:()=>_(e)}):h.b.warning(Object(c.b)("phrases.no_permission_to_do_this")):h.b.warning(Object(c.b)("anamnesis.delete_from_another_salon"))}),[n.id,_,i.can_destroy_anamnesis]),g=(null===l||void 0===l?void 0:l.all_anamnesis.all)||[];return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(f.a,{Mobile:Ae,Desktop:Ie,loading:d,total_count:(null===l||void 0===l?void 0:l.all_anamnesis.total_count)||0,anamnesis:g,createAnamnesis:m,openAnamnesis:p,handleDestroy:x,setPage:o}),Object(S.jsx)(fe.a,{ref:j,afterSave:O})]})},$e=a(679),Ee=a(613);const Fe=w.e`
  query ClientSchedules($client_id: ID!, $start_date: String!, $end_date: String!, $results: Int, $page: Int) {
    client(id: $client_id, search_inactives: true) {
      id
      all_calendars(
        start_date: $start_date,
        end_date: $end_date,
        results: $results,
        page: $page,
        sort_field: "start_date DESC, start_hour",
        sort_order: "DESC"
      ) {
        all {
          id
          start_date
          start_hour
          status
          schedule_group_id

          employee {
            id
            name
          }

          sale {
            id
            finished
          }

          services {
            id
            description
          }

          salon { id name }
        }
        total_count
      }
    }
  }
`;var De=e=>Object(k.f)(Fe,{skip:!e.client_id,variables:{client_id:e.client_id,start_date:e.start_date.format("YYYY-MM-DD"),end_date:e.end_date.format("YYYY-MM-DD"),results:e.results,page:e.page},onError:e=>{C.a.captureException(e),console.log({error:e})}}),ze=a(74);const Ne=Object(s.lazy)((()=>Object(y.a)((()=>a.e(165).then(a.bind(null,2888)))))),qe=Object(s.lazy)((()=>Object(y.a)((()=>a.e(133).then(a.bind(null,3013)))))),Be={start_date:r()().subtract(2,"months").startOf("month"),end_date:r()().endOf("month"),results:ze.a.is_native?50:10,page:1};var Pe=e=>{let{client_id:t}=e;const a=Object(s.useRef)(null),i=Object(s.useRef)(null),[n,r]=Object(s.useState)({client_id:t,...Be}),o=Object(v.a)((e=>e.current_user.permissions)),{data:{client:l}={},loading:d,refetch:b}=De(n),u=Object(s.useCallback)((e=>{var t;null===(t=a.current)||void 0===t||t.open({sale_id:e})}),[]),j=Object(s.useCallback)((e=>{var t;null===(t=a.current)||void 0===t||t.open({schedule_group_ids:[e]})}),[]),m=Object(s.useCallback)((e=>{var t;o.can_edit_calendar?null===(t=i.current)||void 0===t||t.open({schedule_group_id:e}):h.b.warning(Object(c.b)("phrases.no_permission_to_do_this"))}),[o.can_edit_calendar]),p=(null===l||void 0===l?void 0:l.all_calendars.all)||[];return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(f.a,{Mobile:qe,Desktop:Ne,loading:d,schedules:p,total_count:(null===l||void 0===l?void 0:l.all_calendars.total_count)||0,variables:n,setVariables:r,handleOpenSale:u,handleCreateSale:j,openScheduleGroupDrawer:m}),Object(S.jsx)(Ee.a,{ref:a,afterSave:()=>b()}),Object(S.jsx)($e.a,{ref:i,afterSave:()=>b()})]})},Re=a(2824),Me=a(2883),Te=a(1256);const Le=w.e`
  mutation saveClientCashback($data: SaveCashbackInput!) {
    saveClientCashback(input: $data) {
      success errors
    }
  }
`;var Ve=()=>{const[e,{loading:t}]=Object(B.a)(Le);return[Object(s.useCallback)((async t=>{try{const{data:a}=await e({variables:{data:t}}),{success:s,errors:i}=(null===a||void 0===a?void 0:a.saveClientCashback)||{};return null===i||void 0===i||i.forEach((e=>{h.b.error(e)})),{success:s}}catch(a){return C.a.captureException(a),h.b.error(Object(c.b)("phrases.generic_save_error_message")),console.error(a),{success:!1}}}),[e]),t]},He=a(584),Ue=a(581);const Ge=(e,t)=>{const[a,i]=Object(s.useState)(!1),n=Object(v.a)((e=>e.is_mobile)),{client_id:r,afterSave:o}=e,[b,u]=Ve(),[j]=d.a.useForm(),m=Object(s.useCallback)((()=>{i(!0)}),[]),p=Object(s.useCallback)((()=>{i(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:m,close:p})));const O=Object(s.useCallback)((e=>{e||j.resetFields()}),[j]);return Object(S.jsx)(l.a,{open:a,title:Object(c.b)("clients.cashback.update_cashback"),placement:n?"bottom":"right",height:"100%",onClose:p,width:680,closable:!0,destroyOnClose:!0,styles:{body:{paddingTop:10}},footer:Object(S.jsx)(Ue.a,{close:p,submit:j.submit,loading:u}),push:!1,afterOpenChange:O,children:Object(S.jsxs)(d.a,{form:j,layout:"vertical",onFinish:async e=>{const{success:t}=await b({...e,amount:e.amount/100});t&&(h.b.success(Object(c.b)("phrases.saved_successfully",{prefix:Object(c.b)("words.cashback")})),p(),o())},initialValues:{client_id:r,amount:0,movement_type:"add",reason:""},children:[Object(S.jsx)(d.a.Item,{name:"client_id",noStyle:!0,children:Object(S.jsx)(Re.a,{type:"hidden"})}),Object(S.jsxs)(l.g,{gutter:16,$wrap:!0,children:[Object(S.jsx)(Me.a,{xs:24,sm:12,children:Object(S.jsx)(d.a.Item,{name:"amount",label:Object(c.b)("words.value"),rules:[{required:!0,message:Object(c.b)("phrases.required_field")},{type:"number",min:1,message:Object(c.b)("phrases.enter_value")}],children:Object(S.jsx)(He.a,{size:n?"large":"middle",disabled:u})})}),Object(S.jsx)(Me.a,{xs:24,sm:12,children:Object(S.jsx)(d.a.Item,{name:"movement_type",label:Object(c.b)("words.movement"),children:Object(S.jsxs)(Te.a,{size:n?"large":"middle",disabled:u,style:{width:"100%"},children:[Object(S.jsx)(Te.a.Option,{value:"add",children:Object(c.b)("verbs.add")}),Object(S.jsx)(Te.a.Option,{value:"subtract",children:Object(c.b)("verbs.remove")})]})})}),Object(S.jsx)(Me.a,{span:24,children:Object(S.jsx)(d.a.Item,{name:"reason",label:Object(c.b)("words.reason"),children:Object(S.jsx)(Re.a.TextArea,{disabled:u,rows:3,autoSize:{minRows:3,maxRows:5},style:{width:"100%"},placeholder:Object(c.b)("words.reason"),maxLength:250,showCount:!0})})})]})]})})};Ge.displayName="CashbackEditDrawer";var Ye=Object(s.memo)(Object(s.forwardRef)(Ge));const Qe=w.e`
  query ClientCashback($client_id: ID!) {
    client(id: $client_id, search_inactives: true) {
      id
      cashback_balance_cents

      cashback_histories {
        id
        amount_cents
        movement_type
        reason
        created_at
      }
    }
  }
`;var Je=e=>Object(k.f)(Qe,{skip:!e,fetchPolicy:"network-only",variables:{client_id:e},onError:e=>{C.a.captureException(e),console.log({error:e})}});const We=Object(s.lazy)((()=>Object(y.a)((()=>a.e(184).then(a.bind(null,3091)))))),Ze=Object(s.lazy)((()=>Object(y.a)((()=>a.e(127).then(a.bind(null,3014))))));var Ke=e=>{let{client_id:t}=e;const a=Object(s.useRef)(null),{data:{client:i}={},loading:c,refetch:n}=Je(t),r=(null===i||void 0===i?void 0:i.cashback_histories)||[];return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(f.a,{Mobile:Ze,Desktop:We,loading:c,cashbacks:r,cashback_balance_cents:(null===i||void 0===i?void 0:i.cashback_balance_cents)||0,openCashbackDrawer:()=>{var e;null===(e=a.current)||void 0===e||e.open()}}),Object(S.jsx)(Ye,{ref:a,client_id:t,afterSave:()=>n()})]})};const Xe=w.e`
  query ClientPackages($client_id: ID!, $only_finished: Boolean!, $with_balance: Boolean!) {
    client(id: $client_id, search_inactives: true) {
      id
      packages(only_finished: $only_finished, with_balance: $with_balance, only_available: $with_balance) {
        id
        code
        date
        available
        finished

        package_items {
          id
          quantity
          balance

          product {
            id
            description
            service
            und
          }
          sale_items {
            id
            sale {
              id
              code
              salon_id
              salon { id name }
            }
          }
        }
        salon { id name }
      }
    }
  }
`;var et=e=>{let{client_id:t,only_finished:a,with_balance:s=!1,onCompleted:i}=e;return Object(k.f)(Xe,{skip:!t,onCompleted:e=>{const{packages:t}=e.client;i(t)},variables:{client_id:t,only_finished:a,with_balance:s},onError:e=>{C.a.captureException(e),console.log({error:e})}})},tt=a(647);const at=Object(s.lazy)((()=>Object(y.a)((()=>a.e(187).then(a.bind(null,3092)))))),st=Object(s.lazy)((()=>Object(y.a)((()=>a.e(131).then(a.bind(null,3015))))));var it=e=>{let{client_id:t}=e;const a=Object(s.useRef)(null),i=Object(s.useRef)(null),[n,r]=Object(s.useState)("only_with_balance"),[o,l]=Object(s.useState)("only_finished"),[d,b]=Object(s.useState)([]),u=Object(v.a)((e=>e.current_user.permissions)),j=Object(s.useCallback)((e=>{const t=e.reduce(((e,t)=>[...e,...t.package_items.reduce(((e,a)=>{if("all"!==n&&0===a.balance)return e;const s={package_id:t.id,code:t.code,date:t.date,finished:t.finished,available:t.available,salon:t.salon,...a};return[...e,s]}),[])]),[]);b(t)}),[n]),{loading:m,refetch:p}=et({client_id:t,only_finished:"all"!==o,with_balance:"all"!==n,onCompleted:j}),O=Object(s.useCallback)((e=>{var t;u.can_create_sale?null===(t=a.current)||void 0===t||t.open({sale_id:e}):h.b.warning(Object(c.b)("phrases.no_permission_to_do_this"))}),[u.can_create_sale]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(f.a,{Mobile:st,Desktop:at,loading:m,data_source:d,balanced:n,finished:o,setBalanced:r,setFinished:l,handleOpenSale:O,handleOpenPackage:e=>{var t;u.can_edit_package?null===(t=i.current)||void 0===t||t.open(e):h.b.warning(Object(c.b)("phrases.no_permission_to_do_this"))}}),Object(S.jsx)(Ee.a,{ref:a,afterSave:()=>p()}),Object(S.jsx)(tt.a,{ref:i,afterSave:()=>p()})]})},ct=a(340);const nt=w.e`
  mutation sendWhatsappMessage ($data: SendWhatsAppMessageInput!) {
    sendClientWhatsappMessage(input: $data) {
      success errors
    }
  }
`;var rt=()=>{const[e,{loading:t}]=Object(B.a)(nt);return[async t=>{try{const{data:a}=await e({variables:{data:t}}),{success:s,errors:i}=(null===a||void 0===a?void 0:a.sendClientWhatsappMessage)||{};return null===i||void 0===i||i.forEach((e=>h.b.error(e))),{success:s}}catch(a){return C.a.captureException(a),h.b.error(Object(c.b)("clients.message.cant_send_message_error")),console.error(a),{success:!1}}},t]};const ot=w.e`
  query ClientMessages($client_id: ID!) {
    current_salon {
      id
      name
      sms_qtd
      has_whatsapp_messages_addon: has_addon(id: ${p.a.ID_MOBILE_MESSAGES_WHATSAPP})
      sms_messages_templates {
        id
        sms_message_birthday
        message_charge_overdue_bills
      }
    }

    client(id: $client_id, search_inactives: true) {
      id
      name
      first_name
      nickname
      cellphone

      whatsapp_messages {
        id
        sent_to
        sent_from
        message
        created_at
        salon { id name }
      }
    }
  }
`;var lt=e=>{let{client_id:t}=e;return Object(k.f)(ot,{skip:!t,fetchPolicy:"network-only",variables:{client_id:t},onError:e=>{C.a.captureException(e),console.log({error:e})}})},dt=a(650);const bt=Object(s.lazy)((()=>Object(y.a)((()=>a.e(185).then(a.bind(null,2999)))))),ut=Object(s.lazy)((()=>Object(y.a)((()=>a.e(161).then(a.bind(null,3016)))))),jt=e=>{const[t,a]=Object(s.useState)(""),{client_id:i,setActiveTab:n}=e,o=Object(dt.b)(),[d,b]=rt(),{data:{client:u,current_salon:j}={},loading:m,refetch:O}=lt({client_id:i}),_=Object(s.useCallback)((e=>{if(!e)return void a("");const t=(null===j||void 0===j?void 0:j.sms_messages_templates[e]).replace(p.z,(null===u||void 0===u?void 0:u.first_name)||"").replace(p.B,(null===u||void 0===u?void 0:u.nickname)||"").replace(p.f,(null===j||void 0===j?void 0:j.name)||"");a(t)}),[null===u||void 0===u?void 0:u.first_name,null===u||void 0===u?void 0:u.nickname,null===j||void 0===j?void 0:j.name,null===j||void 0===j?void 0:j.sms_messages_templates]),x=Object(s.useCallback)((async()=>{if(null===j||void 0===j||!j.has_whatsapp_messages_addon)return void h.c.confirm({centered:!0,className:"webook-modal",title:Object(c.b)("clients.message.whatsapp_integration"),content:Object(c.b)("clients.message.contact_support_whatsapp_messages"),cancelText:Object(c.b)("verbs.close"),okText:Object(c.b)("clients.message.open_chat"),onOk:()=>o()});const{success:e}=await d({message:t,client_id:i});e&&(h.b.success(Object(c.b)("clients.message.whatsapp_sent_successfully")),O())}),[i,null===j||void 0===j?void 0:j.has_whatsapp_messages_addon,o,O,d,t]),v=Object(s.useCallback)((()=>{t.length?null!==u&&void 0!==u&&u.cellphone?x():h.b.warning(Object(S.jsx)(l.h,{children:Object(S.jsx)(ct.a,{i18nKey:"clients.message.fill_phone_number_customer",components:[Object(S.jsx)("a",{href:"#a",onClick:()=>n("register")})]})})):h.b.warning(Object(c.b)("clients.message.enter_message"))}),[null===u||void 0===u?void 0:u.cellphone,x,n,t.length]),g=Object(s.useMemo)((()=>{var e;return(null===u||void 0===u||null===(e=u.whatsapp_messages)||void 0===e?void 0:e.map((e=>({key:e.id,author:Object(c.b)("clients.message.from_to",{from:e.sent_from,to:e.sent_to,salon_name:e.salon.name}),content:e.message,datetime:r()(e.created_at,p.H).fromNow()}))))||[]}),[null===u||void 0===u?void 0:u.whatsapp_messages]);return Object(S.jsx)(f.a,{Desktop:bt,Mobile:ut,loading:m,whatsapp_messages:g,current_salon:j,client:u,onSelectMessage:_,text_area_value:t,setTextAreaValue:a,whatsapp_loading:b,handleSendMessage:v})};jt.displayName="Messages";var mt=jt;const pt=Object(s.lazy)((()=>Object(y.a)((()=>Promise.all([a.e(0),a.e(179)]).then(a.bind(null,806)))))),ht=Object(s.lazy)((()=>Object(y.a)((()=>Promise.all([a.e(0),a.e(132)]).then(a.bind(null,2889))))));var Ot=e=>Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(G.a,{loading:e.loading}),Object(S.jsx)(f.a,{Desktop:pt,Mobile:ht,...e})]}),_t=a(3023),xt=a(657);const vt=w.e`
  mutation saveClientCredit($data: SaveCreditInput!) {
    saveClientCredit(input: $data) {
      success errors
    }
  }
`;var gt=e=>{const[t,{loading:a}]=Object(B.a)(vt);return[Object(s.useCallback)((async a=>{try{const{data:s}=await t({variables:{data:a}}),{success:i=!1,errors:c=[]}=(null===s||void 0===s?void 0:s.saveClientCredit)||{};return null===c||void 0===c||c.forEach((t=>{"Caixa n\xe3o est\xe1 aberto"!==t?h.b.error(t):Object(xt.a)(e)})),{success:i}}catch(s){return C.a.captureException(s),h.b.error(Object(c.b)("phrases.generic_save_error_message")),console.error(s),{success:!1}}}),[t,e]),a]},yt=a(645),ft=a(666),wt=a(653);const kt=(e,t)=>{const[a,i]=Object(s.useState)(!1),n=Object(s.useRef)(null),o=Object(v.a)((e=>e.current_user.permissions)),b=Object(v.a)((e=>e.is_mobile)),u=Object(s.useCallback)((()=>{var e;o.can_access_cash_accounting?null===(e=n.current)||void 0===e||e.open():h.b.warning(Object(c.b)("phrases.no_permission_to_do_this"))}),[o.can_access_cash_accounting]),{client_id:j,afterSave:m}=e,[p,O]=gt(u),[_]=d.a.useForm(),x=Object(s.useCallback)((()=>{i(!0)}),[]),g=Object(s.useCallback)((()=>{i(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:x,close:g})));const y=Object(s.useCallback)((e=>{e||_.resetFields()}),[_]);return Object(S.jsxs)(l.a,{open:a,title:Object(c.b)("clients.credit.update_credit"),placement:b?"bottom":"right",height:"100%",onClose:g,width:680,closable:!0,destroyOnClose:!0,styles:{body:{paddingTop:10}},footer:Object(S.jsx)(Ue.a,{close:g,submit:_.submit,loading:O}),push:!1,afterOpenChange:y,children:[Object(S.jsxs)(d.a,{form:_,layout:"vertical",onFinish:async e=>{const t={...e,amount:e.amount/100,due_date:e.due_date?e.due_date.format("YYYY-MM-DD"):void 0},{success:a}=await p(t);a&&(h.b.success(Object(c.b)("phrases.saved_successfully",{prefix:Object(c.b)("words.credit")})),g(),m())},initialValues:{client_id:j,amount:0,generate_bill:!1,movement_type:"add",finance_payment_id:void 0,due_date:r()(),reason:""},children:[Object(S.jsx)(d.a.Item,{name:"client_id",noStyle:!0,children:Object(S.jsx)(Re.a,{type:"hidden"})}),Object(S.jsxs)(l.g,{gutter:16,$wrap:!0,children:[Object(S.jsx)(Me.a,{xs:24,sm:12,children:Object(S.jsx)(d.a.Item,{name:"amount",label:Object(c.b)("words.value"),rules:[{required:!0,message:Object(c.b)("phrases.required_field")},{type:"number",min:1,message:Object(c.b)("phrases.enter_value")}],children:Object(S.jsx)(He.a,{size:b?"large":"middle",disabled:O})})}),Object(S.jsx)(Me.a,{xs:24,sm:12,children:Object(S.jsx)(d.a.Item,{name:"movement_type",label:Object(c.b)("words.movement"),children:Object(S.jsxs)(Te.a,{size:b?"large":"middle",disabled:O,style:{width:"100%"},children:[Object(S.jsx)(Te.a.Option,{value:"add",children:Object(c.b)("verbs.add")}),Object(S.jsx)(Te.a.Option,{value:"subtract",children:Object(c.b)("verbs.remove")})]})})}),Object(S.jsx)(Me.a,{span:24,children:Object(S.jsx)(d.a.Item,{label:Object(c.b)("finance.drawers.generate_financial_transaction"),name:"generate_bill",valuePropName:"checked",children:Object(S.jsx)(_t.a,{disabled:O,style:{marginRight:8}})})}),Object(S.jsx)(d.a.Item,{dependencies:["generate_bill"],noStyle:!0,children:e=>{let{getFieldsValue:t}=e;const{generate_bill:a}=t();return a?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Me.a,{span:12,children:Object(S.jsx)(d.a.Item,{name:"due_date",label:Object(c.b)("phrases.payment_date"),rules:[{required:!0,message:Object(c.b)("phrases.required_field")}],children:Object(S.jsx)(wt.b,{disabled:O})})}),Object(S.jsx)(Me.a,{span:12,children:Object(S.jsx)(d.a.Item,{name:"finance_payment_id",label:Object(c.b)("words.payment_type"),children:Object(S.jsx)(ft.a,{disabled:O})})})]}):null}}),Object(S.jsx)(Me.a,{span:24,children:Object(S.jsx)(d.a.Item,{name:"reason",label:Object(c.b)("words.reason"),children:Object(S.jsx)(Re.a.TextArea,{disabled:O,rows:3,autoSize:{minRows:3,maxRows:5},style:{width:"100%"},placeholder:Object(c.b)("words.reason"),maxLength:400,showCount:!0})})})]})]}),Object(S.jsx)(yt.a,{ref:n})]})};kt.displayName="CreditEditDrawer";var Ct=Object(s.memo)(Object(s.forwardRef)(kt));const It=w.e`
  query ClientCredits($client_id: ID!) {
    client(id: $client_id, search_inactives: true) {
      id
      balance
      credit_histories {
        id
        amount
        movement_type
        reason
        generate_bill
        created_at
        salon {
          id name
        }
        user {
          id name
        }
      }
    }
  }
`;var At=e=>Object(k.f)(It,{skip:!e,fetchPolicy:"network-only",variables:{client_id:e},onError:e=>{C.a.captureException(e),console.log({error:e})}});const St=Object(s.lazy)((()=>Object(y.a)((()=>a.e(128).then(a.bind(null,2890)))))),$t=Object(s.lazy)((()=>Object(y.a)((()=>a.e(109).then(a.bind(null,3017))))));var Et=e=>{let{client_id:t}=e;const a=Object(s.useRef)(null),i=Object(v.a)((e=>e.current_user.permissions)),{data:{client:n}={},loading:r,refetch:o}=At(t),l=(null===n||void 0===n?void 0:n.credit_histories)||[],d=Object(s.useCallback)((()=>{var e;i.can_edit_client_credits?null===(e=a.current)||void 0===e||e.open():h.b.warning(Object(c.b)("phrases.no_permission_to_do_this"))}),[i.can_edit_client_credits]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(f.a,{Mobile:$t,Desktop:St,loading:r,credits:l,credits_balance:(null===n||void 0===n?void 0:n.balance)||0,openCreditDrawer:d}),Object(S.jsx)(Ct,{ref:a,client_id:t,afterSave:()=>o()})]})},Ft=a(784);const Dt=w.e`
  query ClientDebits($client_id: ID!) {
    client(id: $client_id, search_inactives: true) {
      id
      late_payments {
        id
        due
        value
        status
        has_cash_accounting
        has_partial_payments
        bill_type
        movement_type
        movement_id
        client {
          id
          name
          nickname
          phone2
          phone1
        }
        cash_accounting { id code }
        historical
        salon { id name }
        client_id
        payment_id
        chart_id
        account_id
      }

      inventory_sales(finished: false) {
        id
        code
        date
        sum
        salon { id name }
      }
    }

    current_user {
      id
      salon_id
    }
  }
`;var zt=e=>Object(k.f)(Dt,{skip:!e,fetchPolicy:"network-only",variables:{client_id:e},onError:e=>{C.a.captureException(e),console.log({error:e})}}),Nt=a(966);const qt=Object(s.lazy)((()=>Object(y.a)((()=>a.e(85).then(a.bind(null,2974)))))),Bt=Object(s.lazy)((()=>Object(y.a)((()=>a.e(86).then(a.bind(null,2988))))));var Pt=e=>{let{client_id:t}=e;const a=Object(s.useRef)(null),i=Object(s.useRef)(null),n=Object(s.useRef)(null),r=Object(v.a)((e=>e.current_user.permissions)),{data:{client:o}={},loading:l,refetch:d}=zt(t),[b]=Object(Nt.a)(),u=Object(s.useCallback)((async e=>{if(!r.can_destroy_sale)return void h.b.warning(Object(c.b)("phrases.no_permission_to_do_this"));const{success:t}=await b({id:e});t&&(h.b.success(Object(c.b)("phrases.deleted_successfully",{prefix:Object(c.b)("words.sale"),context:"female"})),d())}),[b,r.can_destroy_sale,d]),j=(null===o||void 0===o?void 0:o.late_payments)||[],m=(null===o||void 0===o?void 0:o.inventory_sales)||[],p=j.reduce(((e,t)=>e+t.value),0),O=m.reduce(((e,t)=>e+t.sum),0),_=Object(s.useCallback)((e=>{var t;null===(t=a.current)||void 0===t||t.open({sale_id:e})}),[]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(f.a,{Desktop:qt,Mobile:Bt,loading:l,client_id:t,total_debits:p,total_open_sales:O,late_payments:j,open_sales:m,refetch:d,destroySale:u,handleOpenSale:_,handleOpenDebit:e=>{let{movement_type:t,movement_id:s}=e;if("Inventory::Sale"===t){var o;if(!r.can_edit_sale)return void h.b.warning(Object(c.b)("phrases.no_permission_to_do_this"));null===(o=a.current)||void 0===o||o.open({sale_id:s})}else if("Inventory::Package"===t){var l;if(!r.can_edit_package)return void h.b.warning(Object(c.b)("phrases.no_permission_to_do_this"));null===(l=i.current)||void 0===l||l.open(s)}else{var d;if(!r.can_edit_purchase)return void h.b.warning(Object(c.b)("phrases.no_permission_to_do_this"));null===(d=n.current)||void 0===d||d.open({id:s})}}}),Object(S.jsx)(Ee.a,{ref:a,afterSave:()=>d()}),Object(S.jsx)(tt.a,{ref:i,afterSave:()=>d()}),Object(S.jsx)(Ft.a,{ref:n,afterSave:()=>d()})]})};const Rt=w.e`
  query ClientNotes($client_id: ID!) {
    client(id: $client_id, search_inactives: true) {
      id
      notes {
        id
        description
        created_at
        updated_at
        employee { id name avatar_url: small_thumb_url }
        salon { id name }
      }
    }
  }
`;var Mt=(e,t)=>Object(k.f)(Rt,{skip:!e||!t,variables:{client_id:t},onError:e=>{C.a.captureException(e),console.log({error:e})}});const Tt=w.e`
  mutation WebookDestroyNote($data: DestroyNoteInput!) {
    destroyNote(input: $data) {
      success errors
    }
  }
`;var Lt=()=>{const[e,{loading:t}]=Object(B.a)(Tt);return[async t=>{const a=h.b.loading(`${Object(c.b)("verbs.deleting")}...`,0);try{const{data:s}=await e({variables:{data:{id:t}}}),{success:i,errors:c}=(null===s||void 0===s?void 0:s.destroyNote)||{};return i?{success:!0}:(null===c||void 0===c||c.forEach((e=>h.b.error(e))),{success:!1})}catch(s){return C.a.captureException(s),h.b.error(Object(c.b)("phrases.generic_delete_error_message")),console.error(s),{success:!1}}finally{a()}},t]};const Vt=w.e`
  mutation WebookSaveNote($data: SaveNoteInput!) {
    saveNote(input: $data) {
      success
      errors
      note {
        id
        description
        updated_at
        employee { id name avatar_url }
        salon { id name }
      }
    }
  }
`;var Ht=()=>{const[e,{loading:t}]=Object(B.a)(Vt);return[async(t,a)=>{const s=h.b.loading(`${Object(c.b)("verbs.saving")}...`,0);try{const{data:i}=await e({variables:{data:{...t,client_id:a}}}),{success:c,errors:n,note:r}=(null===i||void 0===i?void 0:i.saveNote)||{};return c?{success:!0,note:r}:(null===n||void 0===n||n.forEach((e=>h.b.error(e))),{success:!1})}catch(i){return C.a.captureException(i),h.b.error(Object(c.b)("phrases.generic_save_error_message")),console.error(i),{success:!1}}finally{s()}},t]};const Ut=Object(s.lazy)((()=>Object(y.a)((()=>a.e(186).then(a.bind(null,3093)))))),Gt=Object(s.lazy)((()=>Object(y.a)((()=>a.e(162).then(a.bind(null,3e3)))))),Yt=e=>{let{client_id:t}=e;const a=Object(v.a)((e=>e.current_user.permissions.can_access_client_annotations)),[i]=d.a.useForm(),{data:{client:n}={},loading:o,refetch:l}=Mt(a,t),[b,u]=Ht(),[j]=Lt(),m=Object(s.useCallback)((async e=>{const{success:t}=await j(e);t&&(h.b.success(Object(c.b)("phrases.deleted_successfully",{prefix:Object(c.b)("words.note"),context:"female"})),l())}),[j,l]),O=Object(s.useCallback)((async e=>{if(!t)return{success:!1};const{success:a}=await b(e,t);return a?(i.resetFields(),h.b.success(Object(c.b)("phrases.saved_successfully",{prefix:Object(c.b)("words.annotation"),context:"female"})),l(),{success:a}):{success:a}}),[t,i,l,b]),_=Object(s.useCallback)((e=>{const t=!r()(e.created_at).isSame(e.updated_at);return`${r()(e.created_at,p.H).format("L, HH:mm[h]")} ${t?`(${Object(c.b)("words.edited")})`:""}`}),[]),x=Object(s.useMemo)((()=>{var e;return null===n||void 0===n||null===(e=n.notes)||void 0===e?void 0:e.map((e=>({key:e.id,id:e.id,author:e.employee.name,avatar:e.employee.avatar_url,content:e.description,datetime:_(e),salon:e.salon})))}),[null===n||void 0===n?void 0:n.notes,_])||[];return Object(S.jsx)(f.a,{Desktop:Ut,Mobile:Gt,loading:o,save_loading:u,can_access:a,notes:x,form:i,onFinish:O,handleDestroy:m})};Yt.displayName="Notes";var Qt=Yt,Jt=a(583);const Wt=w.e`
  query ClientPanelQuery($client_id: ID!) {
    client(id: $client_id, search_inactives: true) {
      id
      days_without_coming
      return_rate
      created_at
      revenues_sum
      late_payments_sum
      cancellation_rate
      fidelity_points
      balance_cents
      cashback_balance_cents

      reviews(only_last: true) {
        id rating
      }
      not_consumed_packages_count

      last_services(results: 5)
    }
  }
`;var Zt=e=>Object(k.f)(Wt,{fetchPolicy:"network-only",skip:!e,variables:{client_id:e},onError:e=>{C.a.captureException(e),console.log({error:e})}}),Kt=a(2977),Xt=a(3070),ea=a(3071),ta=a(3038),aa=a(3072),sa=a(3044),ia=a(3073),ca=a(1828),na=a(3043),ra=a(756);const oa="rgb(114, 102, 186)",la="rgb(66, 165, 246)",da="rgb(126, 211, 32)",ba=e=>{var t;let{client:a,setActiveTab:i}=e;const n=Object(s.useRef)(null),d=Object(v.a)((e=>e.is_agendapro)),b=Math.max((null===a||void 0===a?void 0:a.days_without_coming)||0,0),u=e=>{var t;Ca.includes(e)&&d?null===(t=n.current)||void 0===t||t.open():i(e)};return Object(S.jsxs)(l.g,{gutter:{xs:0,md:8},$wrap:!0,children:[Object(S.jsx)(ja,{className:"colorful",colorful:!0,style:{backgroundColor:oa},Icon:Object(S.jsx)("div",{className:"icon",children:Object(S.jsx)(Xt.a,{})}),value:b,subtitle:Object(c.b)("clients.panel.days_without_visit",{count:b})}),Object(S.jsx)(ja,{className:"colorful",colorful:!0,style:{backgroundColor:la},Icon:Object(S.jsx)("div",{className:"icon",children:Object(S.jsx)(ea.a,{})}),value:null!==a&&void 0!==a&&a.reviews?null!==a&&void 0!==a&&a.reviews[0]?null===a||void 0===a?void 0:a.reviews[0].rating.toFixed(1):Object(c.b)("clients.panel.no_review"):"...",subtitle:Object(c.b)("clients.panel.last_review")}),Object(S.jsx)(ja,{className:"link colorful",onClick:()=>u("sales"),colorful:!0,style:{backgroundColor:da},Icon:Object(S.jsx)("div",{className:"icon",children:Object(S.jsx)(ta.a,{})}),value:Object(o.d)(null===a||void 0===a?void 0:a.revenues_sum,{cents:!1}),subtitle:Object(c.b)("clients.panel.billing")}),Object(S.jsx)(ja,{className:"link white",onClick:()=>u("debits"),Icon:Object(S.jsx)("div",{className:"icon",style:{color:oa},children:Object(S.jsx)(aa.a,{})}),value:Object(o.d)(null===a||void 0===a?void 0:a.late_payments_sum,{cents:!1}),subtitle:Object(c.b)("words.debit",{count:2})}),Object(S.jsx)(ja,{className:"link white",onClick:()=>u("packages"),Icon:Object(S.jsx)("div",{className:"icon",style:{color:la},children:Object(S.jsx)(sa.a,{})}),value:(null===a||void 0===a?void 0:a.not_consumed_packages_count)||0,subtitle:Object(c.b)("clients.not_consumed_package",{count:2})}),Object(S.jsx)(ja,{className:"link white",onClick:()=>u("credits"),Icon:Object(S.jsx)("div",{className:"icon",style:{color:da},children:Object(S.jsx)(ta.a,{})}),value:Object(o.d)(null===a||void 0===a?void 0:a.balance_cents),subtitle:Object(c.b)("words.credit")}),Object(S.jsx)(ja,{className:"link white",onClick:()=>u("cashback"),Icon:Object(S.jsx)("div",{className:"icon",style:{color:oa},children:Object(S.jsx)(ra.a,{style:{fontSize:"1em"}})}),value:Object(o.d)(null===a||void 0===a?void 0:a.cashback_balance_cents),subtitle:Object(c.b)("words.cashback")}),Object(S.jsx)(ja,{className:"white",Icon:Object(S.jsx)("div",{className:"icon",style:{color:la},children:Object(S.jsx)(ia.a,{})}),value:`${(null===a||void 0===a||null===(t=a.cancellation_rate)||void 0===t?void 0:t.toFixed(1))||0}%`,subtitle:Object(c.b)("clients.panel.cancellation_rate")}),Object(S.jsx)(ja,{className:"white",Icon:Object(S.jsx)("div",{className:"icon",style:{color:da},children:Object(S.jsx)(ca.a,{})}),value:`${r()().diff(r()(null===a||void 0===a?void 0:a.created_at,p.H),"days")} ${Object(c.b)("words.day",{count:2})}`,subtitle:Object(c.b)("clients.panel.time_as_customer")}),Object(S.jsx)(ja,{className:"white",Icon:Object(S.jsx)("div",{className:"icon",style:{color:oa},children:Object(S.jsx)(na.a,{})}),value:null!==a&&void 0!==a&&a.return_rate?`${a.return_rate} ${Object(c.b)("words.day",{count:a.return_rate}).toLocaleLowerCase()}`:Object(c.b)("clients.panel.no_return"),subtitle:Object(c.b)("clients.panel.return_rate")}),Object(S.jsx)(_.a,{ref:n})]})};ba.displayName="Cards";var ua=ba;const ja=e=>{let{value:t,subtitle:a,Icon:s,colorful:i,...c}=e;return Object(S.jsx)(Me.a,{xs:24,md:12,lg:8,children:Object(S.jsxs)(ma,{variant:"borderless",...c,children:[s,Object(S.jsxs)(pa,{children:[Object(S.jsx)(Jt.b,{width:10,$bold:i,$size:i?28:26,$color:i?"white":"gray_2",children:t}),Object(S.jsx)(Jt.b,{width:5,$size:16,$semibold:i,$color:i?"white":"gray_2",children:a})]})]})})};ja.displayName="CardComponent";const ma=Object(x.d)(Kt.a).withConfig({componentId:"wb__sc-1n1kdht-0"})(["box-shadow:0 0.6px 1.4px -0.4px #d5dae2;transition:box-shadow .3s ease-in-out;border-radius:5px;margin-bottom:8px !important;overflow:hidden;height:80px;&.colorful{.ant-card-body{color:#FFFFFF;.icon{background-color:rgba(0,0,0,.1);}}}&.white{background:#FFFFFF;border:1px solid #eee;}&.link{cursor:pointer;border:1px solid #eee !important;&:hover{box-shadow:0 0 15px 0 rgba(0,0,0,.2);}}.ant-card-body{height:100%;padding:0;display:flex;.icon{width:80px;display:flex;justify-content:center;align-items:center;font-size:2.5em;}}"]),pa=x.d.div.withConfig({componentId:"wb__sc-1n1kdht-1"})(["flex:1;padding:6px 0 6px 20px;display:flex;flex-direction:column;justify-content:center;"]),ha=Object(s.lazy)((()=>Object(y.a)((()=>a.e(188).then(a.bind(null,3101)))))),Oa=Object(s.lazy)((()=>Object(y.a)((()=>a.e(163).then(a.bind(null,3102)))))),_a=e=>{let{loading:t,services:a}=e;return Object(S.jsx)(f.a,{Desktop:ha,Mobile:Oa,loading:t,services:a})};_a.displayName="LastServices";var xa=Object(s.memo)(_a);var va=e=>{let{client_id:t,setActiveTab:a}=e;const{data:{client:s}={},loading:i}=Zt(t),c=JSON.parse((null===s||void 0===s?void 0:s.last_services)||"[]");return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Jt.a.Provider,{value:i,children:Object(S.jsx)(ua,{client:s,setActiveTab:a})}),Object(S.jsx)(xa,{loading:i,services:c})]})};const ga=w.e`
  query ClientSales($client_id: ID!, $start_date: String!, $end_date: String!) {
    client(id: $client_id, search_inactives: true) {
      id
      inventory_sales(start_date: $start_date, end_date: $end_date, sort_field: "code", sort_order: "DESC") {
        id
        code
        date

        sale_items {
          id
          quantity
          sum

          employee { id name }
          product { id description }
        }
        salon { id name }
      }
    }
  }
`;var ya=e=>Object(k.f)(ga,{...e.options,skip:!e.client_id,variables:{client_id:e.client_id,start_date:e.start_date.format("YYYY-MM-DD"),end_date:e.end_date.format("YYYY-MM-DD")},onError:e=>{C.a.captureException(e),console.log({error:e})}});const fa=Object(s.lazy)((()=>Object(y.a)((()=>a.e(189).then(a.bind(null,3094)))))),wa=Object(s.lazy)((()=>Object(y.a)((()=>a.e(164).then(a.bind(null,3018))))));var ka=e=>{let{client_id:t}=e;const a=Object(s.useRef)(null),[i,n]=Object(s.useState)([]),[o,l]=Object(s.useState)([r()().subtract(2,"months").startOf("month"),r()().endOf("month")]),d=Object(v.a)((e=>e.current_user.permissions)),b=Object(s.useCallback)((e=>{let{client:{inventory_sales:t}}=e;const a=t.reduce(((e,t)=>[...e,...t.sale_items.map((e=>({sale_id:t.id,code:t.code,date:t.date,salon:t.salon,...e})))]),[]);n(a)}),[]),{loading:u,refetch:j}=ya({client_id:t,start_date:o[0],end_date:o[1],options:{onCompleted:b}}),m=Object(s.useCallback)((e=>{var t;d.can_edit_sale?null===(t=a.current)||void 0===t||t.open({sale_id:e}):h.b.warning(Object(c.b)("phrases.no_permission_to_do_this"))}),[d.can_edit_sale]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(f.a,{Mobile:wa,Desktop:fa,dates:o,loading:u,data_source:i,handleOpenSale:m,setDates:l}),Object(S.jsx)(Ee.a,{ref:a,afterSave:()=>j()})]})};const Ca=["cashback","anamnesis","messages","images_files"];var Ia=e=>{const{client_id:t,setActiveTab:a,active_tab:i,close:n}=e,r=Object(s.useRef)(null),o=Object(O.b)(),l=Object(v.a)((e=>e.is_mobile)),d=Object(v.a)((e=>e.current_user.features.has_anamnesis||e.current_user.addons.has_anamnesis)),b=Object(v.a)((e=>e.current_user.permissions.can_access_anamnesis)),u=Object(v.a)((e=>e.is_agendapro)),m=Object(s.useCallback)((e=>Object(S.jsx)(j.a,{placement:l?"bottom":void 0,trigger:["hover","click"],title:t?"":Object(c.b)("phrases.available_after_creation"),children:e})),[t,l]),x=Object(s.useCallback)((e=>{var t;if(Ca.includes(e)&&u)return void(null===(t=r.current)||void 0===t||t.open());if("anamnesis"===e){if(!d)return void o({is_addon:!0,search:p.a.ID_ANAMNESIS});if(!b)return void h.b.warning(Object(c.b)("phrases.no_permission_to_do_this"))}a(e)}),[b,o,d,u,a]),g=Object(s.useMemo)((()=>[{key:"register",label:Object(c.b)("words.record"),children:Object(S.jsx)(Ot,{...e})},{key:"panel",label:m(Object(c.b)("words.panel")),disabled:!t,children:Object(S.jsx)(va,{client_id:t,setActiveTab:a})},{key:"debits",label:m(Object(c.b)("words.debit",{count:2})),disabled:!t,children:Object(S.jsx)(Pt,{client_id:t})},{key:"credits",label:m(Object(c.b)("words.credit",{count:2})),disabled:!t,children:Object(S.jsx)(Et,{client_id:t})},{key:"cashback",label:m(Object(c.b)("words.cashback")),disabled:!t,children:Object(S.jsx)(Ke,{client_id:t})},{key:"schedules",label:m(Object(c.b)("words.scheduling",{count:2})),disabled:!t,children:Object(S.jsx)(Pe,{client_id:t})},{key:"sales",label:m(Object(c.b)("clients.sale",{count:2})),disabled:!t,children:Object(S.jsx)(ka,{client_id:t})},{key:"packages",label:m(Object(c.b)("words.package",{count:2})),disabled:!t,children:Object(S.jsx)(it,{client_id:t})},{key:"messages",label:m(Object(c.b)("words.message",{count:2})),disabled:!t,children:Object(S.jsx)(mt,{client_id:t,setActiveTab:a})},{key:"notes",label:m(Object(c.b)("words.annotation",{count:2})),disabled:!t,children:Object(S.jsx)(Qt,{client_id:t})},{key:"images_files",label:Object(S.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[m(Object(c.b)("clients.images_files")),Object(S.jsx)(xe.c,{date:"2025/07/05"})]}),disabled:!t,children:Object(S.jsx)(ge,{client_id:t,close:n})},{key:"anamnesis",label:m(Object(c.b)("words.anamnesi",{count:2})),disabled:!t,children:Object(S.jsx)(Se,{client_id:t})},{key:"subscription",label:m(Object(c.b)("phrases.subscription_sale_other")),disabled:!t,children:Object(S.jsx)(F,{client_id:t})}]),[t,n,e,m,a]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Aa,{onTabClick:x,tabPosition:l?"top":"left",activeKey:i,items:g,renderTabBar:(e,t)=>Object(S.jsx)(t,{...e,mobile:!1})}),Object(S.jsx)(_.a,{ref:r})]})};const Aa=Object(x.d)(m.a).withConfig({componentId:"wb__sc-leda33-0"})(["height:100%;& > .ant-tabs-content-holder{width:100%;overflow-x:hidden;overflow-y:",";padding-right:20px;","}"],(e=>"images_files"===e.activeKey?"scroll":"auto"),(e=>e.theme.is_mobile&&Object(x.c)(["padding-right:0;margin-bottom:20px;"])));var Sa=a(599),$a=a(898),Ea=a(604),Fa=a(586);const Da=w.e`
  query FetchClient ($id: ID) {
    client(id: $id, search_inactives: true) {
      id
      name
      active
      blocked_from_mobile_app
      birthday
      phone1
      phone2
      cpf
      rg
      email
      avatar_url: large_thumb_url
      invitee_id
      client_dependents {
        id
        relation
        dependent {
          id name
        }
      }
      customer_tag_list
      default_discount_percentage
      default_discount_type
      receive_notifications
      obs
      city_id state_id
      address
      number
      complement
      district
      cep
      has_avatar
      name_initials
      instagram
      facebook
      avatar_blurhash
      nickname
      cnpj
    }
  }
`;var za=e=>Object(z.a)(Da,{fetchPolicy:"network-only",onCompleted:t=>{const{client:a}=t;e(a)},onError:e=>{C.a.captureException(e),console.log(e)}});const Na=(e,t)=>{let{onSave:a}=e;const[i,n]=Object(s.useState)(!1),[j,m]=Object(s.useState)("register"),[p,O]=Object(s.useState)(),[_,x]=Object(s.useState)(),[g,y]=Object(s.useState)(),[f,w]=Object(s.useState)(),[k]=d.a.useForm(),{setFieldsValue:C,resetFields:I,submit:A}=k,$=Object(v.a)((e=>e.is_mobile)),E=Object(v.a)((e=>e.theme)),[F,{loading:D}]=Object($a.a)(),z=Object(s.useCallback)((e=>{const{birthday:t,avatar_url:a,avatar_blurhash:s,...i}=e,c={...i,birthday:t?r()(t).format("L"):void 0};C(c),x(a),y(s)}),[C]),[N,{loading:q,error:B}]=za(z),P=Object(s.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t,initial_values:a,initial_active_bar:s,preview:i}=e;t?(N({variables:{id:t}}),w(t)):i&&!p&&null!==a&&void 0!==a&&a.name&&Object(o.c)({image_url:i}).then((e=>O(e))),a&&C(a),s&&m(s),i&&x(i),n(!0)}),[p,N,C]),R=Object(s.useCallback)((()=>{f&&N({variables:{id:f}})}),[f,N]),M=Object(s.useCallback)((()=>{n(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:P,close:M})));const T=Object(s.useCallback)((e=>{e||(I(),O(void 0),x(void 0),w(void 0),y(void 0),m("register"))}),[I]),L=Object(s.useCallback)((async e=>{const t=((e,t)=>{const a=e.birthday?r()(e.birthday,"L").format("YYYY-MM-DD"):null;return{...e,phone2:e.phone2&&e.phone2.length<4?null:e.phone2,phone1:e.phone1&&e.phone1.length<4?null:e.phone1,avatar:t,birthday:a}})(e,p),{success:s,client:i}=await F(t);s&&(h.b.success(Object(c.b)("phrases.saved_successfully",{prefix:Object(c.b)("words.client")})),M(),null===a||void 0===a||a(i))}),[p,M,a,F]),V=Object(s.useMemo)((()=>{if(!f)return Object(S.jsx)(l.h,{$size:26,$bold:!0,children:`${Object(c.b)("words.new")} ${Object(c.b)("words.client").toLocaleLowerCase()}`});if(q)return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(b.a,{src:_,size:"large"}),"\xa0",Object(S.jsx)(Ea.a,{width:"15ch"})]});const e=k.getFieldValue("has_avatar"),t=k.getFieldValue("name_initials"),a=k.getFieldValue("name");return Object(S.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[e?Object(S.jsx)(Sa.a,{src:_,blurhash:g,size:"large"}):Object(S.jsx)(b.a,{style:{backgroundColor:E.color_primary},size:"large",children:null===t||void 0===t?void 0:t.toUpperCase()}),"\xa0",a]})}),[g,f,k,q,_,E.color_primary]),H=Object(s.useMemo)((()=>{if("register"===j)return Object(S.jsx)(Ue.a,{close:M,submit:A,loading:D,disabled:!!B})}),[j,M,B,D,A]);return Object(S.jsx)(u.a,{componentSize:"middle",children:Object(S.jsx)(Ba,{open:i,onClose:M,afterOpenChange:T,closable:!0,destroyOnClose:!0,placement:$?"bottom":"right",height:"100%",title:V,styles:{body:{overflowY:$?"auto":"hidden",paddingTop:0,paddingRight:$?15:0,paddingBottom:0}},width:1200,footer:H,push:!1,children:Object(S.jsx)(qa,{children:Object(S.jsx)(d.a,{form:k,layout:"vertical",scrollToFirstError:!0,onFinish:L,style:{width:"100%",height:"100%"},children:Object(S.jsxs)(Fa.a,{visible:!!B,small:$,children:[Object(S.jsx)("button",{type:"submit",hidden:!0}),Object(S.jsx)(Ia,{loading:q,setActiveTab:m,client_id:f,preview:_,avatar_blurhash:g,setPreview:x,setAvatar:O,setFieldsValue:C,active_tab:j,close:M,refetch:R})]})})})})})};Na.displayName="ClientDrawer";t.a=Object(s.memo)(Object(s.forwardRef)(Na));const qa=Object(x.d)(l.g).withConfig({componentId:"wb__sc-16g9tey-0"})(["position:relative;",""],(e=>!e.theme.is_mobile&&Object(x.c)(["height:100%;"]))),Ba=Object(x.d)(l.a).withConfig({componentId:"wb__sc-16g9tey-1"})([".ant-drawer-header{background:",";}.ant-drawer-body{background:",";}"],(e=>e.theme.is_mobile?"#f8f8f8":"#ffffff"),(e=>e.theme.is_mobile?"#f8f8f8":"#ffffff"))},597:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var s=a(0),i=a(50),c=a(2824),n=a(20),r=a(582),o=a(232),l=a(19),d=a(82),b=a(22);const u=Object(s.lazy)((()=>Object(o.a)((()=>Promise.resolve().then(a.bind(null,894)))))),j=Object(s.lazy)((()=>Object(o.a)((()=>Promise.resolve().then(a.bind(null,949)))))),m=e=>{let{useIncludes:t,...a}=e;const[c,o]=Object(s.useState)(null),l=Object(n.m)(),m=Object(n.o)();Object(s.useEffect)((()=>{var e,s;if(!a.title||0===a.title.length)return;const c=l.pathname.includes("wow")?Object(i.b)("words.panel"):a.title;if(document.title=`${c} | ${d.a.TITLE}`,!t)return;const n=(null===(e=a.tabs)||void 0===e||null===(s=e.find((e=>l.pathname.includes(e.path))))||void 0===s?void 0:s.path)||null;o(n)}),[l.pathname,a.tabs,a.title,t]);const p=Object(s.useCallback)((e=>{o(e.path),e.path&&m(e.path)}),[m]);return Object(b.jsx)(r.a,{Desktop:u,Mobile:j,...a,onTabClick:p,isTabSelected:e=>c?c===e.path:e.path===l.pathname})};m.displayName="Header",t.b=Object(s.memo)(m);const p=Object(l.d)(c.a.Search).withConfig({componentId:"wb__sc-18itrgs-0"})(["max-width:","px !important;flex:1;.ant-btn-icon-only{border-left-color:#FFFFFF;}"],(e=>e.width))},598:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var s=a(640);const i=Object(s.a)({});t.b=e=>Object(s.b)(i,e)},599:function(e,t,a){"use strict";var s=a(0),i=a(2975),c=a(826),n=a(671),r=a(82),o=a(22);const l=e=>{const{src:t,blurhash:a,type:l="user",...d}=e,[b,u]=Object(s.useState)(!1),[j,m]=Object(s.useState)(!1);Object(s.useEffect)((()=>{if(u(!1),m(!1),!t)return;const e=new Image;e.onload=()=>u(!0),e.onerror=()=>m(!0),e.src=t}),[t]);const p=Object(s.useMemo)((()=>{if(!t&&e.icon)return;const s="image"===l?r.a.DEFAULT_PLACEHOLDER:n.a;if(j||!t)return s;const i=a||"U5SY{sxu~mxu%MfQt6fQ~mfQ9IfQ%MfQWCfQ",o=Object(c.a)(i);return b?t:o}),[l,t,e.icon,j,a,b]);return Object(o.jsx)(i.a,{...d,src:p,shape:"user"===l?"circle":"square"})};l.displayName="AvatarWithBlurHash",t.a=Object(s.memo)(l)},600:function(e,t,a){"use strict";var s=a(74);t.a=e=>{s.a.is_native?s.a.sendMessage({type:"open_link",payload:e}):window.open(e,"_blank","noopener, noreferrer")}},602:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var s=a(640),i=a(855);const c=Object(s.a)({sale:i.a,save_loading:!1,destroy_loading:!1,schedule_loading:!1,finished_deleted:!1,loading:!1,saleDispatch:e=>{},getScheduleGroups:()=>{},submit:e=>{},refetch:()=>{}});t.b=e=>Object(s.b)(c,e)},603:function(e,t,a){"use strict";a.d(t,"e",(function(){return l})),a.d(t,"b",(function(){return b})),a.d(t,"a",(function(){return j})),a.d(t,"c",(function(){return p})),a.d(t,"g",(function(){return _})),a.d(t,"h",(function(){return x})),a.d(t,"j",(function(){return v})),a.d(t,"i",(function(){return g})),a.d(t,"f",(function(){return y})),a.d(t,"d",(function(){return f}));var s=a(50),i=a(759),c=a(579),n=a(760),r=a(53),o=a.n(r);const l=(e,t)=>{if(!t)return Promise.resolve(!0);return t.toString().length>14?d(null,t):b(null,t)},d=(e,t)=>!t||i.a.isValid(t)?Promise.resolve(!0):Promise.reject(Object(s.b)("phrases.invalid_cnpj")),b=(e,t)=>{const a=t||"";return""===a||u(a)?Promise.resolve(!0):Promise.reject(Object(s.b)("phrases.invalid_cpf"))},u=e=>{const t=`${e}`.replace(/[^\d]/g,"");if(""===t)return!1;let a,s=0;if("00000000000"===t)return!1;for(let i=1;i<=9;i++)s+=parseInt(t.substring(i-1,i))*(11-i);if(a=10*s%11,10!==a&&11!==a||(a=0),a!==parseInt(t.substring(9,10)))return!1;s=0;for(let i=1;i<=10;i++)s+=parseInt(t.substring(i-1,i))*(12-i);return a=10*s%11,10!==a&&11!==a||(a=0),a===parseInt(t.substring(10,11))},j=(e,t)=>!t||""===t||m(t)?Promise.resolve(!0):Promise.reject(Object(s.b)("phrases.invalid_date")),m=e=>{if(!/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/.test(e))return!1;const t=o()(e,"L"),a=o()();return t.isValid()&&t.isBefore(a)},p=e=>{const[t,{loading:a}]=Object(n.a)();return[async(a,i)=>{if(!i)return Promise.resolve(!0);const c=await t(i);return c.success?(e(c.data),Promise.resolve(!0)):Promise.reject(Object(s.b)("phrases.invalid_zip_code"))},a]},h=Object(c.n)(2),O=["jpg","jpeg","png"],_=async(e,t)=>{if(e.size>=h)return t.current.value="",Promise.reject(Object(s.b)("validators.file_too_large"));const a=e.name.split(/[.]+/).pop();return O.includes(a)?Promise.resolve():(t.current.value="",Promise.reject(Object(s.b)("validators.invalid_file_type")))},x=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;return e.size<=t},v=(e,t)=>{if(!t)return Promise.resolve(!0);const a="55"===t.substring(0,2)?12:10;return t.length>=a?Promise.resolve(!0):Promise.reject(Object(s.b)("phrases.invalid_number"))},g=(e,t)=>{if(!t)return Promise.resolve(!0);return t.length<=3?Promise.resolve(!0):v(e,t)},y=(e,t)=>{if(!t)return Promise.resolve(!0);return/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t)?Promise.resolve(!0):Promise.reject(Object(s.b)("phrases.email_special_characters"))},f=(e,t)=>{if(!t||!t.phoneNumber)return Promise.resolve();const{valid:a,countryCode:i,phoneNumber:c,isoCode:n}=t;if("br"===n){if(!(55===i))return Promise.reject("Informe o 55 antes");if((null===c||void 0===c?void 0:c.length)<8)return Promise.reject(Object(s.b)("phrases.invalid_number"))}return null!==a&&void 0!==a&&a()?Promise.resolve():Promise.reject(Object(s.b)("phrases.invalid_number"))}},606:function(e,t,a){"use strict";a(0);var s=a(50),i=a(2934),c=a(53),n=a.n(c),r=a(19),o=a(22);const l=e=>Object(o.jsx)(d,{getPopupContainer:e=>e.parentElement||document.body,format:"L",presets:b,placement:"bottomRight",...e});l.displayName="RangePicker",t.a=l;const d=Object(r.d)(i.a.RangePicker).withConfig({componentId:"wb__sc-twh055-0"})(["input{text-align:center;}"]),b=[{label:Object(s.b)("words.today"),value:[n()(),n()()]},{label:Object(s.b)("date.last_week"),value:[n()().startOf("week").subtract(1,"week"),n()().endOf("week").subtract(1,"week")]},{label:Object(s.b)("date.current_week"),value:[n()().startOf("week"),n()().endOf("week")]},{label:Object(s.b)("date.next_week"),value:[n()().startOf("week").add(1,"week"),n()().endOf("week").add(1,"week")]},{label:Object(s.b)("date.last_month"),value:[n()().subtract(1,"month").startOf("month"),n()().subtract(1,"month").endOf("month")]},{label:Object(s.b)("date.current_month"),value:[n()().startOf("month"),n()().endOf("month")]},{label:Object(s.b)("date.next_month"),value:[n()().add(1,"month").startOf("month"),n()().add(1,"month").endOf("month")]}]},608:function(e,t,a){"use strict";var s=a(0),i=a(250),c=a(116),n=a(1115),r=a.n(n),o=a(900),l=a(901),d=a(902),b=a(903),u=a(22);const j={success:d,error:o,information:l,premium:b},m=e=>{let{animation:t}=e;const a=Object(s.useRef)(null);return Object(s.useEffect)((()=>{let e;return a.current&&(e=r.a.loadAnimation({container:a.current,renderer:"svg",loop:!1,autoplay:!0,animationData:j[t]})),()=>{e&&e.destroy()}}),[t]),Object(u.jsx)("div",{ref:a,style:{width:200,height:200}})};m.displayName="LottieAnimation";var p=m;const h=e=>t=>{const{title:a,content:s,useConfirm:n,alignContent:r="center",...o}=t;(n?c.c.confirm:c.c.success)({centered:!0,closable:!0,maskClosable:!0,width:500,icon:null,content:Object(u.jsxs)(i.g,{$column:!0,$fullWidth:!0,align:"middle",children:[Object(u.jsx)(p,{animation:e}),Object(u.jsx)(i.h,{$alignCenter:!0,$size:24,$semibold:!0,children:a}),!!s&&Object(u.jsx)(i.h,{$fullWidth:!0,$align:r,$margins:{top:15},$size:16,children:s})]}),cancelButtonProps:{style:{color:"#585858"}},...o})},O={success:h("success"),error:h("error"),information:h("information"),premium:h("premium")};t.a=O},612:function(e,t,a){"use strict";a(0);var s=a(250),i=a(22);const c=e=>{const{icon:t,label:a,direction:c,hex:n,color:r}=e;return Object(i.jsx)(s.g,{$alignCenter:!0,$paddings:[0,25],justify:"right"===c?"start":"end",$backgroundColor:r,$backgroundHex:n,$isFlex:!1,style:{height:"100%",borderRadius:5},children:Object(i.jsx)("div",{children:Object(i.jsxs)(s.g,{$column:!0,$alignCenter:!0,$justifyCenter:!0,$isFlex:!1,children:[Object(i.jsx)(s.d,{$size:22,as:t,$hex:"white"}),Object(i.jsx)(s.h,{$hex:"white",$bold:!0,$size:12,$top:3,children:a})]})})})};c.displayName="SwipeableListItemContent",t.a=c},613:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(447),n=a(116),r=a(250),o=a(746),l=a(602),d=a(645),b=a(855),u=a(37),j=a(1850),m=a(76);const p=u.e`
  mutation destroyScheduleGroupMutation($data: ScheduleGroupDestroyInput!) {
    scheduleGroupDestroy(input: $data) {
      success
      errors
    }
  }
`;var h=()=>{const[e,{loading:t}]=Object(j.a)(p);return[Object(s.useCallback)((async(t,a)=>{try{var s;const i=await e({variables:{data:{id:t,with_next_ocurrences:a}}}),{success:c,errors:r}=(null===i||void 0===i||null===(s=i.data)||void 0===s?void 0:s.scheduleGroupDestroy)||{};return c?{success:!0}:(null===r||void 0===r||r.map((e=>n.b.error(e))),{success:!1})}catch(i){return m.a.captureException(i),console.error(i),{success:!1}}}),[e]),t]};const O=u.e`
  mutation DestroySale($data: DestroySaleInput!) {
    destroySale(input: $data) {
      success errors
    }
  }
`;var _=()=>{const[e,{loading:t}]=Object(j.a)(O);return[Object(s.useCallback)((async t=>{try{var a;const s=await e({variables:{data:{id:t}}}),{success:i,errors:c}=(null===(a=s.data)||void 0===a?void 0:a.destroySale)||{};return i?{success:!0}:(null===c||void 0===c||c.forEach((e=>n.b.error(e))),{success:!1})}catch(s){return m.a.captureException(s),console.error(s),n.b.error(Object(i.b)("phrases.generic_delete_error_message")),{success:!1}}}),[e]),t]};var x=()=>{const[e]=_(),[t]=h(),[a,c]=Object(s.useState)(!1);return[Object(s.useCallback)((async(a,s)=>{const r=[],o=[];c(!0);const{success:l}=await e(a);if(!l)return{success:!1};const d=s.map((e=>new Promise(((a,s)=>{t(e).then((t=>{let{success:a}=t;if(!a)return o.push(e);r.push(e)})).catch((()=>{o.push(e)})).then((()=>{a(!0)}))}))));return await Promise.all(d).then((()=>{r.length>0&&n.b.success(`${r.length} ${Object(i.b)("phrases.deleted_successfully",{prefix:Object(i.b)("words.schedule",{count:r.length}).toLocaleLowerCase(),count:r.length})}`),o.length>0&&n.b.error(`${o.length} ${Object(i.b)("phrases.cant_be_deleted",{prefix:Object(i.b)("words.schedule",{count:o.length}).toLocaleLowerCase(),count:o.length})}`)})),c(!1),{success:!0}}),[e,t]),a]},v=a(27),g=a(232),y=a(757),f=a(582),w=a(148),k=a(641),C=a(733),I=a(734),A=a(53),S=a.n(A);const $=u.e`
  query SaleGetScheduleGroup($ids: [ID!]) {
    all_schedule_groups(ids: $ids) {
      all {
        id
        start_date
        client_credit_cents

        client {
          ...ClientsAttributes
        }

        calendars {
          id
          employee_id

          services {
            id
          }
        }
      }
    }
  }

  ${k.a}
`;var E=e=>{const[t,a]=Object(s.useState)(!1),i=Object(v.a)((e=>e.employees)),n=Object(v.a)((e=>e.inventory_products)),r=Object(w.a)(),o=Object(s.useCallback)(((t,a)=>{var s,n;const r=[];let o=0;t.forEach((e=>{o+=e.client_credit_cents||0,e.calendars.forEach((e=>{const t=i.find((t=>t.id===e.employee_id));e.services.forEach((s=>{var i;const n=a.find((e=>e.id===s.id));let o;if(null!==t&&void 0!==t&&t.id&&(null===n||void 0===n||!n.has_promotion)){const e=t.id;o=null===n||void 0===n?void 0:n.product_configurations.find((t=>t.employee_id===e))}const l=o&&o.value_cents>0?o.value_cents:null===n||void 0===n?void 0:n.price_cents,d=null===n||void 0===n||null===(i=n.composes)||void 0===i?void 0:i.map((e=>{let{id:t,...a}=e;return{id:Object(c.a)(),...a}})),b={id:Object(c.a)(),is_service:(null===n||void 0===n?void 0:n.is_service)||!0,inventory_product:n,employee:t,quantity:1,value_cents:l||0,discount:0,discount_type:"value",sum_cents:l||0,calendar_id:e.id,sale_composes:d||[],sale_assistants:[]};r.push(b)}))}))}));const l=S()(null===(s=t[0])||void 0===s?void 0:s.start_date),d=null===(n=t[0])||void 0===n?void 0:n.client,b=r.reduce(((e,t)=>t._destroy?e:e+t.sum_cents),0),u=t.map((e=>e.id)),j={date:l,client:d,finished:!1,credit_cents:0,discount_cents:0,cashback_cents:0,sum_cents:b,sale_items:r,bill_recs:[],schedule_groups_ids:u,schedule_group_id:u[0],manually_changed_discount_cents:!1,manually_changed_credit_cents:!1,manually_changed_cashback_cents:!1,client_max_credits_cents:0,client_cashback_balance_cents:0,package_items:[],subscription_items:[],down_payment_cents:o};e({type:"set_sale",payload:j})}),[i,e]);return[Object(s.useCallback)((async e=>{a(!0);try{const{data:{all_schedule_groups:t}}=await r.query({fetchPolicy:"network-only",query:$,variables:e}),s=t.all[0].start_date,i=`wday_${S()(s).day()}`,{data:{all_promotions:c}}=await r.query({fetchPolicy:"network-only",query:I.a,variables:{start_date:s,end_date:s,weekdays:[i]}}),l=Object(C.a)(n,c.all);o(t.all,l)}catch(t){m.a.captureException(t),console.log(t)}finally{a(!1)}}),[r,n,o]),t]},F=a(657);const D=u.e`
  mutation SaleDrawerSaveSale($data: SaveInventorySaleInput!) {
    saveInventorySale(input: $data) {
      success
      errors
    }
  }
`;var z=e=>{const[t,{loading:a}]=Object(j.a)(D);return[async a=>{try{const{data:s}=await t({variables:{data:a}}),{success:i=!1,errors:c=[]}=(null===s||void 0===s?void 0:s.saveInventorySale)||{};return null===c||void 0===c||c.forEach((t=>{"Caixa n\xe3o est\xe1 aberto"!==t?n.b.error(t):Object(F.a)(e)})),{success:i}}catch(s){return m.a.captureException(s),n.b.error(Object(i.b)("phrases.generic_save_error_message")),console.error(s),{success:!1}}},{loading:a}]},N=a(19),q=a(2879),B=a(155),P=a(190),R=a(188);const M=u.e`
  query SaleDrawerFetchSale ($id: ID, $with_deleted: Boolean) {
    inventory_sale (id: $id, with_deleted: $with_deleted) {
      id
      code
      date
      finished
      sum_cents
      discount_cents
      credit_cents
      cashback_cents
      schedule_groups_ids: schedule_group_ids
      comment
      number
      deleted_at

      client {
        ...ClientsAttributes
      }

      sale_items(with_deleted: $with_deleted) {
        id
        quantity
        discount_type
        discount_cents
        discount_percentage
        value_cents
        sum_cents
        package_item_id
        subscription_item_id

        sale_composes: inventory_sale_composes {
          id
          product_id
          quantity
          extra_quantity
          unit_quantity
          product_price_cents
        }

        sale_assistants: item_sale_assistants {
          id commission_percentage discount_assistant_commission_from employee_id
          calculate_assistant_commission_on
        }

        inventory_product {
          ...InventoryProductsAttributes
        }

        employee {
          ...EmployeesAttributes
        }
      }

      invoice {
        id
        status
        status_reason
        created_at
        emission_date
        total_value
        client_sale_type
        client_sale_id
        client_name
        pdf_link
        xml_link
      }

      electronic_invoice {
        id
        status
        status_reason
        created_at
        emission_environment
        number
        total_value
        document_type
        document_id
        customer_name
        pdf_file_link
        xml_file_link
      }

      electronic_consumer_invoice {
        id
        status
        status_reason
        created_at
        emission_environment
        number
        total_value
        document_type
        document_id
        customer_name
        pdf_file_link
        xml_file_link
      }

      bill_recs (with_deleted: $with_deleted) {
        id
        date
        due
        value_cents
        installment_index
        installment_id
        status
        account_id
        payment {
          ...FinancePaymentsAttributes
        }
      }
    }
  }

  ${R.b}
  ${k.a}
  ${B.b}
  ${P.b}
`;var T=(e,t)=>Object(q.a)(M,{fetchPolicy:"network-only",onCompleted:a=>{const{inventory_sale:s}=a;(a=>{const{date:s,sale_items:i=[],bill_recs:c,deleted_at:n,__typename:r,...o}=a||{};t(!1);const l=(null===i||void 0===i?void 0:i.map((e=>{const{discount_cents:t,discount_percentage:a,discount_type:s,__typename:i,...c}=e,n="value"===s?t:a;return{...c,discount_type:s,discount:n,is_service:c.inventory_product.is_service}})))||[],d=(null===c||void 0===c?void 0:c.map((e=>{const{date:t,due:a,payment:s,__typename:i,account_id:c,...n}=e;return{...n,payment:{...s,account_id:c},date:S()(t),due:S()(a)}})))||[],b={...o,date:S()(s),sale_items:l,bill_recs:d,deleted:!!n,manually_changed_discount_cents:!0,manually_changed_credit_cents:!0,manually_changed_cashback_cents:!0,client_max_credits_cents:0,client_cashback_balance_cents:0,package_items:[],subscription_items:[],down_payment_cents:0};e({type:"set_sale",payload:b})})(s)},onError:e=>{m.a.captureException(e),console.log(e)}}),L=a(22);const V=Object(s.lazy)((()=>Object(g.a)((()=>a.e(73).then(a.bind(null,2930)))))),H=Object(s.lazy)((()=>Object(g.a)((()=>a.e(103).then(a.bind(null,2929)))))),U=(e,t)=>{const{afterSave:a}=e,[r,u]=Object(s.useReducer)(b.b,b.a),[j,m]=Object(s.useState)(!1),[p,h]=Object(s.useState)(void 0),[O,g]=Object(s.useState)(!1),[w,k]=Object(s.useState)(""),C=Object(v.a)((e=>e.is_mobile)),I=Object(v.a)((e=>e.current_user.permissions)),A=Object(v.a)((e=>e.current_user.salon_id)),S=Object(s.useRef)(null),$=Object(s.useRef)(null),F=Object(s.useCallback)((()=>{var e;I.can_access_cash_accounting?null===(e=$.current)||void 0===e||e.open():n.b.warning(Object(i.b)("phrases.no_permission_to_do_this"))}),[I.can_access_cash_accounting]),[D,{loading:N,error:q}]=T(u,g),[B,P]=E(u),[R,{loading:M}]=z(F),U=Object(s.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sale_id:t,schedule_group_ids:a,with_deleted:s}=e;g(!!t),h(t),m(!0),k(Object(c.a)()),t&&D({variables:{id:t,with_deleted:s}}),a&&B({ids:a})}),[D,B]),Y=Object(s.useCallback)((()=>{m(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:U,close:Y})));const[Q,J]=_(),[W,Z]=x(),K=Object(s.useCallback)((async e=>{if(Object(o.b)(A,r))return void n.b.warning(Object(i.b)("phrases.different_salon_id"));const t=Object(o.c)(r,e,w),{success:s}=await R(t);s&&(n.b.success(Object(i.b)("phrases.saved_successfully",{prefix:Object(i.b)("words.sale"),context:"female"})),Y(),null===a||void 0===a||a(),Object(y.a)())}),[a,Y,w,r,A,R]),X=Object(s.useCallback)((async e=>{const{success:t}=await Q(e);t&&(Y(),null===a||void 0===a||a())}),[a,Y,Q]),ee=Object(s.useCallback)((async(e,t)=>{const{success:s}=await W(e,t);s&&(Y(),null===a||void 0===a||a())}),[a,Y,W]),te=Object(s.useCallback)((e=>{e||u({type:"reset_sale"})}),[]),ae=Object(s.useCallback)((()=>{D({variables:{id:p}})}),[D,p]),se=Object(s.useMemo)((()=>({sale:r,saleDispatch:u,refetch:ae,submit:K,getScheduleGroups:B,headerRef:S,save_loading:M,destroy_loading:J||Z,schedule_loading:P,loading:N,finished_deleted:r.deleted||r.finished})),[J,Z,B,N,r,M,P,K,ae]),ie=Object(s.useMemo)((()=>r.id?r.deleted?Object(i.b)("sale.viewing_deleted_sale",{number:r.code}):r.finished?Object(i.b)("sale.viewing_sale",{number:r.code}):Object(i.b)("sale.editing",{number:r.code}):Object(i.b)("sale.new")),[r.code,r.deleted,r.finished,r.id]);return Object(L.jsxs)(G,{open:j,onClose:Y,closable:!0,width:1650,placement:C?"bottom":"right",height:"100%",destroyOnClose:!0,afterOpenChange:te,push:!1,children:[Object(L.jsx)(l.a.Provider,{value:se,children:Object(L.jsx)(f.a,{Mobile:H,Desktop:V,loading:N||P||O,has_error:!!q,title:ie,destroySale:X,destroySaleAndSchedules:ee,close:Y})}),Object(L.jsx)(d.a,{ref:$})]})};U.displayName="SaleDrawer";t.a=Object(s.memo)(Object(s.forwardRef)(U));const G=Object(N.d)(r.a).withConfig({componentId:"wb__sc-1y6yhj1-0"})([".ant-drawer-body{padding:0;background:",";}"],(e=>e.theme.is_mobile?"#f8f8f8":"transparent"))},614:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(1256);var n=a(690),r=a(696),o=a(774),l=a(680),d=a(27),b=a(866),u=a(22);const{Option:j}=c.a,m=e=>{let{has_calendar:t,has_commission:a,only_admins:c,service_selected_id:m,...p}=e;const{onChange:h}=p,O=Object(s.useRef)(null),_=Object(s.useRef)(null),x=Object(d.a)((e=>e.employees)),v=Object(d.a)((e=>e.current_user.salon.salon_configuration.filter_employees_by_service)),g=Object(s.useMemo)((()=>((e,t)=>{const{has_commission:a,has_calendar:s,only_admins:i,service_selected_id:c,filter_employees_by_service:n,selected_value:r}=t,o=((e,t,a,s)=>e.filter((e=>{const i=e.active;return t?i&&e.has_commission:a?i&&e.calendar:s?i&&e.user.is_admin:i})))(e,a,s,i),l=((e,t,a)=>{if(!t)return e;if(!a)return e;const s=[...e.filter((e=>e.product_configurations.some((e=>{var a;return(null===(a=e.product)||void 0===a?void 0:a.id)===t})))),...e.filter((e=>0===e.product_configurations.length))];return s.length>0?s:e})(o,c,n),d=((e,t,a)=>{if(!a)return e;if(e.some((e=>e.id===a)))return e;const s=t.find((e=>e.id===a));return s?[s,...e]:e})(l,e,r);return d})(x,{has_commission:a,has_calendar:t,only_admins:c,service_selected_id:m,filter_employees_by_service:v,selected_value:p.value})),[x,a,t,c,m,v,p.value]),y=Object(l.a)([{key:"name",name:Object(i.b)("words.name"),full:!0}]),f=Object(s.useCallback)((e=>e.map((e=>Object(u.jsx)(j,{value:e.id,name:e.name,title:e.name,item:e,children:Object(u.jsx)(y.Item,{name:e.name})},e.id)))),[y]),w=Object(s.useCallback)((e=>{var t,a;const s="multiple"===p.mode?[...p.value,e.id]:e.id;null===h||void 0===h||h(s,{label:e.id,value:e.id,key:e.id,name:e.name,item:e}),null===(t=_.current)||void 0===t||null===(a=t.closeDrawer)||void 0===a||a.call(t)}),[h,p.mode,p.value]),k=Object(s.useCallback)((e=>{var t;null===(t=O.current)||void 0===t||t.open({initial_values:{name:e}})}),[]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(r.a,{ref:_,model_name:Object(i.b)("words.employee").toLocaleLowerCase(),search_keys:Object(s.useMemo)((()=>["name"]),[]),items:g,SelectDropdown:y,renderOptions:f,popupClassName:"ant-select-dropdown-medium",MobileItem:o.a,openDrawer:k,EmptyItem:b.a,getItemTitle:e=>e.name,...p}),Object(u.jsx)(n.a,{ref:O,onSave:w})]})};t.a=Object(s.memo)(m)},616:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var s=a(0),i=a(2921),c=a(19),n=a(22);const r=e=>{const t=Object(s.useMemo)((()=>e.rowSelection?{...e.rowSelection,columnWidth:40}:void 0),[e.rowSelection]);return Object(n.jsx)(o,{rowKey:"id",...e,sticky:!0,sortDirections:["ascend","descend","ascend"],rowSelection:t})};r.displayName="FullTable",t.b=Object(s.memo)(r);const o=Object(c.d)(i.a).withConfig({componentId:"wb__sc-1ci3v5v-0"})(["box-shadow:0 0 10px 3px rgba(197 197 197 / 12%);flex:auto;width:0;border:1px solid rgba(0 0 0 / 3%);align-self:start;transition:box-shadow .1s;&:hover{box-shadow:0 0 10px 3px rgba(197 197 197 / 20%);}.ant-table-footer{position:sticky;bottom:0;padding:0 !important;}.ant-table-thead > tr > th:not(.ant-table-column-sort){background:transparent;}&,.ant-table,.ant-table table,.ant-table-container,thead.ant-table-thead,.ant-table-sticky-header{border-top-right-radius:5px;border-top-left-radius:5px;}thead.ant-table-thead{background-color:rgba(250,250,250,1);@supports ((-webkit-backdrop-filter:blur(10px)) or (backdrop-filter:blur(10px))){background-color:rgba(250,250,250,0.8);backdrop-filter:blur(10px);}}.ant-table-row,.ant-row{&.disabled{opacity:.8;background:#fcfcfc;&:hover{.deactivated-before-content:before{content:'(desativado) ';}.deleted-before-content:before{content:'(exclu\xeddo) ';}}}}"]),l=c.d.div.attrs({className:"ant-table-actions-col"}).withConfig({componentId:"wb__sc-1ci3v5v-1"})(["color:black;position:absolute;right:8px;top:0;height:100%;width:",";display:flex;justify-content:center;align-items:center;font-size:16rem;"],(e=>e.width?`${e.width}px`:"100%"))},620:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"f",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"d",(function(){return d})),a.d(t,"b",(function(){return b})),a.d(t,"c",(function(){return u}));var s=a(447),i=a(444),c=a(53),n=a.n(c);const r={id:Object(s.a)(),is_service:!0,discount:0,discount_type:"value",value_cents:0,total_cents:0,quantity:1},o=e=>{let{value_cents:t,quantity:a,discount_type:s,discount:i}=e;const c=t*a;if("value"===s)return c-i;return c-c*(i/100)},l=e=>e.reduce(((e,t)=>t._destroy?e:e+t.total_cents),0),d=e=>{const{customer_subscription_items:t=[],customer_subscription_payments:a=[],customer_subscription_template:s,finished:c,client:n,date:r,due:o,status:l,payment_link:d,code:b,...u}=e,j=t.reduce(((e,t)=>{let{id:a,product:s,is_service:c,balance:n,total_cents:r,...o}=t;return[...e,{id:Object(i.a)(a)?void 0:a,inventory_product_id:null===s||void 0===s?void 0:s.id,total_cents:Math.round(r),...o}]}),[]),m=a.reduce(((e,t)=>{const{id:a,date:s,due:c,finance_bill_recs:n,...r}=t,o={id:Object(i.a)(a)?void 0:a,finance_bill_recs_attributes:(l=n,l.reduce(((e,t)=>{let{due:a,id:s,payment:c,status:n,date:r,...o}=t;return[...e,{id:Object(i.a)(s)?void 0:s,payment_id:c.id,date:r.format("YYYY-MM-DD"),due:a.format("YYYY-MM-DD"),account_id:c.account_id,...o}]}),[])),...r};var l;return[...e,o]}),[]);return{...u,client_id:null===n||void 0===n?void 0:n.id,date:r.format("YYYY-MM-DD"),customer_subscription_template_id:null===s?null:null===s||void 0===s?void 0:s.id,customer_subscription_items_attributes:j,customer_subscription_payments_attributes:"manual"===u.payment_type?m:[]}},b=e=>e.reduce(((e,t)=>t._destroy?e:e+t.value_cents),0),u=e=>{const{customer_subscription_items:t,date:a,due:s,customer_subscription_payments:i,__typename:c,...r}=e,o=t.map((e=>{let{__typename:t,...a}=e;return{...a,is_service:a.product.is_service}})),l=i.map((e=>{const{__typename:t,date:a,due:s,finance_bill_recs:i,...c}=e,r=i.map((e=>{let{__typename:t,date:a,due:s,payment:i,account_id:c,...r}=e;return{...r,payment:{...i,account_id:c},date:n()(a),due:n()(s)}}));return{...c,date:n()(a),due:n()(s),finance_bill_recs:r}}));return{...r,date:n()(a),due:s?n()(s):void 0,customer_subscription_items:o,finished:!0,customer_subscription_payments:l}}},621:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(137),n=a(1256),r=a(2843),o=a(250),l=a(680),d=a(718),b=a(596),u=a(27),j=a(661),m=a(583),p=a(631),h=a(19),O=a(591),_=a(117),x=a(22);const v=e=>{const{item:t}=e,a=Object(u.a)((e=>e.current_user.permissions));return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(y,{src:null===t||void 0===t?void 0:t.avatar_url}),Object(x.jsxs)("div",{style:{overflow:"hidden"},children:[Object(x.jsx)(m.b,{width:10,$block:!0,children:null===t||void 0===t?void 0:t.name}),a.can_access_client_phone&&Object(x.jsx)(m.b,{width:12,$block:!0,$color:"gray_1",$size:12,children:null!==t&&void 0!==t&&t.phone2?Object(x.jsx)(O.a,{inputStyle:{fontSize:12,color:_.a.gray_2},hide_input_styles:!0,disabled:!0,value:null===t||void 0===t?void 0:t.phone2},null===t||void 0===t?void 0:t.phone2):void 0})]})]})};var g=Object(s.memo)(v);const y=Object(h.d)(p.a).withConfig({componentId:"wb__sc-1j4ikue-0"})(["width:40px !important;height:40px !important;margin-right:10px !important;"]);var f=a(629);var w=()=>Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(k,{src:void 0}),Object(x.jsx)(o.g,{$column:!0,$left:10,children:Object(i.b)("input.no_client")})]});const k=Object(h.d)(p.a).withConfig({componentId:"wb__sc-137go38-0"})(["width:40px !important;height:40px !important;"]);var C=a(116);const{Option:I}=n.a,A=e=>{var t,a;const[n,m]=Object(s.useState)(!1),{show_phone:p=!0,auto_focus:h=!0,showCreateButton:_,except:v,...y}=e,k=Object(s.useRef)(null),A=Object(s.useRef)(null),S=Object(u.a)((e=>e.is_mobile)),$=Object(u.a)((e=>e.current_user.permissions)),{clients:E,search:F,loading:D,setSearch:z,setPage:N}=Object(d.b)({except:v,value:y.value});Object(s.useEffect)((()=>{if(!y.value||"multiple"===y.mode||0===E.length||F)return;E.some((e=>String(e.id)===String(y.value)))||z(y.value)}),[E,y.mode,y.value,F,z]);const q=Object(s.useMemo)((()=>{const e=[{key:"name",name:Object(i.b)("words.client"),full:!0}];return $.can_access_client_phone&&p&&e.push({key:"phone2",name:Object(i.b)("words.phone"),span:9}),e}),[$.can_access_client_phone,p]),B=Object(l.a)(q),P=Object(s.useCallback)((()=>{var e;$.can_create_client?null===(e=k.current)||void 0===e||e.open({initial_values:{name:y.value!==F?F:""}}):C.b.warning(Object(i.b)("phrases.no_permission_to_do_this"))}),[$.can_create_client,y.value,F]),R=Object(s.useCallback)((e=>{var t,a;return Object(x.jsxs)("div",{children:[((null===(t=e.props)||void 0===t||null===(a=t.flattenOptions)||void 0===a?void 0:a.length)||0)>0&&Object(x.jsx)(B.Header,{}),e,_&&Object(x.jsx)(o.g,{$paddings:10,style:{borderTop:"1px solid #f0f0f0"},children:Object(x.jsx)(o.i,{onClick:P,children:Object(x.jsxs)(o.h,{$semibold:!0,children:[Object(x.jsx)(r.a,{})," ",Object(i.b)("verbs.create")," ",isNaN(+F)?F:Object(i.b)("words.client").toLocaleLowerCase()]})})})]})}),[B,P,F,_]),M=Object(s.useMemo)((()=>D?`${Object(i.b)("words.searching")} ${Object(i.b)("words.client",{count:2}).toLocaleLowerCase()}`:F.length?Object(i.b)("input.not_found",{model:Object(i.b)("words.client").toLocaleLowerCase()}):Object(i.b)("input.search_by_name_phone_cpf")),[D,F.length]),T=Object(s.useCallback)((e=>{var t;null===(t=y.onChange)||void 0===t||t.call(y,e.id,{label:e.id,value:e.id,key:e.id,name:e.name,item:e})}),[y]);return Object(x.jsxs)("div",{style:{width:(null===(t=y.style)||void 0===t?void 0:t.width)||"100%",height:null===(a=y.style)||void 0===a?void 0:a.height},onClick:()=>{!S||n||y.disabled||m(!0)},children:[Object(x.jsx)(f.b,{showSearch:!0,ref:A,loading:D,autoFocus:h,popupMatchSelectWidth:!1,popupClassName:"ant-select-dropdown-large",placeholder:`${Object(i.b)("input.search_for")} ${Object(i.b)("words.client").toLocaleLowerCase()}`,notFoundContentText:M,getPopupContainer:Object(s.useCallback)((e=>e.parentElement),[]),onSearch:Object(c.debounce)(z,1500),dropdownRender:R,filterOption:()=>!0,...y,className:"pointer-events-none-mobile",children:E.map((e=>Object(x.jsx)(I,{value:e.id,name:e.name,item:e,title:e.name,children:Object(x.jsx)(B.Item,{name:e.name,phone2:e.phone2?Object(x.jsx)(O.a,{hide_input_styles:!0,disabled:!0,value:e.phone2},e.phone2):void 0})},e.id)))}),S&&Object(x.jsx)(j.a,{open:n,close:()=>m(!1),items:E,MobileItem:g,search:F,setSearch:z,model_name:Object(i.b)("words.client").toLocaleLowerCase(),onSelect:e=>{var t;return null===(t=y.onChange)||void 0===t?void 0:t.call(y,null===e||void 0===e?void 0:e.id,{value:null===e||void 0===e?void 0:e.id,item:e})},handleLoadMore:()=>N((e=>e+1)),allowClear:y.allowClear,EmptyItem:w,...e}),Object(x.jsx)(b.a,{ref:k,onSave:T})]})};A.displayName="ClientInput";t.a=Object(s.memo)(A)},622:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(1256),n=a(19),r=a(2845),o=a(579),l=a(696),d=a(770),b=a(713),u=a(680),j=a(27),m=a(62),p=a(697),h=a(116),O=a(22);const{Option:_}=c.a,x=e=>{let{is_service:t,initial_search:a,...c}=e;const{onChange:x}=c,v=Object(s.useRef)(null),g=Object(s.useRef)(null),y=Object(s.useRef)(null),f=Object(n.f)(),w=Object(m.a)(),k=Object(j.a)((e=>e.current_user.permissions)),C=Object(j.a)((e=>e.inventory_products)),I=Object(s.useMemo)((()=>C.filter((e=>(void 0===t||e.is_service===t)&&e.active))),[C,t]),A=Object(s.useMemo)((()=>{if(!c.value)return I;if(I.some((e=>e.id===c.value)))return I;const e=C.filter((e=>{var t;return!e.active&&(null===(t=c.value)||void 0===t?void 0:t.includes(e.id))}));return e?[...e,...I]:I}),[I,C,c.value]),S=Object(s.useMemo)((()=>{const e=[{key:"description",name:Object(i.b)("words.description"),full:!0},{key:"price_cents",name:Object(i.b)("words.value"),span:5}];return t&&e.push({key:"duration",name:Object(i.b)("words.duration"),span:4}),!1===t&&e.push({key:"quantity",name:Object(i.b)("words.inventory"),span:5}),e.push({key:"favorite",name:"",span:1}),e}),[t]),$=Object(u.a)(S),E=Object(s.useMemo)((()=>t?["description"]:["description","code","bar_code"]),[t]),F=Object(s.useCallback)((e=>e.map((e=>{const t=(e.quantity||0)/(e.unit_quantity||1),a=e.active?`${e.description}`:`[${Object(i.b)("words.disabled")}] ${e.description}`;return Object(O.jsx)(_,{value:e.id,item:e,description:a,children:Object(O.jsx)($.Item,{description:a,price_cents:Object(o.d)(e.price_cents),quantity:Object(i.b)("phrases.number_of_units",{count:t,unit:Object(i.b)("words.unit",{count:t})}),duration:Object(o.f)(e.duration,"minutes",{descriptive:!0}),favorite:Object(O.jsx)(r.a,{style:{color:e.favorite?f.colors.gold:"lightgray"}})})},e.id)}))),[$]),D=Object(s.useMemo)((()=>t?Object(i.b)("words.service").toLocaleLowerCase():!1===t?Object(i.b)("words.product").toLocaleLowerCase():`${Object(i.b)("words.service").toLocaleLowerCase()}/${Object(i.b)("words.product").toLocaleLowerCase()}`),[t]),z=Object(s.useCallback)((e=>{var t,a;null===x||void 0===x||x(e.id,{label:e.id,value:e.id,key:e.id,item:e}),w({type:"set_inventory_products",payload:[e,...C]}),null===(t=v.current)||void 0===t||null===(a=t.closeDrawer)||void 0===a||a.call(t)}),[x,w,C]),N=Object(s.useCallback)((e=>{var s;if(!k.can_create_product)return void h.b.warning(Object(i.b)("phrases.no_permission_to_do_this"));if(void 0===t)return;const c={description:e||a};var n;t?null===(n=g.current)||void 0===n||n.open({initial_values:c}):null===(s=y.current)||void 0===s||s.open({initial_values:c})}),[a,t,k.can_create_product]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(l.a,{ref:v,model_name:D,optionLabelProp:"description",search_keys:E,items:Object(o.A)(A),SelectDropdown:$,renderOptions:F,MobileItem:p.a,openDrawer:N,showCreateButton:void 0!==t,getItemTitle:e=>e.active?e.description:`[${Object(i.b)("words.disabled")}] ${e.description}`,...c}),Object(O.jsx)(b.a,{ref:g,afterSave:z}),Object(O.jsx)(d.a,{ref:y,afterSave:z})]})};t.a=Object(s.memo)(x)},623:function(e,t,a){"use strict";a(0);var s=a(250),i=a(19),c=a(27),n=a(595),r=a(22);const o=e=>{const{children:t,title:a,description:i,is_column:o,align_items:b,is_drawer:u,input_width:j=350}=e;return Object(c.a)((e=>e.is_mobile))?Object(r.jsxs)(n.a,{is_column:o,align_items:b,is_drawer:u,children:[Object(r.jsxs)(s.g,{$mBottom:o?10:0,$column:!0,$justifyCenter:!0,style:{marginRight:o?void 0:15},children:[Object(r.jsx)(s.h,{style:{lineHeight:1.2,display:"flex",alignItems:"center"},$size:16,$semibold:!0,children:a}),!!i&&Object(r.jsx)(d,{children:i})]}),t]}):Object(r.jsxs)(l,{$input_width:j,children:[Object(r.jsxs)("div",{className:"left",children:[Object(r.jsx)(s.h,{$size:u?16:18,$semibold:!0,style:{display:"flex",alignItems:"center"},children:a}),!!i&&Object(r.jsx)(s.h,{$color:"gray_1",$mTop:10,$size:u?14:16,children:i})]}),!!t&&Object(r.jsx)("div",{className:"right",children:t})]})};o.displayName="ConfigItem",t.a=o;const l=i.d.div.withConfig({componentId:"wb__sc-nvq6fg-0"})(["display:flex;align-items:center;justify-content:space-between;width:100%;border-bottom:1px solid rgba(0,0,0,0.1);padding:20px 0;&:last-child{border-bottom:none;}.left{display:flex;flex-direction:column;width:100%;padding-right:20px;}.right{display:flex;justify-content:flex-start;width:","px;p{margin-bottom:0;}}"],(e=>e.$input_width)),d=Object(i.d)(s.h).withConfig({componentId:"wb__sc-nvq6fg-1"})(["margin-top:5px;font-size:",";color:",";"],(e=>e.theme.is_mobile?"14rem":"12rem"),(e=>e.theme.colors.gray_1))},624:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var s=a(640),i=a(870);const c=Object(s.a)({schedule_group:i.a,loadings:{loading:!1,save:!1,destroy:!1,time:!1},employee_hours:{},dispatch:e=>{},submit:e=>{},getScheduleGroup:e=>{}});t.b=e=>Object(s.b)(c,e)},628:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(250),n=a(159),r=a(910),o=a(53),l=a.n(o),d=a(19),b=a(22);const u=l()(),j=e=>{let{type:t,close:a,onConfirm:s,view_interval:c}=e;const o=e=>{if(Array.isArray(e))return s(e[0].toDate(),e[1].toDate()),void a();s(e.toDate()),a()};return c?Object(b.jsxs)(p,{style:{flexWrap:"wrap"},children:[Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:"100%"},children:[Object(b.jsx)(n.a,{type:"primary",block:!0,onClick:()=>{o(r.a[c].previous.date)},children:r.a[c].previous.translation}),Object(b.jsx)(n.a,{type:"primary",block:!0,onClick:()=>o(r.a[c].current.date),children:r.a[c].current.translation})]}),Object(b.jsx)(n.a,{type:"primary",block:!0,style:{marginTop:8},onClick:()=>o(r.a[c].next.date),children:r.a[c].next.translation})]}):"range"===t?Object(b.jsxs)(p,{style:{flexWrap:"wrap"},children:[Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:"100%"},children:[Object(b.jsx)(n.a,{type:"primary",block:!0,onClick:()=>{o([u.startOf("week").subtract(7,"days"),u.endOf("week").subtract(7,"day")])},children:Object(i.b)("date.last_week")}),Object(b.jsx)(n.a,{type:"primary",block:!0,onClick:()=>o([u.startOf("week"),u.endOf("week")]),children:Object(i.b)("date.current_week")})]}),Object(b.jsx)(n.a,{type:"primary",block:!0,style:{marginTop:8},onClick:()=>o([u.startOf("week").add(7,"days"),u.endOf("week").add(7,"day")]),children:Object(i.b)("date.next_week")})]}):Object(b.jsxs)(p,{children:[Object(b.jsx)(n.a,{block:!0,type:"primary",onClick:()=>o(u.subtract(1,"day")),children:Object(i.b)("words.yesterday")}),Object(b.jsx)(n.a,{block:!0,type:"primary",onClick:()=>o(u),children:Object(i.b)("words.today")}),Object(b.jsx)(n.a,{block:!0,type:"primary",onClick:()=>o(u.add(1,"day")),children:Object(i.b)("words.tomorrow")})]})};j.displayName="Footer";var m=Object(s.memo)(j);const p=d.d.div.withConfig({componentId:"wb__sc-lbiazp-0"})(["display:flex;flex-direction:row;align-items:center;.ant-btn + .ant-btn{margin-left:8px;}"]);var h=a(957);const O=(e,t)=>{const[a,c]=Object(s.useState)(!1),n=Object(s.useCallback)((()=>{a||c(!0)}),[a]),r=Object(s.useCallback)((()=>{c(!1)}),[]);return Object(s.useImperativeHandle)(t,(()=>({open:n,close:r}))),Object(b.jsx)(_,{title:"one"===e.type?Object(i.b)("phrases.select",{model:Object(i.b)("words.date").toLocaleLowerCase(),context:"female"}):Object(i.b)("calendar.select_range"),autoFocus:!0,width:"100%",height:550,open:a,onClose:r,placement:"bottom",closable:!0,destroyOnClose:!0,push:!1,footer:Object(b.jsx)(m,{type:e.type,onConfirm:e.onConfirm,close:r,view_interval:e.view_interval}),children:Object(b.jsx)(h.a,{close:r,...e})})};O.displayName="CalendarDrawer";t.a=Object(s.forwardRef)(O);const _=Object(d.d)(c.a).withConfig({componentId:"wb__sc-12tbkpm-0"})(["display:flex;flex-direction:column;justify-content:end;.ant-drawer-close{position:relative;top:unset !important;}.ant-drawer-header{padding:20px 30px !important;}.ant-drawer-body{padding:0 !important;}"])},629:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var s=a(0),i=a(1256),c=a(50),n=a(250),r=a(22);const o=e=>{let{title:t}=e;return Object(r.jsx)(n.g,{justify:"center",children:Object(r.jsx)(n.h,{$alignCenter:!0,children:t||Object(c.b)("phrases.empty")})})};o.displayName="NotFoundContent";var l=o;const{Option:d}=i.a,b=(e,t)=>{let{notFoundContentText:a,...c}=e;const n=Object(s.useMemo)((()=>Object(r.jsx)(l,{title:a})),[a]);return Object(r.jsx)(i.a,{ref:t,notFoundContent:n,...c,onChange:(e,t)=>{var a;null===(a=c.onChange)||void 0===a||a.call(c,e,t)}})};b.displayName="Select";t.b=Object(s.forwardRef)(b)},631:function(e,t,a){"use strict";a(0);var s=a(2975),i=a(671),c=a(19),n=a(82),r=a(22);const o=e=>{let{type:t="user",onClick:a,container_style:c,...o}=e;const b="user"===t?i.a:n.a.DEFAULT_PLACEHOLDER,u="user"===t?"circle":"square";return Object(r.jsxs)(l,{style:{...c},onClick:a,children:[Object(r.jsx)(s.a,{shape:u,...o,src:b}),Object(r.jsx)(d,{shape:u,icon:Object(r.jsx)("img",{src:b,alt:""}),...o})]})};o.displayName="Avatar",t.a=o;const l=c.d.div.withConfig({componentId:"wb__sc-x5z4eo-0"})(["position:relative;",""],(e=>!!e.onClick&&Object(c.c)(["cursor:pointer"]))),d=Object(c.d)(s.a).withConfig({componentId:"wb__sc-x5z4eo-1"})(["position:absolute !important;top:0;left:0;right:0;bottom:0;"])},636:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var s=a(640),i=a(53),c=a.n(i);const n=Object(s.a)({date:c()(),view_interval:"daily",view_type:"calendar",visible_statuses:[],dispatch(){},setShowActions(){},setShowFilters(){},hidden_employee_ids:[],calendars:[],show_actions:!1,show_filters:!1});t.b=e=>Object(s.b)(n,e)},637:function(e,t,a){"use strict";var s=a(50),i=a(159),c=a(250),n=a(19),r=(a(0),a(22));const o=e=>{let{keys:t,...a}=e;return Object(r.jsxs)("div",{children:[Object(r.jsx)(c.h,{$semibold:!0,$paddings:{bottom:6},children:Object(s.b)("variable_messages.description")}),Object(r.jsx)(l,{children:t.map((e=>{const t=b(e),s=d(e);return Object(r.jsx)(i.a,{size:"small",type:"primary",onClick:()=>u({placeholder:t,...a}),children:s},t)}))})]})};o.displayName="VariableMessage",t.a=o;const l=n.d.div.withConfig({componentId:"wb__sc-yyeb8m-0"})(["display:flex;flex-direction:row;flex-wrap:wrap;gap:4px;"]),d=e=>j[e].label||"",b=e=>j[e].placeholder||"",u=e=>{var t,a;const{placeholder:s,textAreaRef:i,fieldName:c,formListName:n,setFieldsValue:r,getFieldValue:o}=e,l=null===i||void 0===i||null===(t=i.current)||void 0===t||null===(a=t.resizableTextArea)||void 0===a?void 0:a.textArea;if(!l)return;const{selectionStart:d,selectionEnd:b,value:u}=l,j=u.slice(0,d)+s+u.slice(b);if(Array.isArray(c))if("number"===typeof c[0]&&"string"===typeof c[1]&&o&&n){const e=[...o(n)||[]];if(e[c[0]]={...e[c[0]],[c[1]]:j},Array.isArray(n)){r(n.reduceRight(((t,a,s)=>s===n.length-1?{[a]:e}:{[a]:t}),{}))}else r({[n]:e})}else{const e=c.reduceRight(((e,t)=>({[t]:e})),j);null===r||void 0===r||r(e)}else r&&r({[c]:j});setTimeout((()=>{l.focus(),l.setSelectionRange(d+s.length,d+s.length)}),100)},j={client_name:{placeholder:Object(s.b)("variable_messages.therms.client_name"),label:Object(s.b)("variable_messages.descriptions.client_name")},service_name:{placeholder:Object(s.b)("variable_messages.therms.service_name"),label:Object(s.b)("variable_messages.descriptions.service_name")},product_name:{placeholder:Object(s.b)("variable_messages.therms.product_name"),label:Object(s.b)("variable_messages.descriptions.product_name")},cashback_value:{placeholder:Object(s.b)("variable_messages.therms.value"),label:Object(s.b)("variable_messages.descriptions.cashback_value")},date:{placeholder:Object(s.b)("variable_messages.therms.date"),label:Object(s.b)("variable_messages.descriptions.date")},value:{placeholder:Object(s.b)("variable_messages.therms.value"),label:Object(s.b)("variable_messages.descriptions.value")},time:{placeholder:Object(s.b)("variable_messages.therms.time"),label:Object(s.b)("variable_messages.descriptions.time")},employee_name:{placeholder:Object(s.b)("variable_messages.therms.employee_name"),label:Object(s.b)("variable_messages.descriptions.employee_name")},link:{placeholder:Object(s.b)("variable_messages.therms.link"),label:Object(s.b)("variable_messages.descriptions.link")},salon_name:{placeholder:Object(s.b)("variable_messages.therms.salon_name"),label:Object(s.b)("variable_messages.descriptions.salon_name")},return_proserv_days:{placeholder:Object(s.b)("variable_messages.therms.days"),label:Object(s.b)("variable_messages.descriptions.return_proserv_days")},return_service_days:{placeholder:Object(s.b)("variable_messages.therms.days"),label:Object(s.b)("variable_messages.descriptions.return_service_days")},return_product_days:{placeholder:Object(s.b)("variable_messages.therms.days"),label:Object(s.b)("variable_messages.descriptions.return_product_days")},expiring_package_date:{placeholder:Object(s.b)("variable_messages.therms.date"),label:Object(s.b)("variable_messages.descriptions.expiring_package_date")},price:{placeholder:Object(s.b)("variable_messages.therms.price"),label:Object(s.b)("variable_messages.descriptions.price")},link_review:{placeholder:Object(s.b)("variable_messages.therms.link"),label:Object(s.b)("variable_messages.descriptions.link_review")},nickname:{placeholder:Object(s.b)("variable_messages.therms.nickname"),label:Object(s.b)("variable_messages.descriptions.nickname")},confirmation_link:{placeholder:Object(s.b)("variable_messages.therms.confirmation_link"),label:Object(s.b)("variable_messages.descriptions.confirmation_link")},schedule_link:{placeholder:Object(s.b)("variable_messages.therms.schedule_link"),label:Object(s.b)("variable_messages.descriptions.schedule_link")}}},641:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));const s=a(37).e`
  fragment ClientsAttributes on Client {
    id
    name
    nickname
    phone1
    phone2
    active
    has_avatar
    is_new: new
    avatar_url: small_thumb_url
    avatar_blurhash
    name_initials
    whatsapp_contact_id
    created_at updated_at
    small_thumb_url
    large_thumb_url
    deleted_at
    default_discount_percentage
    default_discount_type
    person_id
    city_id
    state_id
    customer_tag_list
  }
`},642:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var s=a(640),i=a(749);const c=Object(s.a)({submit:async()=>{},loading:!1,saving:!1,inventory_purchase:i.b,purchaseDispatch:e=>{},headerRef:void 0});t.b=e=>Object(s.b)(c,e)},645:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(2937),n=a(250),r=a(37),o=a(2879),l=a(76);const d=r.e`
  query OpenCashQuery {
    cash_account: finance_account(is_cash: true) {
      id balance_cents
    }
    finance_accounts(active: true) {
      id name cash
    }
  }
`;var b=e=>Object(o.a)(d,{fetchPolicy:"network-only",onCompleted:t=>{e(t)},onError:e=>{l.a.captureException(e),console.log(e)}}),u=a(27),j=a(579),m=a(3022),p=a(543),h=a(2883),O=a(2934),_=a(2838),x=a(732),v=a(53),g=a.n(v),y=a(22);const{TreeNode:f}=m.a;var w=e=>{let{accounts:t,initial_balance:a}=e;const s=Object(u.a)((e=>e.is_mobile));return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(p.a,{gutter:16,children:[Object(y.jsx)(x.a,{style:{padding:"0 8px"},size:16,left:Object(i.b)("finance.cash_account.current_balance"),value:a,black:!0}),Object(y.jsx)(h.a,{span:24,children:Object(y.jsx)(c.a.Item,{name:"date_open",label:Object(i.b)("finance.cash_account.opening_date"),rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],initialValue:g()(),children:Object(y.jsx)(O.a,{allowClear:!1,size:s?"large":"middle",format:"L",style:{width:"100%"}})})}),Object(y.jsx)(h.a,{span:24,children:Object(y.jsx)(c.a.Item,{label:Object(i.b)("finance.cash_account.add_value"),initialValue:0,name:"add_value_cents",children:Object(y.jsx)(_.a,{min:0,size:s?"large":"middle",parser:j.e,style:{width:"100%"},formatter:e=>Object(j.d)(e)})})}),Object(y.jsx)(h.a,{span:24,children:Object(y.jsx)(c.a.Item,{label:Object(i.b)("finance.cash_account.type_of_operation"),name:"operation_type",rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(y.jsxs)(m.a,{treeDefaultExpandAll:!0,children:[Object(y.jsx)(f,{value:"cash",title:Object(i.b)("finance.cash_account.in_cash")},"cash"),Object(y.jsx)(f,{selectable:!1,value:"transfer",title:Object(i.b)("finance.cash_account.via_transfer"),children:t.map((e=>Object(y.jsx)(f,{value:e.id,title:`${Object(i.b)("words.origin")}: ${e.name}`},e.id)))},"transfer")]})})})]})})},k=a(116),C=a(1850);const I=r.e`
  mutation OpenCashAccounting($data: OpenCashAccountingInput!) {
    openCashAccounting(input: $data) {
      success errors
    }
  }
`;var A=()=>{const[e,{loading:t}]=Object(C.a)(I);return[async t=>{try{const{data:a}=await e({variables:{data:t}}),{success:s,errors:i}=(null===a||void 0===a?void 0:a.openCashAccounting)||{};return null===i||void 0===i||i.forEach((e=>k.b.error(e))),{success:s}}catch(a){return l.a.captureException(a),k.b.error(Object(i.b)("finance.cash_account.open_error_message")),console.error(a),{success:!1}}},{loading:t}]},S=a(339),$=a(581);const E=(e,t)=>{const[a,r]=Object(s.useState)(!1),[o,l]=Object(s.useState)([]),[d,j]=Object(s.useState)(0),{afterSave:m}=e,p=Object(u.a)((e=>e.is_mobile)),[h]=c.a.useForm(),{resetFields:O,submit:_,setFieldsValue:x}=h,v=Object(s.useCallback)((e=>{l(e.finance_accounts),j(e.cash_account.balance_cents),x({operation_type:"cash"})}),[x]),[g,{loading:f}]=b(v),[C,{loading:I}]=A(),E=Object(s.useCallback)((()=>{r(!0),g()}),[g]),F=Object(s.useCallback)((()=>{r(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:E,close:F})));const D=Object(s.useCallback)((async e=>{const{success:t}=await C(e);t&&(k.b.success(Object(i.b)("finance.cash_account.opening_successful")),F(),null===m||void 0===m||m())}),[m,F,C]),z=Object(s.useCallback)((e=>{e||O()}),[O]);return Object(y.jsxs)(n.a,{open:a,title:Object(i.b)("finance.cash_account.opening"),placement:p?"bottom":"right",height:"100%",onClose:F,width:680,closable:!0,destroyOnClose:!0,afterOpenChange:z,footer:Object(y.jsx)($.a,{loading:I,submit:_,save_text:Object(i.b)("phrases.open_cash_account"),close:F}),push:!1,children:[Object(y.jsx)(S.a,{loading:f}),Object(y.jsx)(c.a,{form:h,layout:"vertical",onFinish:D,children:Object(y.jsx)(w,{accounts:o,initial_balance:d})})]})};E.displayName="OpenCashAccountingDrawer";t.a=Object(s.forwardRef)(E)},646:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(1256),n=a(137),r=a(27),o=a(619),l=a(22);const{Option:d}=c.a,b={isCaseSensitive:!1,findAllMatches:!0,keys:["name"]},u=e=>{let{select_first:t,extra_accounts:a=[],disabledOptions:u=[],...j}=e;const[m,p]=Object(s.useState)(),h=Object(r.a)((e=>e.finance_accounts)),O=Object(s.useMemo)((()=>[...a,...h].filter((e=>e.active&&!e.deleted_at))),[h,a]);Object(s.useEffect)((()=>{t&&!j.value&&j.onChange&&O.length>0&&j.onChange(O[0].id,{label:O[0].id,value:O[0].id})}),[t]);const _=Object(s.useMemo)((()=>{if(!m)return O;return new o.a(O,b).search(m).map((e=>e.item))}),[O,m]);return Object(l.jsx)(c.a,{showSearch:!0,filterOption:!1,onSearch:Object(n.debounce)(p,300),placeholder:Object(i.b)("words.account"),getPopupContainer:Object(s.useCallback)((e=>e.parentElement),[]),...j,children:_.map((e=>Object(l.jsx)(d,{value:e.id,disabled:u.includes(e.id),children:e.name},e.id)))})};u.displayName="AccountInput",t.a=Object(s.memo)(u)},647:function(e,t,a){"use strict";var s=a(0),i=a(116),c=a(250),n=a(640),r=a(137),o=a(447),l=a(444),d=a(53),b=a.n(d);const u={id:Object(o.a)(),is_service:!0,discount:0,discount_type:"value",value_cents:0,sum_cents:0,quantity:1},j=e=>{let{value_cents:t,quantity:a,discount_type:s,discount:i}=e;const c=t*a;if("value"===s)return c-i;return c-c*(i/100)},m=e=>e.reduce(((e,t)=>t._destroy?e:e+t.sum_cents),0),p=(e,t)=>{const{date:a,expiration_date:s,client:i,seller:c,sum_cents:n,package_items:r,bill_recs:o,client_max_credits_cents:d,manually_changed_credit_cents:b,client_cashback_balance_cents:u,invoice:j,electronic_invoice:m,electronic_consumer_invoice:p,is_deleted:O,..._}=e,x=(e=>e.map((e=>{const{id:t,discount:a,discount_type:s,product:i,is_service:c,sum_cents:n,sale_items:r,balance:o,...d}=e;return{...d,id:Object(l.a)(t)?void 0:t,product_id:null===i||void 0===i?void 0:i.id,discount_type:s,discount_cents:"value"===s?a:0,discount_percentage:"percentage"===s?a:0,sum_cents:Math.round(n)}})))(r),v=h(o);return{..._,client_id:null===i||void 0===i?void 0:i.id,seller_id:null===c||void 0===c?void 0:c.id,date:a.format("YYYY-MM-DD"),expiration_date:s?s.format("YYYY-MM-DD"):null,sum_cents:n,finished:t,package_items_attributes:x,finance_bill_recs_attributes:t?v:[]}},h=e=>e.map((e=>{const{due:t,id:a,payment:s,status:i,date:c,...n}=e;return{...n,id:Object(l.a)(a)?void 0:a,date:b()(c).format("YYYY-MM-DD"),due:t.format("YYYY-MM-DD"),payment_id:s.id,account_id:s.account_id}})),O={date:b()(),sum_cents:0,finished:!1,discount_cents:0,credit_cents:0,cashback_cents:0,package_items:[],bill_recs:[],manually_changed_credit_cents:!1,client_max_credits_cents:0,client_cashback_balance_cents:0};var _=(e,t)=>{switch(t.type){case"reset_package":return console.debug("[PackageReducer] Resetando pacote"),O;case"set_package":return console.debug("[PackageReducer] Carregando pacote ",t.payload),t.payload;case"change_client":return{...e,client:t.payload,client_max_credits_cents:0,manually_changed_credit_cents:!1};case"change_date":return{...e,date:t.payload};case"change_expiration_date":return{...e,expiration_date:t.payload};case"change_seller":return{...e,seller:t.payload};case"add_package_item":return k(e,t.payload);case"update_package_item":return w(e,t.payload);case"remove_package_item":return f(e,t.payload);case"change_discount_cents":return A(e,t.payload);case"change_credit_cents":return S(e,t.payload);case"change_cashback_cents":return $(e,t.payload);case"change_comment":return{...e,comment:t.payload};case"update_bill_rec":return F(e,t.payload);case"after_load_client_data":return E(e,t.payload.balance_cents,t.payload.cashback_balance_cents);case"add_bill_rec":return C(e,t.payload);case"remove_bill_rec":return I(e,t.payload);default:return e}};const x=(e,t,a)=>{let s=a.credit_cents;const i=m(e);return a.manually_changed_credit_cents||(s=Math.min(i-t,a.client_max_credits_cents)),Math.min(s,i-t)},v=(e,t,a,s)=>{let i=s.cashback_cents;const c=m(e);return Math.min(i,c-t-a)},g=(e,t,a,s)=>{const i=m(e);return Math.round(i-t-a-s)},y=(e,t)=>{const a=((e,t)=>{let a=t.discount_cents;const s=m(e);return Math.min(a,s)})(e,t),s=x(e,a,t),i=v(e,a,s,t),c=g(e,a,s,i);return{...t,sum_cents:c,package_items:e,credit_cents:s,discount_cents:a}},f=(e,t)=>{const a=Object(r.cloneDeep)(e.package_items),s=a.findIndex((e=>e.id===t));return-1!==s&&a[s]?(a[s]._destroy=!0,console.debug("[PackageReducer] Removendo item: ",s,a[s]),y(a,e)):e},w=(e,t)=>{const a=Object(r.cloneDeep)(e.package_items),s=a.findIndex((e=>e.id===t.id));return-1===s?e:(console.debug("[PackageReducer] Atualizando item: ",s,t),a[s]=t,y(a,e))},k=(e,t)=>{console.debug("[PackageReducer] Adicionando item: ",t);const a=[...e.package_items,t];return y(a,e)},C=(e,t)=>{console.debug("[PackageReduce] Adicionando pagamento: ",t);const a=[...e.bill_recs,t];return{...e,bill_recs:a}},I=(e,t)=>{const a=Object(r.cloneDeep)(e.bill_recs),s=a.findIndex((e=>e.id===t));if(-1===s||!a[s])return e;if(a[s]._destroy=!0,console.debug("[SaleReducer] Removendo pagamento: ",s,a[s]),!a[s].installment_id)return{...e,bill_recs:a};let i=1;const c=a.map((e=>(e.installment_id!==a[s].installment_id||e._destroy||(e.installment_index=i,i++),e)));return{...e,bill_recs:c}},A=(e,t)=>{let a=t;const s=m(e.package_items);a=Math.min(a,s);const i=x(e.package_items,a,e),c=v(e.package_items,a,i,e),n=g(e.package_items,a,i,c);return{...e,sum_cents:n,discount_cents:a,credit_cents:i}},S=(e,t)=>{const a=m(e.package_items),s=Math.min(a-e.discount_cents,e.client_max_credits_cents),i=Math.min(t,s),c=v(e.package_items,e.discount_cents,i,e),n=g(e.package_items,e.discount_cents,i,c);return{...e,sum_cents:n,credit_cents:i,manually_changed_credit_cents:!0}},$=(e,t)=>{const a=m(e.package_items),s=e.client_cashback_balance_cents,i=Math.min(s,a-e.discount_cents-e.credit_cents),c=Math.min(t,i),n=g(e.package_items,e.discount_cents,e.credit_cents,c);return{...e,sum_cents:n,cashback_cents:c}},E=(e,t,a)=>{let s=e.credit_cents;const i=m(e.package_items);e.manually_changed_credit_cents||(s=Math.min(i-e.discount_cents,t));const c=v(e.package_items,e.discount_cents,s,e),n=g(e.package_items,e.discount_cents,s,c);return{...e,credit_cents:s,client_max_credits_cents:t,client_cashback_balance_cents:a,sum_cents:n}},F=(e,t)=>{const a=Object(r.cloneDeep)(e.bill_recs),s=a.findIndex((e=>e.id===t.id));return a[s]=t,{...e,bill_recs:a}},D=Object(n.a)({inventory_package:O,save_loading:!1,destroy_loading:!1,packageDispatch:e=>{},submit:e=>{},refetch:()=>{}});var z=e=>Object(n.b)(D,e),N=a(645),q=a(27),B=a(582),P=a(2883),R=a(613),M=a(2937),T=a(543),L=a(19),V=a(50),H=a(22);const U=()=>{const e=z((e=>e.inventory_package.finished));return Object(H.jsx)(M.a,{layout:"vertical",children:Object(H.jsxs)(T.a,{gutter:8,wrap:!1,children:[Object(H.jsx)(P.a,{span:e?8:10,children:Object(H.jsx)(Y,{label:Object(V.b)("words.description"),hasFeedback:!1})}),e&&Object(H.jsx)(P.a,{span:2,children:Object(H.jsx)(Y,{label:Object(V.b)("words.balance")})}),Object(H.jsx)(P.a,{flex:"auto",children:Object(H.jsxs)(T.a,{gutter:8,children:[Object(H.jsx)(P.a,{span:4,children:Object(H.jsx)(Y,{label:Object(V.b)("acronyms.qty")})}),Object(H.jsx)(P.a,{span:7,children:Object(H.jsx)(Y,{label:Object(V.b)("phrases.unit_value")})}),Object(H.jsx)(P.a,{span:7,children:Object(H.jsx)(Y,{label:Object(V.b)("words.discount")})}),Object(H.jsx)(P.a,{span:6,children:Object(H.jsx)(Y,{label:Object(V.b)("words.total")})})]})}),Object(H.jsx)(P.a,{flex:e?"150px":"50px",children:e?Object(H.jsx)(Y,{label:Object(V.b)("words.used",{count:2})}):null})]})})};U.displayName="PackageItemsHeader";var G=U;const Y=Object(L.d)(M.a.Item).withConfig({componentId:"wb__sc-akinia-0"})([".ant-col.ant-form-item-control{display:none;}margin-bottom:0 !important;"]);var Q=a(2854),J=a(2824),W=a(538),Z=a(2838),K=a(1256),X=a(159),ee=a(579),te=a(791),ae=a(693),se=a(584);const ie=()=>{const e=z((e=>e.inventory_package.date)),t=z((e=>e.packageDispatch)),[a]=M.a.useForm(),{resetFields:s,getFieldsValue:i,setFieldsValue:c}=a,n=(e,t,a,s)=>{if("percentage"===e)return void(t>100&&c({discount:100}));const i=a*s;t>i&&c({discount:i})},r=e=>{const{value_cents:t,discount:a,quantity:s}=i();if("percentage"===e){const e=a/100;return e>100?void c({discount:100}):void c({discount:e})}const n=t*s,r=100*a;c(r>n?{discount:n}:{discount:r})};return Object(H.jsx)(M.a,{form:a,children:Object(H.jsxs)(ne,{gutter:8,wrap:!1,children:[Object(H.jsxs)(P.a,{span:10,children:[Object(H.jsx)(M.a.Item,{name:"is_service",noStyle:!0,initialValue:"true",children:Object(H.jsx)(J.a,{type:"hidden"})}),Object(H.jsxs)(W.a.Compact,{block:!0,children:[Object(H.jsx)(M.a.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.is_service!==t.is_service,children:e=>{let{getFieldValue:t,setFieldsValue:a}=e;const s="true"===t("is_service");return Object(H.jsx)(ae.a,{size:"large",value:s,onChange:e=>a({is_service:e?"true":"false"})})}}),Object(H.jsx)(M.a.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.is_service!==t.is_service,children:a=>{let{getFieldValue:c}=a;const n="true"===c("is_service");return Object(H.jsx)(M.a.Item,{noStyle:!0,name:"product",getValueFromEvent:(e,t)=>null===t||void 0===t?void 0:t.item,getValueProps:e=>null===e||void 0===e?void 0:e.id,children:Object(H.jsx)(te.a,{size:"large",is_service:n,style:{width:"100%"},onChange:(e,a)=>(e=>{if(!e)return;const a=i(),c=e.price_cents,n=j({value_cents:c,quantity:a.quantity,discount_type:a.discount_type,discount:a.discount}),r={...a,id:Object(o.a)(),is_service:"true"===a.is_service,product:e,value_cents:c,sum_cents:n};t({type:"add_package_item",payload:r}),s()})(null===a||void 0===a?void 0:a.item),date:e})})}})]})]}),Object(H.jsx)(P.a,{flex:"auto",children:Object(H.jsxs)(T.a,{gutter:8,children:[Object(H.jsx)(P.a,{span:4,children:Object(H.jsx)(M.a.Item,{noStyle:!0,name:"quantity",initialValue:1,children:Object(H.jsx)(Z.a,{min:0,size:"large",placeholder:"Qntd",style:{width:"100%"},onChange:e=>{const{discount_type:t,discount:a,value_cents:s}=i();n(t,a,s,e||0)},formatter:e=>(e||0).toString(),parser:e=>{const t=(e||"0").replace(",",".");return parseFloat(t||"0")}})})}),Object(H.jsx)(P.a,{span:7,children:Object(H.jsx)(M.a.Item,{noStyle:!0,name:"value_cents",initialValue:0,children:Object(H.jsx)(se.a,{size:"large",onChange:e=>{const{discount_type:t,discount:a,quantity:s}=i();n(t,a,e||0,s)}})})}),Object(H.jsx)(P.a,{span:7,children:Object(H.jsx)(M.a.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.value_cents!==t.value_cents||e.quantity!==t.quantity||e.discount_type!==t.discount_type,children:e=>{let{getFieldValue:t}=e;const a=t("quantity"),s=t("value_cents"),i=t("discount_type"),c=a*s;return Object(H.jsxs)(W.a.Compact,{block:!0,children:[Object(H.jsx)(M.a.Item,{name:"discount_type",initialValue:"value",noStyle:!0,children:Object(H.jsx)(K.a,{size:"large",style:{width:70},onChange:r,options:[{label:Object(ee.h)(),value:"value"},{label:"%",value:"percentage"}]})}),Object(H.jsx)(M.a.Item,{noStyle:!0,name:"discount",initialValue:0,children:"percentage"===i?Object(H.jsx)(Z.a,{min:0,max:100,size:"large",parser:ee.t,formatter:e=>Object(ee.s)(e),className:"hide-number-button",style:{width:"calc(100% - 70px)"}}):Object(H.jsx)(Z.a,{min:0,max:c,size:"large",className:"hide-number-button",style:{width:"calc(100% - 70px)"},parser:e=>Object(ee.t)(e,1),formatter:e=>Object(ee.s)((e||0)/100)})})]})}})}),Object(H.jsx)(P.a,{span:6,children:Object(H.jsx)(M.a.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.value_cents!==t.value_cents||e.quantity!==t.quantity||e.discount!==t.discount||e.discount_type!==t.discount_type,children:e=>{let{getFieldValue:t}=e;const a=t("quantity"),s=t("discount"),i=t("value_cents"),c=t("discount_type")||"value",n=j({value_cents:i,quantity:a,discount_type:c,discount:s});return Object(H.jsx)(se.a,{readOnly:!0,size:"large",value:n||0})}})})]})}),Object(H.jsx)(P.a,{flex:"50px",children:Object(H.jsx)(X.a,{danger:!0,type:"text",size:"large",icon:Object(H.jsx)(Q.a,{}),disabled:!0})})]})})};ie.displayName="EmptyPackageItem";var ce=Object(s.memo)(ie);const ne=Object(L.d)(T.a).withConfig({componentId:"wb__sc-pd9531-0"})(["margin-bottom:10px;"]),re=e=>{var t;let{package_item:a,openSaleDrawer:i}=e;const n=z((e=>e.inventory_package.date)),r=z((e=>e.inventory_package.finished)),o=z((e=>e.packageDispatch)),l=a.is_service,d=a.discount_type,b=null===(t=a.product)||void 0===t?void 0:t.id,u=a.quantity*a.value_cents,m=Object(s.useCallback)((e=>{const{value_cents:t,quantity:a,discount_type:s,discount:i}=e,c=t*a;let n=i;"value"===s&&n>c&&(n=c),"percentage"===s&&n>100&&(n=100);const r=j({value_cents:t,quantity:a,discount_type:s,discount:n});o({type:"update_package_item",payload:{...e,discount:n,sum_cents:r}})}),[o]),p=e=>{let t=0;"number"===typeof e&&(t=e),"string"===typeof e&&(t=parseFloat(e));const s={...a,discount:t};m(s)},h=Object(s.useMemo)((()=>{var e;const t=[];return null===(e=a.sale_items)||void 0===e||e.forEach((e=>{const a=e.sale;t.some((e=>e.id===a.id))||t.push(a)})),t}),[a.sale_items]);return Object(H.jsxs)(le,{gutter:8,wrap:!1,children:[Object(H.jsx)(P.a,{span:r?8:10,children:Object(H.jsxs)(be,{block:!0,children:[Object(H.jsx)(ae.a,{size:"large",disabled:r,value:l,onChange:e=>{const t={...a,is_service:e,product:void 0,value_cents:0};m(t)}}),Object(H.jsx)(te.a,{size:"large",disabled:r,is_service:l,style:{width:"100%"},value:b,onChange:(e,t)=>(e=>{const t={...a,product:e,value_cents:e.price_cents};m(t)})(t.item),date:n})]})}),r&&Object(H.jsx)(P.a,{span:2,children:Object(H.jsx)(Z.a,{size:"large",value:a.balance,style:{width:"100%"},disabled:!0})}),Object(H.jsx)(P.a,{flex:"auto",children:Object(H.jsxs)(T.a,{gutter:8,children:[Object(H.jsx)(P.a,{span:4,children:Object(H.jsx)(Z.a,{min:0,size:"large",placeholder:"Qntd",disabled:r,style:{width:"100%"},value:a.quantity,formatter:e=>(e||0).toString(),parser:e=>{const t=(e||"0").replace(",",".");return parseFloat(t||"0")},onChange:e=>{const t={...a,quantity:e||0};m(t)}})}),Object(H.jsx)(P.a,{span:7,children:Object(H.jsx)(se.a,{size:"large",disabled:r,onChange:e=>{let t=0;"number"===typeof e&&(t=e),"string"===typeof e&&(t=parseFloat(e));const s={...a,value_cents:t};m(s)},value:a.value_cents})}),Object(H.jsx)(P.a,{span:7,children:Object(H.jsxs)(W.a.Compact,{block:!0,children:[Object(H.jsx)(K.a,{size:"large",disabled:r,style:{width:70},value:a.discount_type,onChange:e=>{const t={...a,discount_type:e,discount:"percentage"===e?a.discount/100:100*a.discount};m(t)},options:[{label:Object(ee.h)(),value:"value"},{label:"%",value:"percentage"}]}),"percentage"===d?Object(H.jsx)(Z.a,{min:0,max:100,size:"large",disabled:r,parser:ee.t,formatter:e=>Object(ee.s)(e),onChange:p,value:a.discount,className:"hide-number-button",style:{width:"calc(100% - 70px)"}}):Object(H.jsx)(Z.a,{min:0,size:"large",max:u,disabled:r,onChange:p,value:a.discount,className:"hide-number-button",style:{width:"calc(100% - 70px)"},parser:e=>Object(ee.t)(e,1),formatter:e=>Object(ee.s)((e||0)/100)})]})}),Object(H.jsx)(P.a,{span:6,children:Object(H.jsx)(se.a,{readOnly:!0,size:"large",disabled:r,value:a.sum_cents})})]})}),Object(H.jsx)(P.a,{flex:r?"150px":"50px",children:r?Object(H.jsx)(de,{children:h.map((e=>Object(H.jsxs)(c.h,{$color:"primary",$cursor:"pointer",onClick:()=>i(e.id),children:["Comanda #",e.code]})))}):Object(H.jsx)(X.a,{danger:!0,type:"text",size:"large",disabled:r,icon:Object(H.jsx)(Q.a,{}),onClick:()=>{return e=a.id,void o({type:"remove_package_item",payload:e});var e}})})]})};re.displayName="PackageItem";var oe=re;const le=Object(L.d)(T.a).withConfig({componentId:"wb__sc-lbg71l-0"})(["margin-bottom:10px;"]),de=L.d.div.withConfig({componentId:"wb__sc-lbg71l-1"})(["display:flex;flex-direction:column;"]),be=Object(L.d)(W.a.Compact).withConfig({componentId:"wb__sc-lbg71l-2"})(["& > div:last-child{width:calc(100% - 40px) !important;}"]),ue=()=>{const e=z((e=>e.inventory_package.finished)),t=z((e=>e.inventory_package.package_items)),a=Object(s.useRef)(null),i=Object(s.useMemo)((()=>t.filter((e=>!e._destroy))),[t]),n=Object(s.useCallback)((e=>{var t;null===(t=a.current)||void 0===t||t.open({sale_id:e})}),[]);return Object(H.jsxs)(me,{children:[Object(H.jsx)(c.h,{$size:20,$bottom:25,$bold:!0,children:Object(V.b)("words.package_item",{count:2})}),Object(H.jsx)(G,{}),i.map((e=>Object(H.jsx)(oe,{package_item:e,openSaleDrawer:n},e.id))),!e&&Object(H.jsx)(ce,{}),Object(H.jsx)(R.a,{ref:a})]})};ue.displayName="PackageItems";var je=ue;const me=L.d.div.withConfig({componentId:"wb__sc-1svyrtu-0"})(["width:100%;position:relative;input:read-only:not(:disabled){color:rgba(0,0,0,0.55);background-color:#f5f5f5;cursor:not-allowed;}"]),pe=()=>{const[e,t]=Object(s.useState)(!1),[a,i]=Object(s.useState)(),n=z((e=>e.inventory_package.comment)),r=z((e=>e.inventory_package.finished)),o=z((e=>e.packageDispatch));Object(s.useEffect)((()=>{e||n&&(i(n),t(!0))}),[e,n]);const l=Object(s.useCallback)((e=>{const t=e.target.value;i(t),o({type:"change_comment",payload:t})}),[o]);return Object(H.jsx)(c.g,{$isFlex:!1,$column:!0,gutter:8,$mBottom:60,children:Object(H.jsx)(M.a,{layout:"vertical",children:Object(H.jsx)(M.a.Item,{label:Object(V.b)("words.observation"),children:Object(H.jsx)(J.a.TextArea,{size:"large",value:a,disabled:r,maxLength:254,placeholder:Object(V.b)("input.text_area_placeholder"),onChange:l})})})})};pe.displayName="CommentInput";var he=Object(s.memo)(pe),Oe=a(2934),_e=a(621),xe=a(37),ve=a(405),ge=a(188),ye=a(76);const fe=xe.e`
  query PackageDrawerPacakageTemplates {
    all_package_templates (actives: true) {
      all {
        id name

        package_template_items {
          id quantity price_cents

          product {
            ...InventoryProductsAttributes
          }
        }
      }
    }
  }

  ${ge.b}
`;var we=()=>Object(ve.f)(fe,{fetchPolicy:"network-only",onError:e=>{ye.a.captureException(e),console.log(e)}});const ke=e=>{const t=z((e=>e.packageDispatch)),{data:a,loading:i}=we(),c=Object(s.useMemo)((()=>(null===a||void 0===a?void 0:a.all_package_templates.all)||[]),[null===a||void 0===a?void 0:a.all_package_templates]);return Object(H.jsx)(K.a,{allowClear:!0,size:"large",loading:i,style:{width:"100%"},placeholder:Object(V.b)("phrases.select",{model:Object(V.b)("words.package_template").toLocaleLowerCase()}),onChange:(e,a)=>{var s;(s=null===a||void 0===a?void 0:a.item)&&s.package_template_items.forEach((e=>{const a=e.price_cents,s=e.quantity,i="value",c=j({value_cents:a,quantity:s,discount_type:i,discount:0}),n={id:Object(o.a)(),is_service:e.product.is_service,product:e.product,quantity:s,value_cents:a,discount_type:i,discount:0,sum_cents:c};t({type:"add_package_item",payload:n})}))},...e,children:c.map((e=>Object(H.jsx)(K.a.Option,{title:e.name,value:e.id,item:e,children:e.name},e.id)))})};ke.displayName="PackageTemplatesInput";var Ce=ke,Ie=a(614);const Ae=()=>{const e=z((e=>e.headerRef)),t=z((e=>e.inventory_package.date)),a=z((e=>e.inventory_package.expiration_date)),s=z((e=>e.inventory_package.finished)),i=z((e=>{var t;return null===(t=e.inventory_package.client)||void 0===t?void 0:t.id})),c=z((e=>{var t;return null===(t=e.inventory_package.seller)||void 0===t?void 0:t.id})),n=z((e=>e.packageDispatch));return Object(H.jsxs)(M.a,{layout:"vertical",children:[Object(H.jsxs)(T.a,{gutter:16,ref:e,children:[Object(H.jsx)(P.a,{span:12,children:Object(H.jsx)(M.a.Item,{style:{marginBottom:12},label:Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("span",{style:{color:"red"},children:"*"}),"\xa0",Object(V.b)("words.client")]}),children:Object(H.jsx)(_e.a,{size:"large",value:i,onChange:(e,t)=>{return a=t.item,void n({type:"change_client",payload:a});var a},disabled:s,showCreateButton:!0})})}),Object(H.jsx)(P.a,{span:6,children:Object(H.jsx)(M.a.Item,{style:{marginBottom:12},label:Object(V.b)("words.date"),children:Object(H.jsx)(Oe.a,{value:t,onChange:e=>{e&&n({type:"change_date",payload:e})},size:"large",allowClear:!1,disabled:s,format:"L",style:{width:"100%"}})})}),Object(H.jsx)(P.a,{span:6,children:Object(H.jsx)(M.a.Item,{label:Object(V.b)("words.validity"),tooltip:Object(V.b)("package.drawer.validity_helper"),style:{marginBottom:12},children:Object(H.jsx)(Oe.a,{value:a,onChange:e=>{n({type:"change_expiration_date",payload:e||void 0})},size:"large",allowClear:!0,format:"L",style:{width:"100%"}})})})]}),Object(H.jsxs)(T.a,{gutter:16,children:[Object(H.jsx)(P.a,{span:12,children:Object(H.jsx)(M.a.Item,{label:Object(V.b)("words.package_template"),children:Object(H.jsx)(Ce,{disabled:s})})}),Object(H.jsx)(P.a,{span:12,children:Object(H.jsx)(M.a.Item,{label:Object(V.b)("words.seller"),children:Object(H.jsx)(Ie.a,{allowClear:!0,size:"large",value:c,disabled:s,placeholder:Object(V.b)("phrases.select",{model:Object(V.b)("words.seller").toLocaleLowerCase()}),onChange:(e,t)=>{return a=null===t||void 0===t?void 0:t.item,void n({type:"change_seller",payload:a});var a}})})})]})]})};Ae.displayName="HeaderForm";var Se=Object(s.memo)(Ae);const $e=()=>{const e=Object(q.a)((e=>e.current_user.salon.salon_configuration)),t=Object(q.a)((e=>e.current_user.features.has_cashback)),a=Object(q.a)((e=>e.current_user.addons.has_cashback)),i=z((e=>e.inventory_package.client)),n=z((e=>e.inventory_package.finished)),r=z((e=>e.inventory_package.sum_cents)),o=z((e=>e.inventory_package.package_items)),l=z((e=>e.inventory_package.credit_cents)),d=z((e=>e.inventory_package.discount_cents)),b=z((e=>e.inventory_package.cashback_cents)),u=z((e=>e.inventory_package.client_max_credits_cents)),j=z((e=>e.inventory_package.client_cashback_balance_cents)),p=z((e=>e.packageDispatch)),h=Object(s.useMemo)((()=>m(o)),[o]),O=Object(s.useMemo)((()=>e.cashback_minimum_value_cents<=j),[j,e.cashback_minimum_value_cents]),_=t||a,x=Math.min(j,h-d-l),v=Object(s.useCallback)(((e,t)=>{let a=e;"string"===typeof a&&(a=parseFloat(a)),null===a&&(a=0),p({type:t,payload:a})}),[p]),g=Object(s.useCallback)((e=>{v(e,"change_discount_cents")}),[v]),y=Object(s.useCallback)((e=>{v(e,"change_credit_cents")}),[v]),f=Object(s.useCallback)((e=>{v(e,"change_cashback_cents")}),[v]);return Object(H.jsx)(c.g,{$column:!0,$paddings:[15,0,0,0],align:"bottom",gutter:4,children:Object(H.jsxs)(P.a,{span:24,children:[Object(H.jsxs)(c.g,{justify:"end",$bottom:8,children:[Object(H.jsx)(c.h,{$size:15,$semibold:!0,$top:8,$right:10,children:"Desconto"}),Object(H.jsx)(Fe,{size:"large",disabled:n,value:d,onChange:g,max:h})]}),Object(H.jsxs)(c.g,{justify:"end",$bottom:8,children:[Object(H.jsx)(c.h,{$size:15,$semibold:!0,$top:8,$right:10,children:"Cr\xe9dito"}),Object(H.jsx)(Fe,{min:0,size:"large",value:l,onChange:y,disabled:n||!i,max:n?void 0:Math.min(u,h-d)})]}),Object(H.jsxs)(c.g,{justify:"end",$bottom:8,children:[Object(H.jsx)(c.h,{$size:15,$semibold:!0,$top:8,$right:10,children:"Cashback"}),Object(H.jsx)(Fe,{min:0,size:"large",value:b,onChange:f,disabled:n||!i||!O||!_,max:n?void 0:x})]}),Object(H.jsxs)(c.g,{justify:"end",children:[Object(H.jsx)(c.h,{$size:15,$semibold:!0,$top:8,$right:10,children:"Total"}),Object(H.jsx)(Fe,{size:"large",readOnly:!0,disabled:n,value:r})]})]})})};$e.displayName="Totals";var Ee=Object(s.memo)($e);const Fe=Object(L.d)(se.a).withConfig({componentId:"wb__sc-nvp87k-0"})(["max-width:188px;"]),De=e=>{let{title:t}=e;return Object(H.jsxs)(Ne,{$column:!0,children:[Object(H.jsx)(c.g,{$isFlex:!1,$alignCenter:!0,children:Object(H.jsx)(c.h,{$top:30,$bottom:30,$block:!0,$size:24,$bold:!0,children:t})}),Object(H.jsxs)(c.g,{$column:!0,children:[Object(H.jsx)(Se,{}),Object(H.jsx)(je,{}),Object(H.jsx)(Ee,{})]}),Object(H.jsx)(he,{})]})};De.displayName="PackageForm";var ze=Object(s.memo)(De);const Ne=Object(L.d)(c.g).withConfig({componentId:"wb__sc-t8xnis-0"})(["height:100%;overflow:auto;padding-bottom:25px;padding-left:15px;padding-right:15px;.ant-picker-input > input[disabled]{color:rgba(0,0,0,0.55);}.ant-select-disabled.ant-select:not(.ant-select-customize-input) .ant-select-selector{color:rgba(0,0,0,0.55);}.ant-input-number-disabled,.ant-input[disabled]{color:rgba(0,0,0,0.55);}"]);var qe=a(339),Be=a(586),Pe=a(583),Re=a(596),Me=a(824),Te=a(694);const Le=xe.e`
  fragment PackageGroupDrawerClientAttributes on Client {
    id
    email
    name
    phone1
    phone2
    birthday
    has_avatar
    avatar_url
    avatar_blurhash
    name_initials
    customer_tag_list
    open_sales_count
    fidelity_points
    late_payments_count
    balance_cents
    cashback_balance_cents
    whatsapp_contact_id
    created_at
    active
    small_thumb_url
    large_thumb_url
    is_new: new

    address
    complement
    number
    district
    cep
    city_id
    state_id

    notes {
      id
      description
      updated_at
      user_id
    }

    packages(only_finished: true, only_available: true) {
      id
      code
      date
      sum_cents

      package_items {
        id
        quantity
        balance
        value_cents
        package_id
        inventory_product_id: product_id
      }
    }
  }
`,Ve=xe.e`
  query PackageDrawerClient($id: ID) {
    client(id: $id, search_inactives: true) {
      ...PackageGroupDrawerClientAttributes
    }
  }

  ${Le}
`;var He=(e,t)=>{const a=Object(q.a)((e=>e.employees)),s=z((e=>e.packageDispatch));return Object(ve.f)(Ve,{notifyOnNetworkStatusChange:!0,fetchPolicy:"network-only",variables:{id:e},onCompleted:e=>{const i=Object(r.cloneDeep)(e.client),c=i.notes.map((e=>({...e,employee:a.find((t=>t.user_id===e.user_id))})));t(c);const n={balance_cents:i.balance_cents||0,cashback_balance_cents:i.cashback_balance_cents||0};s({type:"after_load_client_data",payload:n})},onError:e=>{console.error(e),ye.a.captureException(e)}})},Ue=a(3044);const Ge=e=>{let{packages:t}=e;const a=Object(s.useRef)(null),n=Object(q.a)((e=>e.current_user.permissions)),r=z((e=>e.inventory_package.client)),o=null===t||void 0===t?void 0:t.reduce(((e,t)=>e+t.package_items.filter((e=>!!e.balance)).length),0);return Object(H.jsxs)("div",{children:[Object(H.jsx)(c.g,{align:"middle",justify:"space-between",$paddings:[15,15,0,15],children:Object(H.jsx)(Pe.b,{width:20,$bold:!0,$size:20,children:Object(V.b)("words.package",{count:2})})}),Object(H.jsx)(Qe,{children:Object(H.jsxs)(Pe.b,{width:22,children:[Object(H.jsx)(c.d,{as:Ue.a,$size:16,$right:10}),o?Object(H.jsx)(c.i,{onClick:()=>{var e;n.can_edit_client?null===(e=a.current)||void 0===e||e.open({id:null===r||void 0===r?void 0:r.id,initial_active_bar:"packages"}):i.b.warning(Object(V.b)("phrases.no_permission_to_do_this"))},children:Object(V.b)("phrases.packages_not_consumed",{value:o,count:o})}):Object(V.b)("phrases.no_packages_available")]})}),Object(H.jsx)(Re.a,{ref:a})]})};Ge.displayName="Packages";var Ye=Object(s.memo)(Ge);const Qe=L.d.div.withConfig({componentId:"wb__sc-hv307g-0"})(["display:flex;align-items:center;justify-content:space-between;padding:10px 15px;&:hover{background-color:rgba(0,0,0,0.05);}"]);var Je=a(796);var We=e=>{let{client_id:t}=e;const[a,n]=Object(s.useState)(!1),[r,o]=Object(s.useState)([]),l=Object(s.useRef)(null),d=Object(q.a)((e=>e.current_user.permissions)),{data:{client:b}={},loading:u,refetch:j}=He(t,o),m=Object(s.useCallback)((e=>{let{currentTarget:{scrollTop:t}}=e;n(!(t<200))}),[]),p=Object(s.useCallback)((()=>{var e;d.can_edit_client?null===(e=l.current)||void 0===e||e.open({id:null===b||void 0===b?void 0:b.id}):i.b.warning(Object(V.b)("phrases.no_permission_to_do_this"))}),[null===b||void 0===b?void 0:b.id,d.can_edit_client]),h=Object(s.useMemo)((()=>null===b||void 0===b?void 0:b.packages),[b]);return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(Pe.a.Provider,{value:u,children:Object(H.jsx)(Ze,{onScroll:m,children:Object(H.jsxs)(Ke,{children:[Object(H.jsx)(Te.a,{loading:u,client:b,floating_header_visible:a,handleOpenClientDrawer:p,handleOpenWhatsapp:()=>{Object(ee.z)({phone:(null===b||void 0===b?void 0:b.phone2)||(null===b||void 0===b?void 0:b.phone1),message:""})}}),Object(H.jsxs)(c.g,{$column:!0,$paddings:[10,0],children:[Object(H.jsx)(Je.a,{client:b}),Object(H.jsx)(Ye,{packages:h}),Object(H.jsx)(Me.a,{notes:r,client_id:null===b||void 0===b?void 0:b.id,setNotes:o})]})]})})}),Object(H.jsx)(Re.a,{ref:l,onSave:()=>j()})]})};const Ze=L.d.div.withConfig({componentId:"wb__sc-1ugzul0-0"})(["overflow-y:auto;height:100%;"]),Ke=L.d.div.withConfig({componentId:"wb__sc-1ugzul0-1"})(["width:100%;min-height:100%;padding-bottom:25px;display:flex;flex-direction:column;align-items:center;text-align:center;position:relative;box-sizing:border-box;"]);var Xe=a(2975),et=a(671);const tt=()=>{const e=z((e=>e.packageDispatch));return Object(H.jsx)(it,{children:Object(H.jsxs)(c.g,{$paddings:[25,0],$column:!0,align:"middle",children:[Object(H.jsx)(st,{size:120,src:et.a}),Object(H.jsx)(c.g,{$paddings:[0,25],$mTop:15,style:{width:"100%"},children:Object(H.jsx)(_e.a,{popupClassName:"ant-select-dropdown-medium",size:"large",showCreateButton:!1,onChange:(t,a)=>e({type:"change_client",payload:null===a||void 0===a?void 0:a.item}),style:{width:"100%"},getPopupContainer:()=>document.body})})]})})};tt.displayName="SelectClient";var at=Object(s.memo)(tt);const st=Object(L.d)(Xe.a).withConfig({componentId:"wb__sc-19t5lej-0"})(["box-shadow:0 0 20px 0 #e8e8e8;min-height:120px;"]),it=L.d.div.withConfig({componentId:"wb__sc-19t5lej-1"})(["height:100%;width:100%;border-right:1px solid #f0f0f0;padding-top:25px;overflow-y:auto;"]),ct=()=>{const e=z((e=>{var t;return null===(t=e.inventory_package.client)||void 0===t?void 0:t.id}));return e?Object(H.jsx)(We,{client_id:e}):Object(H.jsx)(at,{})};ct.displayName="Sidebar";var nt=ct,rt=a(1809),ot=a(2853),lt=a(1825),dt=a(2856),bt=a(1438),ut=a(797),jt=a(232);const mt=Object(s.lazy)((()=>Object(jt.a)((()=>a.e(136).then(a.bind(null,2893)))))),pt=Object(s.lazy)((()=>Object(jt.a)((()=>a.e(137).then(a.bind(null,2894))))));var ht=e=>{let{form:t}=e;const a=z((e=>e.packageDispatch)),i=z((e=>e.inventory_package.bill_recs.filter((e=>!e._destroy)))),n=z((e=>e.inventory_package.sum_cents)),r=Object(s.useCallback)((e=>{const s=i.reduce(((t,a)=>a._destroy||a.id===e?t:t+a.value_cents),0),c=Math.max(0,n-s);t.setFieldsValue({value_cents:c}),a({type:"remove_bill_rec",payload:e})}),[i,a,t,n]),o=Object(s.useCallback)(((e,t)=>{const s={...e,due:t};a({type:"update_bill_rec",payload:s})}),[a]);return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(bt.a,{orientation:"left",children:Object(V.b)("words.payment",{count:2})}),Object(H.jsxs)(c.g,{$column:!0,$bottom:20,children:[0===i.length&&Object(H.jsx)(c.h,{$size:18,children:Object(V.b)("phrases.no_payment_added")}),i.map((e=>{const t=i.filter((t=>t.installment_id===e.installment_id)).length;return Object(H.jsx)(B.a,{Desktop:mt,Mobile:pt,bill_rec:e,installments:t,removeBillRec:r,handleEditDate:o},e.id)}))]})]})},Ot=a(3036),_t=a(748);const xt=e=>{let{can_finish_sale:t,finishSale:a,close:i}=e;const n=z((e=>e.save_loading)),r=z((e=>e.inventory_package.sum_cents)),o=Object(s.useRef)(null),l=Object(s.useCallback)((()=>{var e;null===(e=o.current)||void 0===e||e.open(r)}),[r]);return Object(H.jsxs)(gt,{children:[Object(H.jsx)(X.a,{block:!0,size:"large",icon:Object(H.jsx)(Ot.a,{}),onClick:l,children:Object(H.jsx)(c.h,{$semibold:!0,children:Object(V.b)("phrases.calculate_change")})}),t?Object(H.jsx)(X.a,{block:!0,onClick:a,type:"primary",size:"large",className:"ant-button-success",loading:n,disabled:n,children:Object(H.jsx)(c.h,{$semibold:!0,children:Object(V.b)("verbs.invoice")})}):Object(H.jsx)(X.a,{onClick:i,block:!0,type:"primary",size:"large",children:Object(H.jsx)(c.h,{$semibold:!0,children:Object(V.b)("verbs.back")})}),Object(H.jsx)(_t.a,{ref:o})]})};xt.displayName="Footer";var vt=xt;const gt=L.d.div.withConfig({componentId:"wb__sc-17ed96e-0"})(["display:flex;.ant-btn + .ant-btn{margin-left:8px;}"]),yt=(e,t)=>{const a=Object(q.a)((e=>e.current_user.permissions)),[n,r]=Object(s.useState)(!1),[l]=M.a.useForm(),{setFieldsValue:d,resetFields:b,getFieldsValue:u}=l,j=z((e=>e.inventory_package.discount_cents)),m=z((e=>e.inventory_package.credit_cents)),p=z((e=>e.inventory_package.sum_cents)),h=z((e=>e.inventory_package.bill_recs)),O=z((e=>e.inventory_package.id)),_=z((e=>e.inventory_package.date)),x=z((e=>e.packageDispatch)),v=z((e=>e.submit)),g=Object(s.useCallback)((e=>e.reduce(((e,t)=>t._destroy?e:e+t.value_cents),0)),[]),y=Object(s.useCallback)((()=>{r(!0);const e=g(h),t=p-e;d({value_cents:t<0?0:t,due:_})}),[g,h,_,d,p]),f=Object(s.useCallback)((()=>{r(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:y,close:f})));const w=Object(s.useCallback)((e=>{const{value_cents:t,installments:a,due:s}=u();if(t<=0)return void i.b.warning(Object(V.b)("phrases.enter_value"));const c=Math.floor(t/a),n=t-c*(a-1),r=s.clone(),l=Object(o.a)(),b=g(h),j=Math.max(0,p-b-t);for(let i=1;i<=a;i++){let t={id:Object(o.a)(),value_cents:a>1&&i===a?n:c,due:r.clone().add(i-1,"month"),date:_,payment:e};a>1&&(t={...t,installment_index:i,installment_id:l}),x({type:"add_bill_rec",payload:t})}d({value_cents:j,installments:1,due:_})}),[g,h,_,x,u,d,p]),k=Object(s.useCallback)((e=>{e||b()}),[b]),C=Object(s.useCallback)((()=>{g(h)<p?i.b.warning(Object(V.b)("phrases.check_payments")):(v(!0),f())}),[g,h,f,v,p]),I=Object(s.useMemo)((()=>h.filter((e=>!e._destroy))),[h]).reduce(((e,t)=>e+t.value_cents),0),A=Math.max(I-p,0),S=O&&a.can_edit_package,$=!O&&a.can_create_package,E=p<=I&&(S||$);return Object(H.jsxs)(c.a,{open:n,width:500,push:!1,onClose:f,title:Object(V.b)("words.payment",{count:2}),destroyOnClose:!0,height:"100%",afterOpenChange:k,footer:Object(H.jsx)(vt,{can_finish_sale:E,finishSale:C,close:f}),children:[Object(H.jsx)(M.a,{form:l,layout:"vertical",children:Object(H.jsx)(ut.a,{handlePaymentSelect:w})}),Object(H.jsx)(ht,{form:l}),Object(H.jsx)(bt.a,{orientation:"left",style:{paddingTop:15},children:Object(V.b)("phrases.sale_summary")}),Object(H.jsxs)(c.g,{$column:!0,$gap:8,$bottom:30,children:[Object(H.jsxs)(c.g,{justify:"space-between",children:[Object(H.jsx)(c.h,{$size:18,children:Object(V.b)("words.discount",{count:2})}),Object(H.jsx)(c.h,{$size:18,children:Object(ee.d)(-j)})]}),!!m&&Object(H.jsxs)(c.g,{justify:"space-between",children:[Object(H.jsx)(c.h,{$size:18,children:Object(V.b)("words.credit")}),Object(H.jsx)(c.h,{$size:18,children:Object(ee.d)(-m)})]}),Object(H.jsxs)(c.g,{justify:"space-between",children:[Object(H.jsx)(c.h,{$size:18,children:Object(V.b)("words.total")}),Object(H.jsx)(c.h,{$size:18,children:Object(ee.d)(p)})]}),Object(H.jsxs)(c.g,{justify:"space-between",$top:5,children:[Object(H.jsx)(c.h,{$size:18,$bold:!0,children:Object(V.b)("phrases.total_paid")}),Object(H.jsx)(c.h,{$size:18,$bold:!0,children:Object(ee.d)(I)})]}),!!A&&Object(H.jsxs)(c.g,{justify:"space-between",children:[Object(H.jsx)(c.h,{$size:18,children:Object(V.b)("phrases.credit_for_client")}),Object(H.jsx)(c.h,{$size:18,children:Object(ee.d)(A)})]})]})]})};yt.displayName="PaymentDrawer";var ft=Object(s.memo)(Object(s.forwardRef)(yt)),wt=a(771);const kt=e=>{let{close:t,destroyPackage:a}=e;const n=Object(q.a)((e=>e.current_user.permissions)),r=z((e=>e.submit)),o=z((e=>e.headerRef)),l=z((e=>e.save_loading)),d=z((e=>e.destroy_loading)),b=z((e=>e.inventory_package.id)),u=z((e=>e.inventory_package.finished)),j=z((e=>e.inventory_package.sum_cents)),m=z((e=>e.inventory_package.is_deleted)),p=z((e=>{var t;return!(null===(t=e.inventory_package.client)||void 0===t||!t.id)})),h=z((e=>e.inventory_package.package_items)),O=Object(s.useRef)(null),_=Object(s.useRef)(null),x=Object(s.useMemo)((()=>h.some((e=>!e._destroy))),[h]),v=Object(s.useCallback)((()=>{n.can_destroy_package?i.c.confirm({centered:!0,className:"webook-modal",title:Object(V.b)("words.attention"),maskClosable:!0,content:Object(V.b)("phrases.confirm_delete",{model:Object(V.b)("words.package").toLocaleLowerCase()}),okText:Object(V.b)("phrases.yes_delete"),okType:"danger",cancelText:Object(V.b)("verbs.cancel"),onOk:()=>!!b&&a(b)}):i.b.warning(Object(V.b)("phrases.no_permission_to_do_this"))}),[a,b,n.can_destroy_package]),g=Object(s.useCallback)((()=>{var e,t;if(!p)return i.b.warning(Object(V.b)("phrases.select",{model:Object(V.b)("words.client").toLocaleLowerCase()})),void(null===o||void 0===o||null===(t=o.current)||void 0===t||t.scrollIntoView({behavior:"smooth",inline:"start"}));j<0?i.b.warning(Object(V.b)("package.drawer.negative_value_warning")):null===(e=O.current)||void 0===e||e.open()}),[p,o,j]),y=Object(s.useCallback)((()=>{const e=[{key:"help",icon:Object(H.jsx)(ot.a,{}),onClick:()=>{var e;return null===(e=_.current)||void 0===e?void 0:e.open()},label:Object(V.b)("words.help")}];return b&&!m&&e.push({key:"print",icon:Object(H.jsx)(lt.a,{}),onClick:()=>window.open(`/reports/package/${b}`,"_blank","noopener, noreferrer"),label:Object(V.b)("verbs.print")}),e}),[m,b]),f=b&&n.can_edit_package,w=!b&&n.can_create_package,k=f||w;return Object(H.jsxs)(It,{children:[Object(H.jsxs)(c.g,{$gap:8,justify:"end",children:[Object(H.jsx)(rt.a,{trigger:["click"],menu:{items:y()},placement:"topLeft",children:Object(H.jsx)(X.a,{size:"large",children:Object(H.jsxs)(c.h,{$semibold:!0,children:[Object(V.b)("words.other",{count:2}),"\xa0",Object(H.jsx)(dt.a,{})]})})}),Object(H.jsx)(X.a,{size:"large",onClick:t,children:Object(H.jsx)(c.h,{$semibold:!0,children:Object(V.b)("verbs.cancel")})}),b&&Object(H.jsx)(X.a,{danger:!0,size:"large",type:"primary",onClick:v,disabled:l||d,children:Object(H.jsx)(c.h,{$semibold:!0,children:Object(V.b)("verbs.delete")})}),k&&Object(H.jsx)(X.a,{type:"primary",size:"large",loading:l||d,onClick:()=>{var e;if(!p)return i.b.warning(Object(V.b)("phrases.select",{model:Object(V.b)("words.client").toLocaleLowerCase()})),void(null===o||void 0===o||null===(e=o.current)||void 0===e||e.scrollIntoView({behavior:"smooth",inline:"start"}));j<0?i.b.warning(Object(V.b)("package.drawer.negative_value_warning")):r(u)},disabled:!x||l||d,children:Object(H.jsx)(c.h,{$semibold:!0,children:Object(V.b)("verbs.save")})}),(u||k)&&Object(H.jsx)(X.a,{size:"large",type:"primary",loading:l||d,onClick:g,disabled:!x||l||d,className:"ant-button-success",children:Object(H.jsx)(c.h,{$semibold:!0,children:u?Object(V.b)("phrases.see_payments"):Object(V.b)("verbs.invoice")})})]}),Object(H.jsx)(ft,{ref:O}),Object(H.jsx)(wt.a,{ref:_})]})};kt.displayName="Footer";var Ct=Object(s.memo)(kt);const It=L.d.div.withConfig({componentId:"wb__sc-vl67q1-0"})(["display:flex;justify-content:space-between;align-items:center;position:sticky;bottom:0;left:0;right:0;background:#FFFFFF;padding:10px 15px;border-top:1px solid #f0f0f0;"]),At=e=>{const{loading:t,has_error:a,title:s,close:i,destroyPackage:n}=e;return Object(H.jsxs)(c.g,{style:{height:"100%",overflow:"hidden"},children:[Object(H.jsx)($t,{children:Object(H.jsx)(nt,{})}),Object(H.jsxs)(Et,{children:[Object(H.jsx)(qe.a,{loading:t}),Object(H.jsx)(Be.a,{visible:a,small:!1,zIndex:1,$fullHeight:!0}),Object(H.jsx)(ze,{title:s}),Object(H.jsx)(Ct,{close:i,destroyPackage:n})]})]})};At.displayName="PackageDesktop";var St=At;const $t=Object(L.d)(P.a).withConfig({componentId:"wb__sc-9vva31-0"})(["width:360px;min-width:360px;height:100%;background:#FFFFFF;backdrop-filter:blur(10px);border-right:1px solid #f0f0f0;@media (max-width:1600px){width:300px;min-width:300px;}"]),Et=L.d.div.withConfig({componentId:"wb__sc-9vva31-1"})(["overflow:hidden;width:100%;position:relative;background-color:#FFFFFF;"]);var Ft=a(2831),Dt=a(356),zt=a(1813),Nt=a(592),qt=a(733),Bt=a(734),Pt=a(697),Rt=a(619);const Mt=e=>{let{services:t,search:a,handleChangeProduct:i}=e;const n=z((e=>e.inventory_package.date)),[r,o]=Object(s.useState)(50);let l=Object(q.a)((e=>e.inventory_products));const{data:d,loading:b}=Object(Bt.b)(n);l=Object(s.useMemo)((()=>Object(qt.a)(l,null===d||void 0===d?void 0:d.all_promotions.all)),[null===d||void 0===d?void 0:d.all_promotions.all,l]);const u=Object(s.useMemo)((()=>void 0===t?l.filter((e=>!e.deleted_at&&e.active)):t?l.filter((e=>e.is_service&&!e.deleted_at&&e.active)):l.filter((e=>!e.is_service&&!e.deleted_at&&e.active))),[l,t]),j=Object(s.useMemo)((()=>a?new Rt.a(u,{isCaseSensitive:!1,findAllMatches:!0,keys:["description"],threshold:.3,ignoreLocation:!0}).search(a).map((e=>e.item)):u),[u,a]),m=Object(s.useMemo)((()=>j.slice(0,r)),[j,r]);return 0===j.length?Object(H.jsx)(zt.a,{image:zt.a.PRESENTED_IMAGE_SIMPLE,description:Object(V.b)("phrases.empty")}):Object(H.jsxs)("div",{children:[Object(H.jsx)(Pe.a.Provider,{value:b,children:m.map((e=>Object(H.jsx)(Lt,{children:Object(H.jsx)(c.g,{$alignCenter:!0,$paddings:10,onClick:()=>i(e),children:Object(H.jsx)(Pt.a,{item:e},e.id)})},e.id)))}),j.length>m.length&&Object(H.jsxs)(c.h,{$alignCenter:!0,$fullWidth:!0,$block:!0,$size:14,$color:"primary",onClick:()=>o((e=>e+50)),$cursor:"pointer",$semibold:!0,$mBottom:20,children:["Exibir mais ",j.length-m.length>=50?50:j.length-m.length]})]})};Mt.displayName="ProductsListMobile";var Tt=Object(s.memo)(Mt);const Lt=Object(L.d)(Nt.b).withConfig({componentId:"wb__sc-1sxmzhs-0"})(["box-shadow:0 2px 9px rgba(83,83,83,10%);margin:0 0 10px;"]),Vt=e=>{let{search:t,handleChangeProduct:a}=e;return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(c.h,{$left:15,$size:18,$semibold:!0,children:"Servi\xe7os"}),Object(H.jsx)(Tt,{services:!0,search:t,handleChangeProduct:a}),Object(H.jsx)(c.h,{$left:15,$size:18,$semibold:!0,children:"Produtos"}),Object(H.jsx)(Tt,{services:!1,search:t,handleChangeProduct:a})]})};var Ht=Object(s.memo)(Vt),Ut=a(3059),Gt=a(131),Yt=a(1444);const Qt=e=>{let{search:t,is_service:a,setSearch:i,back:n,close:r}=e;const o=Object(s.useMemo)((()=>void 0===a?`${Object(V.b)("verbs.select")} ${Object(V.b)("words.item").toLocaleLowerCase()}`:a?`${Object(V.b)("verbs.select")} ${Object(V.b)("words.service").toLocaleLowerCase()}`:`${Object(V.b)("verbs.select")} ${Object(V.b)("words.product").toLocaleLowerCase()}`),[a]);return Object(H.jsxs)("div",{children:[Object(H.jsxs)(c.g,{$alignCenter:!0,justify:"space-between",children:[Object(H.jsxs)(c.g,{$alignCenter:!0,children:[void 0!==a&&Object(H.jsx)("div",{onClick:n,children:Object(H.jsx)(c.d,{$right:10,as:Ut.a,$size:18})}),Object(H.jsx)(c.h,{$size:22,$semibold:!0,children:o})]}),Object(H.jsx)("div",{onClick:r,style:{marginLeft:"auto"},children:Object(H.jsx)(c.d,{as:Gt.a,$size:18})})]}),Object(H.jsx)(Wt,{allowClear:!0,placeholder:Object(V.b)("phrases.type_to_search"),size:"large",enterKeyHint:"search",value:t,onChange:e=>i(e.target.value),prefix:Object(H.jsx)(Yt.a,{style:{color:"lightgray"}})})]})};Qt.displayName="HeaderMobile";var Jt=Object(s.memo)(Qt);const Wt=Object(L.d)(J.a).withConfig({componentId:"wb__sc-l5ztmo-0"})(["margin-top:15px;border-color:rgba(0,0,0,0.05);padding:8px 12px;width:100%;.ant-input-prefix{margin-right:10px;}"]),Zt=(e,t)=>{const[a,i]=Object(s.useState)(!1),[n,r]=Object(s.useState)(),[l,d]=Object(s.useState)(),[b,j]=Object(s.useState)({...u,id:Object(o.a)()}),m=z((e=>e.packageDispatch)),p=Object(s.useCallback)((()=>{i(!0)}),[]),h=Object(s.useCallback)((()=>{i(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:p,close:h})));const O=Object(s.useCallback)((()=>{d(!1)}),[]),_=Object(s.useCallback)((()=>{d(!0)}),[]),x=Object(s.useCallback)((()=>{void 0!==l?d(void 0):j(u)}),[l]),v=Object(s.useCallback)((e=>{e||(d(void 0),r(void 0),j({...u,id:Object(o.a)()}))}),[]),g=Object(s.useCallback)((e=>{const t=e.price_cents,a={...b,product:e,value_cents:t,sum_cents:t};m({type:"add_package_item",payload:a}),h()}),[h,m,b]);return Object(H.jsx)(Xt,{open:a,onClose:h,closable:!1,destroyOnClose:!0,afterOpenChange:v,push:!1,height:"100%",placement:"bottom",title:Object(H.jsx)(Jt,{search:n,is_service:l,setSearch:r,back:x,close:h}),children:Object(H.jsx)("div",{children:void 0===l?n?Object(H.jsx)(Ht,{search:n,handleChangeProduct:g}):Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(ea,{onClick:_,children:[Object(H.jsx)(c.h,{$size:18,$semibold:!0,children:Object(V.b)("words.service",{count:2})}),Object(H.jsx)(c.d,{as:Dt.a,$size:18})]}),Object(H.jsxs)(ea,{onClick:O,children:[Object(H.jsx)(c.h,{$size:18,$semibold:!0,children:Object(V.b)("words.product",{count:2})}),Object(H.jsx)(c.d,{as:Dt.a,$size:18})]})]}):Object(H.jsx)(Tt,{services:l,search:n,handleChangeProduct:g})})})};Zt.displayName="NewPackageItemDrawer";var Kt=Object(s.forwardRef)(Zt);const Xt=Object(L.d)(c.a).withConfig({componentId:"wb__sc-16xui56-0"})([".ant-drawer-header{padding:max(10px,var(--safe-area-inset-top)) 15px 20px 15px;}.ant-drawer-body{padding-left:0;padding-right:0;padding-top:10px !important;}"]),ea=Object(L.d)(c.g).attrs({$alignCenter:!0,justify:"space-between",$paddings:[10,0],$backgroundColor:"white"}).withConfig({componentId:"wb__sc-16xui56-1"})(["border-bottom:1px solid #f1f1f1;"]);var ta=a(3060),aa=a(595),sa=a(590);const ia=e=>{let{openNewPackageItemDrawer:t}=e;return Object(H.jsx)(sa.a,{children:Object(H.jsx)(aa.a,{spaced:!0,children:Object(H.jsxs)(c.g,{$column:!0,$justifyCenter:!0,$alignCenter:!0,children:[Object(H.jsx)(c.d,{as:ta.a,$top:20,$size:48}),Object(H.jsx)(c.h,{$block:!0,$top:10,$bottom:20,children:Object(V.b)("phrases.empty_package")}),Object(H.jsx)(X.a,{type:"primary",block:!0,onClick:t,children:Object(V.b)("phrases.add_item")})]})})})};ia.displayName="EmptyPackageMobile";var ca=Object(s.memo)(ia),na=a(890),ra=a(661);const oa=e=>{const{item:t}=e;return Object(H.jsx)("div",{style:{overflow:"hidden"},children:Object(H.jsx)(Pe.b,{width:10,$block:!0,children:null===t||void 0===t?void 0:t.name})})};oa.displayName="PackageTemplateItem";var la=oa;var da=e=>{let{open:t,closeDrawer:a,onChangePackageTemplate:c}=e;const n=Object(s.useRef)(null),r=Object(q.a)((e=>e.current_user.permissions)),[o,l]=Object(s.useState)(50),[d,b]=Object(s.useState)(""),{data:u,refetch:j}=we(),m=Object(s.useMemo)((()=>(null===u||void 0===u?void 0:u.all_package_templates.all)||[]),[null===u||void 0===u?void 0:u.all_package_templates]),p=Object(s.useMemo)((()=>d?new Rt.a(m,{isCaseSensitive:!1,findAllMatches:!0,keys:["name"],threshold:.3,ignoreLocation:!0}).search(d).map((e=>e.item)):m),[m,d]),h=Object(s.useMemo)((()=>p.slice(0,o)),[p,o]),O=Object(s.useCallback)((e=>{c(e),a(),j()}),[a,c,j]);return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(ra.a,{items:h,model_name:Object(V.b)("words.package_template").toLocaleLowerCase(),MobileItem:la,search:d,setSearch:b,onSelect:c,total_count:p.length,handleLoadMore:()=>l((e=>e+50)),openDrawer:()=>{var e;r.can_create_package?null===(e=n.current)||void 0===e||e.open():i.b.warning(Object(V.b)("phrases.no_permission_to_do_this"))},open:t,close:a}),Object(H.jsx)(na.a,{ref:n,afterSave:O})]})};const ba=()=>{const[e,t]=Object(s.useState)(!1),a=z((e=>e.packageDispatch)),i=Object(s.useCallback)((e=>{e&&e.package_template_items.forEach((e=>{const t=e.price_cents,s=e.quantity,i="value",c=j({value_cents:t,quantity:s,discount_type:i,discount:0}),n={id:Object(o.a)(),is_service:e.product.is_service,product:e.product,quantity:s,value_cents:t,discount_type:i,discount:0,sum_cents:c};a({type:"add_package_item",payload:n})}))}),[a]);return Object(H.jsxs)(c.g,{$alignCenter:!0,$paddings:[15,0],onClick:()=>!e&&t(!0),children:[Object(H.jsx)(c.g,{$column:!0,style:{width:"100%",overflow:"hidden"},children:Object(H.jsx)(c.h,{$color:"primary",$size:16,$semibold:!0,children:Object(V.b)("phrases.select_a_package_template")})}),Object(H.jsx)(c.d,{as:Dt.a,$color:"primary"}),Object(H.jsx)(da,{open:e,closeDrawer:()=>t(!1),onChangePackageTemplate:i})]})};ba.displayName="PackageTemplateCard";var ua=Object(s.memo)(ba),ja=a(628);const ma=()=>{const e=z((e=>e.inventory_package.expiration_date)),t=z((e=>e.packageDispatch)),a=Object(s.useRef)(null);return Object(H.jsxs)(c.g,{$alignCenter:!0,$paddings:[15,0],onClick:()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.open()},style:{borderBottom:"1px solid #f1f1f1"},children:[Object(H.jsx)(c.g,{children:Object(H.jsx)(c.h,{$block:!0,$semibold:!0,children:e?`${Object(V.b)("words.expires")} ${e.format("dddd, L")}`:Object(V.b)("words.not_expire")})}),Object(H.jsx)(c.d,{as:Dt.a,$color:"primary"}),Object(H.jsx)(ja.a,{ref:a,type:"one",defaultValue:e?e.toDate():void 0,onConfirm:e=>{const a=e?b()(e):void 0;t({type:"change_expiration_date",payload:a})}})]})};ma.displayName="ExpirationDateCardMobile";var pa=ma,ha=a(599),Oa=a(774),_a=a(690),xa=a(866);var va=e=>{let{visible:t,closeDrawer:a}=e;const c=Object(q.a)((e=>e.current_user.permissions)),n=z((e=>e.inventory_package.seller)),r=z((e=>e.packageDispatch)),o=Object(s.useRef)(null),[l,d]=Object(s.useState)(50),[b,u]=Object(s.useState)(""),j=Object(q.a)((e=>e.employees)),m=Object(s.useMemo)((()=>j.filter((e=>e.active))),[j]),p=Object(s.useMemo)((()=>b?new Rt.a(m,{isCaseSensitive:!1,findAllMatches:!0,keys:["name"],threshold:.3,ignoreLocation:!0}).search(b).map((e=>e.item)):m),[m,b]),h=Object(s.useMemo)((()=>{const e=p.slice(0,l);if(null===n||void 0===n||!n.id)return e;const t=p.findIndex((e=>e.id===(null===n||void 0===n?void 0:n.id)));return t<l?e:[p[t],...e]}),[p,l,null===n||void 0===n?void 0:n.id]),O=Object(s.useCallback)((e=>{r({type:"change_seller",payload:e||null})}),[r]);return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(ra.a,{items:h,model_name:Object(V.b)("words.seller").toLocaleLowerCase(),MobileItem:Oa.a,search:b,setSearch:u,onSelect:O,total_count:p.length,handleLoadMore:()=>d((e=>e+50)),openDrawer:()=>{var e;c.can_create_employee?null===(e=o.current)||void 0===e||e.open({initial_values:{name:b}}):i.b.warning(Object(V.b)("phrases.no_permission_to_do_this"))},open:t,close:a,focusable:!0,allowClear:!0,EmptyItem:xa.a}),Object(H.jsx)(_a.a,{ref:o,onSave:e=>O(e)})]})};const ga=()=>{const[e,t]=Object(s.useState)(!1),a=z((e=>e.inventory_package.seller)),i=z((e=>e.inventory_package.finished));return Object(H.jsxs)(c.g,{onClick:()=>!e&&!i&&t(!0),$paddings:[15,0],$alignCenter:!0,style:{borderBottom:"1px solid #f1f1f1"},children:[Object(H.jsx)(ha.a,{size:40,src:null===a||void 0===a?void 0:a.avatar_url,blurhash:null===a||void 0===a?void 0:a.avatar_blurhash}),Object(H.jsx)(c.g,{$column:!0,$mLeft:10,style:{width:"100%",overflow:"hidden"},children:Object(H.jsx)(c.h,{$textEllipsis:!0,$color:"primary",$size:16,$semibold:!0,children:null!==a&&void 0!==a&&a.name?a.name:i?Object(V.b)("phrases.no_seller"):Object(V.b)("phrases.select",{model:Object(V.b)("words.seller").toLocaleLowerCase()})})}),!i&&Object(H.jsx)(c.d,{as:Dt.a,$color:"primary"}),Object(H.jsx)(va,{visible:e,closeDrawer:()=>t(!1)})]})};ga.displayName="SellerCardMobile";var ya=ga,fa=a(2884),wa=a(775),ka=a(718);var Ca=e=>{let{visible:t,closeDrawer:a}=e;const c=Object(s.useRef)(null),n=Object(q.a)((e=>e.current_user.permissions)),r=z((e=>e.packageDispatch)),{clients:o,search:l,loading:d,setSearch:b,setPage:u}=Object(ka.b)(),j=Object(s.useCallback)((e=>{e&&r({type:"change_client",payload:e})}),[r]);return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(ra.a,{items:o,model_name:Object(V.b)("words.client").toLocaleLowerCase(),MobileItem:wa.a,search:l,setSearch:b,onSelect:j,handleLoadMore:()=>u((e=>e+1)),loading:d,openDrawer:()=>{var e;n.can_create_client?null===(e=c.current)||void 0===e||e.open({initial_values:{name:l}}):i.b.warning(Object(V.b)("phrases.no_permission_to_do_this"))},focusable:!0,open:t,close:a}),Object(H.jsx)(Re.a,{ref:c,onSave:e=>j(e)})]})};const Ia=xe.e`
  query PackageDrawerClient($id: ID) {
    client(id: $id, search_inactives: true) {
      id
      balance_cents
      cashback_balance_cents
    }
  }
`;var Aa=e=>{const t=z((e=>e.packageDispatch));return Object(ve.f)(Ia,{notifyOnNetworkStatusChange:!0,fetchPolicy:"network-only",skip:!e,variables:{id:e},onCompleted:e=>{const a={balance_cents:e.client.balance_cents||0,cashback_balance_cents:e.client.cashback_balance_cents||0};t({type:"after_load_client_data",payload:a})},onError:e=>{console.error(e),ye.a.captureException(e)}})};var Sa=()=>{const[e,t]=Object(s.useState)(!1),a=Object(s.useRef)(null),i=Object(q.a)((e=>e.current_user.permissions)),c=z((e=>e.inventory_package.client)),n=z((e=>e.inventory_package.finished));Aa(null===c||void 0===c?void 0:c.id);const r=Object(s.useCallback)((()=>{e||n||t(!0)}),[e,n]),o=Object(s.useCallback)((()=>{var e;i.can_edit_client?null===(e=a.current)||void 0===e||e.open({id:null===c||void 0===c?void 0:c.id}):fa.a.warning(Object(V.b)("phrases.no_permission_to_do_this"))}),[null===c||void 0===c?void 0:c.id,i.can_edit_client]),l=Object(s.useCallback)((()=>{Object(ee.z)({phone:(null===c||void 0===c?void 0:c.phone2)||(null===c||void 0===c?void 0:c.phone1),message:""})}),[null===c||void 0===c?void 0:c.phone1,null===c||void 0===c?void 0:c.phone2]);return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(Te.a,{client:c,finished:n,handleSelectClient:r,handleOpenClientDrawer:o,handleOpenWhatsapp:l}),Object(H.jsx)(Ca,{visible:e,closeDrawer:()=>t(!1)}),Object(H.jsx)(Re.a,{ref:a})]})};const $a=()=>{const e=z((e=>e.inventory_package.date)),t=z((e=>e.inventory_package.finished)),a=z((e=>e.packageDispatch)),i=Object(s.useRef)(null),n=Object(s.useCallback)((e=>{a({type:"change_date",payload:b()(e)})}),[a]);return Object(H.jsxs)(c.g,{$alignCenter:!0,$paddings:[15,0],onClick:()=>{var e;return!t&&(null===(e=i.current)||void 0===e?void 0:e.open())},style:{borderBottom:"1px solid #f1f1f1"},children:[Object(H.jsx)(c.g,{children:Object(H.jsx)(c.h,{$block:!0,$semibold:!0,children:e.format("dddd, L")})}),!t&&Object(H.jsx)(c.d,{as:Dt.a,$color:"primary"}),Object(H.jsx)(ja.a,{ref:i,type:"one",defaultValue:e.toDate(),onConfirm:n})]})};$a.displayName="DateCardMobile";var Ea=$a;const Fa=()=>{const e=z((e=>e.headerRef)),t=z((e=>e.inventory_package.finished));return Object(H.jsx)("div",{ref:e,children:Object(H.jsx)(sa.a,{children:Object(H.jsx)(aa.a,{spaced:!0,children:Object(H.jsxs)(c.g,{$column:!0,children:[Object(H.jsx)(c.h,{$bold:!0,$size:20,$bottom:15,children:Object(V.b)("words.information",{count:2})}),Object(H.jsx)(Sa,{}),Object(H.jsx)(ya,{}),Object(H.jsx)(Ea,{}),Object(H.jsx)(pa,{}),!t&&Object(H.jsx)(ua,{})]})})})})};Fa.displayName="HeaderMobile";var Da=Object(s.memo)(Fa);const za=()=>{const e=z((e=>e.inventory_package.sum_cents)),t=z((e=>e.inventory_package.bill_recs)),a=Object(s.useMemo)((()=>t.filter((e=>!e._destroy))),[t]);return Object(H.jsx)(sa.a,{children:Object(H.jsx)(aa.a,{spaced:!0,children:Object(H.jsxs)(c.g,{$column:!0,children:[Object(H.jsx)(c.h,{$bold:!0,$size:20,children:Object(V.b)("words.payment",{count:2})}),0===a.length&&Object(H.jsx)(c.g,{justify:"center",$alignCenter:!0,$paddings:[10,0],style:{borderBottom:"1px solid #f1f1f1"},children:Object(H.jsx)(c.h,{$size:14,$alignCenter:!0,children:Object(V.b)("phrases.no_payment_added")})}),!!a.length&&Object(H.jsx)(c.g,{$column:!0,$top:15,children:a.map((e=>Object(H.jsxs)(c.g,{justify:"space-between",$alignCenter:!0,$paddings:[10,0],style:{borderBottom:"1px solid #f1f1f1"},children:[Object(H.jsx)(c.h,{children:e.payment.name}),Object(H.jsx)(c.h,{children:Object(ee.d)(e.value_cents)})]},e.id)))}),Object(H.jsxs)(c.g,{justify:"space-between",$top:15,children:[Object(H.jsx)(c.h,{$semibold:!0,$size:16,children:Object(V.b)("words.total")}),Object(H.jsx)(c.h,{$semibold:!0,$size:16,children:Object(ee.d)(e)})]})]})})})};za.displayName="PaymentsMobile";var Na=Object(s.memo)(za),qa=a(2843),Ba=a(1441),Pa=a(615);const Ra=()=>Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(T.a,{gutter:8,children:[Object(H.jsx)(P.a,{span:12,children:Object(H.jsx)(M.a.Item,{name:"value_cents",label:Object(V.b)("words.price"),rules:[{required:!0,message:Object(V.b)("phrases.required_field")}],initialValue:0,children:Object(H.jsx)(se.a,{size:"large"})})}),Object(H.jsx)(P.a,{span:12,children:Object(H.jsx)(M.a.Item,{name:"quantity",label:Object(V.b)("words.quantity"),rules:[{required:!0,message:Object(V.b)("phrases.required_field")}],initialValue:0,children:Object(H.jsx)(Z.a,{size:"large",type:"number",style:{width:"100%"}})})}),Object(H.jsx)(P.a,{span:24,children:Object(H.jsx)(M.a.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.value_cents!==t.value_cents||e.quantity!==t.quantity,children:e=>{let{getFieldValue:t}=e;const a=t("quantity")*t("value_cents");return Object(H.jsx)(M.a.Item,{name:"discount",label:Object(V.b)("words.discount"),rules:[{required:!0,message:Object(V.b)("phrases.required_field")}],initialValue:0,children:Object(H.jsx)(se.a,{size:"large",max:a})})}})})]}),Object(H.jsxs)(T.a,{justify:"space-between",children:[Object(H.jsx)(c.h,{$size:16,$semibold:!0,children:Object(V.b)("words.total")}),Object(H.jsx)(c.h,{$size:16,$semibold:!0,children:Object(H.jsx)(M.a.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.value_cents!==t.value_cents||e.quantity!==t.quantity||e.discount!==t.discount,children:e=>{let{getFieldValue:t}=e;const a=t("quantity"),s=t("discount"),i=t("value_cents"),c=j({value_cents:i,quantity:a,discount_type:"value",discount:s});return Object(ee.d)(c)}})})]})]});var Ma=Object(s.memo)(Ra),Ta=a(581);const La=(e,t)=>{var a;const[n,r]=Object(s.useState)(!1),[l,d]=Object(s.useState)({...u,id:Object(o.a)()}),b=z((e=>e.packageDispatch)),[m]=M.a.useForm(),p=Object(s.useCallback)((e=>{r(!0),d(e),m.setFieldsValue({value_cents:e.value_cents,quantity:e.quantity,discount:e.discount})}),[m]),h=Object(s.useCallback)((()=>{r(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:p,close:h})));const O=Object(s.useCallback)((e=>{var t;const{value_cents:a,quantity:s,discount:i}=e,c=j({value_cents:a,quantity:s,discount_type:"value",discount:i}),n={id:l.id,is_service:(null===(t=l.product)||void 0===t?void 0:t.is_service)||!0,product:l.product,value_cents:a,quantity:s,discount_type:"value",discount:i,sum_cents:c};b({type:"update_package_item",payload:n}),h()}),[h,b,l.id,l.product]),_=Object(s.useCallback)((e=>{e||(d({...u,id:Object(o.a)()}),m.resetFields())}),[m]),x=null===(a=l.product)||void 0===a?void 0:a.description;return Object(H.jsx)(c.a,{push:!1,height:"100%",onClose:h,open:n,placement:"bottom",afterOpenChange:_,title:x,footer:Object(H.jsx)(Ta.a,{extra:Object(H.jsx)(X.a,{type:"primary",size:"large",danger:!0,block:!0,onClick:()=>{i.c.confirm({centered:!0,className:"webook-modal",title:"Voc\xea tem certeza?",maskClosable:!0,content:"Tem certeza que deseja excluir o item?",okText:"Sim, excluir",okType:"danger",cancelText:Object(V.b)("verbs.cancel"),onOk:()=>{b({type:"remove_package_item",payload:l.id}),h()}})},children:Object(H.jsx)(c.h,{$semibold:!0,children:Object(V.b)("verbs.delete")})}),submit:m.submit}),children:Object(H.jsx)(M.a,{form:m,layout:"vertical",onFinish:O,children:Object(H.jsx)(Ma,{})})})};La.displayName="EditPackageItemDrawer";var Va=Object(s.memo)(Object(s.forwardRef)(La)),Ha=a(612);const Ua=e=>{let{package_item:t,openSaleDrawer:a}=e;const[i,n]=Object(s.useState)(!1),r=Object(s.useRef)(null),o=t.product,l=z((e=>e.inventory_package.finished)),d=z((e=>e.packageDispatch)),b=Object(s.useMemo)((()=>{if(!l)return{content:Object(H.jsx)(Ha.a,{icon:Q.a,label:Object(V.b)("verbs.delete"),direction:"left",color:"red"}),action:()=>d({type:"remove_package_item",payload:t.id})}}),[d,l,t.id]),u=Object(s.useMemo)((()=>{var e;const a=[];return null===(e=t.sale_items)||void 0===e||e.forEach((e=>{const t=e.sale;a.some((e=>e.id===t.id))||a.push(t)})),a}),[t.sale_items]);return Object(H.jsxs)(Pa.SwipeableListItem,{swipeLeft:b,children:[Object(H.jsxs)(c.g,{$column:!0,$paddings:[10,0],style:{borderBottom:"1px solid #f1f1f1"},children:[Object(H.jsxs)(c.g,{$alignCenter:!0,justify:"space-between",onClick:()=>{var e;return!l&&(null===(e=r.current)||void 0===e?void 0:e.open(t))},children:[Object(H.jsxs)(Ya,{$column:!0,$right:10,children:[Object(H.jsx)(c.h,{$block:!0,$textEllipsis:!0,$semibold:!0,children:null===o||void 0===o?void 0:o.description}),Object(H.jsx)(c.h,{$block:!0,$size:12,children:null!==o&&void 0!==o&&o.is_service?`${t.quantity} ${Object(V.b)("words.item",{count:t.quantity}).toLocaleLowerCase()}`:Object(V.b)("phrases.number_of_units",{count:t.quantity,unit:null===o||void 0===o?void 0:o.und})})]}),Object(H.jsxs)(Qa,{children:[Object(H.jsxs)(c.h,{$semibold:!0,$block:!0,children:[Object(ee.d)(t.sum_cents)," ",!l&&Object(H.jsx)(c.d,{as:Dt.a,$color:"primary"})]}),l&&Object(H.jsxs)(c.h,{$size:12,$block:!0,children:[Object(V.b)("words.balance")," ",t.balance]})]})]}),l&&u.length>0&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(c.h,{$block:!0,$semibold:!0,$top:10,$color:"primary",onClick:()=>n((e=>!e)),children:[Object(V.b)("words.sale",{count:2})," ",Object(H.jsx)(c.d,{as:i?Ba.a:Dt.a,$color:"primary"})]}),i&&u.map((e=>Object(H.jsxs)(c.h,{$top:10,$color:"primary",onClick:()=>a(e.id),children:[Object(V.b)("words.sale")," #",e.code]},e.id)))]})]}),Object(H.jsx)(Va,{ref:r})]})};Ua.displayName="PackageItem";var Ga=Object(s.memo)(Ua,r.isEqual);const Ya=Object(L.d)(c.g).withConfig({componentId:"wb__sc-1otjk4z-0"})(["overflow:hidden;"]),Qa=L.d.div.withConfig({componentId:"wb__sc-1otjk4z-1"})(["display:flex;flex-direction:column;width:auto;justify-content:flex-end;"]),Ja=e=>{let{openNewPackageItemDrawer:t}=e;const a=z((e=>e.inventory_package.finished)),i=z((e=>e.inventory_package.package_items)),n=Object(s.useRef)(null),r=Object(s.useCallback)((e=>{var t;null===(t=n.current)||void 0===t||t.open({sale_id:e})}),[]);return Object(H.jsxs)(sa.a,{children:[Object(H.jsx)(aa.a,{spaced:!0,children:Object(H.jsxs)(c.g,{$column:!0,children:[Object(H.jsx)(c.h,{$bold:!0,$size:20,$bottom:15,children:Object(V.b)("words.package_item",{count:2})}),i.filter((e=>!e._destroy)).map(((e,t)=>Object(H.jsx)(Ga,{package_item:e,openSaleDrawer:r},t))),Object(H.jsxs)(c.h,{$color:"primary",$semibold:!0,$top:20,onClick:t,$hidden:a,children:[Object(H.jsx)(qa.a,{})," ",Object(V.b)("phrases.add_item")]})]})}),Object(H.jsx)(R.a,{ref:n})]})};Ja.displayName="PackageItemsMobile";var Wa=Object(s.memo)(Ja),Za=a(1227),Ka=a(3048);const Xa=()=>{const e=Object(q.a)((e=>e.current_user.salon.salon_configuration)),t=Object(q.a)((e=>e.current_user.features.has_cashback)),a=Object(q.a)((e=>e.current_user.addons.has_cashback)),i=z((e=>e.inventory_package.finished)),n=z((e=>!!e.inventory_package.client)),r=z((e=>e.inventory_package.credit_cents)),o=z((e=>e.inventory_package.package_items)),l=z((e=>e.inventory_package.discount_cents)),d=z((e=>e.inventory_package.cashback_cents)),b=z((e=>e.inventory_package.client_max_credits_cents)),u=z((e=>e.inventory_package.client_cashback_balance_cents)),j=Object(s.useMemo)((()=>m(o)),[o]),p=z((e=>e.packageDispatch)),h=Object(s.useCallback)(((e,t)=>{let a=e;"string"===typeof a&&(a=parseFloat(a)),null===a&&(a=0),p({type:t,payload:a})}),[p]),O=Object(s.useCallback)((e=>{h(e,"change_discount_cents")}),[h]),_=Object(s.useCallback)((e=>{h(e,"change_credit_cents")}),[h]),x=Object(s.useCallback)((e=>{h(e,"change_cashback_cents")}),[h]),v=Object(s.useMemo)((()=>n?0===b?Object(V.b)("phrases.client_has_no_credit"):Object(V.b)("phrases.client_credit_amount",{value:Object(ee.d)(b)}):Object(V.b)("package.drawer.change_credit_warning")),[b,n]),g=Object(s.useMemo)((()=>e.cashback_minimum_value_cents<=u),[u,e.cashback_minimum_value_cents]),y=Object(s.useMemo)((()=>n?g?Object(V.b)("phrases.client_cashback_amount",{value:Object(ee.d)(u)}):Object(V.b)("phrases.client_has_no_cashback"):Object(V.b)("package.drawer.change_cashback_warning")),[g,u,n]),f=Math.min(u,j-l-r),w=t||a;return Object(H.jsx)(sa.a,{children:Object(H.jsx)(aa.a,{spaced:!0,children:Object(H.jsxs)(c.g,{$column:!0,children:[Object(H.jsx)(c.h,{$bold:!0,$size:20,$bottom:20,children:Object(V.b)("words.discount",{count:2})}),Object(H.jsxs)(M.a,{layout:"vertical",children:[Object(H.jsx)(ts,{label:Object(V.b)("words.value"),children:Object(H.jsx)(se.a,{size:"large",disabled:i,value:l,onChange:O,max:j})}),Object(H.jsx)(ts,{label:Object(H.jsxs)(Za.a,{arrow:{pointAtCenter:!0},autoAdjustOverflow:!0,overlayStyle:{maxWidth:250},placement:"topLeft",trigger:["hover","click"],content:v,open:!i&&void 0,children:[Object(V.b)("words.credit"),!i&&Object(H.jsx)(Ka.a,{style:{marginLeft:5}})]}),children:Object(H.jsx)(se.a,{min:0,size:"large",value:r,onChange:_,disabled:b<=0||i,max:b})}),Object(H.jsx)(ts,{label:Object(H.jsxs)(Za.a,{overlayStyle:{maxWidth:250},arrow:{pointAtCenter:!0},trigger:["hover","click"],autoAdjustOverflow:!0,placement:"topLeft",content:y,open:!i&&void 0,children:[Object(V.b)("words.cashback"),!i&&Object(H.jsx)(Ka.a,{style:{marginLeft:5}})]}),children:Object(H.jsx)(se.a,{min:0,size:"large",value:d,onChange:x,max:i?void 0:f,disabled:!g||i||!w})})]})]})})})};Xa.displayName="TotalsCard";var es=Xa;const ts=Object(L.d)(M.a.Item).withConfig({componentId:"wb__sc-11s3064-0"})(["margin-bottom:10px;"]);var as=a(735);const ss=e=>{let{disabled:t,destroyPackage:a}=e;const n=Object(q.a)((e=>e.current_user.permissions)),r=Object(s.useRef)(null),o=z((e=>e.headerRef)),l=z((e=>e.save_loading)),d=z((e=>e.destroy_loading)),b=z((e=>e.inventory_package.id)),u=z((e=>e.inventory_package.finished)),j=z((e=>e.inventory_package.sum_cents)),m=!!z((e=>{var t;return null===(t=e.inventory_package.client)||void 0===t?void 0:t.id})),p=z((e=>e.inventory_package.package_items)),h=z((e=>e.submit)),O=Object(s.useMemo)((()=>p.reduce(((e,t)=>e||!t._destroy),!1)),[p]),_=b&&n.can_edit_package,x=!b&&n.can_create_package,v=(_||x)&&O,g=Object(s.useCallback)((()=>{i.c.confirm({centered:!0,className:"webook-modal",title:Object(V.b)("words.attention"),maskClosable:!0,content:Object(V.b)("phrases.confirm_delete",{model:Object(V.b)("words.package").toLocaleLowerCase()}),okText:Object(V.b)("phrases.yes_delete"),okType:"danger",cancelText:Object(V.b)("verbs.cancel"),onOk:()=>!!b&&a(b)})}),[a,b]),y=Object(s.useCallback)((()=>{var e,t;if(!m)return i.b.warning(Object(V.b)("phrases.select",{model:Object(V.b)("words.client").toLocaleLowerCase()})),void(null===o||void 0===o||null===(t=o.current)||void 0===t||t.scrollIntoView({behavior:"smooth",inline:"start"}));j<0?i.b.warning(Object(V.b)("package.drawer.negative_value_warning")):null===(e=r.current)||void 0===e||e.open()}),[m,o,j]);return Object(H.jsxs)(cs,{children:[!!b&&n.can_destroy_package&&Object(H.jsx)(X.a,{block:!0,disabled:t||l||d,loading:l||d,onClick:g,size:"large",type:"primary",danger:!0,children:Object(H.jsx)(c.h,{$semibold:!0,children:Object(V.b)("verbs.delete")})}),v&&Object(H.jsx)(X.a,{block:!0,size:"large",type:"primary",disabled:t||l||d,onClick:()=>{var e;if(!m)return i.b.warning(Object(V.b)("phrases.select",{model:Object(V.b)("words.client").toLocaleLowerCase()})),void(null===o||void 0===o||null===(e=o.current)||void 0===e||e.scrollIntoView({behavior:"smooth",inline:"start"}));j<0?i.b.warning(Object(V.b)("package.drawer.negative_value_warning")):h(u)},loading:l||d,children:Object(H.jsx)(c.h,{$semibold:!0,children:Object(V.b)("verbs.save")})}),(u||v)&&Object(H.jsx)(X.a,{block:!0,size:"large",type:"primary",disabled:t||l||d,onClick:y,className:"ant-button-success",loading:l||d,children:Object(H.jsx)(c.h,{$semibold:!0,children:u?Object(V.b)("phrases.see_payments"):Object(V.b)("verbs.invoice")})}),Object(H.jsx)(ft,{ref:r})]})};ss.displayName="Footer";var is=Object(s.memo)(ss);const cs=Object(L.d)(as.a).attrs({$margin:15}).withConfig({componentId:"wb__sc-4i72rw-0"})(["background-color:#FFFFFF;display:flex;& > *:not(:last-child){margin-right:8px;}"]),ns=e=>{let{loading:t,disabled:a,destroyPackage:i}=e;const n=Object(s.useRef)(null),r=z((e=>e.inventory_package.package_items)),o=Object(s.useMemo)((()=>r.some((e=>!e._destroy))),[r]),l=Object(s.useCallback)((()=>{var e;null===(e=n.current)||void 0===e||e.open()}),[]);return Object(H.jsxs)(c.g,{$column:!0,$mBottom:75,children:[Object(H.jsx)(Da,{}),o?Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(Wa,{openNewPackageItemDrawer:l}),Object(H.jsx)(es,{}),Object(H.jsx)(Na,{})]}):Object(H.jsx)(ca,{openNewPackageItemDrawer:l}),Object(H.jsx)(is,{destroyPackage:i,loading:t,disabled:a}),Object(H.jsx)(Kt,{ref:n})]})};ns.displayName="PackageFormMobile";var rs=ns,os=a(18),ls=a(593),ds=a(1e3),bs=a(340),us=a(681),js=a(848),ms=a(804),ps=a(805),hs=a(682);const Os=(e,t)=>{const[a,n]=Object(s.useState)(!1),r=z((e=>e.inventory_package.id)),o=z((e=>e.inventory_package.electronic_invoice)),l=z((e=>e.inventory_package.finished)),d=z((e=>e.refetch)),b=Object(q.a)((e=>e.current_user.permissions)),[u]=Object(ms.a)(),[j]=Object(ps.a)(),m=Object(s.useCallback)((()=>{n(!0)}),[]),p=Object(s.useCallback)((()=>{n(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:m,close:p})));const h=Object(s.useRef)(null),{t:O}=Object(bs.c)(),_=()=>{var e;l?b.can_create_invoice?null===(e=h.current)||void 0===e||e.open(r):i.b.warning(O("phrases.no_permission_to_do_this")):i.b.info("Finalize o pacote para realizar a emiss\xe3o!")},x=Object(s.useCallback)((async e=>{const{success:t}=await u(e);t&&d()}),[d,u]),v=Object(s.useCallback)((async e=>{const{success:t}=await j(e);t&&d()}),[j,d]);return Object(H.jsxs)(us.a,{title:"Nota fiscal de produto",open:a,onClose:p,closable:!0,width:"100%",placement:"bottom",height:"100%",destroyOnClose:!0,push:!1,children:[Object(H.jsxs)(c.g,{$column:!0,children:[Object(H.jsx)(c.h,{$bottom:20,children:o?Object(us.c)({status:o.status,emission_date:o.emission_date,status_reason:null===o||void 0===o?void 0:o.status_reason,inventory_type:"Package",invoice_type:"produto"}):"A nota fiscal de produto deste pacote n\xe3o foi emitida."}),o?Object(H.jsx)(hs.a,{status:o.status,pdf_link:null===o||void 0===o?void 0:o.pdf_file_link,xml_link:null===o||void 0===o?void 0:o.xml_file_link,handleUpdateInvoice:()=>x(o.id),handleCancelInvoice:()=>v(o.id),openFormDrawer:_}):Object(H.jsx)(X.a,{block:!0,onClick:_,size:"large",children:Object(H.jsx)(c.h,{$semibold:!0,children:"Emitir nota fiscal"})})]}),Object(H.jsx)(js.a,{ref:h,type:"Inventory::Package",refetch:d})]})};Os.displayName="ElectronicInvoicePackageDrawer";var _s=Object(s.memo)(Object(s.forwardRef)(Os)),xs=a(847),vs=a(802),gs=a(803);const ys=(e,t)=>{const[a,n]=Object(s.useState)(!1),r=z((e=>e.inventory_package.id)),o=z((e=>e.inventory_package.electronic_consumer_invoice)),l=z((e=>e.inventory_package.finished)),d=z((e=>e.refetch)),b=Object(q.a)((e=>e.current_user.permissions)),[u]=Object(vs.a)(),[j]=Object(gs.a)(),m=Object(s.useCallback)((()=>{n(!0)}),[]),p=Object(s.useCallback)((()=>{n(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:m,close:p})));const h=Object(s.useRef)(null),{t:O}=Object(bs.c)(),_=()=>{var e;l?b.can_create_invoice?null===(e=h.current)||void 0===e||e.open(r):i.b.warning(O("phrases.no_permission_to_do_this")):i.b.info("Finalize o pacote para realizar a emiss\xe3o!")},x=Object(s.useCallback)((async e=>{const{success:t}=await u(e);t&&d()}),[d,u]),v=Object(s.useCallback)((async e=>{const{success:t}=await j(e);t&&d()}),[j,d]);return Object(H.jsxs)(us.a,{title:"Nota fiscal de consumidor",open:a,onClose:p,closable:!0,width:"100%",placement:"bottom",height:"100%",destroyOnClose:!0,push:!1,children:[Object(H.jsxs)(c.g,{$column:!0,children:[Object(H.jsx)(c.h,{$bottom:20,children:o?Object(us.c)({status:o.status,emission_date:o.emission_date,status_reason:null===o||void 0===o?void 0:o.status_reason,inventory_type:"Package",invoice_type:"consumidor"}):"A nota fiscal de consumidor deste pacote n\xe3o foi emitida."}),o?Object(H.jsx)(hs.a,{status:o.status,pdf_link:null===o||void 0===o?void 0:o.pdf_file_link,xml_link:null===o||void 0===o?void 0:o.xml_file_link,handleUpdateInvoice:()=>x(o.id),handleCancelInvoice:()=>v(o.id),openFormDrawer:_}):Object(H.jsx)(X.a,{block:!0,onClick:_,size:"large",children:Object(H.jsx)(c.h,{$semibold:!0,children:"Emitir nota fiscal"})})]}),Object(H.jsx)(xs.a,{ref:h,type:"Inventory::Package",refetch:d})]})};ys.displayName="ConsumerInvoicePackageDrawer";var fs=Object(s.memo)(Object(s.forwardRef)(ys)),ws=a(850),ks=a(800),Cs=a(801);const Is=(e,t)=>{const[a,n]=Object(s.useState)(!1),r=z((e=>e.inventory_package.id)),o=z((e=>e.inventory_package.invoice)),l=z((e=>e.inventory_package.finished)),d=z((e=>e.refetch)),b=Object(q.a)((e=>e.current_user.permissions)),[u]=Object(ks.a)(),[j]=Object(Cs.a)(),m=Object(s.useCallback)((()=>{n(!0)}),[]),p=Object(s.useCallback)((()=>{n(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:m,close:p})));const h=Object(s.useRef)(null),{t:O}=Object(bs.c)(),_=()=>{var e;l?b.can_create_invoice?null===(e=h.current)||void 0===e||e.open(r):i.b.warning(O("phrases.no_permission_to_do_this")):i.b.info("Finalize o pacote para realizar a emiss\xe3o!")},x=Object(s.useCallback)((async e=>{const{success:t}=await u(e);t&&d()}),[d,u]),v=Object(s.useCallback)((async e=>{const{success:t}=await j(e);t&&d()}),[j,d]);return Object(H.jsxs)(us.a,{title:"Nota fiscal de servi\xe7o",open:a,onClose:p,closable:!0,width:"100%",placement:"bottom",height:"100%",destroyOnClose:!0,push:!1,children:[Object(H.jsxs)(c.g,{$column:!0,children:[Object(H.jsx)(c.h,{$bottom:20,children:o?Object(us.c)({status:o.status,emission_date:o.emission_date,status_reason:null===o||void 0===o?void 0:o.status_reason,inventory_type:"Package",invoice_type:"servi\xe7o"}):"A nota fiscal de servi\xe7o deste pacote n\xe3o foi emitida."}),o?Object(H.jsx)(hs.a,{status:o.status,pdf_link:null===o||void 0===o?void 0:o.pdf_link,xml_link:null===o||void 0===o?void 0:o.xml_link,handleUpdateInvoice:()=>x(o.id),handleCancelInvoice:()=>v(o.id),openFormDrawer:_}):Object(H.jsx)(X.a,{block:!0,onClick:_,size:"large",children:Object(H.jsx)(c.h,{$semibold:!0,children:"Emitir nota fiscal"})})]}),Object(H.jsx)(ws.a,{ref:h,type:"Inventory::Package",refetch:d})]})};Is.displayName="InvoicePackageDrawer";var As=Object(s.memo)(Object(s.forwardRef)(Is));const Ss=()=>{const e=Object(ls.b)(),t=Object(q.a)((e=>{var t;return!(null===(t=e.current_user.salon.enotas_token)||void 0===t||!t.token)})),a=Object(q.a)((e=>e.current_user.addons.has_nfs))&&t,n=Object(q.a)((e=>e.current_user.addons.has_nfe))&&t,r=Object(q.a)((e=>e.current_user.addons.has_nfce))&&t,o=z((e=>e.inventory_package.invoice)),l=z((e=>e.inventory_package.package_items)),d=z((e=>e.inventory_package.electronic_invoice)),b=z((e=>e.inventory_package.electronic_consumer_invoice)),u=l.some((e=>{var t;return null===(t=e.product)||void 0===t?void 0:t.is_service})),j=l.some((e=>{var t;return!(null!==(t=e.product)&&void 0!==t&&t.is_service)})),m=Object(s.useRef)(null),p=Object(s.useRef)(null),h=Object(s.useRef)(null);return Object(H.jsxs)(c.g,{$column:!0,children:[Object(H.jsx)(X.a,{block:!0,onClick:()=>{var t;a?u?null===(t=m.current)||void 0===t||t.open():i.b.info(Object(V.b)("package.drawer.invoices.service_blank_warning",{sufix:"NFS-e"})):e({is_addon:!0,search:os.a.ID_NEW_INVOICE})},size:"large",style:{marginTop:10,backgroundColor:Object(ds.b)((null===o||void 0===o?void 0:o.status)||"")},children:Object(H.jsx)(c.h,{$semibold:!0,children:Object(V.b)("words.service")})}),Object(H.jsx)(X.a,{block:!0,onClick:()=>{var t;n?j?null===(t=p.current)||void 0===t||t.open():i.b.info(Object(V.b)("package.drawer.invoices.product_blank_warning",{sufix:"NF-e"})):e({is_addon:!0,search:os.a.ID_NEW_ELECTRONIC_INVOICE})},size:"large",style:{marginTop:10,backgroundColor:Object(ds.b)((null===d||void 0===d?void 0:d.status)||"")},children:Object(H.jsx)(c.h,{$semibold:!0,children:Object(V.b)("words.product")})}),Object(H.jsx)(X.a,{block:!0,onClick:()=>{var t;r?j?null===(t=h.current)||void 0===t||t.open():i.b.info(Object(V.b)("package.drawer.invoices.product_blank_warning",{sufix:"NFC-e"})):e({is_addon:!0,search:os.a.ID_NEW_ELECTRONIC_CONSUMER_INVOICE})},size:"large",style:{marginTop:10,backgroundColor:Object(ds.b)((null===b||void 0===b?void 0:b.status)||"")},children:Object(H.jsx)(c.h,{$semibold:!0,children:Object(V.b)("words.consumer")})}),Object(H.jsx)(As,{ref:m}),Object(H.jsx)(_s,{ref:p}),Object(H.jsx)(fs,{ref:h})]})};Ss.displayName="Invoices";var $s=Ss;const Es=e=>{const{active_tab:t,loading:a,has_error:c,destroyPackage:n,setActiveTab:r}=e,o=z((e=>e.inventory_package.finished)),l=Object(q.a)((e=>e.current_user.permissions)),d=Object(s.useMemo)((()=>[{label:Object(V.b)("words.data"),key:"data",children:Object(H.jsx)(rs,{destroyPackage:n,loading:a,disabled:c}),disabled:!1},{label:Object(V.b)("words.invoice",{count:2}),key:"invoices",children:Object(H.jsx)($s,{}),disabled:!o}]),[n,o,c,a]);return Object(H.jsx)(Ds,{onTabClick:e=>{"invoices"!==e||l.can_access_invoice?r(e):i.b.warning(Object(V.b)("phrases.no_permission_to_do_this"))},tabPosition:"top",activeKey:t,items:d})};Es.displayName="PackageTabsMobile";var Fs=Es;const Ds=Object(L.d)(Ft.a).withConfig({componentId:"wb__sc-1i6qhiy-0"})(["height:100%;.ant-tabs-content-holder{overflow-y:auto;padding-right:0;margin-bottom:20px;}"]),zs=e=>{let{loading:t,has_error:a,title:i,destroyPackage:n}=e;const[r,o]=Object(s.useState)("data");return Object(H.jsxs)(qs,{children:[Object(H.jsx)(qe.a,{loading:t}),Object(H.jsxs)(Be.a,{visible:a,small:!0,zIndex:1,children:[Object(H.jsx)(c.h,{$top:5,$bottom:5,$block:!0,$size:24,$bold:!0,children:i}),Object(H.jsx)(Fs,{loading:t,has_error:a,active_tab:r,destroyPackage:n,setActiveTab:o})]})]})};zs.displayName="PackageMobile";var Ns=zs;const qs=L.d.div.withConfig({componentId:"wb__sc-1vw070i-0"})(["position:relative;"]);var Bs=a(1850);const Ps=xe.e`
  mutation PackageListDestroyPackage($data: DestroyPackageInput!) {
    destroyPackage(input: $data) {
      success errors
    }
  }
`;var Rs=()=>{const[e,{loading:t}]=Object(Bs.a)(Ps);return[Object(s.useCallback)((async t=>{try{var a;const s=await e({variables:{data:{id:t}}}),{success:c,errors:n}=(null===(a=s.data)||void 0===a?void 0:a.destroyPackage)||{};return c?{success:!0}:(null===n||void 0===n||n.forEach((e=>i.b.error(e))),{success:!1})}catch(s){return ye.a.captureException(s),console.error(s),i.b.error(Object(V.b)("phrases.generic_delete_error_message")),{success:!1}}}),[e]),t]},Ms=a(657);const Ts=xe.e`
  mutation PackageDrawerSavePackage ($data: SaveInventoryPackageInput!) {
    saveInventoryPackage (input: $data) {
      success
      errors
    }
  }
`;var Ls=e=>{const[t,{loading:a}]=Object(Bs.a)(Ts);return[async a=>{try{const{data:s}=await t({variables:{data:a}}),{success:c=!1,errors:n=[]}=(null===s||void 0===s?void 0:s.saveInventoryPackage)||{};return null===n||void 0===n||n.forEach((t=>{"Caixa n\xe3o est\xe1 aberto"!==t?i.b.error(t):Object(Ms.a)(e)})),{success:c}}catch(s){return ye.a.captureException(s),i.b.error(Object(V.b)("phrases.generic_save_error_message")),console.error(s),{success:!1}}},{loading:a}]},Vs=a(2879),Hs=a(641),Us=a(155),Gs=a(190);const Ys=xe.e`
  query PackageDrawerFetchPackage ($id: ID) {
    inventory_package (id: $id) {
      id
      code
      date
      expiration_date
      finished
      sum_cents
      discount_cents
      credit_cents
      cashback_cents
      comment
      deleted_at

      client {
        ...ClientsAttributes
        balance_cents
        cashback_balance_cents
      }

      seller {
        ...EmployeesAttributes
      }

      invoice {
        id
        status
        status_reason
        created_at
        emission_date
        total_value
        client_sale_type
        client_sale_id
        client_name
        pdf_link
        xml_link
      }

      electronic_invoice {
        id
        status
        status_reason
        created_at
        emission_environment
        number
        total_value
        document_type
        document_id
        customer_name
        pdf_file_link
        xml_file_link
      }

      electronic_consumer_invoice {
        id
        status
        status_reason
        created_at
        emission_environment
        number
        total_value
        document_type
        document_id
        customer_name
        pdf_file_link
        xml_file_link
      }

      package_items {
        id
        quantity
        discount_type
        discount_cents
        discount_percentage
        value_cents
        sum_cents
        balance

        sale_items {
          id
          sale {
            id code
          }
        }

        product {
          ...InventoryProductsAttributes
        }
      }

      bill_recs {
        id
        date
        due
        value_cents
        installment_index
        installment_id
        status
        account_id
        payment {
          ...FinancePaymentsAttributes
        }
      }
    }
  }

  ${ge.b}
  ${Hs.a}
  ${Us.b}
  ${Gs.b}
`;var Qs=e=>{const t=Object(q.a)((e=>e.current_user.salon.salon_configuration));return Object(Vs.a)(Ys,{fetchPolicy:"network-only",onCompleted:a=>{const{inventory_package:s}=a;(a=>{const{date:s,expiration_date:i,deleted_at:c,package_items:n,bill_recs:r,__typename:o,...l}=a,d=n.map((e=>{const{discount_cents:t,discount_percentage:a,discount_type:s,__typename:i,...c}=e,n="value"===s?t:a;return{...c,discount_type:s,discount:n,is_service:c.product.is_service}})),u=(null===r||void 0===r?void 0:r.map((e=>{const{date:t,due:a,payment:s,__typename:i,account_id:c,...n}=e;return{...n,payment:{...s,account_id:c},date:b()(t),due:b()(a)}})))||[];let j=a.credit_cents,m=a.cashback_cents;const p=a.client.balance_cents,h=a.client.cashback_balance_cents;a.finished||(m>h&&(m=h),(m<0||h<t.cashback_minimum_value_cents)&&(m=0),j>p&&(j=p),j<0&&(j=0));const O={...l,date:b()(s),expiration_date:i?b()(i):void 0,package_items:d,bill_recs:u,cashback_cents:m,credit_cents:j,is_deleted:!!c,manually_changed_credit_cents:!0,client_max_credits_cents:p,client_cashback_balance_cents:h};e({type:"set_package",payload:O})})(s)},onError:e=>{ye.a.captureException(e),console.log(e)}})};const Js=(e,t)=>{let{afterSave:a}=e;const[c,n]=Object(s.useState)(!1),[r,o]=Object(s.useState)(),[l,d]=Object(s.useReducer)(_,O),b=Object(s.useRef)(null),u=Object(s.useRef)(null),j=Object(q.a)((e=>e.current_user.permissions)),m=Object(q.a)((e=>e.is_mobile)),h=Object(s.useCallback)((()=>{var e;j.can_access_cash_accounting?null===(e=b.current)||void 0===e||e.open():i.b.warning(Object(V.b)("phrases.no_permission_to_do_this"))}),[j.can_access_cash_accounting]),[x,{loading:v,error:g}]=Qs(d),[y,{loading:f}]=Ls(h),[w,k]=Rs(),C=Object(s.useCallback)(((e,t)=>{n(!0),o(e),e&&x({variables:{id:e}}),t&&d({type:"change_client",payload:t})}),[x]),I=Object(s.useCallback)((()=>{n(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:C,close:I})));const A=Object(s.useCallback)((async e=>{const t=p(l,e),{success:s}=await y(t);s&&(i.b.success(Object(V.b)("phrases.saved_successfully",{prefix:Object(V.b)("words.package")})),I(),null===a||void 0===a||a())}),[a,I,l,y]),S=Object(s.useCallback)((async e=>{const{success:t}=await w(e);t&&(I(),null===a||void 0===a||a())}),[a,I,w]),$=Object(s.useMemo)((()=>l.id?l.finished?`${Object(V.b)("package.view_package")} #${l.code}`:`${Object(V.b)("package.edit_package")} #${l.code}`:Object(V.b)("package.new")),[l.code,l.finished,l.id]),E=Object(s.useCallback)((()=>{x({variables:{id:r}})}),[x,r]),F=Object(s.useMemo)((()=>({inventory_package:l,save_loading:f,destroy_loading:k,refetch:E,packageDispatch:d,submit:A,headerRef:u})),[k,l,f,A,E]);return Object(H.jsxs)(Ws,{closable:!0,push:!1,width:1650,height:"100%",destroyOnClose:!0,onClose:I,open:c,afterOpenChange:e=>{e||d({type:"reset_package"})},placement:m?"bottom":"right",children:[Object(H.jsx)(D.Provider,{value:F,children:Object(H.jsx)(B.a,{Mobile:Ns,Desktop:St,loading:v,has_error:!!g,title:$,close:I,destroyPackage:S})}),Object(H.jsx)(N.a,{ref:b})]})};Js.displayName="PackageDrawer";t.a=Object(s.forwardRef)(Js);const Ws=Object(L.d)(c.a).withConfig({componentId:"wb__sc-qkdv5k-0"})([".ant-drawer-body{padding:0;background:#f8f8f8;}"])},650:function(e,t,a){"use strict";a.d(t,"b",(function(){return d}));var s=a(50),i=a(18),c=a(74),n=a(27);const r=Object(s.b)("phrases.help_message"),o=function(){let{message:e=r,phone:t=i.L}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c.a.is_native?c.a.sendMessage({type:"open_whatsapp",payload:{phone:t,message:e}}):window.open(`https://wa.me/${t}?text=${e}`,"_blank","noopener, noreferrer")},l={open:o},d=()=>{const e=Object(n.a)((e=>{var t;return!(null===(t=e.current_user.salon.subscription)||void 0===t||!t.is_trial)}));return t=>{o(e?{...t,phone:i.t}:t)}};t.a=l},652:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var s=a(0),i=a(629),c=a(27),n=a(250),r=a(50),o=a(19),l=a(592),d=a(22);const b=(e,t)=>{const[a,i]=Object(s.useState)(!1),{options:c,onConfirm:o}=e,b=Object(s.useRef)(null),u=()=>{i(!0),setTimeout((()=>{var e;null===b||void 0===b||null===(e=b.current)||void 0===e||e.scrollIntoView({behavior:"smooth",inline:"start"})}),500)},m=()=>{i(!1)};Object(s.useImperativeHandle)(t,(()=>({open:u,close:m})));const p=Object(s.useCallback)((e=>{}),[]);return Object(d.jsx)(n.b,{title:Object(r.b)("words.duration"),closable:!0,height:"100%",width:700,destroyOnClose:!0,onClose:m,afterOpenChange:p,open:a,placement:"bottom",push:!1,footer:null,children:Object(d.jsx)(j,{children:c.map((t=>{const a=e.value===t.value;return Object(d.jsx)(l.b,{ref:a?b:void 0,$is_selected:a,onClick:()=>(o(t),void m()),children:Object(d.jsx)(n.g,{$alignCenter:!0,$paddings:10,children:t.label})},t.value)}))})})};b.displayName="DurationDrawerMobile";var u=Object(s.forwardRef)(b);const j=o.d.div.withConfig({componentId:"wb__sc-1weufys-0"})(["position:relative;"]),m=(e,t)=>{const{show_zero:a,last_interval:n=8,interval:o=5,...l}=e,b=Object(c.a)((e=>e.is_mobile)),j=Object(s.useRef)(null),m=Object(s.useMemo)((()=>{const e=new Array(n+1).fill(0).map(((e,t)=>t));let t=[];const s=[];for(let a=0;a<=59;a+=o)t.push(a);return e.forEach((e=>{t.forEach((t=>{(0!==e||0!==t||a)&&(e===n&&0!==t||(0!==e?s.push({value:60*e+t,label:`${e}h ${t} ${Object(r.b)("acronyms.minute",{count:t}).toLocaleLowerCase()}`}):s.push({value:t,label:`${t} ${Object(r.b)("acronyms.minute",{count:t}).toLocaleLowerCase()}`})))}))})),s}),[o,n,a]);var h;return b?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{style:{width:(null===(h=e.style)||void 0===h?void 0:h.width)||"100%"},onClick:()=>{var t;e.disabled||null===(t=j.current)||void 0===t||t.open()},children:Object(d.jsx)(p,{...l,style:{...l.style,width:"100%"},className:"pointer-events-none-mobile",value:(m.find((e=>e.value===l.value))||m[0]).label})}),Object(d.jsx)(u,{ref:j,options:m,value:l.value,onConfirm:e=>{var t;null===(t=l.onChange)||void 0===t||t.call(l,e.value,e)}})]}):Object(d.jsx)(i.b,{showSearch:!0,ref:t,placeholder:m[0].label,getPopupContainer:e=>e.parentElement||document.body,...l,children:m.map((e=>Object(d.jsx)(i.a,{value:e.value,children:e.label},e.value)))})};m.displayName="DurationInput";t.b=Object(s.forwardRef)(m);const p=Object(o.d)(i.b).withConfig({componentId:"wb__sc-gc6gxi-0"})([".ant-select-selection-item > div{overflow:hidden;text-overflow:ellipsis;}"])},653:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var s=a(0),i=a(2934),c=a(628),n=a(27),r=a(19),o=a(53),l=a.n(o),d=a(22);const b=e=>{let{value:t,onChange:a,disabled:r,...o}=e;const b=Object(n.a)((e=>e.is_mobile)),j=Object(s.useRef)(null);return b?Object(d.jsxs)(u,{$borderless:"borderless"===o.variant,disabled:r,onClick:()=>{var e;return null===(e=j.current)||void 0===e?void 0:e.open()},style:o.style?o.style:void 0,children:[null===t||void 0===t?void 0:t.format("LL"),Object(d.jsx)(c.a,{ref:j,type:"one",defaultValue:(null===t||void 0===t?void 0:t.toDate())||new Date,onConfirm:e=>{const t=l()(e);null===a||void 0===a||a(t)}})]}):Object(d.jsx)(i.a,{allowClear:!1,format:"L",style:{width:"100%"},disabled:r,value:t,onChange:a,getPopupContainer:e=>e.parentElement||document.body,...o})};b.displayName="DateInput",t.b=b;const u=r.d.div.withConfig({componentId:"wb__sc-1rumwfr-0"})(["height:40px;border-radius:5px;padding:0 11px;font-size:16rem;display:flex;align-items:center;border:1px solid #f1f1f1;",";",""],(e=>e.$borderless&&Object(r.c)(["border:unset;"])),(e=>e.disabled&&Object(r.c)(["color:rgba(0,0,0,0.25);background:#f5f5f5;pointer-events:none;"])))},654:function(e,t,a){"use strict";var s=a(116),i=a(50),c=a(74);t.a=()=>async e=>{if(c.a.is_native)return c.a.sendMessage({type:"copy_to_clipboard",payload:e}),void s.b.success(Object(i.b)("phrases.copied_successfully"));if(!navigator.clipboard){let a=document.createElement("textarea");a.value=e,a.style.position="fixed",document.body.appendChild(a),a.focus(),a.select();try{document.execCommand("copy")}catch(t){return void s.b.error(Object(i.b)("phrases.could_not_copy_try_again"))}return document.body.removeChild(a),void s.b.success(Object(i.b)("phrases.copied_successfully"))}await navigator.clipboard.writeText(e),s.b.success(Object(i.b)("phrases.copied_successfully"))}},657:function(e,t,a){"use strict";var s=a(608),i=a(50);t.a=e=>{const t=Object(i.b)("finance.cash_account.cash_register_closed");s.a.error({title:Object(i.b)("finance.cash_account.closed"),content:t,okText:Object(i.b)("phrases.open_cash_account"),useConfirm:!0,maskClosable:!0,cancelText:Object(i.b)("verbs.close"),onOk:e})}},658:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return l}));var s=a(82),i=a(579),c=a(50);const n={monthly:Object(c.b)("words.monthly"),quarterly:Object(c.b)("words.quarterly"),semiannual:Object(c.b)("words.semester"),annual:Object(c.b)("words.yearly"),biannual:Object(c.b)("words.biannual")},r={monthly:1,quarterly:3,semiannual:6,annual:12,biannual:24},o={monthly:1,quarterly:3,semiannual:6,annual:12,biannual:12},l=(e,t)=>{const a=s.a.IS_WEBOOK?"USD":"BRL";return Object(i.d)(e,{currency:a,...t})}},661:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(2883),n=a(583),r=a(199),o=a(2843),l=a(250),d=a(592),b=a(904),u=a(949),j=a(19),m=a(22);const p=e=>{const{items:t,model_name:a,MobileItem:c,setSearch:o,onSelect:j,open:p,close:_,handleLoadMore:x,total_count:v,openDrawer:g,allowClear:y,EmptyItem:f,focusable:w,loading:k,search:C,...I}=e,A=Object(s.useCallback)((e=>{j(e),_()}),[_,j]);return Object(m.jsxs)(h,{open:p,onClose:_,placement:"bottom",width:"100%",height:"100%",destroyOnClose:!0,afterOpenChange:e=>!e&&o(""),push:!1,children:[Object(m.jsx)(u.default,{focusable:w,title:`${Object(i.b)("verbs.select")} ${a}`,onSearch:o}),Object(m.jsx)("div",{id:"scrollableDiv",style:{height:"100%",overflow:"auto"},children:Object(m.jsx)(n.a.Provider,{value:!1,children:Object(m.jsxs)(b.a,{dataLength:t.length,next:()=>null===x||void 0===x?void 0:x(),hasMore:t.length!==v,scrollableTarget:"scrollableDiv",loader:Object(m.jsx)(l.g,{$justifyCenter:!0,$alignCenter:!0,$top:15,children:Object(m.jsx)(l.d,{as:r.a,$color:"primary",$size:24})}),children:[0===t.length&&k&&Object(m.jsx)(l.g,{$justifyCenter:!0,$alignCenter:!0,$top:15,children:Object(m.jsx)(l.d,{as:r.a,$color:"primary",$size:24})}),y&&f?Object(m.jsx)(d.b,{onClick:()=>A(void 0),children:Object(m.jsx)(l.g,{$alignCenter:!0,$paddings:10,children:Object(m.jsx)(f,{})})}):null,t.map((e=>{const t=(I.value?["string","number"].includes(typeof I.value)?[I.value]:[...I.value]:[]).includes(e.id);return Object(m.jsx)(d.b,{$is_selected:t,onClick:()=>A(e),children:Object(m.jsx)(l.g,{$alignCenter:!0,$paddings:10,children:Object(m.jsx)(c,{item:e})})},e.id)}))]})})}),Object(m.jsx)(O,{search:C,openDrawer:g,model_name:a,total_count:v,loading:k})]})};p.displayName="DrawerSelectMobile",t.a=Object(s.memo)(p);const h=Object(j.d)(l.a).withConfig({componentId:"wb__sc-6p1pah-0"})([".ant-drawer-body{position:relative;padding:max(10px,var(--safe-area-inset-top)) 0 0 0 !important;background-color:#f8f8f8;}"]),O=e=>{const{openDrawer:t,model_name:a,total_count:s,loading:c,search:n}=e;return Object(m.jsxs)(_,{children:[!c&&s?Object(m.jsx)(l.h,{$alignCenter:!0,$fullWidth:!0,$block:!0,$size:14,$color:"gray_1",$mTop:10,children:Object(i.b)("phrases.total_record",{count:s})}):null,t?Object(m.jsx)(l.h,{$semibold:!0,$alignCenter:!0,$fullWidth:!0,$block:!0,$size:14,$mTop:10,children:Object(m.jsxs)(l.i,{onClick:()=>t(n),children:[Object(m.jsx)(l.d,{$color:"primary",as:o.a,$right:5})," ",Object(i.b)("verbs.create")," ",a]})}):null]})};O.displayName="BottomComponent";const _=Object(j.d)(c.a).withConfig({componentId:"wb__sc-6p1pah-1"})(["padding:5px 10px var(--safe-area-inset-bottom);position:sticky;bottom:0;right:0;left:0;background-color:#FFFFFF;border-color:rgba(0,0,0,0.05);box-shadow:0 2px 9px rgba(83,83,83,0.06);"])},662:function(e,t,a){"use strict";var s=a(0),i=a(2937),c=a(2854),n=a(615),r=a(612),o=a(27),l=a(19),d=a(50),b=a(22);const u=e=>{const{Item:t,name:a,style:l,setFieldsValue:u,getFieldValue:p,$show_all_labels:h,...O}=e,_=Object(o.a)((e=>e.is_mobile)),x=Object(s.useRef)(null);return Object(b.jsx)(j,{$show_all_labels:h,children:Object(b.jsx)(i.a.List,{name:a,children:(e,s)=>{var i;let{add:o,remove:j}=s;const h=e=>{var t;const s=p(a)||[];null!==(t=s[e])&&void 0!==t&&t.id?(s[e]={...s[e],_destroy:!0},u({[a]:s})):j(e)},v=null===(i=e.filter((e=>!p([a,e.name,"_destroy"])))[0])||void 0===i?void 0:i.name;return e.map(((s,i)=>{const j=p([a,s.name,"_destroy"]),g=v===i,y=e.length-1===i,f=Object(b.jsx)(t,{field:s,first_item:g,last_item:y,container:x.current,add:o,destroy:h,setFieldsValue:u,getFieldValue:p,...O});return Object(b.jsx)(m,{style:l,ref:x,hidden:j,children:_?Object(b.jsx)(n.SwipeableListItem,{swipeLeft:(()=>{if(_&&!y)return{content:Object(b.jsx)(r.a,{icon:c.a,label:Object(d.b)("verbs.delete"),direction:"left",color:"red"}),action:()=>h(i)}})(),children:f}):f},s.key)}))}})})};u.displayName="FormList",t.a=u;const j=l.d.div.withConfig({componentId:"wb__sc-1ksg6ta-0"})(["",";"],(e=>!e.$show_all_labels&&Object(l.c)(["@media (min-width:768px){& > div:not([hidden]) ~ div{.ant-form-item-label{display:none;}.anticon-delete{top:8px;}}}"]))),m=l.d.div.withConfig({componentId:"wb__sc-1ksg6ta-1"})(["@media (max-width:768px){margin:15px 0;border-radius:5px;overflow:hidden;box-shadow:0 2px 9px rgba(83,83,83,0.06);};"])},665:function(e,t,a){"use strict";var s=a(0),i=a(2838),c=a(579),n=a(22);const r=(e,t)=>Object(n.jsx)(i.a,{ref:t,placeholder:"% 0.0",min:0,max:100,step:100,formatter:e=>Object(c.u)(e),parser:c.v,inputMode:"numeric",...e,style:{width:"100%",...e.style||{}},className:`hide-number-button ${e.className||""}`});r.displayName="PercentageInput",t.a=Object(s.forwardRef)(r)},666:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(1256),n=a(137),r=a(27),o=a(619),l=a(22);const{Option:d}=c.a,b={isCaseSensitive:!1,findAllMatches:!0,keys:["name"]},u=e=>{let{default_cash:t=!0,...a}=e;const[u,j]=Object(s.useState)(""),m=Object(r.a)((e=>e.finance_payments)),p=m.filter((e=>e.active&&!e.deleted_at));Object(s.useEffect)((()=>{if(t&&!a.value&&a.onChange&&p.length>0){const e=p.find((e=>e.is_cash))||p[0];a.onChange(e.id,{label:e.id,value:e.id,item:e})}}),[]);const h=Object(s.useMemo)((()=>{if(!a.value)return p;const e=p.some((e=>e.id===a.value));if(e)return p;const t=m.find((e=>e.id===a.value));return t?[t,...p]:p}),[p,m,a.value]),O=Object(s.useMemo)((()=>{if(!u)return h;return new o.a(h,b).search(u).map((e=>e.item))}),[h,u]);return Object(l.jsx)(c.a,{showSearch:!0,filterOption:!1,onSearch:Object(n.debounce)(j,300),placeholder:Object(i.b)("words.payment_type"),getPopupContainer:Object(s.useCallback)((e=>e.parentElement||document.body),[]),...a,children:O.map((e=>Object(l.jsx)(d,{value:e.id,item:e,children:e.name},e.id)))})};u.displayName="PaymentInput",t.a=Object(s.memo)(u)},668:function(e,t,a){"use strict";var s=a(37),i=a(1850),c=a(50),n=a(116),r=a(76);const o=s.e`
  mutation SMSCOnfigurationSaveSalon($data: SaveSalonInput!) {
    saveSalon(input: $data) {
      success
      errors
    }
  }
`;t.a=()=>{const[e,{loading:t}]=Object(i.a)(o);return[async t=>{try{const{data:a}=await e({variables:{data:t}}),{success:s=!1,errors:i=[]}=(null===a||void 0===a?void 0:a.saveSalon)||{};return s&&n.b.success(Object(c.b)("phrases.saved_successfully",{prefix:Object(c.b)("words.setting"),context:"female"})),null===i||void 0===i||i.forEach((e=>n.b.error(e))),{success:s}}catch(a){return r.a.captureException(a),n.b.error(Object(c.b)("phrases.generic_save_error_message")),console.error(a),{success:!1}}},{loading:t}]}},671:function(e,t,a){"use strict";t.a="data:image/png;base64,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"},672:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(1256),n=a(27),r=a(137),o=a(619),l=a(22);const{Option:d}=c.a,b={isCaseSensitive:!1,findAllMatches:!0,keys:["name"]},u=e=>{let{defaultOption:t,kind:a,...u}=e;const[j,m]=Object(s.useState)(),p=Object(n.a)((e=>e.finance_charts)),h=Object(s.useMemo)((()=>p.filter((e=>!e.deleted_at))),[p]),O=Object(s.useMemo)((()=>a?h.filter((e=>e.kind===a)):h),[h,a]),_=Object(s.useMemo)((()=>{if(!u.value)return O;const e=O.some((e=>e.id===u.value));if(e)return O;const t=p.find((e=>e.id===u.value));return t?[t,...O]:O}),[O,p,u.value]);Object(s.useEffect)((()=>{if(!u.value&&u.onChange&&t){const e=_.find((e=>e.default===t||e.name===t));if(!e)return;u.onChange(e.id,{label:e.id,value:e.id,item:e})}}),[]);const x=Object(s.useMemo)((()=>{if(!j)return _;return new o.a(_,b).search(j).map((e=>e.item))}),[_,j]);return Object(l.jsx)(c.a,{showSearch:!0,filterOption:!1,onSearch:Object(r.debounce)(m,300),placeholder:Object(i.b)("words.category"),getPopupContainer:Object(s.useCallback)((e=>e.parentElement),[]),...u,children:x.map((e=>Object(l.jsx)(d,{value:e.id,children:e.name},e.id)))})};u.displayName="ChartInput",t.a=Object(s.memo)(u)},679:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(116),n=a(250),r=a(624),o=a(698),l=a(870),d=a(37),b=a(2879),u=a(641),j=a(155),m=a(201),p=a(76);const h=d.e`
  fragment ScheduleGroupDrawerAttributes on ScheduleGroup {
    id
    start_date
    status
    obs
    reminder
    confirmation_link

    client {
      ...ClientsAttributes
    }

    schedule_color {
      ...ScheduleColorsAttributes
    }

    schedule_group_recurrence {
      id
      frequency
      number_occurrences
      head_schedule_group_id

      schedule_groups {
        id
        start_date
        status
        client_id
        client {
          ...ClientsAttributes
        }
      }
    }

    inventory_sale {
      id
      finished
    }

    calendars {
      id
      time: start_hour
      duration
      inventory_package_item_id

      inventory_product: service {
        id
        active
        price_cents
        description
        points_needed
        quantity
        und
        code
        bar_code
        group_id
        image_url

        duration: duration_minutes
        is_service: service
        site

        composes {
          id
          quantity
          product_id
        }

        product_configurations {
          id
          value_cents
          employee_id
          duration
        }
      }

      employee {
        ...EmployeesAttributes
      }
    }
  }

  ${u.a}
  ${j.b}
  ${m.b}
`,O=d.e`
  query ScheduleGroupDrawerScheduleGroup($id: ID) {
    schedule_group(id: $id) {
      ...ScheduleGroupDrawerAttributes
    }
  }

  ${h}
`;var _=(e,t)=>Object(b.a)(O,{fetchPolicy:"no-cache",onError:e=>{p.a.captureException(e),console.log(e)},onCompleted:a=>{const s=Object(o.b)(a.schedule_group,t);e({type:"set_schedule_group",payload:s})}}),x=a(613),v=a(405);const g=d.e`
  query CalendarEmployeesCalendarTimeOptions($date: String!, $employee_ids: [String!]) {
    employees(employee_ids: $employee_ids, actives: true, with_calendar: true) {
      id

      calendar_time_options(date: $date) {
        hour
        label
      }
    }
  }
`;var y=(e,t,a)=>Object(v.f)(g,{skip:!a||!t.length,variables:{date:e,employee_ids:t},fetchPolicy:"network-only",onError:e=>{p.a.captureException(e),console.error(e)}}),f=a(757),w=a(915),k=a(27),C=a(232),I=a(582),A=a(1850);const S=d.e`
  mutation WebookCalendarScheduleGroupSave($data: ScheduleGroupSaveInput!) {
    scheduleGroupSave(input: $data) {
      success
      errors

      schedule_group {
        ...ScheduleGroupDrawerAttributes
      }
    }
  }

  ${h}
`;var $=()=>{const[e,{loading:t}]=Object(A.a)(S,{notifyOnNetworkStatusChange:!0,onError:e=>{console.log(e),p.a.captureException(e)}}),a=async t=>{const{data:s,force_schedule:n=!1,afterSave:r}=t;try{const t={...s,force_schedule:s.force_schedule||n},{data:o}=await e({variables:{data:t}}),{success:l,errors:d,schedule_group:b}=(null===o||void 0===o?void 0:o.scheduleGroupSave)||{};if(!l){return["conflict","conflito","conflicto"].some((e=>{var t;return null===d||void 0===d||null===(t=d[0])||void 0===t?void 0:t.toLowerCase().includes(e)}))?void c.c.confirm({centered:!0,className:"webook-modal",title:Object(i.b)("calendar.time_conflict"),content:Object(i.b)("calendar.confirm_conflict"),onOk:()=>a({data:t,force_schedule:!0,afterSave:r}),okText:Object(i.b)("words.yes")}):void(null===d||void 0===d||d.map((e=>c.b.error(e))))}null===r||void 0===r||r(b)}catch(o){console.log(o),p.a.captureException(o)}};return[a,{loading:t}]},E=a(19),F=a(22);const D=Object(s.lazy)((()=>Object(C.a)((()=>Promise.all([a.e(19),a.e(22),a.e(192)]).then(a.bind(null,2938)))))),z=Object(s.lazy)((()=>Object(C.a)((()=>Promise.all([a.e(19),a.e(22),a.e(193)]).then(a.bind(null,2928)))))),N=(e,t)=>{var a;const n=Object(l.c)(),[d,b]=Object(s.useReducer)(l.b,n),[u,j]=Object(s.useState)(!1),m=Object(o.c)(d),{afterSave:p}=e,h=Object(k.a)((e=>e.is_mobile)),O=Object(o.e)(),v=Object(s.useRef)(null),g=Object(s.useRef)(null),[C,{loading:A,error:S}]=_(b,!h),[E,{loading:N}]=$(),[B,{loading:P}]=Object(w.a)(),{data:R,loading:M}=y(d.date.format("YYYY-MM-DD"),m,u),T=Object(s.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{schedule_group_id:t,initial_values:a}=e;if(t)C({variables:{id:t}});else{const e={...n,...a};b({type:"set_schedule_group",payload:e})}j(!0)}),[n,C]),L=Object(s.useCallback)((()=>{j(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:T,close:L})));const V=Object(s.useCallback)(((e,t)=>{var a;if(Object(f.a)(),!t)return c.b.success(Object(i.b)("phrases.saved_successfully",{prefix:Object(i.b)("words.scheduling")})),L(),void(null===p||void 0===p||p());const s=Object(o.b)(e,!h);b({type:"set_schedule_group",payload:s}),null===(a=g.current)||void 0===a||a.open({schedule_group_ids:[s.id]}),null===p||void 0===p||p()}),[p,L,h]),H=Object(s.useCallback)((async e=>{const t=O(d);E({data:t,afterSave:t=>V(t,e)})}),[V,O,E,d]),U=Object(s.useCallback)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{success:a}=await B(e,t);a&&(L(),null===p||void 0===p||p())}),[p,L,B]),G=Object(s.useCallback)((e=>{var t;null===(t=g.current)||void 0===t||t.open({sale_id:e})}),[]),Y=Object(s.useMemo)((()=>{const e={};return null===R||void 0===R||R.employees.forEach((t=>{e[t.id]=Object(o.a)(t.calendar_time_options)})),e}),[null===R||void 0===R?void 0:R.employees]),Q=Object(s.useMemo)((()=>({schedule_group:d,dispatch:b,loadings:{loading:A,save:N,destroy:P,time:M},headerRef:v,employee_hours:Y,submit:H,getScheduleGroup:C})),[P,Y,C,A,N,d,H,M]),J=Object(s.useMemo)((()=>{var e;return d.id?null!==(e=d.inventory_sale)&&void 0!==e&&e.finished?Object(i.b)("calendar.view_schedule"):Object(i.b)("calendar.edit_schedule"):Object(i.b)("calendar.new_schedule")}),[d.id,null===(a=d.inventory_sale)||void 0===a?void 0:a.finished]);return Object(F.jsxs)(q,{closable:!0,push:!1,width:1650,height:"100%",destroyOnClose:!0,onClose:L,open:u,afterOpenChange:e=>{e||b({type:"reset_schedule_group"})},placement:h?"bottom":"right",children:[Object(F.jsx)(r.a.Provider,{value:Q,children:Object(F.jsx)(I.a,{Mobile:z,Desktop:D,title:J,close:L,has_error:!!S,openSaleDrawer:G,destroyScheduleGroup:U})}),Object(F.jsx)(x.a,{ref:g,afterSave:L})]})};N.displayName="ScheduleGroupDrawer";t.a=Object(s.memo)(Object(s.forwardRef)(N));const q=Object(E.d)(n.a).withConfig({componentId:"wb__sc-1ld0rrd-0"})([".ant-drawer-body{padding:0;background:",";}"],(e=>e.theme.is_mobile?"#f8f8f8":"transparent"))},680:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(2883),n=a(543),r=a(19),o=a(22);t.a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=JSON.stringify(e);return Object(s.useMemo)((()=>{const t=e.filter((e=>e.full||(e.span||0)>0)),a=24-e.reduce(((e,t)=>e+(t.span||0)),0),s=()=>Object(o.jsx)(l,{children:t.map((e=>Object(o.jsx)(c.a,{span:e.full?a:e.span,children:e.name},e.key)))}),r=()=>Object(o.jsx)(l,{children:Object(i.b)("phrases.type_to_search")});return{Header:s,EmptyHeader:r,Item:e=>Object(o.jsx)(n.a,{children:t.map((t=>Object(o.jsx)(d,{span:t.full?a:t.span,$isFullSpan:t.full,title:"string"===typeof e[t.key]?e[t.key]:void 0,children:e[t.key]},`${t.key}-${e[t.key]}`)))}),Skeleton:e=>{let{loading:t,children:a,isEmpty:i}=e;return Object(o.jsxs)("div",{children:[i&&!t?Object(o.jsx)(r,{}):Object(o.jsx)(s,{}),a]})}}}),[t])};const l=Object(r.d)(n.a).withConfig({componentId:"wb__sc-1atox2b-0"})(["border-bottom:1px solid #f0f0f0;min-height:32px;padding:5px 12px;font-weight:normal;line-height:22px;color:rgba(0,0,0,0.45);cursor:not-allowed;margin-right:10px;"]),d=Object(r.d)(c.a).withConfig({componentId:"wb__sc-1atox2b-1"})(["overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;",""],(e=>!e.$isFullSpan&&Object(r.c)(["color:rgba(0,0,0,0.7);"])))},681:function(e,t,a){"use strict";a.d(t,"c",(function(){return v})),a.d(t,"a",(function(){return g}));var s=a(0),i=a(250),c=a(340),n=a(159),r=a(446),o=a(850),l=a(800),d=a(801),b=a(27),u=a(602),j=a(682),m=a(53),p=a.n(m),h=a(19),O=a(116),_=a(22);const x=(e,t)=>{const[a,r]=Object(s.useState)(!1),m=Object(u.b)((e=>e.sale.id)),p=Object(u.b)((e=>e.sale.invoice)),h=Object(u.b)((e=>e.sale.finished)),x=Object(u.b)((e=>e.refetch)),y=Object(b.a)((e=>e.current_user.permissions)),[f]=Object(l.a)(),[w]=Object(d.a)(),k=Object(s.useCallback)((()=>{r(!0)}),[]),C=Object(s.useCallback)((()=>{r(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:k,close:C})));const I=Object(s.useRef)(null),{t:A}=Object(c.c)(),S=()=>{var e;h?y.can_create_invoice?null===(e=I.current)||void 0===e||e.open(m):O.b.warning(A("phrases.no_permission_to_do_this")):O.b.info("Finalize a comanda para realizar a emiss\xe3o!")},$=Object(s.useCallback)((async e=>{const{success:t}=await f(e);t&&x()}),[x,f]),E=Object(s.useCallback)((async e=>{const{success:t}=await w(e);t&&x()}),[w,x]);return Object(_.jsxs)(g,{title:"Nota fiscal de servi\xe7o",open:a,onClose:C,closable:!0,width:"100%",placement:"bottom",height:"100%",destroyOnClose:!0,push:!1,children:[Object(_.jsxs)(i.g,{$column:!0,children:[Object(_.jsx)(i.h,{$bottom:20,children:p?v({status:p.status,emission_date:p.emission_date,status_reason:null===p||void 0===p?void 0:p.status_reason,inventory_type:"Sale",invoice_type:"servi\xe7o"}):"A nota fiscal de servi\xe7o desta comanda n\xe3o foi emitida."}),p?Object(_.jsx)(j.a,{status:p.status,pdf_link:null===p||void 0===p?void 0:p.pdf_link,xml_link:null===p||void 0===p?void 0:p.xml_link,handleUpdateInvoice:()=>$(p.id),handleCancelInvoice:()=>E(p.id),openFormDrawer:S}):Object(_.jsx)(n.a,{block:!0,onClick:S,size:"large",children:Object(_.jsx)(i.h,{$semibold:!0,children:"Emitir nota fiscal"})})]}),Object(_.jsx)(o.a,{ref:I,type:"Inventory::Sale",refetch:x})]})};x.displayName="InvoiceSaleDrawer",t.b=Object(s.memo)(Object(s.forwardRef)(x));const v=e=>{let{status:t,emission_date:a,status_reason:s,inventory_type:i,invoice_type:c}=e;return{pending:`A nota fiscal de ${c} ${"Sale"===i?"desta comanda":"deste pacote"} est\xe1 sendo processado pela ${"servi\xe7o"===c?"prefeitura":"SEFAZ"}.`,issued:`Nota fiscal de ${c} emitida com sucesso no dia ${p()(a).format("L, HH:mm[h]")}.`,canceled:`Nota fiscal de ${c} cancelada com sucesso.`,denied:`A emiss\xe3o desta nota foi negada pela ${"servi\xe7o"===c?"prefeitura":"SEFAZ"}. Motivo: ${s||"Nenhum motivo informado"}`,cancel_denied:`Nota fiscal de ${c} n\xe3o p\xf4de ser cancelada. Motivo: ${s||"Nenhum motivo informado"}`}[t]},g=Object(h.d)(r.a).withConfig({componentId:"wb__sc-265qow-0"})([".ant-drawer-body{padding:0;background:#f8f8f8;}"])},682:function(e,t,a){"use strict";var s=a(0),i=a(159),c=a(250),n=a(340),r=a(27),o=a(600),l=a(116),d=a(22);const b=e=>{const{status:t,pdf_link:a,xml_link:s,handleUpdateInvoice:b,handleCancelInvoice:u,openFormDrawer:j}=e,m=Object(r.a)((e=>e.current_user.permissions)),{t:p}=Object(n.c)();return Object(d.jsxs)(c.g,{$column:!0,style:{marginTop:10},children:[Object(d.jsx)(i.a,{block:!0,onClick:()=>{m.can_edit_invoice?b():l.b.warning(p("phrases.no_permission_to_do_this"))},size:"large",children:Object(d.jsx)(c.h,{$semibold:!0,children:"Atualizar status"})}),a&&s&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(i.a,{block:!0,onClick:()=>Object(o.a)(a),size:"large",style:{marginTop:10},children:Object(d.jsx)(c.h,{$semibold:!0,children:"Download PDF"})}),Object(d.jsx)(i.a,{block:!0,onClick:()=>Object(o.a)(s),size:"large",style:{marginTop:10},children:Object(d.jsx)(c.h,{$semibold:!0,children:"Download XML"})})]}),"issued"===t&&Object(d.jsx)(i.a,{block:!0,onClick:()=>{m.can_destroy_invoice?u():l.b.warning(p("phrases.no_permission_to_do_this"))},size:"large",style:{marginTop:10},children:Object(d.jsx)(c.h,{$semibold:!0,children:"Cancelar nota"})}),"denied"===t&&Object(d.jsx)(i.a,{block:!0,onClick:j,size:"large",style:{marginTop:10},children:Object(d.jsx)(c.h,{$semibold:!0,children:"Excluir nota negada e emitir nova"})})]})};b.displayName="ActionButtons",t.a=Object(s.memo)(b)},686:function(e,t,a){"use strict";var s=a(0),i=a(581),c=a(250),n=a(19),r=a.p+"static/media/rocket.a6936a44.png",o=a(22);const l=e=>{let{title:t,description:a,background_color:s,children:i}=e;return Object(o.jsxs)(b,{style:{backgroundImage:s},children:[Object(o.jsx)(c.h,{$color:"white",$paddings:[0,20],$size:32,$black:!0,children:t}),Object(o.jsxs)(u,{children:[Object(o.jsxs)(j,{children:[Object(o.jsx)(c.h,{$bold:!0,$size:26,children:"Voe mais alto!"}),Object(o.jsx)(c.h,{style:{lineHeight:1.2},$align:"left",$semibold:!0,$size:16,children:a})]}),Object(o.jsx)(m,{alt:"rocket icon",src:r})]}),i]})};l.displayName="Header";var d=l;const b=n.d.div.withConfig({componentId:"wb__sc-19gkp74-0"})(["display:flex;flex-direction:column;width:100%;align-items:center;padding:var(--safe-area-inset-top) 10px 10px;"]),u=n.d.div.withConfig({componentId:"wb__sc-19gkp74-1"})(["display:flex;flex-direction:row;color:#FFFFFF;align-items:center;"]),j=n.d.div.withConfig({componentId:"wb__sc-19gkp74-2"})(["display:flex;flex-direction:column;"]),m=n.d.img.attrs({loading:"lazy"}).withConfig({componentId:"wb__sc-19gkp74-3"})(["max-width:140px;height:100%;-webkit-transform:scaleX(-1) rotate(20deg);transform:scaleX(-1) rotate(20deg);"]);var p=a(74),h=a(3041),O=a(159);const _="market://details?id=com.uniom.belasis",x=()=>{const e={android:_,ios:"https://apps.apple.com/pt/app/belasis-pro/id1310449315",fallback:_};p.a.sendMessage({type:"open_store",payload:e})},v=e=>{let{style:t}=e;return Object(o.jsx)(O.a,{block:!0,style:{marginTop:10,...t},size:"large",icon:Object(o.jsx)(h.a,{}),onClick:x,children:Object(o.jsx)(c.h,{$bold:!0,$size:16,children:"EXPERIMENTE GR\xc1TIS"})})};v.displayName="TryFreeButton";var g=v;const y=e=>{let{features:t}=e;return Object(o.jsxs)(w,{children:[Object(o.jsx)(c.h,{$size:24,$bold:!0,children:"Tenha acesso imediato \xe0:"}),t.map((e=>{let{title:t,description:a,icon:s}=e;return Object(o.jsxs)(k,{children:[Object(o.jsx)(c.d,{as:s,$size:40,$mRight:20}),Object(o.jsxs)(C,{children:[Object(o.jsx)(c.h,{$size:16,$bold:!0,children:t}),Object(o.jsx)(c.h,{style:{lineHeight:1.2},$align:"justify",children:a})]})]},t)}))]})};y.displayName="Features";var f=y;const w=n.d.div.withConfig({componentId:"wb__sc-12gv80r-0"})(["display:flex;flex-direction:column;padding:10px 15px 15px;"]),k=n.d.div.withConfig({componentId:"wb__sc-12gv80r-1"})(["display:flex;flex-direction:row;align-items:center;margin-top:10px;background-color:",";box-shadow:0 2px 9px rgba(83,83,83,0.06);border:1px solid transparent;border-radius:5px;padding:10px 20px;"],(e=>e.theme.colors.white)),C=n.d.div.withConfig({componentId:"wb__sc-12gv80r-2"})(["display:flex;flex-direction:column;"]);var I=a(3042),A=a(3043),S=a(3044),$=a(3045),E=a(3046),F=a(3047),D=a(650),z=a(18),N=a(50);const q=(e,t)=>{const[a,r]=Object(s.useState)(!1),l=Object(n.f)(),b=Object(D.b)(),u=()=>{r(!0)},j=()=>{r(!1)};Object(s.useImperativeHandle)(t,(()=>({open:u,close:j})));return Object(o.jsx)(c.a,{closable:!0,height:"100%",destroyOnClose:!0,push:!1,onClose:j,open:a,placement:"bottom",footer:Object(o.jsx)(i.a,{cancel_text:Object(N.b)("verbs.close"),close:j}),styles:{body:{padding:0,margin:0}},children:Object(o.jsxs)("div",{style:{width:"100%"},children:[Object(o.jsx)(d,{title:"Belasis Pro",description:Object(o.jsxs)(o.Fragment,{children:["Essa fun\xe7\xe3o est\xe1 dispon\xedvel no\xa0",Object(o.jsx)(c.h,{style:{lineHeight:1.2},$size:16,$black:!0,children:"Belasis Pro"}),", um aplicativo que te levar\xe1 para o pr\xf3ximo n\xedvel!"]}),background_color:"linear-gradient(to right, #3a3a3a, #a9ff73)",children:Object(o.jsx)(g,{style:{color:l.colors.default_text}})}),Object(o.jsxs)(B,{children:[Object(o.jsx)(f,{features:R}),Object(o.jsxs)(P,{children:[Object(o.jsxs)(c.h,{style:{lineHeight:1.2},$size:20,$alignCenter:!0,children:["Teste gr\xe1tis agora por ",z.d," dias e sinta toda a facilidade que s\xf3 o",Object(o.jsx)(c.h,{style:{lineHeight:1.2},$size:20,$black:!0,children:"\xa0Belasis Pro"})," te oferece!"]}),Object(o.jsx)(g,{style:{backgroundColor:l.colors.default_text,color:"#FFFFFF"}}),Object(o.jsx)(O.a,{block:!0,style:{marginTop:20,color:l.colors.default_text},size:"large",icon:Object(o.jsx)(I.a,{}),onClick:()=>{b({message:"Ol\xe1, estou usando o Belasis Fit e gostaria de saber mais sobre o Belasis Pro. Poderia me ajudar, por gentileza?"})},children:Object(o.jsx)(c.h,{$bold:!0,$size:16,children:"FALAR COM UM ESPECIALISTA"})})]})]})]})})};q.displayName="BelasisProFeaturesDrawer";t.a=Object(s.forwardRef)(q);const B=n.d.div.withConfig({componentId:"wb__sc-14j4zi0-0"})(["padding-bottom:40px;background-image:linear-gradient(#f0f6f0,#e6f6e6);width:100%;"]),P=n.d.div.withConfig({componentId:"wb__sc-14j4zi0-1"})(["display:flex;flex-direction:column;padding:0 15px;"]),R=[{title:"Lan\xe7amentos ilimitados",description:"N\xe3o se preocupe mais com a quantidade de clientes, agendamento ou comandas... aqui \xe9 tudo ilimitado.",icon:A.a},{title:"Gest\xe3o de Pacotes",description:"Agilize o seu tempo definindo pacotes predefinidos e gerencie os pacotes vendidos controlando seus respectivos saldos.",icon:S.a},{title:"Gerenciamento de Comiss\xf5es",description:"Chega de fazer c\xe1lculos intermin\xe1veis! Personalize as comiss\xf5es do seu jeito e o sistema calcular\xe1 elas para voc\xea em um clique!",icon:$.a},{title:"Suporte ao Cliente",description:"Voc\xea n\xe3o estar\xe1 sozinho(a)! Conte sempre conosco para tirar as suas d\xfavidas e te auxiliar no que voc\xea precisar.",icon:E.a},{title:"Acesso em qualquer dispositivo",description:"Em qualquer momento e em qualquer lugar! Acesse suas informa\xe7\xf5es em todos os dispositivos que voc\xea tiver.",icon:F.a}]},690:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(2937),n=a(2975),r=a(20),o=a(250),l=a(116),d=a(579),b=a(53),u=a.n(b);const j=e=>{const{schedule_hours:t={},commissions_attributes:a=[],product_configurations_attributes:s=[],image:i,digital_signature:c,...n}=e,r=(e=>(Object.entries(e)||[]).reduce(((e,t,a)=>({...e,[`wday_${a}`]:t[1].work,[`wday_${a}_start`]:t[1].start,[`wday_${a}_end`]:t[1].end,[`wday_${a}_lunch_start`]:t[1].lunch_start,[`wday_${a}_lunch_end`]:t[1].lunch_end})),{}))(t);return{...n,...r,avatar:i,digital_signature_file:c,commissions_attributes:a.filter((e=>e.product_id)),product_configurations_attributes:s.filter((e=>e.inventory_product_id)).map((e=>{const{product:t,...a}=e;return a}))}};var m=a(599),p=a(37),h=a(405),O=a(76);const _=p.e`
  query EmployeeDrawerFetchEmployee ($id: ID) {
    employee (id: $id) {
      id
      name
      nickname
      profession
      phone2
      cpf_cnpj
      rg
      birthday
      active
      site
      calendar
      has_commission
      zip_code
      address
      number
      complement
      district
      state_id
      city_id
      avatar_url: large_thumb_url
      avatar_blurhash
      digital_signature_url
      lei_salao_parceiro
      observation

      user {
        id
        fake_email
        email
      }

      schedule_hours
      schedule_interval

      employee_fee_config {
        id
        fee_payer
        discount_payer
        open_sales
        filter_date_by
        product_consumed_price_by
        discount_consumed_products_on
        considers_additional_cost
        show_total_gross_value
        commission_message_received
      }

      commissions_attributes: commissions {
        id
        product_id
        value
        discount_assistant_commission_from
        value_as_assistant
        calculate_assistant_commission_on
      }

      product_configurations_attributes: product_configurations {
        id
        inventory_product_id
        value_cents
        duraction
        can_schedule_online
        use_service_duration
        use_service_value
        use_service_additional_cost
        additional_cost_cents
        additional_cost_percentage
        additional_cost_type
        product {
          id
          active
        }
      }
    }
  }
`;var x=e=>{let{id:t,onCompleted:a}=e;return Object(h.f)(_,{skip:!t,variables:{id:t},fetchPolicy:"network-only",onCompleted:e=>{const{employee:t}=e;a(t)},onError:e=>{O.a.captureException(e),console.log(e)}})},v=a(27),g=a(608),y=a(339),f=a(1850),w=a(155);const k=p.e`
  mutation EmployeeDrawerSaveEmployee ($data: SaveEmployeeInput!) {
    saveEmployee (input: $data) {
      success
      errors
      employee_quantity_exceeded

      employee {
        ...EmployeesAttributes
      }
    }
  }

  ${w.b}
`;var C=()=>{const[e,{loading:t}]=Object(f.a)(k,{context:{hasUpload:!0}});return[async t=>{try{const{data:a}=await e({variables:{data:t}}),{success:s=!1,errors:i=[],employee:c,employee_quantity_exceeded:n=!1}=(null===a||void 0===a?void 0:a.saveEmployee)||{};return null===i||void 0===i||i.forEach((e=>l.b.error(e))),{success:s,employee:c,employee_quantity_exceeded:n}}catch(a){return O.a.captureException(a),l.b.error(Object(i.b)("phrases.generic_save_error_message")),console.error(a),{success:!1,employee:void 0}}},{loading:t}]},I=a(852),A=a(2831),S=a(593),$=a(686),E=a(585),F=a(892),D=a(703),z=a(794);const N=p.e`
  query AdvancesDrawer(
    $id: ID, $page: Int, $results: Int, $sort_field: String, $sort_order: String, $start_date: String,
    $end_date: String
  ) {
    employee(id: $id) {
      id
      advances: all_advances(
        page: $page, results: $results, sort_field: $sort_field, sort_order: $sort_order, start_date: $start_date,
        end_date: $end_date
      ) {
        all {
          id date note source value_cents status

          advance_recurrence {
            id
          }
        }
        total_count
      }
    }
  }
`;var q=e=>Object(h.f)(N,{skip:!e.id,variables:e,fetchPolicy:"network-only",onError:e=>{O.a.captureException(e),console.log(e)}}),B=a(586),P=a(582),R=a(232),M=a(22);const T=Object(s.lazy)((()=>Object(R.a)((()=>a.e(167).then(a.bind(null,3020)))))),L=Object(s.lazy)((()=>Object(R.a)((()=>a.e(168).then(a.bind(null,3097)))))),V=e=>Object(M.jsx)(P.a,{Desktop:T,Mobile:L,...e});V.displayName="Table";var H=V,U=a(19);const G=(e,t)=>{const[a,c]=Object(s.useState)(1),[n,r]=Object(s.useState)(!1),[d,b]=Object(s.useState)(25),[j,m]=Object(s.useState)(),[p,h]=Object(s.useState)("DESC"),[O,_]=Object(s.useState)("date"),[x,g]=Object(s.useState)([u()().startOf("year"),u()()]),y=Object(v.a)((e=>e.current_user.permissions)),f=Object(v.a)((e=>e.is_mobile)),w=Object(s.useCallback)((e=>{m(e),r(!0)}),[]),k=Object(s.useCallback)((()=>{r(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:w,close:k})));const{data:C,loading:I,error:A,refetch:S}=q({id:j,page:a,results:d,sort_order:p,sort_field:O,start_date:x[0].format("YYYY-MM-DD"),end_date:x[1].format("YYYY-MM-DD")}),$=Object(s.useRef)(null),N=Object(s.useCallback)((e=>{var t;y.can_create_advance?null===(t=$.current)||void 0===t||t.open(e):l.b.warning(Object(i.b)("phrases.no_permission_to_do_this"))}),[y.can_create_advance]),P=Object(s.useCallback)((e=>{e||m(void 0)}),[]),R=(null===C||void 0===C?void 0:C.employee.advances.all)||[],T=(null===C||void 0===C?void 0:C.employee.advances.total_count)||0;return Object(M.jsx)(o.b,{open:n,title:Object(i.b)("words.advance_other"),onClose:k,closable:!0,destroyOnClose:!0,width:1024,afterOpenChange:P,height:"100%",push:!1,placement:f?"bottom":"right",footer:Object(M.jsx)(z.a,{loading:I,page:a,results:d,total:T,handleChangePagination:(e,t)=>{c(e),t&&b(t)},close:k,openDrawer:()=>N()}),children:Object(M.jsxs)(Q,{children:[Object(M.jsx)(B.a,{visible:!!A,small:f}),Object(M.jsx)(o.g,{style:{padding:"0 20px",justifyContent:f?void 0:"end"},children:Object(M.jsx)(D.a,{style:f?{width:"100%"}:{width:"unset"},disabled:I,value:x,onChange:g})}),Object(M.jsx)(E.c,{style:{marginTop:15},has_permission:y.can_access_advance,children:Object(M.jsx)(H,{advances:R,loading:I,refetch:S,openAdvanceDrawer:N,handleChangeTable:(e,t,a,s)=>{"sort"===s.action&&(Array.isArray(a)||("ascend"===a.order?h("ASC"):"descend"===a.order?h("DESC"):h(void 0),Array.isArray(a.field)||_(a.field)))}})}),Object(M.jsx)(F.a,{employee_id:j,afterSave:S,ref:$})]})})};G.displayName="AdvancesDrawer";var Y=Object(s.forwardRef)(G);const Q=U.d.div.withConfig({componentId:"wb__sc-l8lj1q-0"})(["position:relative;"]);var J=a(645),W=a(657);const Z=p.e`
  mutation SalaryDrawerSaveSalary ($data: SaveSalaryInput!) {
    saveSalary (input: $data) {
      success
      errors
    }
  }
`;var K=e=>{let{openCashAccounting:t}=e;const[a,{loading:s}]=Object(f.a)(Z);return[async e=>{try{const{data:s}=await a({variables:{data:e}}),{success:i=!1,errors:c=[]}=(null===s||void 0===s?void 0:s.saveSalary)||{};return null===c||void 0===c||c.forEach((e=>{"Caixa n\xe3o est\xe1 aberto"!==e?l.b.error(e):Object(W.a)(t)})),{success:i}}catch(s){return O.a.captureException(s),l.b.error("N\xe3o foi poss\xedvel salvar as altera\xe7\xf5es. Atualize a p\xe1gina e tente novamente. Se o erro persistir entre em contato"),console.error(s),{success:!1}}},{loading:s}]};const X=p.e`
  query SalaryDrawerFetchSalary($id: ID) {
    salary(id: $id) {
      id date historical kind percentage taxes value_cents account_id chart_id payment_id
    }
  }
`;var ee=e=>{let{visible:t,id:a,onCompleted:s}=e;return Object(h.f)(X,{skip:!a||!t,variables:{id:a},fetchPolicy:"network-only",onCompleted:e=>s(e.salary),onError:e=>{O.a.captureException(e),console.log(e)}})},te=a(340),ae=a(3048),se=a(543),ie=a(2824),ce=a(2883),ne=a(2934),re=a(1256),oe=a(1227),le=a(538),de=a(2838),be=a(666),ue=a(646),je=a(672),me=a(584);const pe=e=>{let{is_owner:t,setFieldsValue:a}=e;const n=Object(v.a)((e=>e.is_mobile));return Object(M.jsxs)(se.a,{gutter:8,children:[Object(M.jsx)(c.a.Item,{name:"id",noStyle:!0,children:Object(M.jsx)(ie.a,{type:"hidden"})}),Object(M.jsx)(ce.a,{span:12,children:Object(M.jsx)(c.a.Item,{name:"value_cents",label:Object(i.b)("words.value"),rules:[{required:!0,message:Object(i.b)("words.required")}],children:Object(M.jsx)(me.a,{size:n?"large":"middle"})})}),Object(M.jsx)(ce.a,{span:12,children:Object(M.jsx)(c.a.Item,{name:"date",label:Object(i.b)("words.due"),initialValue:u()(),rules:[{required:!0,message:Object(i.b)("words.required")}],children:Object(M.jsx)(ne.a,{allowClear:!1,style:{width:"100%"},format:"L",size:n?"large":"middle",getPopupContainer:Object(s.useCallback)((e=>e.parentElement),[])})})}),Object(M.jsx)(ce.a,{span:12,children:Object(M.jsx)(c.a.Item,{name:"kind",label:Object(i.b)("words.item"),initialValue:"co",rules:[{required:!0,message:Object(i.b)("words.required")}],children:Object(M.jsxs)(re.a,{onChange:()=>{a({taxes:0,percentage:0})},getPopupContainer:e=>e.parentElement||document.body,size:n?"large":"middle",children:[Object(M.jsx)(re.a.Option,{value:"co",children:Object(i.b)("words.commission")}),Object(M.jsx)(re.a.Option,{value:"sa",children:Object(i.b)("words.salary")})]})})}),Object(M.jsx)(ce.a,{span:12,children:Object(M.jsx)(c.a.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.kind!==t.kind,children:e=>{let{getFieldValue:t}=e;const a=t("kind");return Object(M.jsx)(c.a.Item,{label:Object(M.jsxs)("div",{children:[Object(i.b)("words.charges"),"\xa0",Object(M.jsx)(oe.a,{title:Object(i.b)("words.charges"),trigger:["hover","click"],content:Object(M.jsx)(o.h,{$align:"justify",$block:!0,style:{width:250},children:Object(M.jsx)(te.a,{i18nKey:"employees.drawer.salaries.charges_description",components:[Object(M.jsx)("br",{}),Object(M.jsx)(o.h,{$semibold:!0})]})}),children:Object(M.jsx)(o.d,{as:ae.a})})]}),children:Object(M.jsxs)(le.a.Compact,{block:!0,children:[Object(M.jsx)(c.a.Item,{name:"percentage",noStyle:!0,initialValue:0,children:Object(M.jsxs)(re.a,{size:n?"large":"middle",style:{width:70},disabled:"co"===a,getPopupContainer:e=>e.parentElement||document.body,children:[Object(M.jsx)(re.a.Option,{value:0,children:Object(d.h)()}),Object(M.jsx)(re.a.Option,{value:1,children:"%"})]})}),Object(M.jsx)(c.a.Item,{name:"taxes",noStyle:!0,initialValue:0,children:Object(M.jsx)(de.a,{size:n?"large":"middle",disabled:"co"===a,style:{width:"calc(100% - 70px)"},className:"hide-number-button",min:0,formatter:e=>Object(d.s)(e),parser:d.t})})]})})}})}),Object(M.jsx)(ce.a,{xs:24,md:12,children:Object(M.jsx)(c.a.Item,{name:"payment_id",label:Object(i.b)("words.payment_type"),rules:[{required:!0,message:Object(i.b)("words.required")}],children:Object(M.jsx)(be.a,{onChange:(e,t)=>{const s=t.item;s&&a({account_id:s.account_id})},size:n?"large":"middle"})})}),Object(M.jsx)(ce.a,{xs:24,md:12,children:Object(M.jsx)(c.a.Item,{name:"account_id",label:Object(i.b)("words.account"),rules:[{required:!0,message:Object(i.b)("words.required")}],children:Object(M.jsx)(ue.a,{placeholder:Object(i.b)("words.account"),size:n?"large":"middle"})})}),Object(M.jsx)(ce.a,{span:24,children:Object(M.jsx)(c.a.Item,{name:"chart_id",label:Object(i.b)("words.category"),rules:[{required:!0,message:Object(i.b)("words.required")}],children:Object(M.jsx)(je.a,{defaultOption:t?"ProLabore":"Salary",placeholder:Object(i.b)("words.category"),size:n?"large":"middle"})})}),Object(M.jsx)(ce.a,{span:24,children:Object(M.jsx)(c.a.Item,{name:"historical",label:Object(i.b)("words.observation",{count:2}),children:Object(M.jsx)(ie.a.TextArea,{placeholder:Object(i.b)("words.observation",{count:2}),autoSize:{minRows:3,maxRows:5},maxLength:255,size:n?"large":"middle"})})})]})};pe.displayName="SalaryForm";var he=pe,Oe=a(581);const _e=(e,t)=>{let{onSave:a}=e;const[n,r]=Object(s.useState)(),[d,b]=Object(s.useState)(!1),[j,m]=Object(s.useState)(),[p,h]=Object(s.useState)(!1),O=Object(v.a)((e=>e.is_mobile)),_=Object(v.a)((e=>e.current_user.permissions)),[x]=c.a.useForm(),{resetFields:g,setFieldsValue:f,submit:w}=x,k=Object(s.useRef)(null),C=Object(s.useCallback)((()=>{var e;_.can_access_cash_accounting?null===(e=k.current)||void 0===e||e.open():l.b.warning(Object(i.b)("phrases.no_permission_to_do_this"))}),[_.can_access_cash_accounting]),{loading:I,error:A}=ee({visible:d,id:n,onCompleted:e=>{const{date:t,percentage:a,...s}=e,i={...s,percentage:a?1:0,date:t?u()(t):void 0};f(i)}}),[S,{loading:$}]=K({openCashAccounting:C}),E=Object(s.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t,employee_id:a,is_owner:s}=e;r(t),m(a),s&&h(s),b(!0)}),[]),F=Object(s.useCallback)((()=>{b(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:E,close:F})));const D=Object(s.useCallback)((e=>{e||(g(),r(void 0),m(void 0),h(!1))}),[g]),z=Object(s.useMemo)((()=>`${n?Object(i.b)("verbs.editing"):Object(i.b)("words.new")} ${Object(i.b)("words.item").toLocaleLowerCase()}`),[n]);return Object(M.jsxs)(o.a,{open:d,title:z,width:480,onClose:F,closable:!0,destroyOnClose:!0,afterOpenChange:D,height:"100%",push:!1,placement:O?"bottom":"right",footer:Object(M.jsx)(Oe.a,{close:F,submit:w,loading:I||$,disabled:!!A}),children:[Object(M.jsxs)(ve,{children:[Object(M.jsx)(y.a,{loading:I||$}),Object(M.jsx)(B.a,{visible:!!A,small:!0,children:Object(M.jsx)(c.a,{form:x,layout:"vertical",onFinish:async e=>{let{date:t,percentage:s,...c}=e;const n={...c,date:t?t.format("YYYY-MM-DD"):void 0,percentage:!!s,employee_id:j},r="co"===c.kind?Object(i.b)("words.commission"):p?Object(i.b)("words.pro_labore"):Object(i.b)("words.salary"),{success:o}=await S(n);o&&(l.b.success(Object(i.b)("phrases.saved_successfully",{prefix:r})),F(),null===a||void 0===a||a())},children:Object(M.jsx)(he,{is_owner:p,setFieldsValue:f})})})]}),Object(M.jsx)(J.a,{ref:k})]})};_e.displayName="SalaryDrawer";var xe=Object(s.forwardRef)(_e);const ve=U.d.div.withConfig({componentId:"wb__sc-dav4uy-0"})(["position:relative;height:100%;"]),ge=p.e`
  mutation SalariesDrawerDestroySalary($data: DestroySalaryInput!) {
    destroySalary(input: $data) {
      success errors
    }
  }
`;var ye=()=>{const[e,{loading:t}]=Object(f.a)(ge),a=Object(s.useCallback)((async t=>{const a=l.b.loading(`${Object(i.b)("verbs.wait")}...`,0);try{const{data:s}=await e({variables:{data:{id:t}}}),{success:i=!1,errors:c=[]}=(null===s||void 0===s?void 0:s.destroySalary)||{};return null===c||void 0===c||c.map((e=>l.b.error(e))),{success:i}}catch(s){return O.a.captureException(s),l.b.error(Object(i.b)("phrases.generic_delete_error_message")),console.error(s),{success:!1}}finally{a()}}),[e]);return[a,t]};const fe=p.e`
  query SalariesDrawer($id: ID, $page: Int, $results: Int, $sort_field: String, $sort_order: String) {
    employee(id: $id) {
      id owner
      salaries(page: $page, results: $results, sort_field: $sort_field, sort_order: $sort_order) {
        all {
          id date kind value_cents historical status
        }
        total_count
      }
    }
  }
`;var we=e=>Object(h.f)(fe,{skip:!e.id,variables:e,fetchPolicy:"network-only",onError:e=>{O.a.captureException(e),console.log(e)}});const ke=Object(s.lazy)((()=>Object(R.a)((()=>a.e(169).then(a.bind(null,3098)))))),Ce=Object(s.lazy)((()=>Object(R.a)((()=>a.e(170).then(a.bind(null,3099)))))),Ie=e=>Object(M.jsx)(P.a,{Desktop:ke,Mobile:Ce,...e});Ie.displayName="Table";var Ae=Ie;const Se=(e,t)=>{const[a,i]=Object(s.useState)(1),[c,n]=Object(s.useState)(25),[r,d]=Object(s.useState)(!1),[b,u]=Object(s.useState)(),[j,m]=Object(s.useState)("DESC"),[p,h]=Object(s.useState)("date"),O=Object(v.a)((e=>e.is_mobile)),_=Object(v.a)((e=>e.current_user.permissions)),{t:x}=Object(te.c)(),g=Object(s.useRef)(null),{data:y,loading:f,error:w,refetch:k}=we({id:b,page:a,results:c,sort_order:j,sort_field:p}),[C]=ye(),I=Object(s.useCallback)((e=>{u(e),d(!0)}),[]),A=Object(s.useCallback)((()=>{d(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:I,close:A})));const S=Object(s.useCallback)((e=>{e||u(void 0)}),[]),$=(null===y||void 0===y?void 0:y.employee.salaries.all)||[],F=(null===y||void 0===y?void 0:y.employee.salaries.total_count)||0,D=null===y||void 0===y?void 0:y.employee.owner,N=Object(s.useCallback)((e=>{var t;_.can_edit_salary?null===(t=g.current)||void 0===t||t.open({id:e,employee_id:b,is_owner:D}):l.b.warning(x("phrases.no_permission_to_do_this"))}),[b,D,_.can_edit_salary,x]);return Object(M.jsxs)(o.b,{open:r,title:`${x("words.commission",{count:2})}/${x("words.salary",{count:2})}`,onClose:A,closable:!0,destroyOnClose:!0,width:1024,afterOpenChange:S,height:"100%",push:!1,placement:O?"bottom":"right",footer:Object(M.jsx)(z.a,{loading:f,page:a,results:c,total:F,handleChangePagination:(e,t)=>{i(e),t&&n(t)},close:A,openDrawer:()=>{var e;_.can_create_salary?null===(e=g.current)||void 0===e||e.open({employee_id:b,is_owner:D}):l.b.warning(x("phrases.no_permission_to_do_this"))}}),children:[Object(M.jsxs)(Ee,{children:[Object(M.jsx)(B.a,{visible:!!w,small:O}),Object(M.jsx)(E.c,{style:{marginTop:0},has_permission:_.can_access_salary,children:Object(M.jsx)(Ae,{salaries:$,loading:f,openSalaryDrawer:N,handleDestroySalary:async e=>{if(!_.can_destroy_salary)return void l.b.warning(x("phrases.no_permission_to_do_this"));const{success:t}=await C(e);t&&(l.b.success(x("phrases.deleted_successfully",{prefix:x("words.item")})),k())},handleChangeTable:(e,t,a,s)=>{"sort"===s.action&&(Array.isArray(a)||("ascend"===a.order?m("ASC"):"descend"===a.order?m("DESC"):m(void 0),Array.isArray(a.field)||h(a.field)))}})})]}),Object(M.jsx)(xe,{onSave:k,ref:g})]})};Se.displayName="SalariesDrawer";var $e=Object(s.forwardRef)(Se);const Ee=U.d.div.withConfig({componentId:"wb__sc-ihdus3-0"})(["position:relative;height:100%;"]);var Fe=a(2989),De=a(1810),ze=a(3023),Ne=a(1814);const qe=p.e`
  query PermissionsDrawer($id: ID!) {
    user(id: $id) {
      id
      current_access_rule_user_salon {
        id
        can_access_bill_pay can_create_bill_pay can_edit_bill_pay can_destroy_bill_pay
        can_access_cash_accounting can_access_finance
        can_access_bill_rec can_create_bill_rec can_edit_bill_rec can_destroy_bill_rec
        can_access_transfer can_create_transfer can_destroy_transfer can_edit_transfer
        can_access_advance can_create_advance can_edit_advance can_destroy_advance
      }
    }
  }
`;var Be=e=>{let{id:t,onCompleted:a}=e;return Object(h.f)(qe,{skip:!t,variables:{id:t},fetchPolicy:"network-only",onCompleted:e=>a(e.user.current_access_rule_user_salon),onError:e=>{O.a.captureException(e),console.log({error:e})}})};const Pe=p.e`
  mutation PermissionsDrawerSave ($data: AccessRule_UserSalon_SaveInput!) {
    accessRuleUserSalonSave(input: $data) {
      success errors
    }
  }
`;var Re=()=>{const[e,{loading:t}]=Object(f.a)(Pe);return[async t=>{try{const{data:a}=await e({variables:{data:t}}),{success:s=!1,errors:i=[]}=(null===a||void 0===a?void 0:a.accessRuleUserSalonSave)||{};return null===i||void 0===i||i.forEach((e=>l.b.error(e))),{success:s}}catch(a){return O.a.captureException(a),l.b.error("N\xe3o foi poss\xedvel salvar as permiss\xf5es. Atualize a p\xe1gina e tente novamente. Se o erro persistir entre em contato."),console.error(a),{success:!1}}},{loading:t}]},Me=a(342);const Te=e=>{let{title:t,description:a,is_new:s}=e;const c=Object(U.f)();return Object(M.jsx)(Fe.a.Item.Meta,{title:s?Object(M.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[t,Object(M.jsx)(Me.a,{color:c.colors.primary,children:Object(i.b)("words.new")})]}):t,description:a})};Te.displayName="OptionDescription";var Le=Object(s.memo)(Te);var Ve=[{title:Object(i.b)("words.expense",{count:2}),description:Object(i.b)("permissions.expenses_description"),options:["can_access_bill_pay","can_create_bill_pay","can_edit_bill_pay","can_destroy_bill_pay"]},{title:Object(i.b)("finance.cash_account.closing"),description:Object(i.b)("permissions.closing_cache_account_description"),options:["can_access_cash_accounting"]},{title:Object(i.b)("permissions.financial_panel"),description:Object(i.b)("permissions.financial_description"),options:["can_access_finance"]},{title:Object(i.b)("words.receipt",{count:2}),description:Object(i.b)("permissions.receipts_description"),options:["can_access_bill_rec","can_create_bill_rec","can_edit_bill_rec","can_destroy_bill_rec"]},{title:Object(i.b)("words.transfer",{count:2}),description:Object(i.b)("permissions.transfers_description"),options:["can_access_transfer","can_create_transfer","can_edit_transfer","can_destroy_transfer"]},{title:Object(i.b)("words.advance",{count:2}),description:Object(i.b)("permissions.advances_description"),options:["can_access_advance","can_create_advance","can_edit_advance","can_destroy_advance"]}];const He=(e,t)=>{const a=Object(v.a)((e=>e.is_mobile)),[n,r]=Object(s.useState)(),[d,b]=Object(s.useState)(!1),[u]=c.a.useForm(),{setFieldsValue:j,submit:m,resetFields:p}=u,h=Object(s.useCallback)((e=>{j(e)}),[j]),{loading:O,error:_}=Be({id:n,onCompleted:h}),x=Object(s.useCallback)((e=>{r(e),b(!0)}),[]),g=Object(s.useCallback)((()=>{b(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:x,close:g})));const[y,{loading:f}]=Re(),w=Object(s.useCallback)((async e=>{const{success:t}=await y(e);t&&(l.b.success(Object(i.b)("phrases.saved_successfully",{prefix:Object(i.b)("words.permission",{count:2}),context:"female",count:2})),g())}),[g,y]),k=Object(s.useCallback)((e=>{e||(p(),r(void 0))}),[p]);return Object(M.jsx)(o.a,{open:d,title:Object(i.b)("permissions.financial_title"),width:800,onClose:g,closable:!0,destroyOnClose:!0,afterOpenChange:k,height:"100%",push:!1,placement:a?"bottom":"right",footer:Object(M.jsx)(Oe.a,{close:g,submit:m,loading:O||f,disabled:!!_}),children:Object(M.jsx)(Ge,{children:Object(M.jsx)(c.a,{form:u,onFinish:w,children:Object(M.jsxs)(B.a,{visible:!!_,small:a,children:[Object(M.jsx)(c.a.Item,{name:"id",noStyle:!0,children:Object(M.jsx)(ie.a,{type:"hidden"})}),Object(M.jsx)(Fe.a,{itemLayout:"horizontal",loading:O||f,dataSource:Ve,renderItem:e=>Object(M.jsx)(Ye,{actions:[Object(M.jsx)(at,{options:e.options,is_only_admin:!1,disabled:!1},`options-${e.title}`)],children:Object(M.jsx)(Le,{is_new:e.is_new,title:e.title,description:e.description})})})]})})})})};He.displayName="FinancialPermissionsDrawer";var Ue=Object(s.forwardRef)(He);const Ge=U.d.div.withConfig({componentId:"wb__sc-r9v58h-0"})(["position:relative;"]),Ye=Object(U.d)(Fe.a.Item).withConfig({componentId:"wb__sc-r9v58h-1"})(["padding:12px 0;@media (max-width:576px){display:block !important;padding:12px 0;.ant-list-item-action{margin-top:8px;margin-left:0;li{padding-right:0;width:100%;overflow:hidden;}}}"]),Qe=p.e`
  query PermissionsDrawer($id: ID!) {
    user(id: $id) {
      id
      current_access_rule_user_salon {
        id can_access_reports_financial can_access_reports_calendars can_access_reports_clients can_access_reports_sales
        can_access_reports_inventory can_access_reports_nf can_access_reports_ranking can_access_reports_messages
      }
    }
  }
`;var Je=e=>{let{id:t,onCompleted:a}=e;return Object(h.f)(Qe,{skip:!t,variables:{id:t},fetchPolicy:"network-only",onCompleted:e=>a(e.user.current_access_rule_user_salon),onError:e=>{O.a.captureException(e),console.log({error:e})}})};var We=[{title:Object(i.b)("words.financial"),description:Object(i.b)("permissions.reports_description_financial"),options:["can_access_reports_financial"]},{title:Object(i.b)("words.scheduling_other"),description:Object(i.b)("permissions.reports_description_custom",{report:Object(i.b)("words.scheduling_other").toLocaleLowerCase()}),options:["can_access_reports_calendars"]},{title:Object(i.b)("words.client_other"),description:Object(i.b)("permissions.reports_description_custom",{report:Object(i.b)("words.client_other").toLocaleLowerCase()}),options:["can_access_reports_clients"]},{title:Object(i.b)("reports.sale_other"),description:Object(i.b)("permissions.reports_description_custom",{report:Object(i.b)("reports.sale_other").toLocaleLowerCase()}),options:["can_access_reports_sales"]},{title:Object(i.b)("words.inventory"),description:Object(i.b)("permissions.reports_description_custom",{report:Object(i.b)("words.inventory").toLocaleLowerCase()}),options:["can_access_reports_inventory"]},{title:Object(i.b)("words.invoice_other"),description:Object(i.b)("permissions.reports_description_custom",{report:Object(i.b)("words.invoice_other").toLocaleLowerCase()}),options:["can_access_reports_nf"]},{title:Object(i.b)("words.ranking"),description:Object(i.b)("permissions.reports_description_custom",{report:Object(i.b)("words.ranking").toLocaleLowerCase()}),options:["can_access_reports_ranking"]},{title:Object(i.b)("words.message_other"),description:Object(i.b)("permissions.reports_description_custom",{report:Object(i.b)("words.message_other").toLocaleLowerCase()}),options:["can_access_reports_messages"]}];const Ze=(e,t)=>{const a=Object(v.a)((e=>e.is_mobile)),[n,r]=Object(s.useState)(),[d,b]=Object(s.useState)(!1),[u]=c.a.useForm(),{setFieldsValue:j,submit:m,resetFields:p}=u,h=Object(s.useCallback)((e=>{j(e)}),[j]),{loading:O,error:_}=Je({id:n,onCompleted:h}),x=Object(s.useCallback)((e=>{r(e),b(!0)}),[]),g=Object(s.useCallback)((()=>{b(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:x,close:g})));const[y,{loading:f}]=Re(),w=Object(s.useCallback)((async e=>{const{success:t}=await y(e);t&&(l.b.success(Object(i.b)("phrases.saved_successfully",{prefix:Object(i.b)("words.permission",{count:2}),context:"female",count:2})),g())}),[g,y]),k=Object(s.useCallback)((e=>{e||(p(),r(void 0))}),[p]);return Object(M.jsx)(o.a,{open:d,title:Object(i.b)("permissions.reports_title"),width:600,onClose:g,closable:!0,destroyOnClose:!0,afterOpenChange:k,height:"100%",push:!1,placement:a?"bottom":"right",footer:Object(M.jsx)(Oe.a,{close:g,submit:m,loading:O||f,disabled:!!_}),children:Object(M.jsx)(Xe,{children:Object(M.jsx)(c.a,{form:u,onFinish:w,children:Object(M.jsxs)(B.a,{visible:!!_,small:a,children:[Object(M.jsx)(c.a.Item,{name:"id",noStyle:!0,children:Object(M.jsx)(ie.a,{type:"hidden"})}),Object(M.jsx)(Fe.a,{itemLayout:"horizontal",loading:O||f,dataSource:We,renderItem:e=>Object(M.jsx)(et,{actions:[Object(M.jsx)(at,{options:e.options,is_only_admin:!1,disabled:!1},`options-${e.title}`)],children:Object(M.jsx)(Le,{is_new:e.is_new,title:e.title,description:e.description})})})]})})})})};Ze.displayName="ReportsPermissionsDrawer";var Ke=Object(s.forwardRef)(Ze);const Xe=U.d.div.withConfig({componentId:"wb__sc-tuh0bq-0"})(["position:relative;"]),et=Object(U.d)(Fe.a.Item).withConfig({componentId:"wb__sc-tuh0bq-1"})(["padding:12px 0;@media (max-width:576px){display:block !important;padding:12px 0;.ant-list-item-action{margin-top:8px;margin-left:0;li{padding-right:0;width:100%;overflow:hidden;}}}"]),tt=e=>{let{user_id:t,options:a,is_only_admin:n,disabled:r,handleChangePermission:o}=e;const l=Object(s.useRef)(null),d=Object(s.useRef)(null),b=Object(s.useCallback)((e=>"can_access_all_notifications"===e?Object(M.jsx)(De.a.Group,{options:[{label:Object(i.b)("permissions.all"),value:!0},{label:Object(i.b)("permissions.only_yours"),value:!1}],optionType:"button",buttonStyle:"solid"}):"can_access_all_goal"===e?Object(M.jsx)(De.a.Group,{options:[{label:Object(i.b)("permissions.access_all"),value:!0},{label:Object(i.b)("permissions.only_yours"),value:!1}],optionType:"button",buttonStyle:"solid"}):"customize_financial"===e?Object(M.jsx)(it,{disabled:r,onClick:()=>{var e;return null===(e=l.current)||void 0===e?void 0:e.open(t)},children:Object(i.b)("verbs.personalize")}):"customize_reports"===e?Object(M.jsx)(it,{disabled:r,onClick:()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.open(t)},children:Object(i.b)("verbs.personalize")}):e.includes("can_access_client_phone")?Object(M.jsx)(it,{disabled:n||r,style:{width:150},children:Object(i.b)("permissions.see_phone")}):e.includes("can_access_client_annotations")?Object(M.jsx)(it,{disabled:n||r,style:{width:120},children:Object(i.b)("words.annotation_other")}):e.includes("can_edit_client_credits")?Object(M.jsx)(it,{disabled:n||r,style:{width:120},children:Object(i.b)("permissions.edit_credit")}):e.includes("can_access_finished")?Object(M.jsx)(it,{disabled:n||r,style:{width:132},children:Object(i.b)("permissions.view_invoices")}):e.includes("can_edit_assistants")?Object(M.jsx)(it,{disabled:n||r,style:{width:132},children:Object(i.b)("permissions.can_edit_assistants")}):e.includes("can_access_all_calendars")||e.includes("can_access_all_commissions")||e.includes("can_access_all_reviews")?Object(M.jsx)(it,{disabled:n||r,style:{width:132},children:Object(i.b)("permissions.see_all")}):"can_access_total_of_sales"===e?Object(M.jsx)(it,{disabled:n||r,style:{width:132},children:Object(i.b)("permissions.show_all")}):e.includes("can_pay")?Object(M.jsx)(it,{disabled:n||r,children:Object(i.b)("verbs.pay")}):e.includes("can_access")?Object(M.jsx)(it,{disabled:n||r,children:Object(i.b)("verbs.access")}):e.includes("can_create")?Object(M.jsx)(it,{disabled:n||r,children:Object(i.b)("verbs.create")}):e.includes("can_edit")?Object(M.jsx)(it,{disabled:n||r,children:Object(i.b)("verbs.edit")}):e.includes("can_destroy")?Object(M.jsx)(it,{disabled:n||r,children:Object(i.b)("verbs.delete")}):"view_self_calendar_only"===e||"is_admin"===e?Object(M.jsx)(ze.a,{onChange:t=>null===o||void 0===o?void 0:o(t,e),disabled:n}):null),[r,o,n,t]);return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(st,{children:a.map(((e,t)=>{const a=!!["customize_reports","customize_financial"].includes(e);return Object(M.jsx)(c.a.Item,{noStyle:!0,name:a?void 0:e,valuePropName:["can_access_all_notifications","can_access_all_goal"].includes(e)?void 0:"checked",children:b(e)},`key-${e}-${t}`)}))}),Object(M.jsx)(Ue,{ref:l}),Object(M.jsx)(Ke,{ref:d})]})};var at=Object(s.memo)(tt);const st=U.d.div.withConfig({componentId:"wb__sc-137nkvf-0"})(["text-align:right;",";&:not(:first-child){padding-top:10px;}& > .ant-checkbox-wrapper:not(:first-child){margin-left:-1px;}& > .ant-checkbox-wrapper.ant-checkbox-wrapper-checked{border-left:1px solid #b8bffa;border-right:1px solid #b8bffa;}& > .ant-checkbox-wrapper.ant-checkbox-wrapper-checked:hover{border-left:1px solid #b8bffa;border-right:1px solid #b8bffa;}& > .ant-checkbox-wrapper:first-child{border-top-left-radius:5px;border-bottom-left-radius:5px;}& > .ant-checkbox-wrapper:last-child{border-top-right-radius:5px;border-bottom-right-radius:5px;}"],(e=>e.theme.is_mobile&&Object(U.c)(["display:flex;min-width:295px;text-align:left;.ant-radio-group{display:flex;text-align:left;width:100%;.ant-radio-button-wrapper{padding:4px 8px !important;width:100%;display:flex;justify-content:center;align-items:center;}}.ant-checkbox-wrapper{padding:4px 8px !important;width:100%;}"]))),it=Object(U.d)(Ne.a).withConfig({componentId:"wb__sc-137nkvf-1"})([".ant-checkbox{display:none;}.ant-checkbox + span{padding:0;}line-height:1.5715;position:relative;font-weight:400;white-space:nowrap;background-image:none;border:1px solid transparent;box-shadow:0 2px 0 rgba(0,0,0,0.015);cursor:pointer;transition:all 0.3s cubic-bezier(0.645,0.045,0.355,1);-webkit-user-select:none;user-select:none;touch-action:manipulation;height:32px;padding:4px 15px !important;font-size:14rem;color:rgba(0,0,0,0.85);background:#fff;border-color:#d9d9d9;justify-content:center;&:hover{color:#7a88ff;background:#fff;border-color:#7a88ff;z-index:1;}&.ant-checkbox-wrapper-checked{color:#fff;background:",";border-color:",";text-shadow:0 -1px 0 rgba(0,0,0,0.12);box-shadow:0 2px 0 rgba(0,0,0,0.045);&:hover{color:#fff;background:#7a88ff;border-color:#7a88ff;}}&.ant-checkbox-wrapper-disabled{transition:color 0.3s cubic-bezier(0.645,0.045,0.355,1);color:rgba(0,0,0,0.25);background:#f5f5f5;border-color:#d9d9d9 !important;text-shadow:none;box-shadow:none;&:hover{background:#f5f5f5;border-left:1px solid #d9d9d9;border-right:1px solid #d9d9d9;border-color:#d9d9d9;}}"],(e=>e.theme.color_primary),(e=>e.theme.color_primary));var ct=[{title:Object(i.b)("permissions.owner"),description:Object(i.b)("permissions.owner_description"),options:["is_admin"]},{title:Object(i.b)("words.schedule"),description:Object(i.b)("permissions.schedule_description"),options:["can_access_calendar","can_create_calendar","can_edit_calendar","can_destroy_calendar"],extras:["can_access_all_calendars"]},{title:Object(i.b)("words.anamnesi",{count:2}),description:Object(i.b)("permissions.anamnesis_description"),options:["can_access_anamnesis","can_create_anamnesis","can_edit_anamnesis","can_destroy_anamnesis"]},{title:Object(i.b)("words.review",{count:2}),description:Object(i.b)("permissions.reviews_description"),options:["can_access_reviews"],extras:["can_access_all_reviews"]},{title:Object(i.b)("words.campaign",{count:2}),description:Object(i.b)("permissions.campaign_description"),options:["can_access_campaign","can_create_campaign","can_edit_campaign","can_destroy_campaign"]},{title:Object(i.b)("words.client",{count:2}),description:Object(i.b)("permissions.clients_description"),options:["can_access_client","can_create_client","can_edit_client","can_destroy_client"],extras:["can_access_client_phone","can_access_client_annotations","can_edit_client_credits"]},{title:Object(i.b)("words.sale",{count:2}),description:Object(i.b)("permissions.sales_description"),options:["can_access_sale","can_create_sale","can_edit_sale","can_destroy_sale"],extras:["can_access_finished_sale","can_edit_assistants"]},{title:Object(i.b)("words.commission",{count:2}),description:Object(i.b)("permissions.commissions_description"),options:["can_access_commission","can_pay_commission","can_edit_commission","can_destroy_commission"],extras:["can_access_all_commissions"]},{title:Object(i.b)("words.purchase",{count:2}),description:Object(i.b)("permissions.purchases_description"),options:["can_access_purchase","can_create_purchase","can_edit_purchase","can_destroy_purchase"]},{title:Object(i.b)("words.financial"),description:Object(i.b)("permissions.financial_title"),options:["customize_financial"]},{title:Object(i.b)("words.vendor",{count:2}),description:Object(i.b)("permissions.vendors_description"),options:["can_access_vendor","can_create_vendor","can_edit_vendor","can_destroy_vendor"]},{title:Object(i.b)("words.goal",{count:2}),description:Object(i.b)("permissions.goals_description"),options:["can_access_goal","can_create_goal","can_edit_goal","can_destroy_goal"],extras:["can_access_all_goal"]},{title:Object(i.b)("words.notification",{count:2}),description:Object(i.b)("permissions.notifications_description"),options:["can_access_all_notifications"]},{title:Object(i.b)("words.invoice",{count:2}),description:Object(i.b)("permissions.invoices_description"),options:["can_access_invoice","can_create_invoice","can_edit_invoice","can_destroy_invoice"]},{title:Object(i.b)("words.package",{count:2}),description:Object(i.b)("permissions.packages_description"),options:["can_access_package","can_create_package","can_edit_package","can_destroy_package"]},{title:`${Object(i.b)("words.product",{count:2})}/${Object(i.b)("words.service",{count:2})}`,description:Object(i.b)("permissions.proserv_description"),options:["can_access_product","can_create_product","can_edit_product","can_destroy_product"]},{title:Object(i.b)("words.promotion",{count:2}),description:Object(i.b)("permissions.promotions_description"),options:["can_access_promotion","can_create_promotion","can_edit_promotion","can_destroy_promotion"]},{title:Object(i.b)("words.employee",{count:2}),description:Object(i.b)("permissions.employees_description"),options:["can_access_employee","can_create_employee","can_edit_employee","can_destroy_employee"]},{title:Object(i.b)("words.report",{count:2}),description:Object(i.b)("permissions.reports_description"),options:["customize_reports"]},{title:Object(i.b)("words.salary",{count:2}),description:Object(i.b)("permissions.salaries_description"),options:["can_access_salary","can_create_salary","can_edit_salary","can_destroy_salary"]},{title:Object(i.b)("words.whatsapp_marketing"),description:Object(i.b)("permissions.whatsapp_marketing_description"),options:["can_access_whatsapp_marketing","can_edit_whatsapp_marketing"]},{title:Object(i.b)("phrases.subscription_sale"),description:Object(i.b)("permissions.customer_subscription_template_description"),options:["can_access_subscription_template","can_create_subscription_template","can_edit_subscription_template","can_destroy_subscription_template"]}];const nt=p.e`
  query PermissionsDrawer($id: ID!) {
    user(id: $id) {
      id
      current_access_rule_user_salon {
        id can_access_calendar can_access_campaign can_access_client can_access_commission can_access_employee
        can_access_finished_sale can_edit_assistants can_access_package can_access_product can_access_purchase
        can_access_salary can_access_sale can_access_vendor can_create_calendar can_create_campaign
        can_create_client can_create_employee can_create_package can_create_product can_create_purchase
        can_create_salary can_create_sale can_create_vendor can_destroy_calendar can_destroy_campaign
        can_destroy_client can_destroy_commission can_destroy_employee can_destroy_package can_destroy_product
        can_destroy_purchase can_destroy_salary can_destroy_sale can_destroy_vendor can_edit_calendar can_edit_campaign
        can_edit_client can_edit_commission can_edit_employee can_edit_package can_edit_product can_edit_purchase
        can_edit_salary can_edit_sale can_edit_vendor can_pay_commission can_access_total_of_sales
        is_admin view_self_calendar_only can_access_reviews can_access_all_calendars is_only_admin
        can_access_client_phone can_access_all_commissions can_access_all_notifications can_access_goal
        can_create_goal can_edit_goal can_destroy_goal can_access_all_goal can_access_anamnesis can_create_anamnesis
        can_edit_anamnesis can_destroy_anamnesis can_access_client_annotations can_access_invoice can_create_invoice
        can_edit_invoice can_destroy_invoice can_access_promotion can_create_promotion can_edit_promotion
        can_destroy_promotion can_access_whatsapp_marketing can_edit_whatsapp_marketing can_edit_client_credits
        can_access_subscription_template can_create_subscription_template can_edit_subscription_template
        can_destroy_subscription_template can_access_all_reviews
      }
    }
  }
`;var rt=e=>{let{id:t,onCompleted:a}=e;return Object(h.f)(nt,{skip:!t,variables:{id:t},fetchPolicy:"network-only",onCompleted:e=>a(e.user.current_access_rule_user_salon),onError:e=>{O.a.captureException(e),console.log({error:e})}})};const ot=(e,t)=>{var a;const n=Object(v.a)((e=>e.is_mobile)),[r,d]=Object(s.useState)(),[b,u]=Object(s.useState)(!1),[j,m]=Object(s.useState)(!1),[p,h]=Object(s.useState)(!1),[O]=c.a.useForm(),{setFieldsValue:_,submit:x,resetFields:g}=O,y=Object(s.useCallback)((e=>{const{is_only_admin:t,...a}=e;_(a),m(a.is_admin),h(a.view_self_calendar_only)}),[_]),{loading:f,data:w,error:k}=rt({id:r,onCompleted:y}),C=Object(s.useCallback)((e=>{d(e),u(!0)}),[]),I=Object(s.useCallback)((()=>{u(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:C,close:I})));const[A,{loading:S}]=Re(),$=Object(s.useCallback)((async e=>{const{success:t}=await A(e);t&&(l.b.success(Object(i.b)("phrases.saved_successfully",{prefix:Object(i.b)("words.permission",{count:2}),context:"female",count:2})),I())}),[I,A]),E=Object(s.useCallback)(((e,t)=>{if("is_admin"===t)return m(e),void(e&&(_({view_self_calendar_only:!1}),_({can_access_all_notifications:!0}),_({can_access_all_goal:!0}),h(!1)));h(e),e&&(_({is_admin:!1}),m(!1))}),[_]),F=Object(s.useCallback)((e=>{e||(g(),d(void 0))}),[g]),D=null===(a=null===w||void 0===w?void 0:w.user.current_access_rule_user_salon.is_only_admin)||void 0===a||a;return Object(M.jsx)(o.a,{open:b,title:Object(i.b)("words.permission",{count:2}),width:1024,onClose:I,closable:!0,destroyOnClose:!0,afterOpenChange:F,height:"100%",push:!1,placement:n?"bottom":"right",footer:Object(M.jsx)(Oe.a,{close:I,submit:x,loading:f||S,disabled:!!k}),children:Object(M.jsx)(dt,{children:Object(M.jsx)(c.a,{form:O,onFinish:$,children:Object(M.jsxs)(B.a,{visible:!!k,small:n,children:[Object(M.jsx)(c.a.Item,{name:"id",noStyle:!0,children:Object(M.jsx)(ie.a,{type:"hidden"})}),Object(M.jsx)(Fe.a,{itemLayout:"horizontal",loading:f||S,dataSource:ct,renderItem:e=>Object(M.jsx)(bt,{actions:[Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(at,{user_id:r,options:e.options,is_only_admin:D,disabled:j||p,handleChangePermission:E},`options-${e.title}`),!!e.extras&&Object(M.jsx)(at,{user_id:r,options:e.extras,is_only_admin:D,disabled:j||p,handleChangePermission:E},`extras-${e.title}`)]})],children:Object(M.jsx)(Le,{is_new:e.is_new,title:e.title,description:e.description})})})]})})})})};ot.displayName="PermissionsDrawer";var lt=Object(s.forwardRef)(ot);const dt=U.d.div.withConfig({componentId:"wb__sc-o220fi-0"})(["position:relative;"]),bt=Object(U.d)(Fe.a.Item).withConfig({componentId:"wb__sc-o220fi-1"})(["padding:12px 0;@media (max-width:576px){display:block !important;padding:12px 0;.ant-list-item-action{margin-top:8px;margin-inline-start:0 !important;li{padding-right:0;width:100%;overflow:hidden;}}}"]);var ut=a(159),jt=a(3001);const mt=(e,t)=>{const{onImport:a}=e,[c,n]=Object(s.useState)(!1),r=Object(v.a)((e=>e.inventory_products)),l=Object(v.a)((e=>e.inventory_groups)),d=Object(s.useMemo)((()=>r.filter((e=>e.active&&e.is_service)).reduce(((e,t)=>{if(!t.group_id)return e;const a=l.find((e=>e.id===t.group_id));return a?((e[a.name]=e[a.name]||[]).push(t),e):e}),{})),[l,r]),b=()=>{n(!0)},u=()=>{n(!1)};return Object(s.useImperativeHandle)(t,(()=>({close:u,open:b}))),Object(M.jsx)(o.b,{open:c,width:500,title:Object(i.b)("phrases.import_services"),onClose:u,push:!1,children:Object.entries(d).map((e=>{let[t,s]=e;return Object(M.jsxs)(ht,{children:[Object(M.jsx)(o.h,{$semibold:!0,$block:!0,$size:16,$textEllipsis:!0,children:t}),Object(M.jsx)(jt.a,{title:Object(M.jsx)(te.a,{i18nKey:"employees.drawer.product_personalization.import_confirmation",components:[Object(M.jsx)("strong",{})],values:{count:s.length}}),onConfirm:()=>{a(s),u()},okText:Object(i.b)("words.yes"),children:Object(M.jsxs)(ut.a,{type:"primary",children:[Object(i.b)("verbs.import"),"\xa0",s.length,"\xa0",Object(i.b)("words.service",{count:s.length}).toLocaleLowerCase()]})})]},t)}))})};mt.displayName="ImportServicesDrawer";var pt=Object(s.forwardRef)(mt);const ht=U.d.div.withConfig({componentId:"wb__sc-1jie8m5-0"})(["padding:15px;border-bottom:1px solid rgba(0,0,0,0.05);display:flex;flex-direction:row;justify-content:space-between;"]);var Ot=a(3034),_t=a(2854),xt=a(652),vt=a(622);const gt=e=>{const t=Object(v.a)((e=>e.is_mobile)),{field:a,last_item:s,add:n,destroy:r,container:l,setFieldsValue:b,getFieldValue:u}=e;return Object(M.jsxs)(ft,{gutter:4,children:[Object(M.jsx)(c.a.Item,{noStyle:!0,name:[a.name,"id"],children:Object(M.jsx)(ie.a,{type:"hidden"})}),Object(M.jsx)(c.a.Item,{noStyle:!0,name:[a.name,"_destroy"],children:Object(M.jsx)(ie.a,{type:"hidden"})}),Object(M.jsx)(ce.a,{xs:24,sm:6,children:Object(M.jsx)(c.a.Item,{required:!1,label:Object(i.b)("words.service"),name:[a.name,"inventory_product_id"],rules:[{required:!s,message:"Campo obrigat\xf3rio"}],children:Object(M.jsx)(vt.a,{size:t?"large":"middle",getPopupContainer:()=>l||document.body,is_service:!0,onChange:(e,t)=>(e=>{let t=u("product_configurations_attributes");t[a.key]={...t[a.key],duraction:(null===e||void 0===e?void 0:e.duration)||15,value_cents:null===e||void 0===e?void 0:e.price_cents,additional_cost_cents:(null===e||void 0===e?void 0:e.additional_cost_cents)||0,additional_cost_percentage:(null===e||void 0===e?void 0:e.additional_cost_percentage)||0,additional_cost_type:(null===e||void 0===e?void 0:e.additional_cost_type)||"cost_value"},b({product_configurations_attributes:t}),s&&n()})(null===t||void 0===t?void 0:t.item)})})}),Object(M.jsx)(ce.a,{xs:12,sm:4,children:Object(M.jsx)(c.a.Item,{label:Object(i.b)("words.value"),shouldUpdate:!0,children:e=>{let{getFieldValue:n,setFieldsValue:r}=e;const o=n(["product_configurations_attributes",a.name,"use_service_value"]);return Object(M.jsxs)(le.a.Compact,{block:!0,children:[Object(M.jsx)(I.a,{title:o?Object(i.b)("phrases.click_to_personalize"):Object(i.b)("phrases.click_to_default"),children:Object(M.jsx)(ut.a,{icon:Object(M.jsx)(Ot.a,{}),onClick:()=>{const e=n("product_configurations_attributes");e[a.name]={...e[a.name],use_service_value:!o},r({product_configurations_attributes:e})},size:t?"large":"middle",type:o?"default":"primary"})}),Object(M.jsx)(c.a.Item,{noStyle:!0,name:[a.name,"use_service_value"],initialValue:!0,children:Object(M.jsx)(ie.a,{type:"hidden"})}),Object(M.jsx)(c.a.Item,{required:!1,noStyle:!0,name:[a.name,"value_cents"],rules:[{required:!s,message:Object(i.b)("words.required")}],children:Object(M.jsx)(me.a,{style:{width:"calc(100% - 35px)"},disabled:o})})]})}})}),Object(M.jsx)(ce.a,{xs:12,sm:4,children:Object(M.jsx)(c.a.Item,{label:Object(i.b)("words.duration"),shouldUpdate:!0,children:e=>{let{getFieldValue:n,setFieldsValue:r}=e;const o=n(["product_configurations_attributes",a.name,"use_service_duration"]);return Object(M.jsxs)(le.a.Compact,{block:!0,children:[Object(M.jsx)(I.a,{title:o?Object(i.b)("phrases.click_to_personalize"):Object(i.b)("phrases.click_to_default"),children:Object(M.jsx)(ut.a,{icon:Object(M.jsx)(Ot.a,{}),onClick:()=>{const e=n("product_configurations_attributes");e[a.name].use_service_duration=!o,e[a.name]={...e[a.name],use_service_duration:!o},r({product_configurations_attributes:e})},size:t?"large":"middle",type:o?"default":"primary"})}),Object(M.jsx)(c.a.Item,{noStyle:!0,name:[a.name,"use_service_duration"],initialValue:!0,children:Object(M.jsx)(ie.a,{type:"hidden"})}),Object(M.jsx)(c.a.Item,{required:!1,noStyle:!0,name:[a.name,"duraction"],rules:[{required:!s,message:Object(i.b)("words.required")}],children:Object(M.jsx)(xt.b,{style:{width:"calc(100% - 35px)"},size:t?"large":"middle",getPopupContainer:()=>l||document.body,disabled:o})})]})}})}),Object(M.jsx)(ce.a,{xs:14,sm:5,children:Object(M.jsx)(c.a.Item,{label:Object(i.b)("phrases.additional_cost"),shouldUpdate:!0,children:e=>{let{getFieldValue:s,setFieldsValue:n}=e;const r=s(["product_configurations_attributes",a.name,"use_service_additional_cost"]);return Object(M.jsxs)(le.a.Compact,{block:!0,children:[Object(M.jsx)(I.a,{title:r?Object(i.b)("phrases.click_to_personalize"):Object(i.b)("phrases.click_to_default"),children:Object(M.jsx)(ut.a,{icon:Object(M.jsx)(Ot.a,{}),onClick:()=>{const e=s("product_configurations_attributes");e[a.name].use_service_additional_cost=!r,e[a.name]={...e[a.name],use_service_additional_cost:!r},n({product_configurations_attributes:e})},size:t?"large":"middle",type:r?"default":"primary"})}),Object(M.jsx)(c.a.Item,{noStyle:!0,name:[a.name,"use_service_additional_cost"],initialValue:!0,children:Object(M.jsx)(ie.a,{type:"hidden"})}),Object(M.jsx)(c.a.Item,{name:[a.name,"additional_cost_type"],initialValue:"cost_value",noStyle:!0,children:Object(M.jsx)(re.a,{style:{width:70},size:t?"large":"middle",options:[{label:Object(d.h)(),value:"cost_value"},{label:"%",value:"cost_percentage"}],disabled:r})}),Object(M.jsx)(c.a.Item,{noStyle:!0,shouldUpdate:!0,children:e=>{let{getFieldValue:s}=e;return"cost_percentage"===s(["product_configurations_attributes",a.name,"additional_cost_type"])?Object(M.jsx)(c.a.Item,{noStyle:!0,name:[a.name,"additional_cost_percentage"],children:Object(M.jsx)(de.a,{min:0,max:100,parser:d.t,size:t?"large":"middle",formatter:e=>Object(d.s)(e),className:"hide-number-button",style:{width:"calc(100% - 70px)"},disabled:r})}):Object(M.jsx)(c.a.Item,{noStyle:!0,name:[a.name,"additional_cost_cents"],children:Object(M.jsx)(de.a,{min:0,className:"hide-number-button",size:t?"large":"middle",style:{width:"calc(100% - 70px)"},parser:e=>Object(d.t)(e,1),formatter:e=>Object(d.s)((e||0)/100),disabled:r})})}})]})}})}),Object(M.jsx)(ce.a,{xs:10,sm:4,children:Object(M.jsx)(c.a.Item,{required:!1,label:Object(M.jsxs)(I.a,{title:Object(i.b)("employees.drawer.product_personalization.schedule_online_description"),trigger:["hover","click"],children:[Object(i.b)("phrases.schedule_online"),"\xa0",Object(M.jsx)(ae.a,{})]}),name:[a.name,"can_schedule_online"],rules:[{required:!s,message:Object(i.b)("words.required")}],valuePropName:"checked",initialValue:!0,children:Object(M.jsx)(ze.a,{})})}),!t&&Object(M.jsx)(ce.a,{span:1,children:Object(M.jsx)(o.i,{onClick:()=>r(a.name),disabled:s,className:"link color-red",children:Object(M.jsx)(wt,{})})})]},a.key)};gt.displayName="ProductConfigurationItem";var yt=gt;const ft=Object(U.d)(se.a).withConfig({componentId:"wb__sc-1i73m1m-0"})(["width:100%;position:relative;padding-right:20px;.ant-form-item{margin-bottom:0;.ant-form-item-explain{display:none;}.ant-form-item-label{min-height:44px;display:flex;align-items:flex-end;padding-bottom:5px;label{line-height:1.3;}}}@media (max-width:768px){padding:10px;background-color:",";user-select:none;.swipeable-list-item__content{border-radius:5px;}}"],(e=>e.theme.colors.white)),wt=Object(U.d)(_t.a).withConfig({componentId:"wb__sc-1i73m1m-1"})(["position:absolute;right:0;top:50px;font-size:18rem;"]);var kt=a(662);const Ct=e=>{let{setFieldsValue:t,getFieldValue:a}=e;const c=Object(v.a)((e=>e.is_mobile)),n=Object(s.useRef)(null);return Object(M.jsxs)("div",{style:{display:"flex",flexDirection:c?"column-reverse":"column"},children:[Object(M.jsx)(kt.a,{name:"product_configurations_attributes",Item:e=>Object(M.jsx)(yt,{...e,setFieldsValue:t,getFieldValue:a}),setFieldsValue:t,getFieldValue:a,style:c?{margin:"0 0 10px"}:{marginBottom:10}}),Object(M.jsx)(o.g,{$margins:{bottom:15},$fullWidth:!0,justify:"end",$alignCenter:!0,children:Object(M.jsx)(ut.a,{block:c,type:"primary",onClick:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.open()},children:Object(i.b)("phrases.import_services")})}),Object(M.jsx)(pt,{onImport:e=>{const s=a("product_configurations_attributes").filter((e=>e.inventory_product_id)),i=e.map((e=>({inventory_product_id:e.id,value_cents:e.price_cents,duraction:e.duration,use_service_duration:!0,use_service_value:!0,can_schedule_online:!0})));t({product_configurations_attributes:[...s,...i,{value_cents:0,duraction:15}]})},ref:n})]})};Ct.displayName="ProductConfigurationForm";var It=Ct,At=a(665);const St=e=>{let{field:t,last_item:a,add:s,destroy:n,container:r}=e;const l=Object(v.a)((e=>e.is_mobile));return Object(M.jsxs)(Ft,{wrap:!0,gutter:4,children:[Object(M.jsx)(c.a.Item,{noStyle:!0,name:[t.name,"id"],children:Object(M.jsx)(ie.a,{type:"hidden"})}),Object(M.jsx)(c.a.Item,{noStyle:!0,name:[t.name,"_destroy"],children:Object(M.jsx)(ie.a,{type:"hidden"})}),Object(M.jsx)(ce.a,{xs:24,sm:14,md:7,children:Object(M.jsx)(c.a.Item,{required:!1,label:`${Object(i.b)("words.product")}/${Object(i.b)("words.service")}`,name:[t.name,"product_id"],rules:[{required:!a,message:Object(i.b)("words.required")}],children:Object(M.jsx)(vt.a,{onChange:()=>{a&&s()},getPopupContainer:()=>r||document.body})})}),Object(M.jsx)(ce.a,{xs:24,sm:10,md:3,children:Object(M.jsx)(c.a.Item,{required:!1,label:Object(i.b)("words.commission"),name:[t.name,"value"],rules:[{required:!a,message:Object(i.b)("words.required")}],initialValue:0,children:Object(M.jsx)(At.a,{})})}),Object(M.jsx)(ce.a,{xs:24,md:0,children:Object(M.jsx)(Et,{$block:!0,$alignCenter:!0,$semibold:!0,children:Object(i.b)("phrases.support_commission")})}),Object(M.jsx)(ce.a,{xs:14,sm:7,md:4,children:Object(M.jsx)(c.a.Item,{required:!1,label:Object(i.b)("phrases.discount_from"),name:[t.name,"discount_assistant_commission_from"],rules:[{required:!a,message:Object(i.b)("words.required")}],initialValue:"salon",children:Object(M.jsxs)(re.a,{style:{width:"100%"},getPopupContainer:()=>r||document.body,children:[Object(M.jsx)(re.a.Option,{value:"salon",children:Object(i.b)("words.company")}),Object(M.jsx)(re.a.Option,{value:"titular",children:Object(i.b)("words.employee")})]})})}),Object(M.jsx)(ce.a,{xs:10,sm:7,md:3,children:Object(M.jsx)(c.a.Item,{required:!1,label:Object(i.b)("words.percentage"),name:[t.name,"value_as_assistant"],rules:[{required:!a,message:Object(i.b)("words.required")}],initialValue:0,children:Object(M.jsx)(At.a,{})})}),Object(M.jsx)(ce.a,{xs:24,sm:10,md:7,children:Object(M.jsxs)(se.a,{gutter:4,children:[Object(M.jsx)(ce.a,{xs:24,sm:20,children:Object(M.jsx)(c.a.Item,{required:!1,label:Object(i.b)("phrases.from_the"),name:[t.name,"calculate_assistant_commission_on"],rules:[{required:!a,message:Object(i.b)("words.required")}],initialValue:3,children:Object(M.jsxs)(re.a,{style:{width:"100%"},getPopupContainer:()=>r||document.body,children:[Object(M.jsx)(re.a.Option,{value:0,children:Object(i.b)("phrases.employee_commission")}),Object(M.jsx)(re.a.Option,{value:3,children:Object(i.b)("phrases.raw_service_value")})]})})}),!l&&Object(M.jsx)(ce.a,{span:4,children:Object(M.jsx)(o.i,{onClick:()=>n(t.name),disabled:a,className:"link color-red",children:Object(M.jsx)(Dt,{})})})]})})]})};St.displayName="CommissionItem";var $t=St;const Et=Object(U.d)(o.h).withConfig({componentId:"wb__sc-158c8uy-0"})(["width:100%;background:",";color:",";border-top-left-radius:5px;border-top-right-radius:5px;"],(e=>e.theme.color_primary),(e=>e.theme.colors.white)),Ft=Object(U.d)(se.a).withConfig({componentId:"wb__sc-158c8uy-1"})(["width:100%;position:relative;padding-right:20px;.ant-form-item{margin-bottom:8px;.ant-form-item-explain{display:none;}}",""],(e=>e.theme.is_mobile&&Object(U.c)(["padding:10px;background-color:",";user-select:none;.swipeable-list-item__content{border-radius:5px;}"],(e=>e.theme.colors.white)))),Dt=Object(U.d)(_t.a).withConfig({componentId:"wb__sc-158c8uy-2"})(["position:absolute;right:0;top:40px;font-size:18rem;"]),zt=e=>{let{setFieldsValue:t,getFieldValue:a}=e;const c=Object(v.a)((e=>e.is_mobile)),n=Object(s.useRef)(null);return Object(M.jsxs)("div",{style:{display:"flex",flexDirection:c?"column-reverse":"column"},children:[!c&&Object(M.jsx)(o.g,{gutter:8,justify:"end",$right:20,children:Object(M.jsx)(ce.a,{span:14,children:Object(M.jsx)(qt,{$block:!0,$alignCenter:!0,$semibold:!0,children:Object(i.b)("phrases.support_commission")})})}),Object(M.jsx)(kt.a,{name:"commissions_attributes",setFieldsValue:t,getFieldValue:a,Item:$t,style:c?{margin:"0 0 10px"}:void 0}),Object(M.jsx)(o.g,{$margins:{bottom:15},$fullWidth:!0,justify:"end",$alignCenter:!0,children:Object(M.jsx)(ut.a,{block:c,type:"primary",onClick:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.open()},children:Object(i.b)("phrases.import_services")})}),Object(M.jsx)(pt,{onImport:e=>{const s=a("commissions_attributes").filter((e=>e.product_id)),i=e.map((e=>({product_id:e.id,value:0,discount_assistant_commission_from:"salon",value_as_assistant:0,calculate_assistant_commission_on:3})));t({commissions_attributes:[...s,...i,{discount_assistant_commission_from:"salon",calculate_assistant_commission_on:3}]})},ref:n})]})};zt.displayName="CommissionsForm";var Nt=Object(s.memo)(zt);const qt=Object(U.d)(o.h).withConfig({componentId:"wb__sc-g5mh1k-0"})(["width:100%;background:",";color:",";border-top-left-radius:5px;border-top-right-radius:5px;"],(e=>e.theme.color_primary),(e=>e.theme.colors.white));var Bt=a(943),Pt=a(912);const Rt=()=>{const e=Object(v.a)((e=>e.is_mobile));return Object(M.jsx)(ce.a,{span:24,style:{marginTop:16},children:Object(M.jsx)(Tt,{name:"schedule_interval",label:Object(M.jsxs)(o.h,{$fullWidth:!0,$align:"justify",children:[Object(M.jsx)(o.h,{$size:16,$bold:!0,children:Object(i.b)("employees.drawer.work_schedule.schedule_interval")}),Object(M.jsx)("br",{}),Object(i.b)("employees.drawer.work_schedule.schedule_interval_description")]}),children:Object(M.jsx)(xt.b,{getPopupContainer:()=>document.body,style:{width:"100%",maxWidth:e?400:180},placeholder:Object(i.b)("phrases.no_personalization"),show_zero:!0,size:e?"large":"middle",allowClear:!0})})})};Rt.displayName="ScheduleInterval";var Mt=Rt;const Tt=Object(U.d)(c.a.Item).withConfig({componentId:"wb__sc-pzfcd7-0"})([".ant-form-item-label{white-space:normal;height:100%;margin-bottom:","px;}.ant-form-item-label > label::after{top:0;content:none;margin:unset;}"],(e=>e.theme.is_mobile?10:0));var Lt=a(2976),Vt=a(1024),Ht=a.n(Vt);const Ut=(e,t)=>{const[a,c]=Object(s.useState)(!1),[n,r]=Object(s.useState)({width:0,height:0}),{handleSave:b}=e,u=Object(s.useRef)(null),j=Object(v.a)((e=>e.is_mobile));Object(s.useEffect)((()=>{if(!a)return;const e=()=>{const e=document.getElementById("employee-drawer-canvas-container");e&&r({width:e.offsetWidth,height:e.offsetHeight})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[a]),Object(s.useEffect)((()=>{if(!a)return;const e=setTimeout((()=>{const e=document.getElementById("employee-drawer-canvas-container");e&&r({width:e.offsetWidth,height:e.offsetHeight})}),500);return()=>clearTimeout(e)}),[a]);const m=()=>{c(!0)},p=()=>{c(!1)};Object(s.useImperativeHandle)(t,(()=>({open:m,close:p})));return Object(M.jsx)(o.a,{closable:!0,title:Object(i.b)("employees.drawer.digital_signature.register_signature"),height:"100%",width:700,destroyOnClose:!0,onClose:p,open:a,placement:j?"bottom":"right",styles:{body:{padding:j?10:15,height:"100%",width:"100%"}},push:!1,footer:Object(M.jsx)(Oe.a,{submit:async()=>{var e,t,a,s;if(!(null===(e=u.current)||void 0===e||null===(t=e.isEmpty)||void 0===t||!t.call(e)))return void l.b.warning(Object(i.b)("employees.drawer.digital_signature.empty_warning"));const c=null===(a=u.current)||void 0===a||null===(s=a.getTrimmedCanvas())||void 0===s?void 0:s.toDataURL("image/png"),n=await Object(d.c)({image_url:c});b(n),p()},save_text:Object(i.b)("verbs.sign"),extra:Object(M.jsx)(ut.a,{onClick:()=>{var e;null===(e=u.current)||void 0===e||e.clear()},type:"default",size:j?"large":"middle",block:j,children:Object(M.jsx)(o.h,{$semibold:!0,children:Object(i.b)("verbs.clean")})})}),children:Object(M.jsx)(Yt,{id:"employee-drawer-canvas-container",children:Object(M.jsx)(Ht.a,{ref:u,penColor:"#3a3a3a",canvasProps:n,clearOnResize:!1})})})};Ut.displayName="DigitalSignatureDrawer";var Gt=Object(s.forwardRef)(Ut);const Yt=U.d.div.withConfig({componentId:"wb__sc-14jsnu8-0"})(["height:100%;width:100%;border:1px solid #DEDEDE;background-color:transparent;display:flex;align-items:center;justify-content:center;"]),Qt=e=>{const[t,a]=Object(s.useState)(300),{setDigitalSignature:c,setDigitalSignatureUrl:n,digital_signature_url:r}=e,l=!!r,d=Object(v.a)((e=>e.is_mobile));Object(s.useEffect)((()=>{const e=document.getElementById("employee-drawer-canvas-container-signed");e&&a(e.offsetWidth)}),[]);const b=Object(s.useRef)(null);return Object(M.jsxs)(o.g,{$wrap:!0,children:[Object(M.jsx)(ce.a,{span:24,children:Object(M.jsx)(Lt.a,{type:"info",style:{marginBottom:15,padding:10},closable:d,message:Object(i.b)("employees.drawer.digital_signature.description")})}),Object(M.jsx)(ce.a,{span:24,children:Object(M.jsx)(Wt,{id:"employee-drawer-canvas-container-signed",children:Object(M.jsx)(Zt,{loading:"lazy",style:{width:t,height:Math.floor(t/2)},src:r,onTouchEnd:()=>{var e;l||null===(e=b.current)||void 0===e||e.open()},onDragEnd:()=>{var e;l||null===(e=b.current)||void 0===e||e.open()}},r)})}),Object(M.jsx)(ce.a,{span:24,children:Object(M.jsx)(Kt,{children:Object(M.jsx)(ut.a,{size:d?"large":"middle",type:"primary",block:d,onClick:()=>{var e;return null===(e=b.current)||void 0===e?void 0:e.open()},children:l?Object(i.b)("employees.drawer.digital_signature.change_signature"):Object(i.b)("employees.drawer.digital_signature.register_signature")})})}),Object(M.jsx)(Gt,{ref:b,handleSave:e=>{c(e),n(URL.createObjectURL(e))}})]})};Qt.displayName="DigitalSignature";var Jt=Qt;const Wt=U.d.div.withConfig({componentId:"wb__sc-hddlvy-0"})(["display:flex;align-items:center;justify-content:center;width:100%;"]),Zt=U.d.img.withConfig({componentId:"wb__sc-hddlvy-1"})(["background-repeat:no-repeat;background-size:contain;border:1px solid #DEDEDE;border-radius:5px;padding:5px;"]),Kt=U.d.div.withConfig({componentId:"wb__sc-hddlvy-2"})(["display:flex;margin-top:15px;justify-content:flex-end;.ant-btn + .ant-btn{margin-left:8px;}"]),Xt=e=>{const t=Object(v.a)((e=>e.is_belasis));return Object(M.jsxs)("div",{...e,children:[Object(M.jsxs)(o.g,{align:"middle",$mBottom:16,children:[Object(M.jsx)(c.a.Item,{name:"active",noStyle:!0,valuePropName:"checked",initialValue:!0,children:Object(M.jsx)(ze.a,{})}),Object(M.jsxs)(ta,{children:[Object(M.jsx)(o.h,{$size:15,$semibold:!0,$block:!0,children:Object(i.b)("words.active")}),Object(M.jsx)(o.h,{$block:!0,children:Object(i.b)("employees.drawer.record.active_description")})]})]}),Object(M.jsxs)(o.g,{align:"middle",$mBottom:16,children:[Object(M.jsx)(c.a.Item,{name:"site",noStyle:!0,valuePropName:"checked",initialValue:!0,children:Object(M.jsx)(ze.a,{})}),Object(M.jsxs)(ta,{children:[Object(M.jsx)(o.h,{$size:15,$semibold:!0,$block:!0,children:Object(i.b)("employees.drawer.record.available_to_online_booking")}),Object(M.jsx)(o.h,{$block:!0,children:Object(i.b)("employees.drawer.record.available_to_online_booking_description")})]})]}),Object(M.jsxs)(o.g,{align:"middle",$mBottom:16,children:[Object(M.jsx)(c.a.Item,{name:"calendar",noStyle:!0,valuePropName:"checked",initialValue:!0,children:Object(M.jsx)(ze.a,{})}),Object(M.jsxs)(ta,{children:[Object(M.jsx)(o.h,{$size:15,$semibold:!0,$block:!0,children:Object(i.b)("employees.drawer.record.generate_schedule")}),Object(M.jsx)(o.h,{$block:!0,children:Object(i.b)("employees.drawer.record.generate_schedule_description")})]})]}),Object(M.jsxs)(o.g,{align:"middle",$mBottom:16,children:[Object(M.jsx)(c.a.Item,{name:"has_commission",noStyle:!0,valuePropName:"checked",initialValue:!0,children:Object(M.jsx)(ze.a,{})}),Object(M.jsxs)(ta,{children:[Object(M.jsx)(o.h,{$size:15,$semibold:!0,$block:!0,children:Object(i.b)("employees.drawer.record.receive_commission")}),Object(M.jsx)(o.h,{$block:!0,children:Object(i.b)("employees.drawer.record.receive_commission_description")})]})]}),t&&Object(M.jsxs)(o.g,{align:"middle",$mBottom:16,children:[Object(M.jsx)(c.a.Item,{name:"lei_salao_parceiro",noStyle:!0,valuePropName:"checked",initialValue:!1,children:Object(M.jsx)(ze.a,{})}),Object(M.jsxs)(ta,{children:[Object(M.jsx)(o.h,{$size:15,$semibold:!0,$block:!0,children:Object(i.b)("employees.drawer.record.lei_salao_parceiro")}),Object(M.jsx)(o.h,{$block:!0,children:Object(i.b)("employees.drawer.record.lei_salao_parceiro_description")})]})]})]})};Xt.displayName="ConfigurationForm";var ea=Xt;const ta=U.d.div.withConfig({componentId:"wb__sc-17v1wx4-0"})(["margin-left:15px;"]);var aa=a(603),sa=a(692),ia=a(591),ca=a(626),na=a.n(ca);const ra=e=>{let{size:t,...a}=e;const s=(a.value||"").toString().length>14?"**.***.***/****-99":"***.***.***-***";return Object(M.jsx)(na.a,{placeholder:Object(i.b)("acronyms.cpf_cnpj"),mask:s,maskPlaceholder:null,...a,children:Object(M.jsx)(la,{size:t})})};ra.displayName="DocumentInput";var oa=ra;const la=Object(U.d)(ie.a).withConfig({componentId:"wb__sc-tauer3-0"})(["width:100%;text-transform:uppercase;"]);var da=e=>{let{id:t,preview:a,avatar_blurhash:n,setAvatar:r,setPreview:l}=e;const d=Object(v.a)((e=>e.is_mobile)),b=Object(s.useRef)(null);return Object(s.useEffect)((()=>{if(t)return;const e=setTimeout((()=>{var e;return null===(e=b.current)||void 0===e?void 0:e.focus()}),700);return()=>{clearTimeout(e)}}),[t]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(c.a.Item,{name:"id",noStyle:!0,children:Object(M.jsx)(ie.a,{type:"hidden"})}),Object(M.jsx)(o.g,{gutter:8,justify:"center",children:Object(M.jsx)(sa.a,{image_url:a,setImage:r,setPreview:l,blurhash:n})}),Object(M.jsxs)(o.g,{gutter:8,$wrap:!0,children:[Object(M.jsx)(ce.a,{xs:24,sm:12,md:8,children:Object(M.jsx)(c.a.Item,{name:"name",label:Object(i.b)("words.name"),rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(M.jsx)(ie.a,{size:d?"large":"middle",ref:b,autoComplete:"off",placeholder:Object(i.b)("words.name")})})}),Object(M.jsx)(ce.a,{xs:24,sm:12,md:8,children:Object(M.jsx)(c.a.Item,{tooltip:Object(i.b)("employees.drawer.record.nickanme_description"),name:"nickname",label:Object(i.b)("words.nickname"),children:Object(M.jsx)(ie.a,{size:d?"large":"middle",autoComplete:"off",placeholder:Object(i.b)("words.nickname")})})}),Object(M.jsx)(ce.a,{xs:24,sm:12,md:8,children:Object(M.jsx)(c.a.Item,{label:Object(i.b)("words.cellphone"),name:"phone2",validateTrigger:"onBlur",rules:[{required:!0,message:Object(i.b)("phrases.is_required",{prefix:Object(i.b)("words.cellphone")})},{validateTrigger:"onBlur",validator:aa.j}],children:Object(M.jsx)(ia.a,{size:d?"large":"middle"})})}),Object(M.jsx)(ce.a,{xs:24,sm:12,md:6,children:Object(M.jsx)(c.a.Item,{name:"profession",label:Object(M.jsxs)(o.g,{$alignCenter:!0,children:[Object(i.b)("words.profession"),Object(M.jsx)(Me.c,{date:"2024/10/01"})]}),children:Object(M.jsx)(ie.a,{placeholder:Object(i.b)("words.profession"),size:d?"large":"middle"})})}),Object(M.jsx)(ce.a,{xs:24,sm:12,md:6,children:Object(M.jsx)(c.a.Item,{name:"birthday",label:Object(i.b)("words.birthday"),validateTrigger:["onChange","onBlur"],rules:[{validateTrigger:"onBlur",validator:aa.a}],children:Object(M.jsx)(na.a,{mask:"99/99/9999",maskPlaceholder:null,autoComplete:"off",placeholder:"01/01/1998",children:Object(M.jsx)(ie.a,{size:d?"large":"middle",inputMode:"numeric"})})})}),Object(M.jsx)(ce.a,{xs:24,sm:12,md:6,children:Object(M.jsx)(c.a.Item,{name:"cpf_cnpj",label:Object(i.b)("acronyms.cpf_cnpj"),validateTrigger:["onChange","onBlur"],rules:[{validateTrigger:["onChange","onBlur"],validator:aa.e}],children:Object(M.jsx)(oa,{size:d?"large":"middle",autoComplete:"off"})})}),Object(M.jsx)(ce.a,{xs:24,sm:12,md:6,children:Object(M.jsx)(c.a.Item,{name:"rg",label:Object(i.b)("acronyms.rg"),children:Object(M.jsx)(ie.a,{size:d?"large":"middle",autoComplete:"off",placeholder:Object(i.b)("acronyms.rg"),inputMode:"numeric"})})}),Object(M.jsx)(ce.a,{xs:24,sm:24,md:24,children:Object(M.jsx)(c.a.Item,{name:"observation",label:Object(i.b)("words.annotation_other"),children:Object(M.jsx)(ie.a.TextArea,{size:d?"large":"middle",autoComplete:"off",placeholder:Object(i.b)("words.annotation_other")})})})]})]})},ba=a(721);const ua=()=>{const e=Object(v.a)((e=>e.is_mobile));return Object(M.jsxs)(o.g,{gutter:8,$wrap:!0,children:[Object(M.jsx)(ce.a,{span:24,children:Object(M.jsx)(Lt.a,{type:"info",style:{marginBottom:20,padding:10},closable:e,message:Object(i.b)("employees.drawer.user.information")})}),Object(M.jsx)(ce.a,{xs:24,sm:12,children:Object(M.jsx)(c.a.Item,{name:["user_attributes","email"],label:Object(i.b)("words.email"),rules:[{type:"email"},{validator:aa.f}],children:Object(M.jsx)(ie.a,{size:e?"large":"middle",placeholder:Object(i.b)("words.email"),autoComplete:"username"})})}),Object(M.jsx)(ce.a,{xs:24,sm:12,children:Object(M.jsx)(c.a.Item,{name:["user_attributes","password"],label:Object(i.b)("words.password"),validateTrigger:["onChange","onBlur"],rules:[{validateTrigger:"onBlur",validator:ba.a}],children:Object(M.jsx)(ie.a.Password,{size:e?"large":"middle",placeholder:Object(i.b)("words.password"),autoComplete:"new-password"})})})]})};ua.displayName="UserForm";var ja=ua,ma=a(552),pa=a(137),ha=a(719),Oa=a(704),_a=a(720);const{useBreakpoint:xa}=ma.a,va=e=>{let{setFieldsValue:t}=e;const[a,n]=Object(s.useState)(!1),r=xa().xs,l=Object(v.a)((e=>e.is_mobile)),d=Object(s.useCallback)((e=>{if(!e.state_id||!e.city_id)return;let s={state_id:e.state_id,city_id:e.city_id};a||(s={...s,address:e.logradouro,district:e.neighborhood,number:e.number}),t(Object(pa.omitBy)(s,pa.isEmpty))}),[a,t]),[b,u]=Object(aa.c)(d),j=Object(s.useCallback)((()=>{t({city_id:void 0})}),[t]);return Object(M.jsxs)(ya,{children:[Object(M.jsxs)(o.g,{gutter:8,$wrap:!0,children:[Object(M.jsx)(ce.a,{xs:12,sm:6,order:0,children:Object(M.jsx)(c.a.Item,{name:"zip_code",label:Object(i.b)("words.zip_code"),validateStatus:"validating",hasFeedback:u,validateTrigger:["onChange","onBlur"],validateFirst:!0,rules:[{validateTrigger:"onBlur",validator:b}],children:Object(M.jsx)(Oa.a,{size:l?"large":"middle",inputMode:"numeric"})})}),Object(M.jsx)(ce.a,{xs:24,sm:12,order:r?2:1,children:Object(M.jsx)(c.a.Item,{name:"address",label:Object(i.b)("words.public_place"),validateStatus:"validating",hasFeedback:u,children:Object(M.jsx)(ie.a,{size:l?"large":"middle",placeholder:Object(i.b)("phrases.street_avenue_lane"),onChange:Object(pa.debounce)((e=>n(!!e.target.value)),500)})})}),Object(M.jsx)(ce.a,{xs:12,sm:6,order:r?1:2,children:Object(M.jsx)(c.a.Item,{name:"number",label:Object(i.b)("words.number"),validateStatus:"validating",hasFeedback:u,children:Object(M.jsx)(ie.a,{size:l?"large":"middle",placeholder:Object(i.b)("words.number"),onChange:Object(pa.debounce)((e=>n(!!e.target.value)),500)})})})]}),Object(M.jsxs)(o.g,{gutter:8,$wrap:!0,children:[Object(M.jsx)(ce.a,{xs:24,sm:12,children:Object(M.jsx)(c.a.Item,{name:"complement",label:Object(i.b)("words.complement"),children:Object(M.jsx)(ie.a,{size:l?"large":"middle",placeholder:Object(i.b)("words.complement"),onChange:Object(pa.debounce)((e=>n(!!e.target.value)),500)})})}),Object(M.jsx)(ce.a,{xs:24,sm:12,children:Object(M.jsx)(c.a.Item,{name:"district",label:Object(i.b)("words.district"),validateStatus:"validating",hasFeedback:u,children:Object(M.jsx)(ie.a,{size:l?"large":"middle",placeholder:Object(i.b)("words.district"),onChange:Object(pa.debounce)((e=>n(!!e.target.value)),500)})})})]}),Object(M.jsxs)(o.g,{gutter:8,$wrap:!0,children:[Object(M.jsx)(ce.a,{xs:24,sm:12,children:Object(M.jsx)(c.a.Item,{name:"state_id",label:Object(i.b)("words.state"),validateStatus:"validating",hasFeedback:u,children:Object(M.jsx)(ha.a,{size:l?"large":"middle",allowClear:!0,onChange:j})})}),Object(M.jsx)(ce.a,{xs:24,sm:12,children:Object(M.jsx)(c.a.Item,{shouldUpdate:(e,t)=>e.state_id!==t.state_id,children:e=>{let{getFieldValue:t}=e;const a=t("state_id");return Object(M.jsx)(c.a.Item,{name:"city_id",label:Object(i.b)("words.city"),validateStatus:"validating",hasFeedback:u,children:Object(M.jsx)(_a.a,{size:l?"large":"middle",allowClear:!0,state_id:a},a)})}})})]})]})};va.displayName="AddressForm";var ga=Object(s.memo)(va);const ya=U.d.div.withConfig({componentId:"wb__sc-1scgnms-0"})(["position:relative;width:100%;"]),fa=["fee_settings","commissions","salaries","advances"];var wa=e=>{const{id:t,preview:a,avatar_blurhash:c,setAvatar:n,setPreview:r,setFieldsValue:l,getFieldValue:d,active_tab:b,setActiveTab:u,loading:j,data:m,digital_signature_url:p,setDigitalSignatureUrl:h,setDigitalSignature:O}=e,_=Object(v.a)((e=>e.current_user.permissions)),x=Object(v.a)((e=>e.current_user.features)),g=Object(v.a)((e=>e.is_agendapro)),y=Object(v.a)((e=>e.is_mobile)),f=Object(S.b)(),w=Object(s.useRef)(null),k=Object(s.useRef)(null),C=Object(s.useRef)(null),A=Object(s.useRef)(null),E=Object(s.useCallback)((e=>{var t;null===(t=w.current)||void 0===t||t.open(e)}),[]),F=Object(s.useCallback)((e=>{var t;null===(t=C.current)||void 0===t||t.open(e)}),[]),D=Object(s.useCallback)((e=>{var t;null===(t=k.current)||void 0===t||t.open(e)}),[]),z=Object(s.useCallback)((e=>Object(M.jsx)(I.a,{trigger:["hover","click"],placement:y?"bottom":void 0,title:t?"":Object(i.b)("phrases.deactivated_tab_warning",{module:Object(i.b)("words.employee").toLocaleLowerCase()}),children:e})),[t,y]),N=e=>{x.has_commissions?u(e):f({is_addon:!1})},q=Object(s.useMemo)((()=>[{key:"register",label:Object(i.b)("words.record"),children:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(da,{id:t,preview:a,setAvatar:n,setPreview:r,avatar_blurhash:c}),Object(M.jsx)(o.h,{$semibold:!0,$size:18,children:Object(i.b)("words.setting",{count:2})}),Object(M.jsx)(ea,{style:{marginTop:16}})]})},{key:"address",label:Object(i.b)("words.address"),children:Object(M.jsx)(ga,{setFieldsValue:l})},{key:"user",label:Object(i.b)("words.user"),children:Object(M.jsx)(ja,{})},{key:"digital_signature",label:Object(i.b)("phrases.digital_signature"),children:Object(M.jsx)(Jt,{digital_signature_url:p,setDigitalSignatureUrl:h,setDigitalSignature:O})},{key:"schedule_hours",disabled:!t,label:z(Object(i.b)("words.work_schedule")),children:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Pt.a,{loading:j}),Object(M.jsx)(Mt,{})]})},{key:"product_configurations",label:Object(M.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[z(Object(i.b)("phrases.customize_services")),Object(M.jsx)(Me.c,{date:"2025/07/10"})]}),disabled:!t,children:Object(M.jsx)(It,{setFieldsValue:l,getFieldValue:d})},{key:"fee_settings",label:z(Object(i.b)("phrases.configure_commissions")),disabled:!t||!_.can_edit_commission,children:Object(M.jsx)(Bt.a,{setFieldsValue:l})},{key:"commissions",label:z(`${Object(i.b)("words.commission",{count:2})} ${Object(i.b)("words.and")} ${Object(i.b)("words.assistant",{count:2})}`),disabled:!t||!_.can_edit_commission,children:Object(M.jsx)(Nt,{setFieldsValue:l,getFieldValue:d})},{key:"salaries",label:z(Object(i.b)("phrases.pay_salary_or_commission")),disabled:!t||!_.can_create_salary&&!_.can_access_salary},{key:"advances",label:z(Object(i.b)("words.advance",{count:2})),disabled:!t||!_.can_create_advance&&!_.can_access_advance},{key:"permissions",label:Object(M.jsx)(I.a,{trigger:["hover","click"],placement:y?"bottom":void 0,title:t?"":Object(i.b)("phrases.deactivated_employee_tab_warning"),children:Object(i.b)("words.permission_other")}),disabled:!t||!_.is_admin}]),[c,p,d,t,y,j,_.can_access_advance,_.can_access_salary,_.can_create_advance,_.can_create_salary,_.can_edit_commission,_.is_admin,a,z,n,O,h,l,r]);return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ka,{tabPosition:y?"top":"left",activeKey:b,items:q,onTabClick:e=>{var a;var s;fa.includes(e)&&g?null===(s=A.current)||void 0===s||s.open():null===(a=(e=>({permissions:()=>{var e;return F(null===m||void 0===m||null===(e=m.employee.user)||void 0===e?void 0:e.id)},salaries:()=>D(t),advances:()=>E(t),commissions:()=>N(e),fee_settings:()=>N(e)}[e]||u(e)))(e))||void 0===a||a()},renderTabBar:(e,t)=>Object(M.jsx)(t,{...e,mobile:!1})}),Object(M.jsx)(lt,{ref:C}),Object(M.jsx)($e,{ref:k}),Object(M.jsx)(Y,{ref:w}),Object(M.jsx)($.a,{ref:A})]})};const ka=Object(U.d)(A.a).withConfig({componentId:"wb__sc-1c2p6me-0"})(["width:100% !important;height:100%;"]);var Ca=a(604);const Ia=(e,t)=>{let{onSave:a}=e;const[b,p]=Object(s.useState)(!1),[h,O]=Object(s.useState)(),[_,f]=Object(s.useState)(void 0),[w,k]=Object(s.useState)("register"),[I,A]=Object(s.useState)(),[S,$]=Object(s.useState)(),[E,F]=Object(s.useState)(),[D,z]=Object(s.useState)(),[N,q]=Object(s.useState)(),P=Object(v.a)((e=>e.is_mobile)),R=Object(r.o)(),T=Object(s.useCallback)((function(){let{id:e,initial_values:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e?O(e):f(t),p(!0)}),[]),L=Object(s.useCallback)((()=>{p(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:T,close:L})));const[V,{loading:H}]=C(),[U]=c.a.useForm(),{setFieldsValue:G,submit:Y,resetFields:Q,getFieldValue:J}=U,W=Object(s.useCallback)((e=>{const t=(e=>{const{birthday:t,user:a,employee_fee_config:s,commissions_attributes:i,product_configurations_attributes:c,...n}=e,r=null!==a&&void 0!==a&&a.fake_email?void 0:{email:null===a||void 0===a?void 0:a.email},o=JSON.parse((null===e||void 0===e?void 0:e.schedule_hours)||"[]").reduce(((e,t,a)=>({...e,[a]:t})),{}),l={...s,commission_message_received:s.id?s.commission_message_received:""},b={id:void 0,inventory_product_id:void 0,value_cents:0,duraction:15,can_schedule_online:!0,use_service_duration:!0,use_service_value:!0,use_service_additional_cost:!0,additional_cost_cents:0,additional_cost_percentage:0,additional_cost_type:"cost_value",_destroy:!1},j=c.filter((e=>{var t;return!0===(null===(t=e.product)||void 0===t?void 0:t.active)}));return{...n,user_attributes:r,schedule_hours:o,birthday:t?u()(t).format("L"):void 0,employee_fee_config_attributes:l,commissions_attributes:[...Object(d.y)(i),{value:0,discount_assistant_commission_from:"salon",value_as_assistant:0,calculate_assistant_commission_on:3}],product_configurations_attributes:[...Object(d.y)(j),b]}})(e);G(t),A(e.avatar_url),F(e.avatar_blurhash),z(e.digital_signature_url)}),[G]),{data:Z,loading:K,error:X}=x({id:h,onCompleted:W}),ee=Object(s.useCallback)((()=>{g.a.information({className:"webook-modal",useConfirm:!0,title:Object(i.b)("employees.drawer.employee_quantity_exceeded_title"),alignContent:"justify",content:Object(i.b)("employees.drawer.employee_quantity_exceeded_content"),maskClosable:!0,closable:!0,okText:Object(i.b)("phrases.see_plans"),onOk:()=>{L(),R("/subscription/change-plan")}})}),[L,R]),te=Object(s.useCallback)((async e=>{const t=j({...e,image:S,digital_signature:N}),{success:s,employee:c,employee_quantity_exceeded:n}=await V(t);s?(L(),l.b.success(Object(i.b)("phrases.saved_successfully",{prefix:Object(i.b)("words.employee")})),null===a||void 0===a||a(c)):n&&ee()}),[L,N,S,a,ee,V]),ae=Object(s.useCallback)((e=>{e||(Q(),$(void 0),q(void 0),z(void 0),A(void 0),F(void 0),f(void 0),O(""),k("register"))}),[Q]),se=Object(s.useMemo)((()=>{if(!h)return`${Object(i.b)("words.new")} ${Object(i.b)("words.employee").toLocaleLowerCase()}`;if(K)return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(n.a,{src:I,size:"large"}),"\xa0",Object(M.jsx)(Ca.a,{width:"12ch"})]});const e=U.getFieldValue("name");return Object(M.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(M.jsx)(m.a,{src:I,blurhash:E,size:"large"}),"\xa0",e]})}),[E,U,h,K,I]);return Object(M.jsx)(Sa,{title:se,open:b,onClose:L,placement:P?"bottom":"right",height:"100%",closable:!0,width:1200,destroyOnClose:!0,styles:{body:{overflowY:"auto",paddingTop:0,paddingRight:15,paddingBottom:0}},footer:Object(M.jsx)(Oe.a,{close:L,submit:Y,loading:K||H,disabled:!!X}),afterOpenChange:ae,push:!1,children:Object(M.jsxs)(Aa,{children:[Object(M.jsx)(y.a,{loading:K}),Object(M.jsx)(B.a,{visible:!!X,small:P,children:Object(M.jsxs)(c.a,{form:U,layout:"vertical",onFinish:te,onFinishFailed:e=>k("register"),scrollToFirstError:!0,initialValues:_,style:{width:"100%"},children:[Object(M.jsx)("button",{type:"submit",hidden:!0}),Object(M.jsx)(o.g,{$wrap:!0,style:{height:"100%"},children:Object(M.jsx)(wa,{id:h,preview:I,avatar_blurhash:E,setAvatar:$,setPreview:A,setFieldsValue:G,data:Z,active_tab:w,setActiveTab:k,loading:K||H,getFieldValue:J,digital_signature_url:D,setDigitalSignature:q,setDigitalSignatureUrl:z})})]})})]})})};Ia.displayName="EmployeeDrawer";t.a=Object(s.memo)(Object(s.forwardRef)(Ia));const Aa=Object(U.d)(o.g).withConfig({componentId:"wb__sc-t3oto8-0"})(["position:relative;height:100%;"]),Sa=Object(U.d)(o.a).withConfig({componentId:"wb__sc-t3oto8-1"})([".ant-drawer-body,.ant-drawer-header{background:",";}"],(e=>e.theme.is_mobile?"#f8f8f8":"#ffffff"))},692:function(e,t,a){"use strict";var s=a(0),i=a(159),c=a(538),n=a(671),r=a(82),o=a(19),l=a(50),d=a(3049),b=a(2854),u=a(955),j=a(22);const m=e=>{let{image_url:t,setImage:a,setPreview:c,type:o="user",...m}=e;const O=Object(s.useRef)(null),_="user"===o?n.a:r.a.DEFAULT_PLACEHOLDER,x=t||_;return Object(j.jsxs)(p,{children:[Object(j.jsx)(u.a,{ref:O,setImage:a,setPreview:c,src:x,type:o,...m}),Object(j.jsxs)(h,{size:8,children:[Object(j.jsx)(i.a,{icon:Object(j.jsx)(d.a,{}),size:"small",onClick:()=>{var e;return null===(e=O.current)||void 0===e?void 0:e.open()},type:"primary",children:Object(l.b)("verbs.change")}),!!t&&Object(j.jsx)(i.a,{icon:Object(j.jsx)(b.a,{}),size:"small",onClick:()=>{c(null),a(null)},type:"primary",danger:!0,children:Object(l.b)("verbs.remove")})]})]})};m.displayName="ImageComponent",t.a=m;const p=o.d.div.withConfig({componentId:"wb__sc-1vvts1-0"})(["position:relative;margin-bottom:15px;margin-top:15px;display:flex;flex-direction:column;justify-content:center;align-items:center;"]),h=Object(o.d)(c.a).withConfig({componentId:"wb__sc-1vvts1-1"})(["display:flex;justify-content:center;align-items:center;margin-top:10px;"])},693:function(e,t,a){"use strict";a(0);var s=a(159),i=a(3055),c=a(3056),n=a(27),r=a(22);const o=e=>{let{value:t,onChange:a,...o}=e;const l=Object(n.a)((e=>e.is_mobile));return Object(r.jsx)(s.a,{onClick:()=>null===a||void 0===a?void 0:a(!t),icon:t?Object(r.jsx)(i.a,{}):Object(r.jsx)(c.a,{}),size:l?"large":"middle",...o})};o.displayName="ProductAction",t.a=o},694:function(e,t,a){"use strict";var s=a(0),i=a(582),c=a(232),n=a(22);const r=Object(s.lazy)((()=>Object(c.a)((()=>a.e(106).then(a.bind(null,1285)))))),o=Object(s.lazy)((()=>Object(c.a)((()=>a.e(114).then(a.bind(null,1286)))))),l=e=>{const{client:t,floating_header_visible:a,loading:s,finished:c,handleOpenWhatsapp:l,handleOpenClientDrawer:d,handleSelectClient:b}=e;return Object(n.jsx)(i.a,{Mobile:o,Desktop:r,client:t,floating_header_visible:a,loading:s,finished:c,handleOpenWhatsapp:l,handleOpenClientDrawer:d,handleSelectClient:b})};l.displayName="ClientProfile",t.a=Object(s.memo)(l)},696:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(137),n=a(1256),r=a(2843),o=a(250),l=a(661),d=a(27),b=a(19),u=a(629),j=a(619),m=a(22);const{Option:p}=n.a,h=(e,t)=>{var a,n;const{items:b,search_keys:u,SelectDropdown:h,model_name:x,renderOptions:v,showCreateButton:g=!0,MobileItem:y,openDrawer:f,EmptyItem:w,getItemTitle:k,...C}=e,[I,A]=Object(s.useState)(50),[S,$]=Object(s.useState)(""),[E,F]=Object(s.useState)(!1),D=Object(d.a)((e=>e.is_mobile)),z="multiple"===C.mode;Object(s.useImperativeHandle)(t,(()=>({closeDrawer:()=>F(!1)})));const N=Object(s.useMemo)((()=>S?new j.a(b,{isCaseSensitive:!1,findAllMatches:!0,keys:u,threshold:.3,ignoreLocation:!0}).search(S).map((e=>e.item)):b),[b,S,u]),q=Object(s.useCallback)((e=>{var t,a;return Object(m.jsxs)("div",{children:[((null===(t=e.props)||void 0===t||null===(a=t.flattenOptions)||void 0===a?void 0:a.length)||0)>0&&Object(m.jsx)(h.Header,{}),e,g&&!!f&&Object(m.jsx)(o.g,{$paddings:10,style:{borderTop:"1px solid #f0f0f0"},children:Object(m.jsx)(o.i,{onClick:()=>f(S),children:Object(m.jsxs)(o.h,{$semibold:!0,children:[Object(m.jsx)(r.a,{})," ",Object(i.b)("verbs.create")," ",S||`${x}`]})})})]})}),[h,x,f,S,g]),B=Object(s.useMemo)((()=>{if(z)return N;const e=N.slice(0,I);if(!C.value)return e;const t=N.findIndex((e=>e.id===C.value));return t<I?e:[N[t],...e]}),[N,I,z,C.value]),P=Object(s.useMemo)((()=>v(B)),[v,B]),R=Object(s.useCallback)((e=>{if(z&&e){var t;const a=C.value?[...C.value]:[],s=a.includes(e.id)?a.filter((t=>t!==e.id)):[...a,e.id];null===(t=C.onChange)||void 0===t||t.call(C,s,{value:null===e||void 0===e?void 0:e.id,item:e})}else{var a;null===(a=C.onChange)||void 0===a||a.call(C,null===e||void 0===e?void 0:e.id,{value:null===e||void 0===e?void 0:e.id,item:e})}}),[z,C]),M=Object(s.useMemo)((()=>{const e=b.find((e=>e.id===C.value));if(e)return null===k||void 0===k?void 0:k(e)}),[k,b,C.value]);return Object(m.jsxs)("div",{title:M,style:{width:(null===(a=C.style)||void 0===a?void 0:a.width)||"100%",height:null===(n=C.style)||void 0===n?void 0:n.height},onClick:()=>{D&&y&&!E&&!C.disabled&&F(!0)},children:[Object(m.jsxs)(_,{showSearch:!0,ref:t,popupMatchSelectWidth:!1,popupClassName:"ant-select-dropdown-large",placeholder:`${Object(i.b)("verbs.select")} ${x}`,notFoundContentText:Object(i.b)("input.not_found",{model:x}),getPopupContainer:Object(s.useCallback)((e=>e.parentElement),[]),onSearch:Object(c.debounce)($,300),dropdownRender:q,maxTagCount:4,filterOption:()=>!0,...C,className:y?"pointer-events-none-mobile":"",children:[P,N.length>I&&!z&&Object(m.jsxs)(p,{value:"filtered_length",disabled:!0,children:[Object(i.b)("input.display",{number_displayed:I,total_number:N.length,model:x}),Object(m.jsxs)(O,{onClick:()=>A((e=>e+50)),children:[Object(i.b)("input.show_more")," 50"]})]},"filtered_length")]}),D&&!!y&&Object(m.jsx)(l.a,{open:E,close:()=>F(!1),items:B,MobileItem:y,search:S,setSearch:$,model_name:x,onSelect:R,handleLoadMore:()=>A((e=>e+50)),total_count:N.length,showCreateButton:g,openDrawer:f,EmptyItem:w,...C})]})};h.displayName="SearchSelect",t.a=Object(s.memo)(Object(s.forwardRef)(h));const O=b.d.div.withConfig({componentId:"wb__sc-1q7mhff-0"})(["position:absolute;right:20px;bottom:5px;color:",";cursor:pointer;font-weight:500;"],(e=>e.theme.colors.primary)),_=Object(b.d)(u.b).withConfig({componentId:"wb__sc-1q7mhff-1"})([".ant-select-selection-item > div{overflow:hidden;text-overflow:ellipsis;}"])},697:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(250),n=a(2845),r=a(579),o=a(19),l=a(599),d=a(583),b=a(22);const u=e=>{const{item:t}=e,a=Object(o.f)();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{children:Object(b.jsx)(j,{src:null===t||void 0===t?void 0:t.image_url,blurhash:null===t||void 0===t?void 0:t.image_blurhash})}),Object(b.jsxs)("div",{style:{width:"100%",overflow:"hidden"},children:[Object(b.jsxs)(c.g,{justify:"space-between",children:[Object(b.jsx)(d.b,{width:10,$block:!0,$textEllipsis:!0,children:null===t||void 0===t?void 0:t.description}),Object(b.jsx)(d.b,{width:8,$block:!0,$color:"gray_1",$size:14,children:Object(b.jsx)(n.a,{size:22,style:{color:null!==t&&void 0!==t&&t.favorite?a.colors.gold:"lightgray"}})})]}),Object(b.jsxs)(c.g,{justify:"space-between",$top:5,children:[Object(b.jsx)(d.b,{width:6,$block:!0,$color:"gray_1",$size:12,children:Object(r.d)(null===t||void 0===t?void 0:t.price_cents)}),null!==t&&void 0!==t&&t.is_service?Object(b.jsx)(d.b,{width:12,$block:!0,$color:"gray_1",$size:12,children:Object(r.f)((null===t||void 0===t?void 0:t.duration)||0,"minutes",{descriptive:!0})}):Object(b.jsx)(d.b,{width:12,$block:!0,$color:"gray_1",$size:12,children:Object(i.b)("phrases.number_of_units",{count:(null===t||void 0===t?void 0:t.quantity)||0,unit:null===t||void 0===t?void 0:t.und})})]})]})]})};t.a=Object(s.memo)(u);const j=Object(o.d)(l.a).attrs({type:"image"}).withConfig({componentId:"wb__sc-1qqjxhn-0"})(["width:40px !important;height:40px !important;border-radius:5px !important;margin-right:10px !important;border:1px solid #eee;"])},698:function(e,t,a){"use strict";a.d(t,"g",(function(){return b})),a.d(t,"f",(function(){return u})),a.d(t,"d",(function(){return j})),a.d(t,"e",(function(){return m})),a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return h})),a.d(t,"c",(function(){return O}));var s=a(0),i=a(50),c=a(444),n=a(447),r=a(18),o=a(27),l=a(53),d=a.n(l);const b=e=>!!e.inventory_product&&!!e.employee&&!!e.time&&!!e.duration,u=e=>e.filter((e=>b(e))),j=(e,t,a,s)=>{var i;let c,n=a;if(e&&a&&t){t.product_configurations.find((e=>e.employee_id===a.id))||0===a.product_configurations.length||(n=void 0)}n&&(c=null===t||void 0===t?void 0:t.product_configurations.find((e=>e.employee_id===n.id)));const r=(null===(i=c)||void 0===i?void 0:i.duration)||(null===t||void 0===t?void 0:t.duration)||s||void 0;return{employee:n,duration:r}},m=()=>{const e=Object(o.a)((e=>e.is_agendapro));return Object(s.useCallback)((t=>{var a,s;const i=d()(t.date).format("YYYY-MM-DD"),n=(e=>{if(e)return{frequency:e.frequency,occurrences_number:e.number_occurrences,apply_forward:e.apply_forward||!1}})(t.recurrence),o=(e=>{var t,a;const s=u(e.calendars),i=(null===(t=e.schedule_color)||void 0===t?void 0:t.id)||null,n=d()(e.date).format("YYYY-MM-DD"),r=null===(a=e.client)||void 0===a?void 0:a.id,o=e.reminder,l=e.status,b=e.obs;return s.map((e=>{const{id:t,inventory_product:a,employee:s,duration:u,time:j,inventory_package_item_id:m,_destroy:p}=e;return{id:Object(c.a)(t)?void 0:t,product_id:null===a||void 0===a?void 0:a.id,employee_id:null===s||void 0===s?void 0:s.id,schedule_color_id:i,client_id:r,start_hour:j,end_hour:d()(j,"HH:mm").add(u,"minute").format("HH:mm"),duration:60*(u||0),reminder:o,obs:b,start_date:n,status:l,inventory_package_item_id:m,_destroy:p}}))})(t);return{id:null===t||void 0===t?void 0:t.id,client_id:null===(a=t.client)||void 0===a?void 0:a.id,start_date:i,status:t.status,force_schedule:t.force_schedule,obs:t.obs,recurrence:n,schedule_color_id:(null===(s=t.schedule_color)||void 0===s?void 0:s.id)||null,creation_origin:r.h[e?"employee_mobile_app":"new_schedules"],calendars_attributes:o}}),[e])},p=(e,t)=>{var a;const{start_date:s,schedule_group_recurrence:i,calendars:c,...r}=e;let o=c;if((null===(a=e.inventory_sale)||void 0===a||!a.finished)&&t){const e=c[c.length-1],t=d()(e.time,"HH:mm").add(e.duration||0,"minute").format("HH:mm"),a={id:Object(n.a)(),time:t,employee:e.employee,duration:15};o=[...o,a]}const l=i?{...i,apply_forward:!1}:void 0;return{...r,date:d()(s),recurrence:l,force_schedule:!1,calendars:o,package_items:[],subscription_items:[]}},h=e=>{const t=[],a=[];for(let s=0;s<=55;s+=5)t.push(0===s||5===s?"0"+s:s.toString());return["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"].forEach((e=>{t.forEach((t=>{a.push(`${e}:${t}`)}))})),a.map((t=>{const a=e.find((e=>e.hour===t));return a?{hour:a.hour,label:`${a.hour} ${_(a.label)}`}:{hour:t,label:`${t} (${Object(i.b)("input.out_of_schedule")})`}}))},O=e=>{const t=e.calendars.map((e=>{var t;return(null===(t=e.employee)||void 0===t?void 0:t.id)||""})).filter(Boolean);return[...new Set(t)]},_=e=>({available:"",out_of_schedule:`(${Object(i.b)("input.out_of_schedule")})`,lunch:`(${Object(i.b)("words.lunch")})`,unavailable:`(${Object(i.b)("words.unavailable")})`}[e]||"")},703:function(e,t,a){"use strict";var s=a(0),i=a(250),c=a(653),n=a(539),r=a(628),o=a(27),l=a(19),d=a(53),b=a.n(d),u=a(606),j=a(22);const m=e=>{let{value:t,onChange:a,style:l,...d}=e;const m=Object(o.a)((e=>e.is_mobile)),h=Object(s.useRef)(null),O=[(null===t||void 0===t?void 0:t[0])||b()(),(null===t||void 0===t?void 0:t[1])||b()()],_=Object(s.useMemo)((()=>"boolean"===typeof d.disabled||"undefined"===typeof d.disabled?d.disabled:d.disabled[0]||d.disabled[1]),[d.disabled]);return m?Object(j.jsxs)(c.a,{style:l,$borderless:"borderless"===d.variant,disabled:_,onClick:()=>{var e;return null===(e=h.current)||void 0===e?void 0:e.open()},children:[Object(j.jsxs)(p,{children:[Object(j.jsx)(i.h,{$size:16,children:O[0].format("LL")}),Object(j.jsx)(n.a,{}),Object(j.jsx)(i.h,{$size:16,children:O[1].format("LL")})]}),Object(j.jsx)(r.a,{ref:h,type:"range",defaultValue:[O[0].toDate(),O[1].toDate()],onConfirm:(e,t)=>{const s=b()(e),i=b()(t);null===a||void 0===a||a([s,i],[s.format("L"),i.format("L")])}})]}):Object(j.jsx)(u.a,{allowClear:!1,format:"L",style:{width:"100%",...l},onChange:a,getPopupContainer:e=>e.parentElement||document.body,value:[O[0],O[1]],...d})};m.displayName="RangeDateInput",t.a=m;const p=l.d.div.withConfig({componentId:"wb__sc-i4yoxx-0"})(["display:flex;justify-content:space-between;align-items:center;width:100%;height:100%;"])},704:function(e,t,a){"use strict";a(0);var s=a(2824),i=a(626),c=a.n(i),n=a(19),r=a(50),o=a(22);const l=e=>{let{size:t,...a}=e;return Object(o.jsx)(c.a,{placeholder:Object(r.b)("words.zip_code"),inputMode:"numeric",maskPlaceholder:null,...a,children:Object(o.jsx)(d,{size:t})})};l.displayName="ZipCodeInput",t.a=l;const d=Object(n.d)(s.a).withConfig({componentId:"wb__sc-1kdo9sw-0"})(["width:100%;"])},713:function(e,t,a){"use strict";var s=a(0),i=a.n(s),c=a(50),n=a(2937);const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.filter((t=>t[e])).map((e=>{let{__typename:t,...a}=e;return a}))};var o=a(250),l=a(19),d=a(27),b=a(339),u=a(909),j=a(586),m=a(852),p=a(2831),h=a(686),O=a(862),_=a(3034),x=a(3048),v=a(2854),g=a(579),y=a(2824),f=a(2883),w=a(538),k=a(159),C=a(1256),I=a(2838),A=a(3023),S=a(1438),$=a(543),E=a(614),F=a(652),D=a(584),z=a(22);const N=e=>{const{field:t,last_item:a,service_price_cents:s,service_duration:i,additional_cost_cents:r,additional_cost_percentage:l,additional_cost_type:b,add:u,destroy:j,container:p}=e,h=Object(d.a)((e=>e.is_mobile));return Object(z.jsxs)(B,{gutter:8,children:[Object(z.jsx)(n.a.Item,{noStyle:!0,name:[t.name,"id"],children:Object(z.jsx)(y.a,{type:"hidden"})}),Object(z.jsx)(n.a.Item,{noStyle:!0,name:[t.name,"_destroy"],children:Object(z.jsx)(y.a,{type:"hidden"})}),Object(z.jsx)(f.a,{span:24,children:Object(z.jsx)(n.a.Item,{required:!1,label:Object(c.b)("words.employee"),name:[t.name,"employee_id"],rules:[{required:!a,message:Object(c.b)("phrases.required_field")}],children:Object(z.jsx)(E.a,{size:h?"large":"middle",getPopupContainer:()=>p||document.body,onChange:()=>{a&&u()}})})}),Object(z.jsx)(f.a,{span:12,children:Object(z.jsx)(n.a.Item,{label:Object(c.b)("words.value"),shouldUpdate:!0,children:e=>{let{getFieldValue:i,setFieldsValue:r}=e;const o=i(["product_configuration_attributes",t.name,"use_service_value"]);return Object(z.jsxs)(w.a.Compact,{block:!0,children:[Object(z.jsx)(k.a,{icon:Object(z.jsx)(_.a,{}),onClick:()=>{const e=i("product_configuration_attributes");e[t.name]={...e[t.name],use_service_value:!o,value_cents:s},r({product_configuration_attributes:e})},size:h?"large":"middle",type:o?"default":"primary"}),Object(z.jsx)(n.a.Item,{noStyle:!0,name:[t.name,"use_service_value"],initialValue:!0,children:Object(z.jsx)(y.a,{type:"hidden"})}),Object(z.jsx)(n.a.Item,{required:!1,noStyle:!0,name:[t.name,"value_cents"],rules:[{required:!a,message:Object(c.b)("phrases.required_field")}],initialValue:s,children:Object(z.jsx)(D.a,{style:{width:"calc(100% - 35px)"},disabled:o})})]})}})}),Object(z.jsx)(f.a,{span:12,children:Object(z.jsx)(n.a.Item,{label:Object(c.b)("words.duration"),shouldUpdate:!0,children:e=>{let{getFieldValue:s,setFieldsValue:r}=e;const o=s(["product_configuration_attributes",t.name,"use_service_duration"]);return Object(z.jsxs)(w.a.Compact,{block:!0,children:[Object(z.jsx)(k.a,{icon:Object(z.jsx)(_.a,{}),onClick:()=>{const e=s("product_configuration_attributes");e[t.name]={...e[t.name],use_service_duration:!o,duraction:i/60},r({product_configuration_attributes:e})},size:h?"large":"middle",type:o?"default":"primary"}),Object(z.jsx)(n.a.Item,{noStyle:!0,name:[t.name,"use_service_duration"],initialValue:!0,children:Object(z.jsx)(y.a,{type:"hidden"})}),Object(z.jsx)(n.a.Item,{required:!1,noStyle:!0,name:[t.name,"duraction"],rules:[{required:!a,message:Object(c.b)("words.required")}],initialValue:i/60,children:Object(z.jsx)(F.b,{style:{width:"calc(100% - 35px)"},getPopupContainer:()=>p||document.body,size:h?"large":"middle",disabled:o})})]})}})}),Object(z.jsx)(f.a,{xs:24,sm:12,children:Object(z.jsx)(n.a.Item,{label:Object(c.b)("phrases.additional_cost"),shouldUpdate:!0,children:e=>{let{getFieldValue:a,setFieldsValue:s}=e;const i=a(["product_configuration_attributes",t.name,"use_service_additional_cost"]);return Object(z.jsxs)(w.a.Compact,{block:!0,children:[Object(z.jsx)(m.a,{title:i?Object(c.b)("phrases.click_to_personalize"):Object(c.b)("phrases.click_to_default"),children:Object(z.jsx)(k.a,{icon:Object(z.jsx)(_.a,{}),onClick:()=>{const e=a("product_configuration_attributes");e[t.name]={...e[t.name],use_service_additional_cost:!i},s({product_configuration_attributes:e})},size:h?"large":"middle",type:i?"default":"primary"})}),Object(z.jsx)(n.a.Item,{noStyle:!0,name:[t.name,"use_service_additional_cost"],initialValue:!0,children:Object(z.jsx)(y.a,{type:"hidden"})}),Object(z.jsx)(n.a.Item,{name:[t.name,"additional_cost_type"],initialValue:b,noStyle:!0,children:Object(z.jsx)(C.a,{style:{width:70},size:h?"large":"middle",options:[{label:Object(g.h)(),value:"cost_value"},{label:"%",value:"cost_percentage"}],disabled:i})}),Object(z.jsx)(n.a.Item,{noStyle:!0,shouldUpdate:!0,children:e=>{let{getFieldValue:a}=e;return"cost_percentage"===a(["product_configuration_attributes",t.name,"additional_cost_type"])?Object(z.jsx)(n.a.Item,{noStyle:!0,name:[t.name,"additional_cost_percentage"],initialValue:l,children:Object(z.jsx)(I.a,{min:0,max:100,parser:g.t,size:h?"large":"middle",formatter:e=>Object(g.s)(e),className:"hide-number-button",style:{width:"calc(100% - 70px)"},disabled:i})}):Object(z.jsx)(n.a.Item,{noStyle:!0,name:[t.name,"additional_cost_cents"],initialValue:r,children:Object(z.jsx)(I.a,{min:0,className:"hide-number-button",size:h?"large":"middle",style:{width:"calc(100% - 70px)"},parser:e=>Object(g.t)(e,1),formatter:e=>Object(g.s)((e||0)/100),disabled:i})})}})]})}})}),Object(z.jsx)(f.a,{xs:24,sm:10,children:Object(z.jsx)(n.a.Item,{label:Object(z.jsxs)(m.a,{title:Object(c.b)("services.drawer.personalization.schedule_online_description"),trigger:["hover","click"],children:[Object(c.b)("phrases.schedule_online"),"\xa0",Object(z.jsx)(x.a,{})]}),name:[t.name,"can_schedule_online"],valuePropName:"checked",initialValue:!0,children:Object(z.jsx)(A.a,{})})}),!h&&Object(z.jsx)(f.a,{span:1,children:Object(z.jsx)(o.i,{onClick:()=>{j(t.name)},disabled:a,className:"link color-red",children:Object(z.jsx)(P,{})})}),!a&&!h&&Object(z.jsx)(f.a,{span:24,children:Object(z.jsx)(S.a,{style:{margin:"12px 0"},dashed:!0})})]},t.key)};N.displayName="ProductConfigurationItem";var q=N;const B=Object(l.d)($.a).withConfig({componentId:"wb__sc-1d0ckg4-0"})(["width:100%;position:relative;.ant-form-item{margin-bottom:8px;.ant-form-item-explain{display:none;}}",""],(e=>e.theme.is_mobile&&Object(l.c)(["padding:10px;background-color:",";user-select:none;.swipeable-list-item__content{border-radius:5px;}"],(e=>e.theme.colors.white)))),P=Object(l.d)(v.a).withConfig({componentId:"wb__sc-1d0ckg4-1"})(["position:absolute;right:0;top:40px;font-size:18rem;&.disabled{color:gray;}"]);var R=a(662);const M=e=>{const{additional_cost_cents:t,additional_cost_percentage:a,additional_cost_type:s,service_price_cents:i,service_duration:c,setFieldsValue:n,getFieldValue:r}=e,o=Object(d.a)((e=>e.is_mobile));return Object(z.jsx)(R.a,{name:"product_configuration_attributes",service_price_cents:i,service_duration:c,additional_cost_cents:t,additional_cost_percentage:a,additional_cost_type:s,Item:q,setFieldsValue:n,getFieldValue:r,$show_all_labels:!0,style:o?{margin:"0 0 10px"}:void 0})};M.displayName="ProductConfigurationForm";var T=Object(s.memo)(M);const L=e=>{let{setFieldsValue:t,getFieldValue:a}=e;return Object(z.jsx)(n.a.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.price_cents!==t.price_cents||e.duration!==t.duration,children:e=>{let{getFieldsValue:s}=e;const{price_cents:i,duraction:c,additional_cost_cents:n,additional_cost_percentage:r,additional_cost_type:o}=s();return Object(z.jsx)(T,{service_price_cents:i,service_duration:c,additional_cost_cents:n,additional_cost_percentage:r,additional_cost_type:o,setFieldsValue:t,getFieldValue:a})}})};L.displayName="ProductConfigurationTab";var V=L,H=a(863),U=a(864);const G=()=>{const e=Object(d.a)((e=>e.is_mobile));return Object(z.jsxs)(o.g,{gutter:4,$wrap:!0,children:[Object(z.jsx)(n.a.Item,{name:"id",noStyle:!0,children:Object(z.jsx)(y.a,{type:"hidden"})}),Object(z.jsx)(n.a.Item,{name:"service_id",noStyle:!0,children:Object(z.jsx)(y.a,{type:"hidden"})}),Object(z.jsx)(f.a,{span:24,children:Object(z.jsx)(n.a.Item,{name:["invoice_product_attributes","service_list_item"],label:Object(z.jsxs)(m.a,{title:"Apenas n\xfameros e caracteres",trigger:["hover","click"],children:["Item lista de servi\xe7o\xa0",Object(z.jsx)(x.a,{})]}),children:Object(z.jsx)(y.a,{size:e?"large":"middle",placeholder:"Item lista de servi\xe7o"})})}),Object(z.jsx)(f.a,{span:24,children:Object(z.jsx)(n.a.Item,{name:["invoice_product_attributes","cnae"],label:Object(z.jsxs)(m.a,{title:"Apenas n\xfameros e caracteres",trigger:["hover","click"],children:["Cnae\xa0",Object(z.jsx)(x.a,{})]}),children:Object(z.jsx)(y.a,{size:e?"large":"middle",placeholder:"Cnae"})})}),Object(z.jsx)(f.a,{span:24,children:Object(z.jsx)(n.a.Item,{name:["invoice_product_attributes","city_service_code"],label:Object(z.jsxs)(m.a,{title:"Apenas n\xfameros e caracteres",trigger:["hover","click"],children:["C\xf3digo de Servi\xe7o Municipal\xa0",Object(z.jsx)(x.a,{})]}),children:Object(z.jsx)(y.a,{size:e?"large":"middle",placeholder:"C\xf3digo de Servi\xe7o Municipal"})})})]})};G.displayName="InvoiceConfigurationForm";var Y=G,Q=a(665);const J=e=>{const{field:t,last_item:a,service_commission:s,add:i,destroy:r,container:l}=e,b=Object(d.a)((e=>e.is_mobile));return Object(z.jsxs)(K,{wrap:!0,gutter:4,children:[Object(z.jsx)(n.a.Item,{noStyle:!0,name:[t.name,"id"],children:Object(z.jsx)(y.a,{type:"hidden"})}),Object(z.jsx)(n.a.Item,{noStyle:!0,name:[t.name,"_destroy"],children:Object(z.jsx)(y.a,{type:"hidden"})}),Object(z.jsx)(f.a,{xs:16,sm:18,children:Object(z.jsx)(n.a.Item,{required:!1,label:Object(c.b)("words.employee"),name:[t.name,"employee_id"],rules:[{required:!a,message:Object(c.b)("words.required")}],children:Object(z.jsx)(E.a,{getPopupContainer:()=>l||document.body,onChange:()=>{a&&i()}})})}),Object(z.jsx)(f.a,{xs:8,sm:6,children:Object(z.jsx)(n.a.Item,{required:!1,label:Object(c.b)("words.commission"),name:[t.name,"value"],rules:[{required:!a,message:Object(c.b)("words.required")}],initialValue:s,children:Object(z.jsx)(Q.a,{})})}),Object(z.jsx)(f.a,{span:24,children:Object(z.jsx)(Z,{$block:!0,$alignCenter:!0,$semibold:!0,children:Object(c.b)("phrases.support_commission")})}),Object(z.jsx)(f.a,{xs:14,sm:8,children:Object(z.jsx)(n.a.Item,{required:!1,label:Object(c.b)("phrases.discount_from"),name:[t.name,"discount_assistant_commission_from"],rules:[{required:!a,message:Object(c.b)("words.required")}],initialValue:"salon",children:Object(z.jsxs)(C.a,{style:{width:"100%"},getPopupContainer:()=>l||document.body,children:[Object(z.jsx)(C.a.Option,{value:"salon",children:Object(c.b)("words.company")}),Object(z.jsx)(C.a.Option,{value:"titular",children:Object(c.b)("words.employee")})]})})}),Object(z.jsx)(f.a,{xs:10,sm:4,children:Object(z.jsx)(n.a.Item,{required:!1,label:Object(c.b)("words.value"),name:[t.name,"value_as_assistant"],rules:[{required:!a,message:Object(c.b)("words.required")}],initialValue:0,children:Object(z.jsx)(Q.a,{})})}),Object(z.jsx)(f.a,{xs:24,sm:10,children:Object(z.jsx)(n.a.Item,{required:!1,label:Object(c.b)("phrases.from_the"),name:[t.name,"calculate_assistant_commission_on"],rules:[{required:!a,message:Object(c.b)("words.required")}],initialValue:3,children:Object(z.jsxs)(C.a,{style:{width:"100%"},getPopupContainer:()=>l||document.body,children:[Object(z.jsx)(C.a.Option,{value:0,children:Object(c.b)("phrases.employee_commission")}),Object(z.jsx)(C.a.Option,{value:3,children:Object(c.b)("phrases.raw_service_value")})]})})}),!b&&Object(z.jsx)(f.a,{span:1,children:Object(z.jsx)(o.i,{onClick:()=>{r(t.name)},disabled:a,className:"link color-red",children:Object(z.jsx)(X,{})})}),!a&&!b&&Object(z.jsx)(f.a,{span:24,children:Object(z.jsx)(S.a,{dashed:!0})})]})};J.displayName="CommissionItem";var W=J;const Z=Object(l.d)(o.h).withConfig({componentId:"wb__sc-esu4ni-0"})(["width:100%;background:",";color:",";border-top-left-radius:5px;border-top-right-radius:5px;"],(e=>e.theme.color_primary),(e=>e.theme.colors.white)),K=Object(l.d)($.a).withConfig({componentId:"wb__sc-esu4ni-1"})(["width:100%;height:100%;position:relative;.ant-form-item{margin-bottom:8px;.ant-form-item-explain{display:none;}}",""],(e=>e.theme.is_mobile&&Object(l.c)(["padding:10px;background-color:",";user-select:none;.swipeable-list-item__content{border-radius:5px;}"],e.theme.colors.white))),X=Object(l.d)(v.a).withConfig({componentId:"wb__sc-esu4ni-2"})(["position:absolute;right:0;top:40px;font-size:18rem;"]),ee=e=>{let{service_commission:t,setFieldsValue:a,getFieldValue:s}=e;const i=Object(d.a)((e=>e.is_mobile));return Object(z.jsx)(R.a,{setFieldsValue:a,getFieldValue:s,$show_all_labels:!0,Item:W,name:"commissions_attributes",service_commission:t,style:i?{margin:"0 0 10px"}:void 0})};ee.displayName="CommissionsForm";var te=Object(s.memo)(ee);const ae=e=>{let{setFieldsValue:t,getFieldValue:a}=e;return Object(z.jsx)(n.a.Item,{noStyle:!0,dependencies:["commission"],children:e=>{let{getFieldsValue:s}=e;const{commission:i}=s();return Object(z.jsx)(te,{service_commission:i,setFieldsValue:t,getFieldValue:a})}})};ae.displayName="CommissionTab";var se=Object(s.memo)(ae),ie=a(623);var ce=()=>{const e=Object(d.a)((e=>e.is_mobile));return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(ie.a,{title:Object(c.b)("services.drawer.settings.advance_time_for_appointments"),description:Object(c.b)("services.drawer.settings.advance_time_description"),is_drawer:!0,is_column:!0,input_width:150,children:Object(z.jsx)(n.a.Item,{name:"can_schedule_minutes_before",noStyle:!0,children:Object(z.jsx)(F.b,{interval:30,last_interval:25,show_zero:!0,size:e?"large":"middle",style:{width:"100%"},allowClear:!0})})}),Object(z.jsx)(ie.a,{title:Object(c.b)("words.active"),description:Object(c.b)("product_service.settings.active_description"),is_drawer:!0,input_width:150,children:Object(z.jsx)(n.a.Item,{name:"active",noStyle:!0,valuePropName:"checked",initialValue:!0,children:Object(z.jsx)(A.a,{})})}),Object(z.jsx)(ie.a,{title:Object(c.b)("words.favorite"),description:Object(c.b)("product_service.settings.favorite_description"),is_drawer:!0,input_width:150,children:Object(z.jsx)(n.a.Item,{name:"favorite",noStyle:!0,valuePropName:"checked",initialValue:!1,children:Object(z.jsx)(A.a,{})})}),Object(z.jsx)(ie.a,{title:Object(c.b)("words.visible"),description:Object(c.b)("services.drawer.settings.visible_description"),is_drawer:!0,input_width:150,children:Object(z.jsx)(n.a.Item,{name:"site",noStyle:!0,valuePropName:"checked",initialValue:!0,children:Object(z.jsx)(A.a,{})})}),Object(z.jsx)(ie.a,{title:Object(c.b)("services.drawer.settings.available_to_online_booking"),description:Object(c.b)("services.drawer.settings.available_to_online_booking_description"),is_drawer:!0,input_width:150,children:Object(z.jsx)(n.a.Item,{name:"available_to_online_scheduling",noStyle:!0,valuePropName:"checked",initialValue:!0,children:Object(z.jsx)(A.a,{})})})]})},ne=a(342),re=a(2843),oe=a(622);const le=e=>{const{field:t,last_item:a,first_item:s,add:i,destroy:r,container:o}=e,l=Object(d.a)((e=>e.inventory_products.filter((e=>!e.is_service)))),b=Object(d.a)((e=>e.is_mobile));return Object(z.jsxs)(be,{gutter:6,children:[Object(z.jsx)(n.a.Item,{noStyle:!0,name:[t.name,"id"],children:Object(z.jsx)(y.a,{type:"hidden"})}),Object(z.jsx)(n.a.Item,{noStyle:!0,name:[t.name,"_destroy"],children:Object(z.jsx)(y.a,{type:"hidden"})}),Object(z.jsx)(f.a,{xs:24,sm:12,children:Object(z.jsx)(n.a.Item,{label:Object(c.b)("words.product"),name:[t.name,"product_id"],rules:[{required:!a,message:Object(c.b)("phrases.required_field")}],children:Object(z.jsx)(oe.a,{getPopupContainer:()=>o||document.body,is_service:!1,size:"large",onChange:()=>{a&&i()}})})}),Object(z.jsx)(n.a.Item,{noStyle:!0,dependencies:[["composes_attributes",t.name,"product_id"],["composes_attributes",t.name,"quantity"]],children:e=>{let{getFieldValue:s}=e;const i=s(["composes_attributes",t.name,"product_id"]),r=s(["composes_attributes",t.name,"quantity"]),o=l.find((e=>String(e.id)===String(i))),d=(null===o||void 0===o?void 0:o.unit_quantity)||0,b=(null===o||void 0===o?void 0:o.und)||Object(c.b)("words.unit").toLowerCase(),u=b===Object(c.b)("words.unit"),j=d*r;return Object(z.jsx)(f.a,{xs:24,sm:{flex:1},children:Object(z.jsxs)(w.a.Compact,{children:[Object(z.jsx)(n.a.Item,{label:Object(c.b)("words.unit"),name:[t.name,"quantity"],rules:[{required:!a,message:Object(c.b)("words.required")}],initialValue:1,extra:a||!d?void 0:Object(c.b)("products.drawer.composes.unit_equivalent",{quantity:j,unit:b.toLocaleLowerCase()}),children:Object(z.jsx)(I.a,{min:0,addonAfter:d?"unidade":b.toLocaleLowerCase(),inputMode:"numeric",style:{width:"100%"},size:"large"})}),Object(z.jsx)(n.a.Item,{required:!1,label:Object(c.b)("words.extra"),name:[t.name,"extra_quantity"],initialValue:0,children:Object(z.jsx)(I.a,{disabled:u,min:0,size:"large",addonBefore:Object(z.jsx)(re.a,{}),addonAfter:b.toLocaleLowerCase(),inputMode:"numeric",style:{width:"100%"}})})]})})}}),!b&&Object(z.jsx)(f.a,{flex:"40px",children:Object(z.jsx)(k.a,{style:{marginTop:s?31.5:0},danger:!0,size:"large",type:"primary",icon:Object(z.jsx)(v.a,{}),onClick:()=>r(t.name),disabled:a})})]})};le.displayName="ComposeItem";var de=le;const be=Object(l.d)($.a).withConfig({componentId:"wb__sc-hgmgtx-0"})(["width:100%;position:relative;overflow:hidden;flex-wrap:nowrap;.ant-form-item{margin-bottom:12px;}",""],(e=>e.theme.is_mobile&&Object(l.c)(["padding:10px;background-color:",";user-select:none;flex-wrap:wrap;.swipeable-list-item__content{border-radius:5px;}"],e.theme.colors.white))),ue=e=>{let{setFieldsValue:t,getFieldValue:a}=e;const s=Object(d.a)((e=>e.is_mobile));return Object(z.jsx)(R.a,{name:"composes_attributes",Item:de,setFieldsValue:t,getFieldValue:a,style:s?{margin:"0 0 10px"}:void 0})};ue.displayName="ComposeForm";var je=Object(s.memo)(ue),me=a(340),pe=a(1227),he=a(761),Oe=a(692);const _e=e=>{let{service_id:t,image_url:a,image_blurhash:i,setImage:r,setPreview:l}=e;const b=Object(s.useRef)(null),u=Object(d.a)((e=>e.is_mobile));return Object(s.useEffect)((()=>{let e;return t||(e=setTimeout((()=>{var e;return null===(e=b.current)||void 0===e?void 0:e.focus()}),700)),()=>clearTimeout(e)}),[t]),Object(z.jsxs)(o.g,{$wrap:!0,gutter:{xs:4,sm:8},$mTop:15,children:[Object(z.jsx)(n.a.Item,{name:"id",noStyle:!0,children:Object(z.jsx)(y.a,{type:"hidden"})}),Object(z.jsx)(f.a,{style:{display:"flex",justifyContent:"center"},span:24,children:Object(z.jsx)(Oe.a,{image_url:a,blurhash:i,setImage:r,setPreview:l,shape:"square",type:"image"})}),Object(z.jsx)(f.a,{span:24,children:Object(z.jsx)(n.a.Item,{name:"description",label:Object(c.b)("words.name"),rules:[{required:!0,message:Object(c.b)("phrases.required_field")}],children:Object(z.jsx)(y.a,{size:u?"large":"middle",ref:b,placeholder:Object(c.b)("input.inform_the_name"),autoComplete:"off"})})}),Object(z.jsx)(f.a,{xs:24,sm:12,children:Object(z.jsx)(n.a.Item,{name:"group_id",label:Object(c.b)("words.category"),rules:[{required:!0,message:Object(c.b)("phrases.required_field")}],children:Object(z.jsx)(he.a,{size:u?"large":"middle",select_first:!0,showCreateButton:!0})})}),Object(z.jsx)(f.a,{xs:24,sm:12,children:Object(z.jsx)(n.a.Item,{label:Object(c.b)("services.drawer.register.selling_price"),children:Object(z.jsxs)(w.a.Compact,{block:!0,children:[Object(z.jsx)(n.a.Item,{name:"price_type",noStyle:!0,initialValue:"fixed",children:Object(z.jsxs)(C.a,{size:u?"large":"middle",getPopupContainer:e=>e.parentElement||document.body,children:[Object(z.jsx)(C.a.Option,{value:"fixed",children:Object(c.b)("services.drawer.register.fixed_price")}),Object(z.jsx)(C.a.Option,{value:"as_from",children:Object(c.b)("services.drawer.register.as_from_price")}),Object(z.jsx)(C.a.Option,{value:"on_request",children:Object(c.b)("services.drawer.register.on_request_price")})]})}),Object(z.jsx)(n.a.Item,{name:"price_cents",noStyle:!0,initialValue:0,children:Object(z.jsx)(D.a,{size:u?"large":"middle",style:{width:"100%"},min:0})})]})})}),Object(z.jsx)(f.a,{xs:12,sm:8,children:Object(z.jsx)(n.a.Item,{label:Object(z.jsxs)("div",{children:[Object(c.b)("phrases.additional_cost"),Object(z.jsx)(pe.a,{title:Object(c.b)("phrases.additional_cost"),trigger:["hover","click"],content:Object(z.jsx)("span",{children:Object(z.jsx)(me.a,{i18nKey:"services.drawer.register.additional_cost_description",components:[Object(z.jsx)("br",{})]})}),children:Object(z.jsx)(o.d,{as:x.a,$left:5})})]}),children:Object(z.jsxs)(w.a.Compact,{block:!0,children:[Object(z.jsx)(n.a.Item,{name:"additional_cost_type",initialValue:"cost_value",noStyle:!0,children:Object(z.jsx)(C.a,{style:{width:70},size:u?"large":"middle",options:[{label:Object(g.h)(),value:"cost_value"},{label:"%",value:"cost_percentage"}]})}),Object(z.jsx)(n.a.Item,{noStyle:!0,dependencies:["additional_cost_type"],children:e=>{let{getFieldValue:t}=e;return"cost_percentage"===t("additional_cost_type")?Object(z.jsx)(n.a.Item,{noStyle:!0,name:"additional_cost_percentage",initialValue:0,children:Object(z.jsx)(I.a,{min:0,max:100,parser:g.t,size:u?"large":"middle",formatter:e=>Object(g.s)(e),className:"hide-number-button",style:{width:"calc(100% - 70px)"}})}):Object(z.jsx)(n.a.Item,{noStyle:!0,name:"additional_cost_cents",initialValue:0,children:Object(z.jsx)(I.a,{min:0,className:"hide-number-button",size:u?"large":"middle",style:{width:"calc(100% - 70px)"},parser:e=>Object(g.t)(e,1),formatter:e=>Object(g.s)((e||0)/100)})})}})]})})}),Object(z.jsx)(f.a,{xs:12,sm:8,children:Object(z.jsx)(n.a.Item,{name:"commission",label:Object(z.jsxs)("div",{children:[Object(c.b)("words.commission"),Object(z.jsx)(pe.a,{title:Object(c.b)("words.commission"),trigger:["hover","click"],content:Object(z.jsx)("span",{children:Object(z.jsx)(me.a,{i18nKey:"services.drawer.register.commission_description",components:[Object(z.jsx)("br",{})]})}),children:Object(z.jsx)(o.d,{as:x.a,$left:5})})]}),initialValue:0,children:Object(z.jsx)(Q.a,{size:u?"large":"middle",inputMode:"numeric"})})}),Object(z.jsx)(f.a,{xs:24,sm:8,children:Object(z.jsx)(n.a.Item,{name:"duraction",label:Object(c.b)("words.duration"),initialValue:900,getValueFromEvent:e=>60*parseInt(e),getValueProps:e=>e?{value:parseInt(e)/60}:{value:0},children:Object(z.jsx)(F.b,{size:u?"large":"middle",getPopupContainer:e=>e.parentElement||document.body})})}),Object(z.jsx)(f.a,{span:24,children:Object(z.jsx)(n.a.Item,{name:"public_description",label:Object(c.b)("words.description"),children:Object(z.jsx)(y.a.TextArea,{size:u?"large":"middle",placeholder:Object(c.b)("services.drawer.register.description_information")})})})]})};_e.displayName="GeneralForm";var xe=_e,ve=a(2976),ge=a(18),ye=a(593),fe=a(1813),we=a(615),ke=a(612),Ce=a(637);const Ie=e=>{let{value:t=1,onChange:a}=e;const s=Object(d.a)((e=>e.is_mobile)),i=Math.floor(t/24),n=t%24;return Object(z.jsxs)(w.a.Compact,{style:{width:"100%"},children:[Object(z.jsx)(I.a,{addonBefore:Object(c.b)("words.day_other"),size:s?"large":"middle",style:{width:"50%"},min:0,max:365,value:i,onChange:e=>(e=>{const t=24*e+n;null===a||void 0===a||a(Math.max(1,t))})(e||0)}),Object(z.jsx)(I.a,{addonBefore:Object(c.b)("words.hour_other"),size:s?"large":"middle",style:{width:"50%"},min:0,max:23,value:n,onChange:e=>(e=>{const t=24*i+e;null===a||void 0===a||a(Math.max(1,t))})(e||0)})]})};Ie.displayName="TimeOffsetInput";var Ae=Ie;const Se=e=>{const{field:t,destroy:a,timeLabel:s,setFieldsValue:r,getFieldValue:o,fieldPath:l="care_message_configurations_attributes"}=e,b=Object(d.a)((e=>e.is_mobile)),u=i.a.createRef();return Object(z.jsxs)(Ee,{wrap:!1,gutter:{xs:0,md:8},children:[Object(z.jsx)(n.a.Item,{name:[t.name,"id"],noStyle:!0,hidden:!0,children:Object(z.jsx)("input",{hidden:!0,autoComplete:"off"})}),Object(z.jsx)(n.a.Item,{name:[t.name,"_destroy"],noStyle:!0,hidden:!0,children:Object(z.jsx)("input",{hidden:!0,autoComplete:"off"})}),Object(z.jsx)(n.a.Item,{name:[t.name,"timing_type"],noStyle:!0,hidden:!0,children:Object(z.jsx)("input",{hidden:!0,autoComplete:"off"})}),Object(z.jsxs)(f.a,{xs:24,flex:b?void 0:"auto",children:[Object(z.jsx)(n.a.Item,{label:s,name:[t.name,"hours_offset"],rules:[{required:!0,message:Object(c.b)("phrases.required_field")}],children:Object(z.jsx)(Ae,{})}),Object(z.jsx)(n.a.Item,{label:Object(c.b)("words.message"),name:[t.name,"message"],rules:[{required:!0,message:Object(c.b)("phrases.required_field")}],style:{marginBottom:15},children:Object(z.jsx)(y.a.TextArea,{showCount:!0,maxLength:750,size:b?"large":"middle",ref:u,autoSize:{minRows:3}})}),Object(z.jsx)(Ce.a,{keys:["client_name","nickname","date","time","service_name","employee_name","salon_name"],textAreaRef:u,formListName:l,fieldName:[t.name,"message"],setFieldsValue:r,getFieldValue:o})]}),!b&&Object(z.jsx)(f.a,{flex:"50px",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(z.jsx)(k.a,{type:"text",danger:!0,size:"large",icon:Object(z.jsx)(v.a,{}),onClick:()=>a(t.name)})})]})};Se.displayName="CareMessageItem";var $e=Se;const Ee=Object(l.d)(o.g).withConfig({componentId:"wb__sc-1oy0n5d-0"})(["width:100%;position:relative;.ant-form-item{margin-bottom:8px;.ant-form-item-explain{display:none;}}",""],(e=>e.theme.is_mobile&&Object(l.c)(["padding:10px;background-color:",";user-select:none;.swipeable-list-item__content{border-radius:5px;}"],(e=>e.theme.colors.white)))),Fe=e=>{const{fieldName:t,timeLabel:a,setFieldsValue:r,getFieldValue:o,timingType:l}=e,b=Object(s.useRef)(null),u=Object(d.a)((e=>e.is_mobile)),j=["inventory_product_care_configuration_attributes",t],m="before_schedule"===l;return Object(z.jsx)(ze,{children:Object(z.jsx)(n.a.List,{name:j,children:(e,s)=>{let{add:n,remove:d}=s;const p=e=>{const a=o(j)||[],s=a[e];null!==s&&void 0!==s&&s.id?(a[e]={...a[e],_destroy:!0},r({inventory_product_care_configuration_attributes:{...o("inventory_product_care_configuration_attributes"),[t]:a}})):d(e)},h=e.filter((e=>{const t=o([...j,e.name.toString()]);return(null===t||void 0===t?void 0:t.timing_type)===l&&!(null!==t&&void 0!==t&&t._destroy)}));return Object(z.jsxs)(z.Fragment,{children:[0===h.length&&Object(z.jsx)(fe.a,{description:Object(c.b)("phrases.empty"),image:fe.a.PRESENTED_IMAGE_SIMPLE}),h.map((e=>{const t=Object(z.jsx)($e,{field:e,first_item:!1,last_item:!1,container:b.current,add:n,destroy:p,setFieldsValue:r,getFieldValue:o,timeLabel:a,fieldPath:j},e.key);return Object(z.jsxs)(i.a.Fragment,{children:[Object(z.jsx)(Ne,{ref:b,children:u?Object(z.jsx)(we.SwipeableListItem,{swipeLeft:(()=>{if(u)return{content:Object(z.jsx)(ke.a,{icon:v.a,label:Object(c.b)("verbs.delete"),direction:"left",color:"red"}),action:()=>p(e.name)}})(),children:t}):t}),u?null:Object(z.jsx)(S.a,{dashed:!0})]},e.key)})),Object(z.jsx)(k.a,{type:"dashed",block:!0,size:u?"large":"middle",icon:Object(z.jsx)(re.a,{}),onClick:()=>{n({message:m?Object(c.b)("care_message.before_schedule_message"):Object(c.b)("care_message.after_schedule_message"),hours_offset:m?24:2,timing_type:l})},children:Object(c.b)("phrases.add_item")})]})}})})};Fe.displayName="CareFieldList";var De=Fe;const ze=l.d.div.withConfig({componentId:"wb__sc-l4mtbj-0"})(["margin-bottom:30px;"]),Ne=l.d.div.withConfig({componentId:"wb__sc-l4mtbj-1"})(["margin-bottom:15px;@media (max-width:768px){margin:15px 0;border-radius:5px;overflow:hidden;box-shadow:0 2px 9px rgba(83,83,83,0.06);};"]),qe=e=>{let{setFieldsValue:t,getFieldValue:a}=e;const s=[{key:"before",label:Object(c.b)("care_message.pre_tab"),children:Object(z.jsx)(De,{fieldName:"care_message_configurations_attributes",timeLabel:Object(c.b)("care_message.time_before_appointment"),setFieldsValue:t,getFieldValue:a,timingType:"before_schedule"})},{key:"after",label:Object(c.b)("care_message.post_tab"),children:Object(z.jsx)(De,{fieldName:"care_message_configurations_attributes",timeLabel:Object(c.b)("care_message.time_after_appointment"),setFieldsValue:t,getFieldValue:a,timingType:"after_schedule"})}];return Object(z.jsx)(p.a,{defaultActiveKey:"before",items:s,style:{marginTop:12}})};qe.displayName="CareFields";var Be=qe;var Pe=e=>{const{setFieldsValue:t,getFieldValue:a}=e,i=Object(d.a)((e=>{let{current_user:{features:t,addons:a}}=e;return t.has_whatsapp_auto||a.has_messages_whatsapp})),r=Object(ye.b)(),o=Object(s.useCallback)((async e=>{i?t({inventory_product_care_configuration_attributes:{...a("inventory_product_care_configuration_attributes"),active:e}}):r({is_addon:!0,search:ge.a.ID_MOBILE_MESSAGES_WHATSAPP})}),[r,i,t,a]);return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(ve.a,{type:"info",message:Object(c.b)("care_message.configure_description"),style:{width:"100%",marginBottom:15,padding:10}}),Object(z.jsx)(n.a.Item,{name:["inventory_product_care_configuration_attributes","id"],noStyle:!0,hidden:!0,children:Object(z.jsx)("input",{hidden:!0,autoComplete:"off"})}),Object(z.jsx)(n.a.Item,{name:["inventory_product_care_configuration_attributes","active"],label:Object(c.b)("phrases.enable_automatic_sending"),valuePropName:"checked",children:Object(z.jsx)(A.a,{onChange:o})}),i&&Object(z.jsx)(Be,{setFieldsValue:t,getFieldValue:a})]})};const Re=["cashback","commissions","invoice"];var Me=e=>{const{image_url:t,image_blurhash:a,service_id:i,setActiveTab:n,setImage:r,setPreview:o,setFieldsValue:l,getFieldValue:b}=e,u=Object(s.useRef)(null),j=Object(d.a)((e=>e.is_mobile)),p=Object(d.a)((e=>e.is_agendapro)),_=Object(d.a)((e=>e.is_webook)),x=Object(d.a)((e=>e.current_user.salon.salon_configuration)),v=Object(O.a)(),g=Object(s.useCallback)((e=>{var t;Re.includes(e)&&p?null===(t=u.current)||void 0===t||t.open():"cashback"!==e||x.cashback_active?n(e):v()}),[p,v,x.cashback_active,n]),y=Object(s.useCallback)((e=>Object(z.jsx)(m.a,{placement:j?"bottom":void 0,trigger:["click","hover"],title:i?"":Object(c.b)("phrases.deactivated_tab_warning",{module:Object(c.b)("words.service").toLocaleLowerCase()}),children:e})),[j,i]),f=Object(s.useMemo)((()=>{const e=[{key:"register",forceRender:!0,label:Object(c.b)("words.record"),children:Object(z.jsx)(xe,{service_id:i,image_url:t,image_blurhash:a,setImage:r,setPreview:o})},{key:"settings",label:Object(c.b)("words.setting_other"),children:Object(z.jsx)(ce,{})},{key:"cashback",label:Object(c.b)("words.cashback"),children:Object(z.jsx)(H.a,{})},{key:"care",disabled:!i,label:Object(z.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[y(Object(c.b)("care_message.title")),Object(z.jsx)(ne.c,{date:"2025/09/10"})]}),children:Object(z.jsx)(Pe,{setFieldsValue:l,getFieldValue:b})},{key:"client_return",disabled:!i,label:y(Object(c.b)("words.return")),children:Object(z.jsx)(U.a,{setFieldsValue:l,is_product:!1})},{key:"commissions",disabled:!i,label:y(`${Object(c.b)("words.commission_other")} ${Object(c.b)("words.and")} ${Object(c.b)("words.assistant_other")}`),children:Object(z.jsx)(se,{setFieldsValue:l,getFieldValue:b})},{key:"employees",disabled:!i,label:y(Object(c.b)("verbs.personalize")),children:Object(z.jsx)(V,{setFieldsValue:l,getFieldValue:b})},{key:"composes",disabled:!i,label:y(Object(c.b)("words.consumed_product_other")),children:Object(z.jsx)(je,{setFieldsValue:l,getFieldValue:b})}];return _||e.push({key:"invoice",disabled:!i,label:y(Object(c.b)("services.drawer.configure_invoice")),children:Object(z.jsx)(Y,{})}),e}),[b,a,t,_,y,i,l,r,o]);return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Te,{onTabClick:g,tabPosition:j?"top":"left",defaultActiveKey:e.active_tab,items:f,renderTabBar:(e,t)=>Object(z.jsx)(t,{...e,mobile:!1})}),Object(z.jsx)(h.a,{ref:u})]})};const Te=Object(l.d)(p.a).withConfig({componentId:"wb__sc-1yxqdcw-0"})(["height:calc(100vh - 125px);.ant-tabs-content-holder{overflow-y:auto;padding-right:15px;","}",""],(e=>e.theme.is_mobile&&Object(l.c)(["padding-right:0;margin-bottom:20px;"])),(e=>e.theme.is_mobile&&Object(l.c)(["height:100%;"])));var Le=a(37),Ve=a(2879),He=a(76),Ue=a(116);const Ge=Le.e`
  query FetchService($id: ID) {
    inventory_product(id: $id) {
      id
      description
      can_schedule_minutes_before
      group_id
      price_type
      price_cents
      additional_cost_cents
      commission
      public_description
      return_time
      points_awarded
      points_needed
      active
      favorite
      site
      available_to_online_scheduling
      gender_audience
      image_url: large_thumb_url
      image_blurhash
      duraction: duration
      client_return_message
      send_client_return_message
      use_default_client_return_message
      cashback_active
      cashback_value
      cashback_value_type
      additional_cost_percentage
      additional_cost_type

      offers_categories {
        id
      }
      composes_attributes: composes {
        id
        product_id
        quantity
        extra_quantity
      }
      product_configuration_attributes: product_configuration {
        id
        employee_id
        value_cents
        duraction
        can_schedule_online
        use_service_duration
        use_service_value
        use_service_additional_cost
        additional_cost_cents
        additional_cost_percentage
        additional_cost_type
      }
      commissions_attributes: commissions {
        id employee_id value discount_assistant_commission_from value_as_assistant calculate_assistant_commission_on
      }
      invoice_product_attributes: invoice_product {
        id service_list_item cnae city_service_code
      }
      inventory_product_care_configuration_attributes: inventory_product_care_configuration {
        id
        active
        care_message_configurations_attributes: care_message_configurations {
          id
          message
          hours_offset
          timing_type
        }
      }
    }
  }
`;var Ye=e=>{let{form:t,setPreview:a,setImageBlurhash:s}=e;const i=Object(d.a)((e=>e.current_user.salon.salon_configuration.calendar_client_can_schedule_minutes_before));return Object(Ve.a)(Ge,{fetchPolicy:"network-only",onCompleted:e=>{var c;const{inventory_product:n}=e,r=null===(c=n.offers_categories)||void 0===c?void 0:c.map((e=>e.id)),o=[...n.composes_attributes||[],{id:void 0}],l=[...[...n.commissions_attributes||[]],{value:n.commission,discount_assistant_commission_from:"salon",value_as_assistant:0,calculate_assistant_commission_on:3}],d=[...[...n.product_configuration_attributes||[]],{value_cents:n.price_cents,duraction:n.duraction/60}],b=n.invoice_product_attributes||{service_list_item:"",cnae:"",city_service_code:""};t.setFieldsValue({...n,can_schedule_minutes_before:n.can_schedule_minutes_before||i,commissions_attributes:l,offers_category_ids:r,composes_attributes:o,product_configuration_attributes:d,invoice_product_attributes:b}),a(n.image_url),s(n.image_blurhash)},onError:e=>{He.a.captureException(e),console.log(e),Ue.b.error("N\xe3o foi poss\xedvel buscar os dados do servi\xe7o. Atualize a p\xe1gina e tente novamente. Se o erro persistir entre em contato. C\xf3digo: #202011031308")}})},Qe=a(581);const Je=(e,t)=>{let{afterSave:a}=e;const[i,o]=Object(s.useState)(!1),[l,m]=Object(s.useState)("register"),[p,h]=Object(s.useState)(),[O,_]=Object(s.useState)(),[x,v]=Object(s.useState)(),[g,y]=Object(s.useState)(void 0),f=Object(d.a)((e=>e.is_mobile)),[w]=n.a.useForm(),{resetFields:k,submit:C,setFieldsValue:I,getFieldValue:A}=w,[S,{loading:$}]=Object(u.a)(),[E,{loading:F,error:D}]=Ye({form:w,setPreview:_,setImageBlurhash:v}),N=Object(s.useCallback)((e=>{e||(k(),h(void 0),_(void 0),v(void 0),y(void 0),m("register"))}),[k]),q=Object(s.useCallback)((function(){let{id:e,initial_active_bar:t,initial_values:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&(E({variables:{id:e}}),y(e)),a&&I(a),t&&m(t),o(!0)}),[E,I]),B=Object(s.useCallback)((()=>{o(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:q,close:B})));const P=Object(s.useCallback)((async e=>{const t=(e=>{var t;const a=r("employee_id",e.commissions_attributes),s=r("product_id",e.composes_attributes),i=r("employee_id",e.product_configuration_attributes);let c=e.inventory_product_care_configuration_attributes;if(null!==(t=c)&&void 0!==t&&t.care_message_configurations_attributes){const e=r("message",c.care_message_configurations_attributes);c={...c,care_message_configurations_attributes:e}}else c=void 0;return{...e,commissions_attributes:a,composes_attributes:s,product_configuration_attributes:i,inventory_product_care_configuration_attributes:c}})(e),{success:s,service:i}=await S({...t,image:p});s&&(B(),null===a||void 0===a||a(i))}),[a,B,p,S]),R=Object(s.useCallback)((e=>{var t;let{errorFields:a}=e;const s=null===a||void 0===a||null===(t=a[0].name)||void 0===t?void 0:t[0],i=Ke(s);m(i)}),[]),M=Object(s.useMemo)((()=>`${g?Object(c.b)("verbs.editing"):Object(c.b)("words.new")} ${Object(c.b)("words.service").toLocaleLowerCase()}`),[g]);return Object(z.jsx)(Ze,{open:i,title:M,width:1024,placement:f?"bottom":"right",height:"100%",onClose:B,closable:!0,styles:{body:{overflowY:f?"auto":"hidden",paddingTop:0,paddingRight:f?15:0,paddingBottom:0}},destroyOnClose:!0,footer:Object(z.jsx)(Qe.a,{close:B,submit:C,loading:F||$,disabled:!!D}),afterOpenChange:N,push:!1,children:Object(z.jsxs)(We,{children:[Object(z.jsx)(b.a,{loading:F}),Object(z.jsx)(n.a,{form:w,layout:"vertical",onFinish:P,onFinishFailed:R,style:{width:"100%"},scrollToFirstError:!0,children:Object(z.jsx)(j.a,{visible:!!D,small:!0,children:Object(z.jsx)(Me,{active_tab:l,image_url:O,image_blurhash:x,service_id:g,afterSave:a,setActiveTab:m,setImage:h,setFieldsValue:I,getFieldValue:A,setPreview:_})})})]})})};Je.displayName="ServiceDrawer";t.a=Object(s.memo)(Object(s.forwardRef)(Je));const We=Object(l.d)(o.g).withConfig({componentId:"wb__sc-ky3jqa-0"})(["position:relative;",""],(e=>!e.theme.is_mobile&&Object(l.c)(["height:100%;"]))),Ze=Object(l.d)(o.a).withConfig({componentId:"wb__sc-ky3jqa-1"})([".ant-drawer-header{background:",";}.ant-drawer-body{background:",";}"],(e=>e.theme.is_mobile?"#f8f8f8":"#ffffff"),(e=>e.theme.is_mobile?"#f8f8f8":"#ffffff")),Ke=e=>({description:"register",group_id:"register",return_time:"client_return"}[e]||"register")},718:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var s=a(0),i=a(50),c=a(37),n=a(405),r=a(116),o=a(641),l=a(2879),d=a(76);const b=c.e`
  query GetClientById($id: ID!) {
    client(id: $id, search_inactives: true) {
      ...ClientsAttributes
    }
  }

  ${o.a}
`;var u=()=>{const[e,{data:t,loading:a}]=Object(l.a)(b,{fetchPolicy:"cache-first",onError:e=>{console.log(e),d.a.captureException(e)}});return{fetchClient:t=>{t&&e({variables:{id:t}})},client:null===t||void 0===t?void 0:t.client,loading:a}};const j=c.e`
  query WebookAllClients($search_query: String, $page: Int) {
    all_clients(search_query: $search_query, page: $page, results: 25, actives: true) {
      all {
        ...ClientsAttributes
      }
    }
  }

  ${o.a}
`;t.b=function(){let{except:e,value:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[a,c]=Object(s.useState)(1),[o,l]=Object(s.useState)(""),[b,m]=Object(s.useState)([]),{fetchClient:p,client:h}=u();Object(s.useEffect)((()=>{if(!t||o)return;b.some((e=>String(e.id)===String(t)))||p(String(t))}),[t,b,o,p]),Object(s.useEffect)((()=>{h&&m((e=>e.some((e=>String(e.id)===String(h.id)))?e:[h,...e]))}),[h]);const O=Object(s.useCallback)((e=>{c(1),l(e)}),[]),_=Object(s.useMemo)((()=>({search_query:o,page:a})),[o,a]),{loading:x}=Object(n.f)(j,{notifyOnNetworkStatusChange:!0,variables:_,onError:e=>{console.log(e),d.a.captureException(e),r.b.error(Object(i.b)("phrases.generic_load_error_message"))},onCompleted:t=>{const{all_clients:s}=t;let i=(null===s||void 0===s?void 0:s.all)||[];e&&(i=i.filter((t=>!(null!==e&&void 0!==e&&e.includes(t.id))))),m(1!==a?e=>[...e,...i]:i)}});return Object(s.useMemo)((()=>({clients:b,setSearch:O,loading:x,search:o,setPage:c})),[b,x,o,O])}},719:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(1256),n=a(137),r=a(27),o=a(37),l=a(2879);const d=o.e`
  query WebookStates($search: String) {
    states(search: $search) {
      id name symbol
    }
  }
`;var b=e=>{const[t,{loading:a}]=Object(l.a)(d,{...e});return[e=>{let{search:a}=e;t({variables:{search:a}})},a]},u=a(22);const j=(e,t)=>{const a=Object(r.a)((e=>e.states)),[o,l]=Object(s.useState)(a),d=Object(s.useCallback)((e=>{l(e.states)}),[]),[j,m]=b({onCompleted:d});Object(s.useEffect)((()=>{if(!e.value)return;o.find((t=>String(t.id)===String(e.value)))||j({search:e.value})}),[e.value,o]);const p=Object(s.useCallback)(((e,t)=>{const a=Object(n.deburr)(e.toLowerCase());return Object(n.deburr)(null===t||void 0===t?void 0:t.children.toLowerCase()).indexOf(a)>=0}),[]);return Object(u.jsx)(c.a,{showSearch:!0,ref:t,placeholder:Object(i.b)("words.state"),optionFilterProp:"name",filterOption:p,getPopupContainer:e=>e.parentNode,loading:m,...e,children:o.map((e=>Object(u.jsx)(c.a.Option,{value:e.id,name:e.name,children:e.name},e.id)))})};j.displayName="StateInput";t.a=Object(s.memo)(Object(s.forwardRef)(j))},720:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(1256),n=a(1813),r=a(137),o=a(37),l=a(2879);const d=o.e`
  query AddressFormFecthCities($state_id: ID) {
    cities(state_id: $state_id) {
      id state_id name ibge
    }
  }
`;var b=e=>{const[t,{loading:a}]=Object(l.a)(d,{...e});return[Object(s.useCallback)((e=>{let{state_id:a}=e;t({variables:{state_id:a}})}),[t]),a]},u=a(22);const j=e=>{let{state_id:t,...a}=e;const[o,l]=Object(s.useState)([]),d=Object(s.useCallback)((e=>{l(e.cities)}),[]),[j,m]=b({onCompleted:d});Object(s.useEffect)((()=>{t&&j({state_id:t})}),[t,j]);const p=Object(s.useCallback)(((e,t)=>{const a=Object(r.deburr)(e.toLowerCase());return Object(r.deburr)(null===t||void 0===t?void 0:t.children.toLowerCase()).indexOf(a)>=0}),[]);return Object(u.jsx)(c.a,{showSearch:!0,placeholder:Object(i.b)("words.city"),optionFilterProp:"name",filterOption:p,getPopupContainer:e=>e.parentNode,notFoundContent:Object(u.jsx)(n.a,{description:Object(i.b)("phrases.empty")}),loading:m,...a,children:o.map((e=>Object(u.jsx)(c.a.Option,{value:e.id,name:e.name,children:e.name},e.id)))})};j.displayName="CityInput";t.a=Object(s.memo)(j)},721:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var s=a(50);const i=(e,t)=>t?t.length>=6?Promise.resolve(!0):Promise.reject(Object(s.b)("phrases.characters_min",{number:6})):Promise.resolve(!0)},722:function(e,t,a){"use strict";var s=a(82),i=a(18),c=a(27);t.a=()=>{const e=Object(c.a)((e=>e.is_webook)),t=Object(c.a)((e=>{var t;return null===(t=e.current_user.salon.site_config)||void 0===t?void 0:t.subdomain}));return e?`${t}.usewebook.com`:i.w?`${t}.${s.a.ONLINEBOOKING_DOMAIN}`:`${t}.localhost:3050`}},723:function(e,t,a){"use strict";var s=a(37),i=a(1850),c=a(76);const n=s.e`
  mutation sendRocketChatMessage ($data: SendRocketChatMessageInput!) {
    sendRocketChatMessage(input: $data) {
      success
    }
  }
`;t.a=()=>{const[e]=Object(i.a)(n);return[async t=>{try{const{data:a}=await e({variables:{data:t}}),{success:s}=(null===a||void 0===a?void 0:a.sendRocketChatMessage)||{};return{success:s}}catch(a){return c.a.captureException(a),console.error(a),{success:!1}}}]}},732:function(e,t,a){"use strict";a(0);var s=a(250),i=a(579),c=a(19),n=a(22);const r=e=>{let{left:t,style:a,size:c=14,value:r,black:l}=e;const d=r?0===r?"neutral":r>0?"positive":"negative":"";return Object(n.jsxs)(o,{style:{...a},className:l?"black":d,children:[Object(n.jsx)(s.h,{style:{maxWidth:"50%"},$size:c,className:"left",children:t}),Object(n.jsx)(s.h,{$size:c,className:"right",children:Object(i.d)(r)})]})};r.displayName="DottedRow",t.a=r;const o=c.d.div.withConfig({componentId:"wb__sc-o7twfd-0"})(['line-height:2em;display:flex;flex:1;margin-bottom:10px;.left{order:1;}.right{order:3;font-size:1.1em;}&.positive{color:#36AB18;}&.neutral{color:#e68e19;}&.negative{color:#ff6b68;}&:after{content:"";margin:0 4px;background:-webkit-radial-gradient(50% 50%,circle,rgba(0,0,0,0.65) 12%,transparent 15%);background:-moz-radial-gradient(50% 50%,circle,rgba(0,0,0,0.65) 12%,transparent 15%);background:radial-gradient(circle at 50% 50%,rgba(0,0,0,0.65) 12%,transparent 15%);background-size:1em 1em;background-position:0 0.5em;background-repeat:repeat-x;flex-grow:1;order:2;}'])},733:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var s=a(137);const i=(e,t)=>{const a=(null===t||void 0===t?void 0:t.flatMap((e=>e.promotion_items)))||[],i=Object(s.cloneDeep)(e);return a.forEach((t=>{const a=e.findIndex((e=>e.id===t.inventory_product_id));if(-1===a)return;let s=i[a].price_cents;"cents"===t.value_type?s-=100*t.value:"percentage"===t.value_type&&(s-=s*(t.value/100)),i[a].has_promotion=i[a].price_cents!==s,i[a].price_cents=s})),i}},734:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var s=a(37),i=a(405);const c=s.e`
  query PromotionList ($start_date: String, $end_date: String, $weekdays: [String]) {
    all_promotions (start_date: $start_date, end_date: $end_date, weekdays: $weekdays) {
      all {
        id
        name

        promotion_items {
          id
          value_type
          value
          inventory_product_id
        }
      }
    }
  }
`;t.b=e=>{const t=null===e||void 0===e?void 0:e.format("YYYY-MM-DD"),a=`wday_${null===e||void 0===e?void 0:e.day()}`;return Object(i.f)(c,{skip:!t,fetchPolicy:"network-only",variables:{start_date:t,end_date:t,weekdays:[a]}})}},735:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return n}));var s=a(157),i=a(19);const c=i.d.div.withConfig({componentId:"wb__sc-1j4aede-0"})(["padding:1px 6px;font-size:12px;background-color:",";font-weight:bold;color:",";border-radius:5px"],(e=>e.$backgroundColor||Object(s.b)(.5,e.$color)),(e=>e.$color)),n=i.d.div.withConfig({componentId:"wb__sc-1j4aede-1"})(["position:fixed;bottom:var(--safe-area-inset-bottom);left:","px;right:","px;"],(e=>e.$margin||25),(e=>e.$margin||25))},742:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(340),n=a(2937),r=a(3024),o=a(159),l=a(20),d=a(650),b=a(3042),u=a(250),j=a(37),m=a(2879);const p=j.e`
  query CompanyAddressQuery {
    current_company {
      zip_code: cep
      address
      number
      district
      state_id
      city_id
    }
  }
`;var h=e=>Object(m.a)(p,{fetchPolicy:"network-only",onCompleted:e}),O=a(1850),_=a(116),x=a(76);const v=j.e`
  mutation SaveBelasisPayMutation($data: SaveBelasisPayInput!) {
    saveBelasisPay(input: $data) {
      success errors
    }
  }
`;var g=()=>{const[e,{loading:t}]=Object(O.a)(v);return[async t=>{const a=_.b.loading(`${Object(i.b)("verbs.wait")}...`,0);try{const{data:s}=await e({variables:{data:t}}),{success:i=!1,errors:c=[]}=(null===s||void 0===s?void 0:s.saveBelasisPay)||{};return i||(_.b.destroy(),null===c||void 0===c||c.map((e=>_.b.error(e)))),{success:i}}catch(s){return console.log(s),x.a.captureException(s),_.b.error(Object(i.b)("phrases.generic_save_error_message")),{success:!1}}finally{a()}},t]},y=a(27);const f=(e,t)=>/^[a-zA-Z\xc0-\xd6\xd8-\xf6\xf8-\xff'-]+(?:\s[a-zA-Z\xc0-\xd6\xd8-\xf6\xf8-\xff'-]+)+$/.test(t.trim())?Promise.resolve(!0):Promise.reject(Object(i.b)("webook_pay_drawer.full_name_validation")),w=[{id:"001",value:"001 - Banco Do Brasil S.A (BB)"},{id:"237",value:"237 - Bradesco S.A."},{id:"335",value:"335 - Banco Digio S.A."},{id:"260",value:"260 - Nu Pagamentos S.A (Nubank)"},{id:"290",value:"290 - PagSeguro Internet S.A."},{id:"323",value:"323 - Mercado Pago \u2013 Conta Do Mercado Livre"},{id:"637",value:"637 - Banco Sofisa S.A (Sofisa Direto)"},{id:"077",value:"077 - Banco Inter S.A."},{id:"341",value:"341 - Ita\xfa Unibanco S.A."},{id:"104",value:"104 - Caixa Econ\xf4mica Federal (CEF)"},{id:"033",value:"033 - Banco Santander Brasil S.A."},{id:"212",value:"212 - Banco Original S.A."},{id:"756",value:"756 - Bancoob \u2013 Banco Cooperativo Do Brasil S.A."},{id:"655",value:"655 - Banco Votorantim S.A."},{id:"655",value:"655 - Neon Pagamentos S.A (Memso C\xf3digo Do Banco Votorantim)"},{id:"041",value:"041 - Banrisul \u2013 Banco Do Estado Do Rio Grande Do Sul S.A."},{id:"389",value:"389 - Banco Mercantil Do Brasil S.A."},{id:"422",value:"422 - Banco Safra S.A."},{id:"070",value:"070 - BRB \u2013 Banco De Bras\xedlia S.A."},{id:"136",value:"136 - Unicred Cooperativa LTDA"},{id:"741",value:"741 - Banco Ribeir\xe3o Preto S.A."},{id:"739",value:"739 - Banco Cetelem S.A."},{id:"743",value:"743 - Banco Semear S.A."},{id:"100",value:"100 - Planner Corretora De Valores S.A."},{id:"096",value:"096 - Banco B3 S.A."},{id:"747",value:"747 - Banco Rabobank Internacional Do Brasil S.A."},{id:"748",value:"748 - Banco Cooperativa Sicredi S.A."},{id:"752",value:"752 - Banco BNP Paribas Brasil S.A."},{id:"091",value:"091 - Unicred Central Rs"},{id:"399",value:"399 - Kirton Bank S.A. \u2013 Banco M\xfaltiplo"},{id:"108",value:"108 - Portocred S.A."},{id:"757",value:"757 - Banco Keb Hana Do Brasil S.A."},{id:"102",value:"102 - XP Investimentos S.A."},{id:"348",value:"348 - Banco XP S/A"},{id:"340",value:"340 - Super Pagamentos S/A (Superdital)"},{id:"084",value:"084 - Uniprime Norte Do Paran\xe1"},{id:"180",value:"180 - Cm Capital Markets Cctvm Ltda"},{id:"066",value:"066 - Banco Morgan Stanley S.A."},{id:"015",value:"015 - UBS Brasil Cctvm S.A."},{id:"143",value:"143 - Treviso Cc S.A."},{id:"062",value:"062 - Hipercard Banco M\xfaltiplo S.A."},{id:"074",value:"074 - Banco J. Safra S.A."},{id:"099",value:"099 - Uniprime Central Ccc Ltda"},{id:"025",value:"025 - Banco Alfa S.A."},{id:"075",value:"075 - Bco Abn Amro S.A."},{id:"040",value:"040 - Banco Cargill S.A."},{id:"190",value:"190 - Servicoop"},{id:"063",value:"063 - Banco Bradescard"},{id:"191",value:"191 - Nova Futura Ctvm Ltda"},{id:"064",value:"064 - Goldman Sachs Do Brasil Bm S.A."},{id:"097",value:"097 - Ccc Noroeste Brasileiro Ltda"},{id:"016",value:"016 - Ccm Desp Tr\xe2ns Sc E Rs"},{id:"012",value:"012 - Banco Inbursa"},{id:"003",value:"003 - Banco Da Amaz\xf4nia S.A."},{id:"060",value:"060 - Confidence Cc S.A."},{id:"037",value:"037 - Banco Do Estado Do Par\xe1 S.A."},{id:"159",value:"159 - Casa do Cr\xe9dito S.A."},{id:"172",value:"172 - Albatross Ccv S.A."},{id:"085",value:"085 - Cooperativa Central de Cr\xe9ditos \u2013 Ailos"},{id:"114",value:"114 - Central Cooperativa De Cr\xe9dito no Estado do Esp\xedrito Santo"},{id:"036",value:"036 - Banco Bradesco BBI S.A."},{id:"394",value:"394 - Banco Bradesco Financiamentos S.A."},{id:"004",value:"004 - Banco Do Nordeste Do Brasil S.A."},{id:"320",value:"320 - China Construction Bank \u2013 Ccb Brasil S.A."},{id:"189",value:"189 - Hs Financeira"},{id:"105",value:"105 - Lecca Cfi S.A."},{id:"076",value:"076 - Banco KDB Brasil S.A."},{id:"082",value:"082 - Banco Top\xe1zio S.A."},{id:"286",value:"286 - Cooperativa de Cr\xe9dito Rural de De Ouro"},{id:"093",value:"093 - P\xf3loCred Scmepp Ltda"},{id:"273",value:"273 - Ccr De S\xe3o Miguel Do Oeste"},{id:"157",value:"157 - Icap Do Brasil Ctvm Ltda"},{id:"183",value:"183 - Socred S.A."},{id:"014",value:"014 - Natixis Brasil S.A."},{id:"130",value:"130 - Caruana Scfi"},{id:"127",value:"127 - Codepe Cvc S.A."},{id:"079",value:"079 - Banco Original Do Agroneg\xf3cio S.A."},{id:"081",value:"081 - Bbn Banco Brasileiro De Negocios S.A."},{id:"118",value:"118 - Standard Chartered Bi S.A."},{id:"133",value:"133 - Cresol Confedera\xe7\xe3o"},{id:"121",value:"121 - Banco Agibank S.A."},{id:"083",value:"083 - Banco Da China Brasil S.A."},{id:"138",value:"138 - Get Money Cc Ltda"},{id:"024",value:"024 - Banco Bandepe S.A."},{id:"095",value:"095 - Banco Confidence De C\xe2mbio S.A."},{id:"094",value:"094 - Banco Finaxis"},{id:"276",value:"276 - Senff S.A."},{id:"137",value:"137 - Multimoney Cc Ltda"},{id:"092",value:"092 - BRK S.A."},{id:"047",value:"047 - Banco do Estado de Sergipe S.A."},{id:"144",value:"144 - Bexs Banco De Cambio S.A."},{id:"126",value:"126 - BR Partners Banco de Investimento S.A."},{id:"301",value:"301 - BPP Institui\xe7\xe3o De Pagamentos S.A."},{id:"173",value:"173 - BRL Trust Dtvm Sa"},{id:"119",value:"119 - Banco Western Union do Brasil S.A."},{id:"254",value:"254 - Paran\xe1 Banco S.A."},{id:"268",value:"268 - Barigui Companhia Hipotec\xe1ria"},{id:"107",value:"107 - Banco Bocom BBM S.A."},{id:"412",value:"412 - Banco Capital S.A."},{id:"124",value:"124 - Banco Woori Bank Do Brasil S.A."},{id:"149",value:"149 - Facta S.A. Cfi"},{id:"197",value:"197 - Stone Pagamentos S.A."},{id:"142",value:"142 - Broker Brasil Cc Ltda"},{id:"389",value:"389 - Banco Mercantil Do Brasil S.A."},{id:"184",value:"184 - Banco Ita\xfa BBA S.A."},{id:"634",value:"634 - Banco Triangulo S.A (Banco Tri\xe2ngulo)"},{id:"545",value:"545 - Senso Ccvm S.A."},{id:"132",value:"132 - ICBC do Brasil Bm S.A."},{id:"298",value:"298 - Vip\u2019s Cc Ltda"},{id:"129",value:"129 - UBS Brasil Bi S.A."},{id:"128",value:"128 - Ms Bank S.A Banco De C\xe2mbio"},{id:"194",value:"194 - Parmetal Dtvm Ltda"},{id:"310",value:"310 - VORTX Dtvm Ltda"},{id:"163",value:"163 - Commerzbank Brasil S.A Banco M\xfaltiplo"},{id:"280",value:"280 - Avista S.A."},{id:"146",value:"146 - Guitta Cc Ltda"},{id:"279",value:"279 - Ccr De Primavera Do Leste"},{id:"182",value:"182 - Dacasa Financeira S/A"},{id:"278",value:"278 - Genial Investimentos Cvm S.A."},{id:"271",value:"271 - Ib Cctvm Ltda"},{id:"021",value:"021 - Banco Banestes S.A."},{id:"246",value:"246 - Banco Abc Brasil S.A."},{id:"751",value:"751 - Scotiabank Brasil"},{id:"208",value:"208 - Banco BTG Pactual S.A."},{id:"746",value:"746 - Banco Modal S.A."},{id:"241",value:"241 - Banco Classico S.A."},{id:"612",value:"612 - Banco Guanabara S.A."},{id:"604",value:"604 - Banco Industrial Do Brasil S.A."},{id:"505",value:"505 - Banco Credit Suisse (Brl) S.A."},{id:"196",value:"196 - Banco Fair Cc S.A."},{id:"300",value:"300 - Banco La Nacion Argentina"},{id:"477",value:"477 - Citibank N.A."},{id:"266",value:"266 - Banco Cedula S.A."},{id:"122",value:"122 - Banco Bradesco BERJ S.A."},{id:"376",value:"376 - Banco J.P. Morgan S.A."},{id:"473",value:"473 - Banco Caixa Geral Brasil S.A."},{id:"745",value:"745 - Banco Citibank S.A."},{id:"120",value:"120 - Banco Rodobens S.A."},{id:"265",value:"265 - Banco Fator S.A."},{id:"007",value:"007 - BNDES (Banco Nacional Do Desenvolvimento Social)"},{id:"188",value:"188 - Ativa S.A Investimentos"},{id:"134",value:"134 - BGC Liquidez Dtvm Ltda"},{id:"641",value:"641 - Banco Alvorada S.A."},{id:"029",value:"029 - Banco Ita\xfa Consignado S.A."},{id:"243",value:"243 - Banco M\xe1xima S.A."},{id:"078",value:"078 - Haitong Bi Do Brasil S.A."},{id:"111",value:"111 - Banco Oliveira Trust Dtvm S.A."},{id:"017",value:"017 - Bny Mellon Banco S.A."},{id:"174",value:"174 - Pernambucanas Financ S.A."},{id:"495",value:"495 - La Provincia Buenos Aires Banco"},{id:"125",value:"125 - Brasil Plural S.A Banco"},{id:"488",value:"488 - Jpmorgan Chase Bank"},{id:"065",value:"065 - Banco Andbank S.A."},{id:"492",value:"492 - Ing Bank N.V."},{id:"250",value:"250 - Banco Bcv"},{id:"145",value:"145 - Levycam Ccv Ltda"},{id:"494",value:"494 - Banco Rep Oriental Uruguay"},{id:"253",value:"253 - Bexs Cc S.A."},{id:"269",value:"269 - Hsbc Banco De Investimento"},{id:"213",value:"213 - Bco Arbi S.A."},{id:"139",value:"139 - Intesa Sanpaolo Brasil S.A."},{id:"018",value:"018 - Banco Tricury S.A."},{id:"630",value:"630 - Banco Intercap S.A."},{id:"224",value:"224 - Banco Fibra S.A."},{id:"600",value:"600 - Banco Luso Brasileiro S.A."},{id:"623",value:"623 - Banco Pan S.A."},{id:"204",value:"204 - Banco Bradesco Cartoes S.A."},{id:"479",value:"479 - Banco ItauBank S.A."},{id:"456",value:"456 - Banco MUFG Brasil S.A."},{id:"464",value:"464 - Banco Sumitomo Mitsui Brasil S.A."},{id:"613",value:"613 - Omni Banco S.A."},{id:"652",value:"652 - Ita\xfa Unibanco Holding Bm S.A."},{id:"653",value:"653 - Banco Indusval S.A."},{id:"069",value:"069 - Banco Crefisa S.A."},{id:"370",value:"370 - Banco Mizuho S.A."},{id:"249",value:"249 - Banco Investcred Unibanco S.A."},{id:"318",value:"318 - Banco BMG S.A."},{id:"626",value:"626 - Banco Ficsa S.A."},{id:"270",value:"270 - Sagitur Cc Ltda"},{id:"366",value:"366 - Banco Societe Generale Brasil"},{id:"113",value:"113 - Magliano S.A."},{id:"131",value:"131 - Tullett Prebon Brasil Cvc Ltda"},{id:"011",value:"011 - C.Suisse Hedging-Griffo Cv S.A (Credit Suisse)"},{id:"611",value:"611 - Banco Paulista"},{id:"755",value:"755 - Bofa Merrill Lynch Bm S.A."},{id:"089",value:"089 - Ccr Reg Mogiana"},{id:"643",value:"643 - Banco Pine S.A."},{id:"140",value:"140 - Easynvest \u2013 T\xedtulo Cv S.A."},{id:"707",value:"707 - Banco Daycoval S.A."},{id:"288",value:"288 - Carol Dtvm Ltda"},{id:"101",value:"101 - Renascen\xe7a Dtvm Ltda"},{id:"487",value:"487 - Deutsche Bank S.A (Banco Alem\xe3o)"},{id:"233",value:"233 - Banco Cifra S.A."},{id:"177",value:"177 - Guide Investimentos S.A. Corretora de Valores"},{id:"633",value:"633 - Banco Rendimento S.A."},{id:"218",value:"218 - Banco Bs2 S.A."},{id:"292",value:"292 - BS2 Distribuidora De T\xedtulos E Investimentos"},{id:"169",value:"169 - Banco Ol\xe9 Bonsucesso Consignado S.A."},{id:"293",value:"293 - Lastro Rdv Dtvm Ltda"},{id:"285",value:"285 - Frente Cc Ltda"},{id:"080",value:"080 - B&T Cc Ltda"},{id:"753",value:"753 - Novo Banco Continental S.A Bm"},{id:"222",value:"222 - Banco Cr\xe9dit Agricole Br S.A."},{id:"754",value:"754 - Banco Sistema S.A."},{id:"098",value:"098 - Credialian\xe7a Ccr"},{id:"610",value:"610 - Banco VR S.A."},{id:"712",value:"712 - Banco Ourinvest S.A."},{id:"010",value:"010 - CREDICOAMO CR\xc9DITO RURAL COOPERATIVA"},{id:"283",value:"283 - RB Capital Investimentos Dtvm Ltda"},{id:"217",value:"217 - Banco John Deere S.A."},{id:"117",value:"117 - Advanced Cc Ltda"},{id:"336",value:"336 - Banco C6 S.A \u2013 C6 Bank"},{id:"654",value:"654 - Banco A.J. Renner S.A."},{id:"272",value:"272 - AGK Corretora de C\xe2mbio S.A."},{id:"330",value:"330 - Banco Bari de Investimentos e Financiamentos S.A."},{id:"362",value:"362 - CIELO S.A."},{id:"322",value:"322 - Cooperativa de Cr\xe9dito Rural de Abelardo Luz \u2013 Sulcredi/Crediluz"},{id:"350",value:"350 - Cooperativa De Cr\xe9dito Rural De Pequenos Agricultores E Da Reforma Agr\xe1ria Do Ce"},{id:"091",value:"091 - Central De Cooperativas De Economia E Cr\xe9dito M\xfatuo Do Estado Do Rio Grande Do S"},{id:"379",value:"379 - COOPERFORTE \u2013 Cooperativa De Economia E Cr\xe9dito M\xfatuo Dos Funcion\xe1rios De Instit"},{id:"378",value:"378 - BBC LEASING S.A. \u2013 Arrendamento Mercantil"},{id:"360",value:"360 - TRINUS Capital Distribuidora De T\xedtulos E Valores Mobili\xe1rios S.A."},{id:"084",value:"084 - UNIPRIME NORTE DO PARAN\xc1 \u2013 COOPERATIVA DE CR\xc9DITO LTDA"},{id:"387",value:"387 - Banco Toyota do Brasil S.A."},{id:"326",value:"326 - PARATI \u2013 CR\xc9DITO, FINANCIAMENTO E INVESTIMENTO S.A."},{id:"315",value:"315 - PI Distribuidora de T\xedtulos e Valores Mobili\xe1rios S.A."},{id:"307",value:"307 - Terra Investimentos Distribuidora de T\xedtulos e Valores Mobili\xe1rios Ltda."},{id:"296",value:"296 - VISION S.A. CORRETORA DE CAMBIO"},{id:"382",value:"382 - FID\xdaCIA SOCIEDADE DE CR\xc9DITO AO MICROEMPREENDEDOR E \xc0 EMPRESA DE PEQUENO PORTE L"},{id:"097",value:"097 - Credisis \u2013 Central de Cooperativas de Cr\xe9dito Ltda."},{id:"016",value:"016 - COOPERATIVA DE CR\xc9DITO M\xdaTUO DOS DESPACHANTES DE TR\xc2NSITO DE SANTA CATARINA E RI"},{id:"299",value:"299 - SOROCRED CR\xc9DITO, FINANCIAMENTO E INVESTIMENTO S.A."},{id:"359",value:"359 - ZEMA CR\xc9DITO, FINANCIAMENTO E INVESTIMENTO S/A"},{id:"391",value:"391 - COOPERATIVA DE CR\xc9DITO RURAL DE IBIAM \u2013 SULCREDI/IBIAM"},{id:"368",value:"368 - Banco CSF S.A."},{id:"259",value:"259 - MONEYCORP BANCO DE C\xc2MBIO S.A."},{id:"364",value:"364 - GERENCIANET S.A."},{id:"014",value:"014 - STATE STREET BRASIL S.A. \u2013 BANCO COMERCIAL"},{id:"081",value:"081 - Banco Seguro S.A."},{id:"384",value:"384 - GLOBAL FINAN\xc7AS SOCIEDADE DE CR\xc9DITO AO MICROEMPREENDEDOR E \xc0 EMPRESA DE PEQUENO"},{id:"088",value:"088 - BANCO RANDON S.A."},{id:"319",value:"319 - OM DISTRIBUIDORA DE T\xcdTULOS E VALORES MOBILI\xc1RIOS LTDA"},{id:"274",value:"274 - MONEY PLUS SOCIEDADE DE CR\xc9DITO AO MICROEMPREENDEDOR E A EMPRESA DE PEQUENO PORT"},{id:"095",value:"095 - Travelex Banco de C\xe2mbio S.A."},{id:"332",value:"332 - Acesso Solu\xe7\xf5es de Pagamento S.A."},{id:"325",value:"325 - \xd3rama Distribuidora de T\xedtulos e Valores Mobili\xe1rios S.A."},{id:"331",value:"331 - Fram Capital Distribuidora de T\xedtulos e Valores Mobili\xe1rios S.A."},{id:"396",value:"396 - HUB PAGAMENTOS S.A."},{id:"309",value:"309 - CAMBIONET CORRETORA DE C\xc2MBIO LTDA."},{id:"313",value:"313 - AMAZ\xd4NIA CORRETORA DE C\xc2MBIO LTDA."},{id:"377",value:"377 - MS SOCIEDADE DE CR\xc9DITO AO MICROEMPREENDEDOR E \xc0 EMPRESA DE PEQUENO PORTE LTDA"},{id:"321",value:"321 - CREFAZ SOCIEDADE DE CR\xc9DITO AO MICROEMPREENDEDOR E A EMPRESA DE PEQUENO PORTE LT"},{id:"383",value:"383 - BOLETOBANC\xc1RIO.COM TECNOLOGIA DE PAGAMENTOS LTDA."},{id:"324",value:"324 - CARTOS SOCIEDADE DE CR\xc9DITO DIRETO S.A."},{id:"380",value:"380 - PICPAY SERVICOS S.A."},{id:"343",value:"343 - FFA SOCIEDADE DE CR\xc9DITO AO MICROEMPREENDEDOR E \xc0 EMPRESA DE PEQUENO PORTE LTDA."},{id:"349",value:"349 - AL5 S.A. CR\xc9DITO, FINANCIAMENTO E INVESTIMENTO"},{id:"374",value:"374 - REALIZE CR\xc9DITO, FINANCIAMENTO E INVESTIMENTO S.A."},{id:"352",value:"352 - TORO CORRETORA DE T\xcdTULOS E VALORES MOBILI\xc1RIOS LTDA"},{id:"329",value:"329 - QI Sociedade de Cr\xe9dito Direto S.A."},{id:"342",value:"342 - Creditas Sociedade de Cr\xe9dito Direto S.A."},{id:"397",value:"397 - LISTO SOCIEDADE DE CR\xc9DITO DIRETO S.A."},{id:"355",value:"355 - \xd3TIMO SOCIEDADE DE CR\xc9DITO DIRETO S.A."},{id:"367",value:"367 - VITREO DISTRIBUIDORA DE T\xcdTULOS E VALORES MOBILI\xc1RIOS S.A."},{id:"373",value:"373 - UP.P SOCIEDADE DE EMPR\xc9STIMO ENTRE PESSOAS S.A."},{id:"408",value:"408 - B\xd4NUSCRED SOCIEDADE DE CR\xc9DITO DIRETO S.A."},{id:"404",value:"404 - SUMUP SOCIEDADE DE CR\xc9DITO DIRETO S.A."},{id:"403",value:"403 - CORA SOCIEDADE DE CR\xc9DITO DIRETO S.A."},{id:"306",value:"306 - PORTOPAR DISTRIBUIDORA DE TITULOS E VALORES MOBILIARIOS LTDA."},{id:"174",value:"174 - PEFISA S.A. \u2013 CR\xc9DITO, FINANCIAMENTO E INVESTIMENTO"},{id:"354",value:"354 - NECTON INVESTIMENTOS S.A. CORRETORA DE VALORES MOBILI\xc1RIOS E COMMODITIES"},{id:"630",value:"630 - Banco Smartbank S.A."},{id:"393",value:"393 - Banco Volkswagen S.A."},{id:"390",value:"390 - BANCO GM S.A."},{id:"381",value:"381 - BANCO MERCEDES-BENZ DO BRASIL S.A."},{id:"626",value:"626 - BANCO C6 CONSIGNADO S.A."},{id:"755",value:"755 - Bank of America Merrill Lynch Banco M\xfaltiplo S.A."},{id:"089",value:"089 - CREDISAN COOPERATIVA DE CR\xc9DITO"},{id:"363",value:"363 - SOCOPA SOCIEDADE CORRETORA PAULISTA S.A."},{id:"365",value:"365 - SOLIDUS S.A. CORRETORA DE CAMBIO E VALORES MOBILIARIOS"},{id:"281",value:"281 - Cooperativa de Cr\xe9dito Rural Coopavel"},{id:"654",value:"654 - BANCO DIGIMAIS S.A."},{id:"371",value:"371 - WARREN CORRETORA DE VALORES MOBILI\xc1RIOS E C\xc2MBIO LTDA."},{id:"289",value:"289 - DECYSEO CORRETORA DE CAMBIO LTDA."}];var k=a(1438),C=a(2883),I=a(2824),A=a(603),S=a(137),$=a(719),E=a(704),F=a(720),D=a(22);const z=e=>{let{setFieldsValue:t}=e;const[a,c]=Object(s.useState)(!1),r=Object(s.useCallback)((e=>{if(!e.state_id||!e.city_id)return;let s={state_id:e.state_id||"",city_id:e.city_id||""};a||(s={...s,street:e.logradouro||"",neighborhood:e.neighborhood||"",number:e.number||""}),t({address:Object(S.omitBy)(s,S.isEmpty)})}),[a,t]),[o,l]=Object(A.c)(r),d=Object(s.useCallback)((()=>{t({address:{city_id:void 0}})}),[t]);return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(C.a,{xs:24,sm:6,children:Object(D.jsx)(n.a.Item,{name:["address","zip_code"],label:Object(i.b)("words.zip_code"),validateStatus:"validating",hasFeedback:l,validateTrigger:["onChange","onBlur"],validateFirst:!0,rules:[{validateTrigger:"onBlur",validator:o},{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(D.jsx)(E.a,{inputMode:"numeric"})})}),Object(D.jsx)(C.a,{xs:24,sm:18,children:Object(D.jsx)(n.a.Item,{name:["address","street"],label:Object(i.b)("words.public_place"),validateStatus:"validating",hasFeedback:l,rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(D.jsx)(I.a,{placeholder:Object(i.b)("phrases.street_avenue_lane"),onChange:Object(S.debounce)((e=>c(!!e.target.value)),500)})})}),Object(D.jsx)(C.a,{xs:24,sm:10,children:Object(D.jsx)(n.a.Item,{validateStatus:"validating",hasFeedback:l,rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],name:["address","number"],label:Object(i.b)("words.number"),children:Object(D.jsx)(I.a,{placeholder:Object(i.b)("words.number"),onChange:Object(S.debounce)((e=>c(!!e.target.value)),500)})})}),Object(D.jsx)(C.a,{xs:24,sm:14,children:Object(D.jsx)(n.a.Item,{name:["address","neighborhood"],label:Object(i.b)("words.district"),validateStatus:"validating",hasFeedback:l,rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(D.jsx)(I.a,{placeholder:Object(i.b)("words.district"),onChange:Object(S.debounce)((e=>c(!!e.target.value)),500)})})}),Object(D.jsx)(C.a,{style:{height:90},xs:24,sm:10,children:Object(D.jsx)(n.a.Item,{name:["address","state_id"],label:Object(i.b)("words.state"),validateStatus:"validating",hasFeedback:l,rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(D.jsx)($.a,{allowClear:!0,onChange:d})})}),Object(D.jsx)(C.a,{style:{height:90},xs:24,sm:14,children:Object(D.jsx)(n.a.Item,{shouldUpdate:(e,t)=>{var a,s;return(null===(a=e.address)||void 0===a?void 0:a.state_id)!==(null===(s=t.address)||void 0===s?void 0:s.state_id)},children:e=>{let{getFieldValue:t}=e;const a=t(["address","state_id"]);return Object(D.jsx)(n.a.Item,{name:["address","city_id"],label:Object(i.b)("words.city"),validateStatus:"validating",hasFeedback:l,rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(D.jsx)(F.a,{allowClear:!0,state_id:a},a)})}})})]})};var N=Object(s.memo)(z),q=a(591),B=a(626),P=a.n(B),R=a(584);const M=e=>{let{setFieldsValue:t}=e;return Object(D.jsx)(n.a.Item,{noStyle:!0,dependencies:["person_type"],children:e=>{let{getFieldValue:a}=e;if("physical"===a("person_type"))return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(k.a,{style:{marginTop:0},orientation:"left",children:Object(i.b)("webook_pay_drawer.about_you")}),Object(D.jsx)(C.a,{span:24,children:Object(D.jsx)(n.a.Item,{rules:[{validateTrigger:["onChange","onBlur"],validator:f},{required:!0,message:Object(i.b)("phrases.required_field")}],label:Object(i.b)("webook_pay_drawer.full_name"),name:["individual","full_name"],extra:Object(i.b)("webook_pay_drawer.full_name_description"),children:Object(D.jsx)(I.a,{onChange:e=>t({account_bank:{full_name:e.target.value}}),placeholder:Object(i.b)("webook_pay_drawer.full_name")})})}),Object(D.jsx)(C.a,{xs:24,sm:12,children:Object(D.jsx)(n.a.Item,{name:["individual","cpf"],label:"CPF",validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:Object(i.b)("phrases.required_field")},{validateTrigger:"onBlur",validator:A.e}],children:Object(D.jsx)(P.a,{placeholder:"123.456.789-12",mask:"999.999.999-999",maskPlaceholder:null,children:Object(D.jsx)(I.a,{autoComplete:"off"})})})}),Object(D.jsx)(C.a,{xs:24,sm:12,children:Object(D.jsx)(n.a.Item,{name:["individual","phone_number"],label:Object(i.b)("words.phone"),validateTrigger:"onBlur",rules:[{required:!0,message:Object(i.b)("phrases.is_required",{prefix:Object(i.b)("words.phone")})},{validateTrigger:"onBlur",validator:A.j}],children:Object(D.jsx)(q.a,{})})}),Object(D.jsx)(C.a,{xs:24,sm:12,children:Object(D.jsx)(n.a.Item,{name:["individual","birthdate"],label:Object(i.b)("words.birth"),validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:Object(i.b)("phrases.required_field")},{validateTrigger:"onBlur",validator:A.a}],children:Object(D.jsx)(P.a,{placeholder:"01/01/1998",mask:"99/99/9999",maskPlaceholder:null,autoComplete:"off",children:Object(D.jsx)(I.a,{})})})}),Object(D.jsx)(C.a,{xs:24,sm:12,children:Object(D.jsx)(n.a.Item,{rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],label:Object(i.b)("words.email"),name:["individual","email"],extra:Object(i.b)("webook_pay_drawer.email_description"),children:Object(D.jsx)(I.a,{placeholder:Object(i.b)("words.email")})})}),Object(D.jsx)(k.a,{orientation:"left",children:Object(i.b)("webook_pay_drawer.about_business")}),Object(D.jsx)(C.a,{span:24,children:Object(D.jsx)(n.a.Item,{rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],label:Object(i.b)("webook_pay_drawer.customer_facing_name"),extra:Object(i.b)("webook_pay_drawer.statement_descriptor"),name:"statement_descriptor",children:Object(D.jsx)(I.a,{placeholder:Object(i.b)("webook_pay_drawer.customer_facing_name")})})}),Object(D.jsx)(C.a,{span:24,children:Object(D.jsx)(n.a.Item,{name:"revenue",label:Object(i.b)("words.revenue"),extra:Object(i.b)("belasis_pay_drawer.physical_person_revenue_description"),validateTrigger:"onBlur",rules:[{required:!0,message:Object(i.b)("words.required")},{type:"number",min:1,message:Object(i.b)("phrases.enter_value")}],children:Object(D.jsx)(R.a,{style:{width:"100%"}})})}),Object(D.jsx)(k.a,{orientation:"left",children:Object(i.b)("words.address")}),Object(D.jsx)(N,{setFieldsValue:t})]})}})};M.displayName="PhysicalPersonForm";var T=M,L=a(608),V=a(339),H=a(1256);const U=e=>{let{setFieldsValue:t}=e;return Object(D.jsx)(n.a.Item,{noStyle:!0,dependencies:["person_type"],children:e=>{let{getFieldValue:a}=e;if("business"===a("person_type"))return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(k.a,{style:{marginTop:0},orientation:"left",children:Object(i.b)("settings.company_details")}),Object(D.jsx)(C.a,{span:24,children:Object(D.jsx)(n.a.Item,{rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],label:Object(i.b)("phrases.corporate_name"),name:["business","business_name"],children:Object(D.jsx)(I.a,{style:{width:"100%"},placeholder:Object(i.b)("phrases.corporate_name")})})}),Object(D.jsx)(C.a,{span:24,children:Object(D.jsx)(n.a.Item,{rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],label:Object(i.b)("webook_pay_drawer.customer_facing_name"),extra:Object(i.b)("webook_pay_drawer.statement_descriptor"),name:"statement_descriptor",children:Object(D.jsx)(I.a,{placeholder:Object(i.b)("webook_pay_drawer.customer_facing_name")})})}),Object(D.jsx)(C.a,{xs:24,sm:24,children:Object(D.jsx)(n.a.Item,{name:["business","company_type"],label:Object(i.b)("webook_pay_drawer.company_type"),validateTrigger:"onBlur",rules:[{required:!0,message:Object(i.b)("words.required")}],children:Object(D.jsx)(H.a,{placeholder:Object(i.b)("webook_pay_drawer.company_type"),options:[{value:"MEI",label:Object(i.b)("webook_pay_drawer.company_types.mei")},{value:"LIMITED",label:Object(i.b)("webook_pay_drawer.company_types.limited")},{value:"INDIVIDUAL",label:Object(i.b)("webook_pay_drawer.company_types.individual")},{value:"ASSOCIATION",label:Object(i.b)("webook_pay_drawer.company_types.association")}]})})}),Object(D.jsx)(C.a,{xs:24,sm:12,children:Object(D.jsx)(n.a.Item,{name:["business","cnpj"],label:Object(i.b)("acronyms.cnpj"),validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:Object(i.b)("phrases.required_field")},{validateTrigger:"onBlur",validator:A.e}],children:Object(D.jsx)(P.a,{placeholder:"12.345.678/1234-12",mask:"**.***.***/****-99",maskPlaceholder:null,maxLength:18,children:Object(D.jsx)(I.a,{autoComplete:"off",style:{textTransform:"uppercase"}})})})}),Object(D.jsx)(C.a,{xs:24,sm:12,children:Object(D.jsx)(n.a.Item,{name:"revenue",label:Object(i.b)("words.revenue"),extra:Object(i.b)("belasis_pay_drawer.legal_person_revenue_description"),validateTrigger:"onBlur",rules:[{required:!0,message:Object(i.b)("words.required")},{type:"number",min:1,message:Object(i.b)("phrases.enter_value")}],children:Object(D.jsx)(R.a,{style:{width:"100%"}})})}),Object(D.jsx)(C.a,{xs:24,sm:12,children:Object(D.jsx)(n.a.Item,{rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],label:Object(i.b)("words.email"),name:["business","email"],children:Object(D.jsx)(I.a,{placeholder:Object(i.b)("words.email")})})}),Object(D.jsx)(C.a,{xs:24,sm:12,children:Object(D.jsx)(n.a.Item,{name:["business","phone_number"],label:Object(i.b)("words.phone"),validateTrigger:"onBlur",rules:[{required:!0,message:Object(i.b)("phrases.is_required",{prefix:Object(i.b)("words.phone")})},{validateTrigger:"onBlur",validator:A.j}],children:Object(D.jsx)(q.a,{})})}),Object(D.jsx)(k.a,{orientation:"left",children:Object(i.b)("words.address")}),Object(D.jsx)(N,{setFieldsValue:t}),Object(D.jsx)(k.a,{style:{marginTop:0},orientation:"left",children:Object(i.b)("webook_pay_drawer.owner_data")}),Object(D.jsx)(C.a,{xs:24,sm:16,children:Object(D.jsx)(n.a.Item,{rules:[{validateTrigger:"onBlur",validator:f},{required:!0,message:Object(i.b)("phrases.required_field")}],label:Object(i.b)("webook_pay_drawer.full_name"),name:["business","owner","full_name"],extra:Object(i.b)("webook_pay_drawer.full_name_description"),children:Object(D.jsx)(I.a,{onChange:e=>t({account_bank:{full_name:e.target.value}}),placeholder:Object(i.b)("webook_pay_drawer.full_name")})})}),Object(D.jsx)(C.a,{xs:24,sm:8,children:Object(D.jsx)(n.a.Item,{name:["business","owner","cpf"],label:Object(i.b)("acronyms.cpf"),validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:Object(i.b)("phrases.required_field")},{validateTrigger:"onBlur",validator:A.b}],children:Object(D.jsx)(P.a,{placeholder:Object(i.b)("acronyms.cpf"),mask:"999.999.999-999",maskPlaceholder:null,children:Object(D.jsx)(I.a,{autoComplete:"off"})})})}),Object(D.jsx)(C.a,{xs:24,sm:12,children:Object(D.jsx)(n.a.Item,{name:["business","owner","birthdate"],label:Object(i.b)("words.birth"),validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:Object(i.b)("phrases.required_field")},{validateTrigger:"onBlur",validator:A.a}],children:Object(D.jsx)(P.a,{placeholder:"01/01/1998",mask:"99/99/9999",maskPlaceholder:null,autoComplete:"off",children:Object(D.jsx)(I.a,{})})})}),Object(D.jsx)(C.a,{xs:24,sm:12,children:Object(D.jsx)(n.a.Item,{name:["business","owner","phone_number"],label:Object(i.b)("words.phone"),validateTrigger:"onBlur",rules:[{required:!0,message:Object(i.b)("phrases.is_required",{prefix:Object(i.b)("words.phone")})},{validateTrigger:"onBlur",validator:A.j}],children:Object(D.jsx)(q.a,{})})}),Object(D.jsx)(C.a,{span:24,children:Object(D.jsx)(n.a.Item,{rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],label:Object(i.b)("words.email"),name:["business","owner","email"],extra:Object(i.b)("webook_pay_drawer.email_description"),children:Object(D.jsx)(I.a,{placeholder:Object(i.b)("words.email")})})})]})}})};U.displayName="LegalPersonForm";var G=U,Y=a(1813);var Q=()=>{const e=Object(s.useCallback)(((e,t)=>{const a=Object(S.deburr)(e.toLowerCase());return Object(S.deburr)(null===t||void 0===t?void 0:t.children.toLowerCase()).indexOf(a)>=0}),[]);return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(k.a,{orientation:"left",children:Object(i.b)("webook_pay_drawer.bank_account_for_receiving")}),Object(D.jsx)(C.a,{span:24,children:Object(D.jsx)(n.a.Item,{rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],label:Object(i.b)("webook_pay_drawer.bank"),name:["account_bank","bank_code"],children:Object(D.jsx)(H.a,{showSearch:!0,placeholder:Object(i.b)("webook_pay_drawer.bank"),filterOption:e,notFoundContent:Object(D.jsx)(Y.a,{description:Object(i.b)("webook_pay_drawer.search_and_try_again")}),children:w.map((e=>Object(D.jsx)(H.a.Option,{value:e.id,children:e.value},e.value)))})})}),Object(D.jsx)(C.a,{span:24,children:Object(D.jsx)(n.a.Item,{label:Object(i.b)("webook_pay_drawer.full_name_of_the_holder"),name:["account_bank","full_name"],rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(D.jsx)(I.a,{disabled:!0,placeholder:Object(i.b)("webook_pay_drawer.full_name_of_the_holder")})})}),Object(D.jsx)(C.a,{xs:24,sm:8,children:Object(D.jsx)(n.a.Item,{rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],label:Object(i.b)("webook_pay_drawer.account_type"),name:["account_bank","type"],children:Object(D.jsxs)(H.a,{style:{width:"100%"},placeholder:Object(i.b)("webook_pay_drawer.account_type"),children:[Object(D.jsx)(H.a.Option,{value:"checking",children:Object(i.b)("webook_pay_drawer.checking_account")}),Object(D.jsx)(H.a.Option,{value:"savings",children:Object(i.b)("webook_pay_drawer.savings_account")})]})})}),Object(D.jsx)(C.a,{xs:24,sm:8,children:Object(D.jsx)(n.a.Item,{rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],label:Object(i.b)("webook_pay_drawer.agency"),name:["account_bank","agency"],extra:Object(i.b)("webook_pay_drawer.replace_X_with_0_if_necessary"),children:Object(D.jsx)(P.a,{placeholder:"1234",mask:"999999",maskPlaceholder:null,children:Object(D.jsx)(I.a,{inputMode:"numeric",style:{width:"100%"}})})})}),Object(D.jsx)(C.a,{xs:24,sm:8,children:Object(D.jsx)(n.a.Item,{rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],label:Object(i.b)("webook_pay_drawer.account_number"),name:["account_bank","number"],extra:Object(i.b)("webook_pay_drawer.replace_X_with_0_if_necessary"),children:Object(D.jsx)(P.a,{placeholder:"12340",mask:"9999999999",maskPlaceholder:null,children:Object(D.jsx)(I.a,{inputMode:"numeric",style:{width:"100%"}})})})})]})},J=a(2976);const W=()=>{const e=Object(y.a)((e=>e.is_mobile));return Object(D.jsx)(C.a,{span:24,children:Object(D.jsx)(J.a,{type:"info",showIcon:!1,message:Object(i.b)("webook_pay_drawer.provide_information"),style:{width:"100%",marginBottom:20,fontSize:16,textAlign:e?"center":void 0}})})};W.displayName="Header";var Z=W;const K=e=>{let{handleChangeType:t}=e;return Object(D.jsx)(C.a,{span:24,children:Object(D.jsx)(n.a.Item,{rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],label:Object(i.b)("webook_pay_drawer.person_type"),name:"person_type",children:Object(D.jsxs)(H.a,{placeholder:Object(i.b)("webook_pay_drawer.person_type"),style:{width:"100%"},onChange:t,children:[Object(D.jsx)(H.a.Option,{value:"physical",children:Object(i.b)("webook_pay_drawer.individual")}),Object(D.jsx)(H.a.Option,{value:"business",children:Object(i.b)("webook_pay_drawer.legal_entity")})]})})})};K.displayName="PersonTypeForm";var X=K,ee=a(1814);var te=()=>Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(k.a,{style:{marginTop:0},orientation:"left",children:Object(i.b)("webook_pay_drawer.receive_payments_by")}),Object(D.jsx)(C.a,{span:24,children:Object(D.jsx)(n.a.Item,{name:"payment_type",rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],style:{marginBottom:0},children:Object(D.jsxs)(ee.a.Group,{style:{width:"100%"},children:[Object(D.jsx)(ee.a,{value:"can_pay_with_pix",children:Object(i.b)("words.PIX")}),Object(D.jsx)(ee.a,{value:"can_pay_with_card",children:Object(i.b)("words.card")})]})})})]}),ae=a(19),se=a(600),ie=a(581),ce=a(53),ne=a.n(ce);const re=(e,t)=>{var a;let{onSave:j}=e;const[m,p]=Object(s.useState)(!1),O=Object(y.a)((e=>e.current_user)),_=Object(y.a)((e=>e.current_user.employee)),x=Object(y.a)((e=>e.current_user.salon)),v=Object(y.a)((e=>e.is_mobile)),f=Object(y.a)((e=>{var t;return!(null===(t=e.current_user.salon.subscription)||void 0===t||!t.is_trial)})),w=Object(d.b)(),k=Object(l.o)(),[C]=n.a.useForm(),[I,A]=g(),S=Object(s.useCallback)((e=>{let{current_company:t}=e;C.setFieldsValue({address:{zip_code:t.zip_code,street:t.address,number:t.number,neighborhood:t.district,state_id:t.state_id,city_id:t.city_id}})}),[C]),[$,{loading:E}]=h(S),F=()=>{f?L.a.information({useConfirm:!0,title:Object(i.b)("webook_pay_drawer.almost_there"),content:Object(i.b)("webook_pay_drawer.choose_a_plan"),className:"webook-modal",maskClosable:!0,closable:!0,okText:Object(i.b)("phrases.see_plans"),onOk:()=>k("/subscription")}):(p(!0),$())},z=()=>{p(!1)};Object(s.useImperativeHandle)(t,(()=>({open:F,close:z})));const N=Object(s.useCallback)((()=>{const e=x.has_belasis_pay_with_asaas?"webook_pay_drawer.asaas_tutorial":"webook_pay_drawer.zoop_tutorial";r.a.destroyAll(),L.a.success({className:"webook-modal hide-buttons",title:Object(i.b)("webook_pay_drawer.all_set"),content:Object(D.jsx)(c.a,{i18nKey:e,components:[Object(D.jsx)("b",{}),Object(D.jsx)("br",{})]}),afterClose:()=>{Object(se.a)("https://belasis.tawk.help/article/como-colocar-link-da-agenda-online-no-instagram"),Object(se.a)("https://belasis.tawk.help/article/como-adicionar-o-link-de-agendamento-no-seu-whatsapp"),x.has_belasis_pay_with_asaas&&k("/belasis-pay/panel")},maskClosable:!0,closable:!0})}),[x.has_belasis_pay_with_asaas,k]),q=Object(s.useCallback)((e=>{e||C.resetFields()}),[C]),B=((null===(a=_.cpf_cnpj)||void 0===a?void 0:a.length)||0)<=14;return Object(D.jsx)(u.a,{closable:!0,title:Object(i.b)("menu.belasis_pay"),height:"100%",width:550,destroyOnClose:!0,onClose:z,afterOpenChange:q,open:m,placement:v?"bottom":"right",styles:{body:{paddingTop:10}},push:!1,footer:Object(D.jsx)(ie.a,{close:z,loading:A,disabled:A||E,submit:C.submit,extra:Object(D.jsx)(o.a,{icon:Object(D.jsx)(u.d,{as:b.a,$color:"green_2"}),size:v?"large":"middle",block:v,disabled:A||E,loading:A,onClick:()=>{w({message:"Ol\xe1, estou com dificuldade em abrir minha conta no Belasis Pay. Poderia me ajudar, por gentileza?"})},children:Object(D.jsx)(u.h,{$semibold:!0,children:v?Object(i.b)("webook_pay_drawer.support"):Object(i.b)("webook_pay_drawer.need_help")})})}),children:Object(D.jsxs)(oe,{children:[Object(D.jsx)(V.a,{loading:E}),Object(D.jsx)(n.a,{layout:"vertical",scrollToFirstError:!0,form:C,onFinish:async e=>{const{person_type:t,...a}=e,{success:s}=await I(a);s&&(z(),N())},style:{width:"100%"},initialValues:{person_type:"physical",payment_type:["can_pay_with_pix","can_pay_with_card"],statement_descriptor:x.name,individual:{cpf:B?_.cpf_cnpj:"",email:O.email,birthdate:_.birthday?ne()(_.birthday,"YYYY-MM-DD").format("L"):"",phone_number:_.cellphone},account_bank:{type:"checking"}},children:Object(D.jsxs)(u.g,{$wrap:!0,gutter:[8,0],children:[Object(D.jsx)(Z,{}),Object(D.jsx)(X,{handleChangeType:e=>{"physical"!==e&&C.setFieldsValue({business:{business_name:"",cnpj:x.cnpj||"",email:x.email,phone_number:x.phone||"",owner:{email:O.email,cpf:B?_.cpf_cnpj:"",phone_number:_.cellphone||"",birthdate:_.birthday?ne()(_.birthday,"YYYY-MM-DD").format("L"):""}}})}}),Object(D.jsx)(T,{setFieldsValue:C.setFieldsValue}),Object(D.jsx)(G,{setFieldsValue:C.setFieldsValue}),Object(D.jsx)(te,{}),!x.has_belasis_pay_with_asaas&&Object(D.jsx)(Q,{})]})})]})})};re.displayName="BelasisPayDrawer";t.a=Object(s.forwardRef)(re);const oe=ae.d.div.withConfig({componentId:"wb__sc-hia5g6-0"})(["position:relative;width:100%;"])},743:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(2937),n=a(3024),r=a(340),o=a(250),l=a(18),d=a(722),b=a(27),u=a(608),j=a(600),m=a(116),p=a(37),h=a(1850),O=a(76);const _=p.e`
  mutation SaveWebookPayMutation($data: SaveWebookPayInput!) {
    saveWebookPay(input: $data) {
      success errors
    }
  }
`;var x=()=>{const[e,{loading:t}]=Object(h.a)(_),a=Object(s.useCallback)((async t=>{const a=m.b.loading(`${Object(i.b)("verbs.wait")}...`,0);try{const{data:s}=await e({variables:{data:t}}),{success:i=!1,errors:c,account_id:n}=(null===s||void 0===s?void 0:s.saveWebookPay)||{};return i||(m.b.destroy(),null===c||void 0===c||c.map((e=>m.b.error(e)))),{success:i,account_id:n}}catch(s){return console.log(s),O.a.captureException(s),m.b.error(Object(i.b)("phrases.generic_save_error_message")),{success:!1}}finally{a()}}),[e]);return[a,t]},v=a(1438),g=a(2883),y=a(2824),f=a(603),w=a(591),k=a(137),C=a(719),I=a(704),A=a(720),S=a(22);const $=e=>{let{setFieldsValue:t}=e;const[a,n]=Object(s.useState)(!1),r=Object(s.useCallback)((e=>{if(!e.state_id||!e.city_id)return;let s={state_id:e.state_id||"",city_id:e.city_id||""};a||(s={...s,street:e.logradouro||"",neighborhood:e.neighborhood||"",number:e.number||""}),t({individual:{address:Object(k.omitBy)(s,k.isEmpty)}})}),[a,t]),[o,l]=Object(f.c)(r),d=Object(s.useCallback)((()=>{t({individual:{address:{city_id:void 0}}})}),[t]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(g.a,{xs:24,sm:6,children:Object(S.jsx)(c.a.Item,{name:["individual","address","postal_code"],label:Object(i.b)("words.zip_code"),validateStatus:"validating",hasFeedback:l,validateTrigger:["onChange","onBlur"],validateFirst:!0,rules:[{validateTrigger:"onBlur",validator:o},{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(S.jsx)(I.a,{inputMode:"numeric"})})}),Object(S.jsx)(g.a,{xs:24,sm:18,children:Object(S.jsx)(c.a.Item,{name:["individual","address","street"],label:Object(i.b)("webook_pay_drawer.street"),validateStatus:"validating",hasFeedback:l,rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(S.jsx)(y.a,{placeholder:Object(i.b)("phrases.street_avenue_lane"),onChange:Object(k.debounce)((e=>n(!!e.target.value)),500)})})}),Object(S.jsx)(g.a,{xs:24,sm:10,children:Object(S.jsx)(c.a.Item,{validateStatus:"validating",hasFeedback:l,rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],name:["individual","address","number"],label:Object(i.b)("words.number"),children:Object(S.jsx)(y.a,{placeholder:Object(i.b)("words.number"),onChange:Object(k.debounce)((e=>n(!!e.target.value)),500)})})}),Object(S.jsx)(g.a,{xs:24,sm:14,children:Object(S.jsx)(c.a.Item,{name:["individual","address","neighborhood"],label:Object(i.b)("webook_pay_drawer.neighborhood"),validateStatus:"validating",hasFeedback:l,rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(S.jsx)(y.a,{placeholder:Object(i.b)("webook_pay_drawer.neighborhood"),onChange:Object(k.debounce)((e=>n(!!e.target.value)),500)})})}),Object(S.jsx)(g.a,{style:{height:90},xs:24,sm:10,children:Object(S.jsx)(c.a.Item,{name:["individual","address","state_id"],label:Object(i.b)("words.state"),validateStatus:"validating",hasFeedback:l,rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(S.jsx)(C.a,{allowClear:!0,onChange:d})})}),Object(S.jsx)(g.a,{style:{height:90},xs:24,sm:14,children:Object(S.jsx)(c.a.Item,{shouldUpdate:(e,t)=>{var a,s,i,c;return(null===(a=e.individual)||void 0===a||null===(s=a.address)||void 0===s?void 0:s.state_id)!==(null===(i=t.individual)||void 0===i||null===(c=i.address)||void 0===c?void 0:c.state_id)},children:e=>{let{getFieldValue:t}=e;const a=t(["individual","address","state_id"]);return Object(S.jsx)(c.a.Item,{name:["individual","address","city_id"],label:Object(i.b)("words.city"),validateStatus:"validating",hasFeedback:l,rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(S.jsx)(A.a,{allowClear:!0,state_id:a},a)})}})})]})};var E=Object(s.memo)($);var F=e=>{let{setFieldsValue:t}=e;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(v.a,{style:{marginTop:0},orientation:"left",children:Object(i.b)("webook_pay_drawer.about_you")}),Object(S.jsx)(g.a,{xs:12,sm:12,children:Object(S.jsx)(c.a.Item,{rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],label:Object(i.b)("webook_pay_drawer.first_name"),name:["individual","first_name"],children:Object(S.jsx)(y.a,{placeholder:Object(i.b)("webook_pay_drawer.first_name")})})}),Object(S.jsx)(g.a,{xs:12,sm:12,children:Object(S.jsx)(c.a.Item,{rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],label:Object(i.b)("webook_pay_drawer.last_name"),name:["individual","last_name"],children:Object(S.jsx)(y.a,{placeholder:Object(i.b)("webook_pay_drawer.last_name")})})}),Object(S.jsx)(g.a,{xs:24,sm:12,children:Object(S.jsx)(c.a.Item,{name:["individual","phone"],label:Object(i.b)("webook_pay_drawer.phone"),validateTrigger:"onBlur",rules:[{required:!0,message:Object(i.b)("phrases.is_required",{prefix:Object(i.b)("words.phone")})},{validateTrigger:"onBlur",validator:f.j}],children:Object(S.jsx)(w.a,{})})}),Object(S.jsx)(g.a,{xs:24,sm:12,children:Object(S.jsx)(c.a.Item,{rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],label:Object(i.b)("webook_pay_drawer.email"),name:"email",extra:Object(i.b)("webook_pay_drawer.email_description"),children:Object(S.jsx)(y.a,{placeholder:Object(i.b)("webook_pay_drawer.email")})})}),Object(S.jsx)(v.a,{orientation:"left",children:Object(i.b)("webook_pay_drawer.about_business")}),Object(S.jsx)(g.a,{xs:24,sm:12,children:Object(S.jsx)(c.a.Item,{rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],label:Object(i.b)("webook_pay_drawer.customer_facing_name"),name:["business_profile","name"],children:Object(S.jsx)(y.a,{placeholder:Object(i.b)("webook_pay_drawer.customer_facing_name")})})}),Object(S.jsx)(g.a,{span:24,hidden:!0,children:Object(S.jsx)(c.a.Item,{rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],label:Object(i.b)("webook_pay_drawer.customer_facing_name"),name:["business_profile","mcc"],children:Object(S.jsx)(y.a,{placeholder:"MCC"})})}),Object(S.jsx)(g.a,{xs:24,sm:12,children:Object(S.jsx)(c.a.Item,{rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],label:Object(i.b)("webook_pay_drawer.product_description"),name:["business_profile","product_description"],extra:Object(i.b)("webook_pay_drawer.product_description_extra"),children:Object(S.jsx)(y.a,{placeholder:Object(i.b)("webook_pay_drawer.product_description")})})}),Object(S.jsx)(g.a,{xs:24,sm:12,children:Object(S.jsx)(c.a.Item,{name:["business_profile","support_phone"],label:Object(i.b)("webook_pay_drawer.support_phone"),validateTrigger:"onBlur",rules:[{required:!0,message:Object(i.b)("phrases.is_required",{prefix:Object(i.b)("words.phone")})},{validateTrigger:"onBlur",validator:f.j}],children:Object(S.jsx)(w.a,{})})}),Object(S.jsx)(g.a,{xs:24,sm:12,children:Object(S.jsx)(c.a.Item,{rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],label:Object(i.b)("webook_pay_drawer.site"),name:["business_profile","url"],children:Object(S.jsx)(y.a,{placeholder:Object(i.b)("webook_pay_drawer.site")})})}),Object(S.jsx)(E,{setFieldsValue:t})]})},D=a(581),z=a(159),N=a(3042),q=a(650);const B=e=>{let{close:t,submit:a,loading:s,disabled:c}=e;const n=Object(b.a)((e=>e.is_mobile)),r=Object(q.b)();return Object(S.jsx)(D.a,{close:t,loading:s,disabled:c,submit:a,extra:Object(S.jsx)(z.a,{icon:Object(S.jsx)(o.d,{as:N.a,$color:"green_2"}),size:n?"large":"middle",block:n,disabled:c,loading:s,onClick:()=>r({message:Object(i.b)("webook_pay_drawer.help_message")}),children:Object(S.jsx)(o.h,{$semibold:!0,children:n?Object(i.b)("webook_pay_drawer.support"):Object(i.b)("webook_pay_drawer.need_help")})})})};B.displayName="Footer";var P=B;const R=(e,t)=>{const a=Object(b.a)((e=>e.states)),m=Object(b.a)((e=>e.cities)),p=Object(b.a)((e=>e.countries)),h=Object(b.a)((e=>e.current_user.employee)),O=Object(b.a)((e=>e.current_user.salon)),_=Object(d.a)();var v=h.name.split(" ").slice(0,-1).join(" "),g=h.name.split(" ").slice(-1).join(" ");const[y,f]=Object(s.useState)(!1),[w]=c.a.useForm(),[k,C]=x(),I=Object(s.useCallback)((()=>{f(!0)}),[]),A=Object(s.useCallback)((()=>{f(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({close:A,open:I})));const $=Object(s.useCallback)((e=>{e||w.resetFields()}),[w]),E=Object(s.useCallback)((e=>{const t=a.find((t=>t.id===e.individual.address.state_id)),s=m.find((t=>t.id===e.individual.address.city_id)),i=p.find((e=>e.id===t.country_id)),c={state:t.name,city:s.name,postal_code:e.individual.address.postal_code,line1:`${e.individual.address.neighborhood}, ${e.individual.address.street}`,line2:e.individual.address.number,country:i.abbr_iso};return{...e,country:i.abbr_iso,individual:{...e.individual,phone:`+${e.individual.phone}`,address:c},business_profile:{...e.business_profile,support_phone:`+${e.business_profile.support_phone}`}}}),[m,p,a]),D=Object(s.useCallback)((async e=>{const t=E(e),{success:a}=await k(t);a&&(n.a.destroyAll(),u.a.success({className:"webook-modal hide-buttons",title:Object(i.b)("webook_pay_drawer.all_set"),content:Object(S.jsx)(r.a,{i18nKey:"webook_pay_drawer.tutorial",components:[Object(S.jsx)("b",{}),Object(S.jsx)("br",{})]}),maskClosable:!0,closable:!0,afterClose:()=>{Object(j.a)(l.K)}}))}),[E,k]);return Object(S.jsx)(o.a,{closable:!0,title:Object(i.b)("menu.webook_pay"),height:"100%",width:550,destroyOnClose:!0,onClose:A,afterOpenChange:$,open:y,styles:{body:{paddingTop:10}},push:!1,footer:Object(S.jsx)(P,{close:A,submit:w.submit,loading:C,disabled:C}),children:Object(S.jsx)(c.a,{layout:"vertical",scrollToFirstError:!0,form:w,onFinish:D,style:{width:"100%"},initialValues:{email:O.email,individual:{first_name:v,last_name:g,phone:h.cellphone,address:{state_id:O.state_id,city_id:O.city_id}},business_profile:{name:O.name,support_phone:O.phone,url:_,mcc:"7230"}},children:Object(S.jsx)(o.g,{$wrap:!0,gutter:[8,0],children:Object(S.jsx)(F,{setFieldsValue:w.setFieldsValue})})})})};R.displayName="WebookPayDrawer";t.a=Object(s.forwardRef)(R)},746:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return u}));var s=a(447),i=a(444);const c=e=>{let{value_cents:t,quantity:a,discount_type:s,discount:i}=e;const c=t*a;if("value"===s)return c-i;return c-c*(i/100)},n={id:Object(s.a)(),is_service:!0,discount:0,discount_type:"value",value_cents:0,sum_cents:0,quantity:1,sale_composes:[],sale_assistants:[]},r=e=>e.map((e=>{const{id:t,discount:a,discount_type:s,employee:c,inventory_product:n,is_service:r,sum_cents:d,sale_composes:b,sale_assistants:u,...j}=e;return{...j,id:Object(i.a)(t)?void 0:t,employee_id:(null===c||void 0===c?void 0:c.id)||null,product_id:null===n||void 0===n?void 0:n.id,discount_type:s,discount_cents:"value"===s?a:0,discount_percentage:"percentage"===s?a:0,sum_cents:Math.round(d),sale_composes_attributes:o(b),item_sale_assistants_attributes:null!==c&&void 0!==c&&c.id?l(u):[]}})),o=e=>e.map((e=>{let{__typename:t,id:a,product_price_cents:s,unit_quantity:c,...n}=e;return{...n,id:Object(i.a)(a)?void 0:a}})),l=e=>e.map((e=>{let{__typename:t,id:a,...s}=e;return{...s,id:Object(i.a)(a)?void 0:a}})),d=(e,t,a)=>{const{date:s,client:i,sum_cents:c,sale_items:n,bill_recs:o,manually_changed_discount_cents:l,client_max_credits_cents:d,manually_changed_credit_cents:u,manually_changed_cashback_cents:j,client_cashback_balance_cents:m,package_items:p,discount_cents:h,deleted:O,invoice:_,electronic_invoice:x,electronic_consumer_invoice:v,subscription_items:g,down_payment_cents:y,...f}=e;return{...f,client_id:null===i||void 0===i?void 0:i.id,date:s.format("YYYY-MM-DD"),sum_cents:c,finished:t,sale_items_attributes:r(n),finance_bill_recs_attributes:t?b(o):[],discount_cents:Math.round(h),idempotency_key:a}},b=e=>e.map((e=>{const{due:t,id:a,payment:s,status:c,date:n,...r}=e;return{...r,id:Object(i.a)(a)?void 0:a,date:n.format("YYYY-MM-DD"),due:t.format("YYYY-MM-DD"),payment_id:s.id,account_id:s.account_id}})),u=(e,t)=>t.sale_items.some((t=>{var a;const s=null===(a=t.inventory_product)||void 0===a?void 0:a.salon_id;return!!s&&parseInt(s)!==parseInt(e)}))},747:function(e,t,a){"use strict";var s=a(0),i=a(1809),c=a(116),n=a(250),r=a(3040),o=a(27),l=a(857),d=a(19),b=a(22);const u=()=>{const e=Object(o.a)((e=>e.is_mobile)),t=Object(o.a)((e=>e.is_webook)),a=Object(o.a)((t=>{var a;let{tutorial_video_categories:s=[]}=t;return(null===(a=s.find((e=>e.url===window.location.pathname)))||void 0===a?void 0:a.tutorial_videos.filter((t=>e?"mobile"===t.kind:"desktop"===t.kind)))||[]})),d=a.length>1,u=Object(s.useCallback)((t=>{c.c.confirm({className:"hide-buttons video",maskClosable:!0,centered:!0,closable:!0,icon:null,width:e?"100%":"80%",content:Object(b.jsx)(l.a,{video_id:t.youtube_link})})}),[e]);if(!a.length||t)return null;if(d){const t=a.map((e=>({key:e.id,onClick:()=>u(e),label:e.description.split("(novo-layout)")[0].trim(),title:e.description.split("(novo-layout)")[0].trim(),icon:Object(b.jsx)(r.a,{})}))),s=e?e=>e.parentElement||document.body:void 0;return Object(b.jsx)(i.a,{placement:"bottom",className:"no-print",menu:{items:t},trigger:["hover","click"],getPopupContainer:s,overlayStyle:{whiteSpace:"normal"},dropdownRender:e=>Object(b.jsx)(n.c,{children:e}),children:Object(b.jsx)(j,{$color:"primary",as:r.a})})}return Object(b.jsx)(j,{onClick:()=>u(a[0]),$color:"primary",as:r.a})};u.displayName="TutorialVideoIcon",t.a=u;const j=Object(d.d)(n.d).withConfig({componentId:"wb__sc-l82tox-0"})(["animation:tutorial-video-pulsing 1.5s normal 10 backwards;border-radius:50%;margin:0 5px 0 10px;@keyframes tutorial-video-pulsing{0%{box-shadow:0 0 0 0 ",";}100%{box-shadow:0 0 0 7px rgba(255,0,0,0);}}"],(e=>e.theme.colors.primary))},748:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(250),n=a(3024),r=a(2937),o=a(543),l=a(2883),d=a(2838),b=a(1438),u=a(579),j=a(22);const m=(e,t)=>{const[a,m]=Object(s.useState)(!1),[p,h]=Object(s.useState)(0),[O,_]=Object(s.useState)(0),x=Object(s.useCallback)((e=>{m(!0),_(e)}),[]),v=Object(s.useCallback)((()=>{m(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:x,close:v})));const g=Object(s.useCallback)((()=>{h(0),_(0)}),[]);return Object(j.jsxs)(n.a,{centered:!0,width:350,footer:null,onCancel:v,open:a,afterClose:g,children:[Object(j.jsx)(r.a,{layout:"vertical",children:Object(j.jsxs)(o.a,{gutter:10,children:[Object(j.jsx)(l.a,{span:12,children:Object(j.jsx)(r.a.Item,{label:Object(i.b)("components.money_change.charged_amount"),children:Object(j.jsx)(d.a,{min:0,step:100,size:"large",value:O,parser:u.e,style:{width:"100%"},className:"hide-number-button",formatter:e=>Object(u.d)(e),onChange:e=>_(e||0)})})}),Object(j.jsx)(l.a,{span:12,children:Object(j.jsx)(r.a.Item,{label:Object(i.b)("components.money_change.received_amount"),children:Object(j.jsx)(d.a,{min:0,step:100,size:"large",value:p,parser:u.e,style:{width:"100%"},formatter:e=>Object(u.d)(e),className:"hide-number-button",onChange:e=>h(e||0)})})})]})}),Object(j.jsx)(b.a,{style:{margin:"10px 0"},children:Object(i.b)("components.money_change.change")}),Object(j.jsx)(c.h,{$bold:!0,$alignCenter:!0,$block:!0,$size:24,children:Object(u.d)(Math.max(p-O,0))})]})};m.displayName="MoneyChangeModal",t.a=Object(s.memo)(Object(s.forwardRef)(m))},749:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return d}));var s=a(53),i=a.n(s),c=a(447),n=a(444),r=a(137),o=a(50);const l={id:Object(c.a)(),quantity:1,value_cents:0,sum_cents:0,und:Object(o.b)("words.unit"),product_unit_quantity:1,cost_cents:0,product_id:void 0,_destroy:!1},d={id:Object(c.a)(),finished:!1,vendor_id:void 0,date:i()(),sum_cents:0,freight_cents:0,discount_cents:0,other_expenses_cents:0,other_revenues_cents:0,number:void 0,comment:void 0,purchase_items_attributes:[l],finance_bill_pays_attributes:[]};t.c=(e,t)=>{switch(t.type){case"reset_purchase":return d;case"set_purchase":return t.payload;case"change_value":const a={...e,[t.payload.key]:t.payload.value};return b(e.purchase_items_attributes,a);case"set_date":return{...e,date:t.payload};case"set_vendor_id":return{...e,vendor_id:t.payload};case"set_number":return{...e,number:t.payload};case"set_comment":return{...e,comment:t.payload};case"add_purchase_item":return u(e,t.payload);case"update_purchase_item":return m(e,t.payload);case"update_bill_pay":return O(e,t.payload);case"remove_purchase_item":return j(e,t.payload);case"add_bill_pay":return p(e,t.payload);case"remove_bill_pay_item":return h(e,t.payload);default:return e}};const b=(e,t)=>{const a=e.filter((e=>!e._destroy)).reduce(((e,t)=>e+t.sum_cents),0)+t.freight_cents+t.other_expenses_cents-(t.discount_cents+t.other_revenues_cents);return{...t,purchase_items_attributes:e,sum_cents:a<0?0:a}},u=(e,t)=>{const a=[...e.purchase_items_attributes,t];return b(a,e)},j=(e,t)=>{let a=Object(r.cloneDeep)(e.purchase_items_attributes);const s=a.findIndex((e=>e.id===t));if(-1===s||!a[s])return e;return Object(n.a)(t)?a=a.filter((e=>e.id!==t)):a[s]._destroy=!0,b(a,e)},m=(e,t)=>{const a=Object(r.cloneDeep)(e.purchase_items_attributes),s=a.findIndex((e=>e.id===t.id));return-1===s?e:(a[s]=t,b(a,e))},p=(e,t)=>{const a=[...Object(r.cloneDeep)(e.finance_bill_pays_attributes),t];return{...e,finance_bill_pays_attributes:a}},h=(e,t)=>{const a=Object(r.cloneDeep)(e.finance_bill_pays_attributes),s=a.findIndex((e=>e.id===t));return-1!==s&&a[s]?(a[s]._destroy=!0,{...e,finance_bill_pays_attributes:a}):e},O=(e,t)=>{const a=Object(r.cloneDeep)(e.finance_bill_pays_attributes),s=a.findIndex((e=>e.id===t.id));return a[s]=t,{...e,finance_bill_pays_attributes:a}}},754:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(116),n=a(250),r=a(620),o=a(589),l=a(867),d=a(795),b=a(2883),u=a(2937),j=a(543),m=a(19),p=a(22);const h=()=>{const e=Object(o.b)((e=>e.subscription.finished));return Object(p.jsx)(u.a,{layout:"vertical",children:Object(p.jsxs)(j.a,{gutter:8,wrap:!1,children:[Object(p.jsx)(b.a,{span:e?8:10,children:Object(p.jsx)(_,{label:Object(i.b)("words.description"),hasFeedback:!1})}),e&&Object(p.jsx)(b.a,{span:2,children:Object(p.jsx)(_,{label:Object(i.b)("words.balance")})}),Object(p.jsx)(b.a,{flex:"auto",children:Object(p.jsxs)(j.a,{gutter:8,children:[Object(p.jsx)(b.a,{span:4,children:Object(p.jsx)(_,{label:Object(i.b)("acronyms.qty")})}),Object(p.jsx)(b.a,{span:7,children:Object(p.jsx)(_,{label:Object(i.b)("phrases.unit_value")})}),Object(p.jsx)(b.a,{span:7,children:Object(p.jsx)(_,{label:Object(i.b)("words.discount")})}),Object(p.jsx)(b.a,{span:6,children:Object(p.jsx)(_,{label:Object(i.b)("words.total")})})]})})]})})};h.displayName="SubscriptionItemsHeader";var O=h;const _=Object(m.d)(u.a.Item).withConfig({componentId:"wb__sc-6poq94-0"})([".ant-col.ant-form-item-control{display:none;}margin-bottom:0 !important;"]);var x=a(447),v=a(2854),g=a(2824),y=a(538),f=a(2838),w=a(1256),k=a(159),C=a(579),I=a(622),A=a(693),S=a(584);const $=()=>{const e=Object(o.b)((e=>e.subscriptionDispatch)),[t]=u.a.useForm(),{resetFields:a,getFieldsValue:s,setFieldsValue:c}=t,n=(e,t,a,s)=>{if("percentage"===e)return void(t>100&&c({discount:100}));const i=a*s;t>i&&c({discount:i})},l=e=>{const{value_cents:t,discount:a,quantity:i}=s();if("percentage"===e){const e=a/100;return e>100?void c({discount:100}):void c({discount:e})}const n=t*i,r=100*a;c(r>n?{discount:n}:{discount:r})};return Object(p.jsx)(u.a,{form:t,children:Object(p.jsxs)(F,{gutter:8,wrap:!1,children:[Object(p.jsxs)(b.a,{span:10,children:[Object(p.jsx)(u.a.Item,{name:"is_service",noStyle:!0,initialValue:"true",children:Object(p.jsx)(g.a,{type:"hidden"})}),Object(p.jsxs)(y.a.Compact,{block:!0,children:[Object(p.jsx)(u.a.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.is_service!==t.is_service,children:e=>{let{getFieldValue:t,setFieldsValue:a}=e;const s="true"===t("is_service");return Object(p.jsx)(A.a,{size:"large",value:s,onChange:e=>a({is_service:e?"true":"false"})})}}),Object(p.jsx)(u.a.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.is_service!==t.is_service,children:t=>{let{getFieldValue:i}=t;const c="true"===i("is_service");return Object(p.jsx)(u.a.Item,{noStyle:!0,name:"product",getValueFromEvent:(e,t)=>null===t||void 0===t?void 0:t.item,getValueProps:e=>null===e||void 0===e?void 0:e.id,children:Object(p.jsx)(I.a,{size:"large",is_service:c,style:{width:"100%"},onChange:(t,i)=>(t=>{if(!t)return;const i=s(),c=t.price_cents,n=Object(r.f)({value_cents:c,quantity:i.quantity,discount_type:i.discount_type,discount:i.discount}),o={...i,id:Object(x.a)(),is_service:"true"===i.is_service,product:t,value_cents:c,total_cents:n};e({type:"add_subscription_item",payload:o}),a()})(null===i||void 0===i?void 0:i.item)})})}})]})]}),Object(p.jsx)(b.a,{flex:"auto",children:Object(p.jsxs)(j.a,{gutter:8,children:[Object(p.jsx)(b.a,{span:4,children:Object(p.jsx)(u.a.Item,{noStyle:!0,name:"quantity",initialValue:1,children:Object(p.jsx)(f.a,{min:0,size:"large",placeholder:Object(i.b)("acronyms.qty"),style:{width:"100%"},onChange:e=>{const{discount_type:t,discount:a,value_cents:i}=s();n(t,a,i,e||0)},formatter:e=>(e||0).toString(),parser:e=>{const t=(e||"0").replace(",",".");return parseFloat(t||"0")}})})}),Object(p.jsx)(b.a,{span:7,children:Object(p.jsx)(u.a.Item,{noStyle:!0,name:"value_cents",initialValue:0,children:Object(p.jsx)(S.a,{size:"large",onChange:e=>{const{discount_type:t,discount:a,quantity:i}=s();n(t,a,e||0,i)}})})}),Object(p.jsx)(b.a,{span:7,children:Object(p.jsx)(u.a.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.value_cents!==t.value_cents||e.quantity!==t.quantity||e.discount_type!==t.discount_type,children:e=>{let{getFieldValue:t}=e;const a=t("quantity"),s=t("value_cents"),i=t("discount_type"),c=a*s;return Object(p.jsxs)(y.a.Compact,{block:!0,children:[Object(p.jsx)(u.a.Item,{name:"discount_type",initialValue:"value",noStyle:!0,children:Object(p.jsx)(w.a,{size:"large",style:{width:70},onChange:l,options:[{label:Object(C.h)(),value:"value"},{label:"%",value:"percentage"}]})}),Object(p.jsx)(u.a.Item,{noStyle:!0,name:"discount",initialValue:0,children:"percentage"===i?Object(p.jsx)(f.a,{min:0,max:100,size:"large",parser:C.t,formatter:e=>Object(C.s)(e),className:"hide-number-button",style:{width:"calc(100% - 70px)"}}):Object(p.jsx)(f.a,{min:0,max:c,size:"large",className:"hide-number-button",style:{width:"calc(100% - 70px)"},parser:e=>Object(C.t)(e,1),formatter:e=>Object(C.s)((e||0)/100)})})]})}})}),Object(p.jsx)(b.a,{span:6,children:Object(p.jsx)(u.a.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.value_cents!==t.value_cents||e.quantity!==t.quantity||e.discount!==t.discount||e.discount_type!==t.discount_type,children:e=>{let{getFieldValue:t}=e;const a=t("quantity"),s=t("discount"),i=t("value_cents"),c=t("discount_type")||"value",n=Object(r.f)({value_cents:i,quantity:a,discount_type:c,discount:s});return Object(p.jsx)(S.a,{readOnly:!0,size:"large",value:n||0})}})})]})}),Object(p.jsx)(b.a,{flex:"50px",children:Object(p.jsx)(k.a,{danger:!0,type:"text",size:"large",icon:Object(p.jsx)(v.a,{}),disabled:!0})})]})})};$.displayName="EmptySubscriptionItem";var E=Object(s.memo)($);const F=Object(m.d)(j.a).withConfig({componentId:"wb__sc-1fmbu54-0"})(["margin-bottom:10px;"]),D=e=>{var t;let{subscription_item:a}=e;const c=Object(o.b)((e=>e.subscription.finished)),n=Object(o.b)((e=>e.subscriptionDispatch)),l=a.is_service,d=a.discount_type,u=null===(t=a.product)||void 0===t?void 0:t.id,m=a.quantity*a.value_cents,h=Object(s.useCallback)((e=>{const{value_cents:t,quantity:a,discount_type:s,discount:i}=e,c=t*a;let o=i;"value"===s&&o>c&&(o=c),"percentage"===s&&o>100&&(o=100);const l=Object(r.f)({value_cents:t,quantity:a,discount_type:s,discount:o});n({type:"update_subscription_item",payload:{...e,discount:o,total_cents:l}})}),[n]),O=e=>{let t=0;"number"===typeof e&&(t=e),"string"===typeof e&&(t=parseFloat(e));const s={...a,discount:t};h(s)};return Object(p.jsxs)(N,{gutter:8,wrap:!1,children:[Object(p.jsx)(b.a,{span:c?8:10,children:Object(p.jsxs)(q,{block:!0,children:[Object(p.jsx)(A.a,{size:"large",value:l,disabled:c,onChange:e=>{const t={...a,is_service:e,product:void 0,value_cents:0};h(t)}}),Object(p.jsx)(I.a,{size:"large",is_service:l,style:{width:"100%"},value:u,onChange:(e,t)=>(e=>{const t={...a,product:e,value_cents:e.price_cents};h(t)})(t.item),disabled:c})]})}),c&&Object(p.jsx)(b.a,{span:2,children:Object(p.jsx)(f.a,{size:"large",value:a.balance,style:{width:"100%"},disabled:!0})}),Object(p.jsx)(b.a,{flex:"auto",children:Object(p.jsxs)(j.a,{gutter:8,children:[Object(p.jsx)(b.a,{span:4,children:Object(p.jsx)(f.a,{min:0,size:"large",placeholder:Object(i.b)("acronyms.qty"),style:{width:"100%"},value:a.quantity,formatter:e=>(e||0).toString(),parser:e=>{const t=(e||"0").replace(",",".");return parseFloat(t||"0")},onChange:e=>{const t={...a,quantity:e||0};h(t)},disabled:c})}),Object(p.jsx)(b.a,{span:7,children:Object(p.jsx)(S.a,{size:"large",onChange:e=>{let t=0;"number"===typeof e&&(t=e),"string"===typeof e&&(t=parseFloat(e));const s={...a,value_cents:t};h(s)},value:a.value_cents,disabled:c})}),Object(p.jsx)(b.a,{span:7,children:Object(p.jsxs)(y.a.Compact,{block:!0,children:[Object(p.jsx)(w.a,{size:"large",style:{width:70},value:a.discount_type,onChange:e=>{const t={...a,discount_type:e,discount:"percentage"===e?a.discount/100:100*a.discount};h(t)},options:[{label:Object(C.h)(),value:"value"},{label:"%",value:"percentage"}],disabled:c}),"percentage"===d?Object(p.jsx)(f.a,{min:0,max:100,size:"large",parser:C.t,formatter:e=>Object(C.s)(e),onChange:O,value:a.discount,className:"hide-number-button",style:{width:"calc(100% - 70px)"},disabled:c}):Object(p.jsx)(f.a,{min:0,size:"large",max:m,onChange:O,value:a.discount,className:"hide-number-button",style:{width:"calc(100% - 70px)"},parser:e=>Object(C.t)(e,1),formatter:e=>Object(C.s)((e||0)/100),disabled:c})]})}),Object(p.jsx)(b.a,{span:6,children:Object(p.jsx)(S.a,{readOnly:!0,size:"large",value:a.total_cents,disabled:c})})]})}),Object(p.jsx)(b.a,{flex:"50px",children:Object(p.jsx)(k.a,{danger:!0,type:"text",size:"large",icon:Object(p.jsx)(v.a,{}),onClick:()=>{return e=a.id,void n({type:"remove_subscription_item",payload:e});var e},disabled:c})})]})};D.displayName="SubscriptionItem";var z=D;const N=Object(m.d)(j.a).withConfig({componentId:"wb__sc-1d3u8wj-0"})(["margin-bottom:10px;"]),q=Object(m.d)(y.a.Compact).withConfig({componentId:"wb__sc-1d3u8wj-1"})(["& > div:last-child{width:calc(100% - 40px) !important;}"]),B=()=>{const e=Object(o.b)((e=>e.subscription.finished)),t=Object(o.b)((e=>e.subscription.customer_subscription_items)),a=Object(s.useMemo)((()=>t.filter((e=>!e._destroy))),[t]);return Object(p.jsxs)(R,{children:[Object(p.jsx)(n.h,{$size:20,$bottom:25,$bold:!0,children:Object(i.b)("words.customer_subscription_item",{count:2})}),Object(p.jsx)(O,{}),a.map((e=>Object(p.jsx)(z,{subscription_item:e},e.id))),!e&&Object(p.jsx)(E,{})]})};B.displayName="SubscriptionItems";var P=B;const R=m.d.div.withConfig({componentId:"wb__sc-enq9c5-0"})(["width:100%;position:relative;input:read-only:not(:disabled){color:rgba(0,0,0,0.55);background-color:#f5f5f5;cursor:not-allowed;}"]),M=()=>{const[e,t]=Object(s.useState)(!1),[a,c]=Object(s.useState)(),r=Object(o.b)((e=>e.subscriptionDispatch)),l=Object(o.b)((e=>e.subscription.observation));return Object(s.useEffect)((()=>{e||l&&(c(l),t(!0))}),[e,l]),Object(p.jsx)(n.g,{$isFlex:!1,$column:!0,$mBottom:60,children:Object(p.jsx)(u.a,{layout:"vertical",children:Object(p.jsx)(u.a.Item,{label:Object(i.b)("words.observation",{count:2}),children:Object(p.jsx)(g.a.TextArea,{size:"large",value:a,placeholder:Object(i.b)("input.text_area_placeholder"),onChange:e=>{const t=e.target.value;c(t),r({type:"change_observation",payload:t})}})})})})};M.displayName="ObservationInput";var T=Object(s.memo)(M),L=a(2934),V=a(37),H=a(405),U=a(188),G=a(76);const Y=V.e`
  query CustomerSubscriptionTemplates {
    all_customer_subscription_templates(active: true) {
      all {
        id name small_thumb_url image_blurhash

        subscription_template_items {
          id discount discount_type quantity value_cents total_cents

          inventory_product {
            ...InventoryProductsAttributes
          }
        }
      }
    }
  }

  ${U.b}
`;var Q=()=>Object(H.f)(Y,{fetchPolicy:"network-only",onError:e=>{G.a.captureException(e),console.log(e)}});const J=e=>{const t=Object(o.b)((e=>{var t;return null===(t=e.subscription.customer_subscription_template)||void 0===t?void 0:t.id})),a=Object(o.b)((e=>e.subscriptionDispatch)),{data:c,loading:n}=Q(),l=Object(s.useMemo)((()=>(null===c||void 0===c?void 0:c.all_customer_subscription_templates.all)||[]),[null===c||void 0===c?void 0:c.all_customer_subscription_templates]);return Object(p.jsx)(w.a,{allowClear:!0,size:"large",loading:n,style:{width:"100%"},placeholder:Object(i.b)("customer.subscription.drawer.select_subscription_template"),onChange:(e,t)=>{return s=null===t||void 0===t?void 0:t.item,a({type:"change_subcritpion_template",payload:s||null}),void(s&&s.subscription_template_items.forEach((e=>{const t=e.value_cents,s=e.quantity,i=e.discount_type,c=e.discount,n=Object(r.f)({value_cents:t,quantity:s,discount_type:i,discount:c}),o={id:Object(x.a)(),is_service:e.inventory_product.is_service,product:e.inventory_product,quantity:s,value_cents:t,discount_type:i,discount:c,total_cents:n};a({type:"add_subscription_item",payload:o})})));var s},value:t,...e,children:l.map((e=>Object(p.jsx)(w.a.Option,{title:e.name,value:e.id,item:e,children:e.name},e.id)))})};J.displayName="SubscriptionTemplatesInput";var W=Object(s.memo)(J),Z=a(621);const K=()=>{const e=Object(o.b)((e=>e.headerRef)),t=Object(o.b)((e=>e.subscription.due)),a=Object(o.b)((e=>e.subscription.date)),s=Object(o.b)((e=>e.subscription.status)),c=Object(o.b)((e=>e.subscription.finished)),r=Object(o.b)((e=>{var t;return null===(t=e.subscription.client)||void 0===t?void 0:t.id})),l=Object(o.b)((e=>e.subscriptionDispatch));return Object(p.jsx)(u.a,{layout:"vertical",children:Object(p.jsxs)(n.g,{$isFlex:!1,gutter:8,$wrap:!0,children:[Object(p.jsx)(b.a,{span:10,ref:e,children:Object(p.jsx)(u.a.Item,{label:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{style:{color:"red"},children:"*"}),"\xa0",Object(i.b)("words.client")]}),children:Object(p.jsx)(Z.a,{size:"large",value:r,onChange:(e,t)=>{return a=t.item,void l({type:"change_client",payload:a});var a},disabled:c,showCreateButton:!0,popupClassName:"ant-select-dropdown-small"})})}),!c&&Object(p.jsx)(b.a,{span:4,children:Object(p.jsx)(u.a.Item,{label:Object(i.b)("words.date"),children:Object(p.jsx)(L.a,{value:a,onChange:e=>{e&&l({type:"change_date",payload:e})},size:"large",allowClear:!1,format:"L",style:{width:"100%"}})})}),Object(p.jsx)(b.a,{span:6,children:Object(p.jsx)(u.a.Item,{label:Object(i.b)("words.customer_subscription_template"),children:Object(p.jsx)(W,{disabled:c})})}),c&&Object(p.jsxs)(p.Fragment,{children:[!!t&&Object(p.jsx)(b.a,{span:4,children:Object(p.jsx)(u.a.Item,{label:Object(i.b)("words.due"),children:Object(p.jsx)(L.a,{disabled:!0,value:t,size:"large",allowClear:!1,format:"L",style:{width:"100%"}})})}),Object(p.jsx)(b.a,{span:4,children:Object(p.jsx)(u.a.Item,{label:Object(i.b)("words.status"),children:Object(p.jsx)(w.a,{value:s,disabled:!0,size:"large",suffixIcon:null,options:[{value:"active",label:Object(i.b)("customer.subscription.status.active")},{value:"pending",label:Object(i.b)("customer.subscription.status.pending")},{value:"expired",label:Object(i.b)("customer.subscription.status.expired")},{value:"canceled",label:Object(i.b)("customer.subscription.status.canceled")},{value:"disabled",label:Object(i.b)("customer.subscription.status.disabled")}]})})})]})]})})};K.displayName="HeaderForm";var X=Object(s.memo)(K);const ee=()=>{const e=Object(o.b)((e=>e.subscription.finished)),t=Object(o.b)((e=>e.subscription.total_cents)),a=Object(o.b)((e=>e.subscription.discount_cents)),c=Object(o.b)((e=>e.subscription.customer_subscription_items)),l=Object(o.b)((e=>e.subscriptionDispatch)),d=Object(s.useMemo)((()=>Object(r.e)(c)),[c]),u=Object(s.useCallback)((e=>{let t=e;"string"===typeof t&&(t=parseFloat(t)),null===t&&(t=0),l({type:"change_discount_cents",payload:t})}),[l]);return Object(p.jsx)(n.g,{$column:!0,$paddings:[15,0,0,0],align:"bottom",gutter:8,children:Object(p.jsxs)(b.a,{span:24,children:[Object(p.jsxs)(n.g,{justify:"end",$bottom:10,children:[Object(p.jsx)(n.h,{$size:15,$semibold:!0,$top:8,$right:10,children:Object(i.b)("words.discount")}),Object(p.jsx)(ae,{size:"large",value:a,onChange:u,max:d,disabled:e})]}),Object(p.jsxs)(n.g,{justify:"end",children:[Object(p.jsx)(n.h,{$size:15,$semibold:!0,$top:8,$right:10,children:Object(i.b)("words.total")}),Object(p.jsx)(ae,{size:"large",readOnly:!0,value:t,disabled:e})]})]})})};ee.displayName="Totals";var te=Object(s.memo)(ee);const ae=Object(m.d)(S.a).withConfig({componentId:"wb__sc-1s6c2z7-0"})(["max-width:180px;"]),se=e=>{let{title:t}=e;return Object(p.jsxs)(ce,{$column:!0,children:[Object(p.jsx)(n.g,{$isFlex:!1,$alignCenter:!0,children:Object(p.jsx)(n.h,{$top:30,$bottom:30,$block:!0,$size:24,$bold:!0,children:t})}),Object(p.jsxs)(n.g,{$column:!0,children:[Object(p.jsx)(X,{}),Object(p.jsx)(P,{}),Object(p.jsx)(te,{})]}),Object(p.jsx)(T,{})]})};se.displayName="SubscriptionForm";var ie=Object(s.memo)(se);const ce=Object(m.d)(n.g).withConfig({componentId:"wb__sc-1r0aqnd-0"})(["height:100%;overflow:auto;padding-bottom:25px;padding-left:15px;padding-right:15px;.ant-picker-input > input[disabled]{color:rgba(0,0,0,0.55);}.ant-select-disabled.ant-select:not(.ant-select-customize-input) .ant-select-selector{color:rgba(0,0,0,0.55);}.ant-input-number-disabled,.ant-input[disabled]{color:rgba(0,0,0,0.55);}"]);var ne=a(339),re=a(586),oe=a(583),le=a(596),de=a(824),be=a(694),ue=a(27),je=a(137);const me=V.e`
  fragment SubscriptionDrawerClientAttributes on Client {
    id
    email
    name
    phone1
    phone2
    birthday
    has_avatar
    avatar_url
    avatar_blurhash
    name_initials
    customer_tag_list
    open_sales_count
    fidelity_points
    late_payments_count
    balance_cents
    cashback_balance_cents
    whatsapp_contact_id
    created_at
    active
    small_thumb_url
    large_thumb_url
    is_new: new

    address
    complement
    number
    district
    cep
    city_id
    state_id

    notes {
      id
      description
      updated_at
      user_id
    }
  }
`,pe=V.e`
  query SubscriptionDrawerClient($id: ID) {
    client(id: $id, search_inactives: true) {
      ...SubscriptionDrawerClientAttributes
    }
  }

  ${me}
`;var he=(e,t)=>{const a=Object(ue.a)((e=>e.employees));return Object(H.f)(pe,{notifyOnNetworkStatusChange:!0,fetchPolicy:"network-only",variables:{id:e},onCompleted:e=>{const s=Object(je.cloneDeep)(e.client).notes.map((e=>({...e,employee:a.find((t=>t.user_id===e.user_id))})));t(s)},onError:e=>{console.error(e),G.a.captureException(e)}})},Oe=a(796);var _e=e=>{let{client_id:t}=e;const[a,r]=Object(s.useState)(!1),[o,l]=Object(s.useState)([]),d=Object(s.useRef)(null),b=Object(ue.a)((e=>e.current_user.permissions)),{data:{client:u}={},loading:j,refetch:m}=he(t,l),h=Object(s.useCallback)((e=>{let{currentTarget:{scrollTop:t}}=e;r(!(t<200))}),[]),O=Object(s.useCallback)((()=>{var e;b.can_edit_client?null===(e=d.current)||void 0===e||e.open({id:null===u||void 0===u?void 0:u.id}):c.b.warning(Object(i.b)("phrases.no_permission_to_do_this"))}),[null===u||void 0===u?void 0:u.id,b.can_edit_client]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(oe.a.Provider,{value:j,children:Object(p.jsx)(xe,{onScroll:h,children:Object(p.jsxs)(ve,{children:[Object(p.jsx)(be.a,{loading:j,client:u,floating_header_visible:a,handleOpenClientDrawer:O,handleOpenWhatsapp:()=>{Object(C.z)({phone:(null===u||void 0===u?void 0:u.phone2)||(null===u||void 0===u?void 0:u.phone1),message:""})}}),Object(p.jsxs)(n.g,{$column:!0,$paddings:[10,0],children:[Object(p.jsx)(Oe.a,{client:u}),Object(p.jsx)(de.a,{notes:o,client_id:null===u||void 0===u?void 0:u.id,setNotes:l})]})]})})}),Object(p.jsx)(le.a,{ref:d,onSave:()=>m()})]})};const xe=m.d.div.withConfig({componentId:"wb__sc-qyymc-0"})(["overflow-y:auto;height:100%;"]),ve=m.d.div.withConfig({componentId:"wb__sc-qyymc-1"})(["width:100%;min-height:100%;padding-bottom:25px;display:flex;flex-direction:column;align-items:center;text-align:center;position:relative;"]);var ge=a(2975),ye=a(671);const fe=()=>{const e=Object(o.b)((e=>e.subscriptionDispatch));return Object(p.jsx)(Ce,{children:Object(p.jsxs)(n.g,{$paddings:[25,0],$column:!0,align:"middle",children:[Object(p.jsx)(ke,{size:120,src:ye.a}),Object(p.jsx)(n.g,{$paddings:[0,25],$mTop:15,style:{width:"100%"},children:Object(p.jsx)(Z.a,{popupClassName:"ant-select-dropdown-medium",size:"large",showCreateButton:!1,onChange:(t,a)=>e({type:"change_client",payload:null===a||void 0===a?void 0:a.item}),style:{width:"100%"},getPopupContainer:()=>document.body})})]})})};fe.displayName="SelectClient";var we=Object(s.memo)(fe);const ke=Object(m.d)(ge.a).withConfig({componentId:"wb__sc-1jx042t-0"})(["box-shadow:0 0 20px 0 #e8e8e8;min-height:120px;"]),Ce=m.d.div.withConfig({componentId:"wb__sc-1jx042t-1"})(["height:100%;width:100%;border-right:1px solid #f0f0f0;padding-top:25px;overflow-y:auto;"]),Ie=()=>{const e=Object(o.b)((e=>{var t;return null===(t=e.subscription.client)||void 0===t?void 0:t.id}));return e?Object(p.jsx)(_e,{client_id:e}):Object(p.jsx)(we,{})};Ie.displayName="Sidebar";var Ae=Ie,Se=a(340),$e=a(1809),Ee=a(2856),Fe=a(1440),De=a(2843),ze=a(1810),Ne=a(2921),qe=a(742),Be=a(743),Pe=a(444),Re=a(1438),Me=a(797),Te=a(582),Le=a(232);const Ve=Object(s.lazy)((()=>Object(Le.a)((()=>a.e(134).then(a.bind(null,2886)))))),He=Object(s.lazy)((()=>Object(Le.a)((()=>a.e(135).then(a.bind(null,2887))))));var Ue=e=>{let{form:t,bill_recs:a,updateBillRecs:c}=e;const r=a.filter((e=>!e._destroy)),l=Object(o.b)((e=>e.subscription.total_cents)),d=Object(s.useCallback)((e=>{const t=Object(je.cloneDeep)(a),s=t.findIndex((t=>t.id===e.id));if(-1===s||!t[s])return a;if(t[s]._destroy=!0,!t[s].installment_id)return t;let i=1;const c=t.map((e=>(e.installment_id!==t[s].installment_id||e._destroy||(e.installment_index=i,i++),e)));return c}),[a]),b=Object(s.useCallback)((e=>{const a=d(e),s=a.reduce(((e,t)=>t._destroy?e:e+t.value_cents),0),i=Math.max(0,l-s);t.setFieldsValue({value_cents:i}),c(a)}),[d,l,t,c]),u=Object(s.useCallback)(((e,t)=>{const s=Object(je.cloneDeep)(a),i=a.findIndex((t=>t.id===e.id));-1!==i&&s[i]&&(s[i]={...e,due:t},c(s))}),[a,c]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Re.a,{orientation:"left",children:Object(i.b)("words.payment",{count:2})}),Object(p.jsxs)(n.g,{$column:!0,$bottom:20,children:[0===r.length&&Object(p.jsx)(n.h,{$size:18,children:Object(i.b)("phrases.no_payment_added")}),r.map((e=>{const t=r.filter((t=>t.installment_id===e.installment_id)).length;return Object(p.jsx)(Te.a,{Desktop:Ve,Mobile:He,bill_rec:e,installments:t,removeBillRec:b,handleEditDate:u},e.id)}))]})]})},Ge=a(3036),Ye=a(748);const Qe=e=>{let{can_finish_subscription:t,finishSubscription:a,close:c}=e;const r=Object(o.b)((e=>e.save_loading)),l=Object(o.b)((e=>e.subscription.total_cents)),d=Object(s.useRef)(null),b=Object(s.useCallback)((()=>{var e;null===(e=d.current)||void 0===e||e.open(l)}),[l]);return Object(p.jsxs)(We,{children:[Object(p.jsx)(k.a,{block:!0,size:"large",icon:Object(p.jsx)(Ge.a,{}),onClick:b,children:Object(p.jsx)(n.h,{$semibold:!0,children:Object(i.b)("phrases.calculate_change")})}),t?Object(p.jsx)(k.a,{block:!0,onClick:a,type:"primary",size:"large",className:"ant-button-success",loading:r,disabled:r,children:Object(p.jsx)(n.h,{$semibold:!0,children:Object(i.b)("verbs.invoice")})}):Object(p.jsx)(k.a,{onClick:c,block:!0,type:"primary",size:"large",children:Object(p.jsx)(n.h,{$semibold:!0,children:Object(i.b)("verbs.back")})}),Object(p.jsx)(Ye.a,{ref:d})]})};Qe.displayName="Footer";var Je=Qe;const We=m.d.div.withConfig({componentId:"wb__sc-kfnbnr-0"})(["display:flex;.ant-btn + .ant-btn{margin-left:8px;}"]),Ze=(e,t)=>{const[a,l]=Object(s.useState)(!1),[d,b]=Object(s.useState)(),j=Object(ue.a)((e=>e.current_user.permissions)),m=Object(o.b)((e=>e.subscription.date)),h=Object(o.b)((e=>e.subscription.id)),O=Object(o.b)((e=>e.subscription.total_cents)),_=Object(o.b)((e=>e.subscription.payment_type)),v=Object(o.b)((e=>e.subscription.discount_cents)),g=Object(o.b)((e=>e.subscription.customer_subscription_payments)),y=Object(o.b)((e=>e.subscriptionDispatch)),f=Object(o.b)((e=>e.submit)),[w]=u.a.useForm(),{setFieldsValue:k,resetFields:I,getFieldsValue:A}=w,S=Object(s.useCallback)((e=>{l(!0);const t=g.find((t=>t.id===e));b(e);const a=Object(r.b)((null===t||void 0===t?void 0:t.finance_bill_recs)||[]),s=O-a;k({value_cents:s<0?0:s,due:m})}),[m,k,g,O]),$=Object(s.useCallback)((()=>{l(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:S,close:$})));const E=Object(s.useMemo)((()=>{const e=g.find((e=>e.id===d));return(null===e||void 0===e?void 0:e.finance_bill_recs)||[]}),[d,g]),F=Object(s.useCallback)((e=>{y({type:"set_bill_recs",payload:{subscription_payment_id:d,bill_recs:e}})}),[y,d]),D=Object(s.useCallback)((e=>{const{value_cents:t,installments:a,due:s}=A();if(t<=0)return void c.b.warning(Object(i.b)("phrases.enter_value"));const n=Math.floor(t/a),o=t-n*(a-1),l=s.clone(),d=Object(x.a)(),b=Object(r.b)(E),u=Math.max(0,O-b-t),j=[];for(let i=1;i<=a;i++){let t={id:Object(x.a)(),value_cents:a>1&&i===a?o:n,due:l.clone().add(i-1,"month"),date:m,payment:e};a>1&&(t={...t,installment_index:i,installment_id:d}),j.push(t)}F([...E,...j]),k({value_cents:u,installments:1,due:m})}),[E,m,A,k,O,F]),z=Object(s.useCallback)((e=>{e||(I(),b(void 0))}),[I]),N=Object(s.useCallback)((()=>{const e=Object(r.b)(E);"manual"===_&&e<O?c.b.warning(Object(i.b)("phrases.check_payments")):f()}),[E,_,f,O]),q=Object(s.useCallback)((()=>{d&&Object(Pe.a)(d)&&y({type:"remove_subscription_payment",payload:d}),$()}),[$,y,d]),B=Object(s.useMemo)((()=>E.filter((e=>!e._destroy))),[E]).reduce(((e,t)=>e+t.value_cents),0),P=Math.max(B-O,0),R=h&&j.can_edit_subscription_template,M=!h&&j.can_create_subscription_template,T=O<=B&&(R||M)&&"manual"===_;return Object(p.jsxs)(n.a,{open:a,width:500,push:!1,onClose:q,title:Object(i.b)("customer.subscription.drawer.subscription_renewal"),afterOpenChange:z,footer:Object(p.jsx)(Je,{can_finish_subscription:T,finishSubscription:N,close:q}),children:[Object(p.jsx)(u.a,{form:w,layout:"vertical",children:"manual"===_&&Object(p.jsx)(Me.a,{handlePaymentSelect:D})}),Object(p.jsx)(Ue,{form:w,bill_recs:E,updateBillRecs:F}),Object(p.jsx)(Re.a,{orientation:"left",style:{paddingTop:15},children:Object(i.b)("phrases.sale_summary")}),Object(p.jsxs)(n.g,{$column:!0,$gap:8,$bottom:30,children:[Object(p.jsxs)(n.g,{justify:"space-between",children:[Object(p.jsx)(n.h,{$size:18,children:Object(i.b)("words.discount",{count:2})}),Object(p.jsx)(n.h,{$size:18,children:Object(C.d)(-v)})]}),Object(p.jsxs)(n.g,{justify:"space-between",children:[Object(p.jsx)(n.h,{$size:18,children:Object(i.b)("words.total")}),Object(p.jsx)(n.h,{$size:18,children:Object(C.d)(O)})]}),Object(p.jsxs)(n.g,{justify:"space-between",$top:5,children:[Object(p.jsx)(n.h,{$size:18,$bold:!0,children:Object(i.b)("phrases.total_paid")}),Object(p.jsx)(n.h,{$size:18,$bold:!0,children:Object(C.d)(B)})]}),!!P&&Object(p.jsxs)(n.g,{justify:"space-between",children:[Object(p.jsx)(n.h,{$size:18,children:Object(i.b)("phrases.credit_for_client")}),Object(p.jsx)(n.h,{$size:18,children:Object(C.d)(P)})]})]})]})};Ze.displayName="BillRecsDrawer";var Ke=Object(s.memo)(Object(s.forwardRef)(Ze)),Xe=a(654);const et=e=>{let{total_cents:t}=e;const a=Object(o.b)((e=>e.subscription.finished)),s=Object(o.b)((e=>e.subscription.payment_link)),c=Object(o.b)((e=>e.subscription.customer_subscription_payments)),r=Object(Xe.a)();return Object(p.jsxs)(n.g,{gutter:[8,0],$isFlex:!0,$wrap:!0,children:[0===c.length&&Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(b.a,{span:24,children:[Object(p.jsx)(n.h,{$block:!0,children:Object(i.b)("customer.subscription.drawer.automatic_payment_type_information")}),Object(p.jsx)(n.h,{$block:!0,$top:10,$bottom:20,children:Object(i.b)("customer.subscription.drawer.we_will_notify_when_they_register")})]})}),Object(p.jsx)(b.a,{span:24,style:{marginBottom:15},children:Object(p.jsxs)(y.a.Compact,{block:!0,children:[Object(p.jsx)(g.a,{size:"large",style:{width:"calc(100% - 90px)"},value:s,disabled:!0}),Object(p.jsx)(k.a,{size:"large",style:{width:90},type:"primary",disabled:!a||!s,onClick:()=>r(s),children:Object(i.b)("verbs.copy")})]})})]})};et.displayName="AutomaticPayment";var tt=Object(s.memo)(et),at=a(82);const st=(e,t)=>{const[a,r]=Object(s.useState)(!1),l=Object(s.useRef)(null),d=Object(s.useRef)(null),j=Object(s.useRef)(null),m=Object(ue.a)((e=>e.current_user.salon)),h=Object(ue.a)((e=>e.current_user.permissions)),O=Object(o.b)((e=>e.save_loading)),_=Object(o.b)((e=>e.subscription.client)),v=Object(o.b)((e=>e.subscription.finished)),g=Object(o.b)((e=>e.subscription.total_cents)),y=Object(o.b)((e=>e.subscription.payment_type)),f=Object(o.b)((e=>e.subscription.payment_link)),w=Object(o.b)((e=>e.subscriptionDispatch)),I=Object(o.b)((e=>e.submit)),A=Object(s.useCallback)((()=>{r(!0)}),[]),$=Object(s.useCallback)((()=>{r(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:A,close:$})));const E=Object(o.b)((e=>e.subscription.customer_subscription_payments)),F=Object(s.useCallback)((e=>{var t;null===(t=l.current)||void 0===t||t.open(e)}),[]),D=Object(s.useCallback)((()=>{const e=Object(x.a)();w({type:"add_subscription_payment",payload:e}),F(e)}),[w,F]),z=Object(s.useCallback)((e=>{v||w({type:"change_payment_type",payload:e})}),[w,v]),N=Object(s.useCallback)((()=>{const e=Object(i.b)("customer.subscription.drawer.send_link_message",{client_name:null===_||void 0===_?void 0:_.name,link:f});Object(C.z)({phone:(null===_||void 0===_?void 0:_.phone2)||(null===_||void 0===_?void 0:_.phone1),message:e})}),[null===_||void 0===_?void 0:_.name,null===_||void 0===_?void 0:_.phone1,null===_||void 0===_?void 0:_.phone2,f]),q=Object(s.useCallback)((()=>{var e,t;h.is_admin?at.a.IS_WEBOOK?null===(t=j.current)||void 0===t||t.open():null===(e=d.current)||void 0===e||e.open():c.b.warning(Object(i.b)("phrases.no_permission_to_do_this"))}),[h.is_admin]),B=Object(s.useCallback)((()=>{v?N():m.has_online_payment?I():q()}),[v,m.has_online_payment,I,N,q]),P=[{title:Object(i.b)("words.renovation"),key:"date",dataIndex:"date",render:e=>e.format("L")},{title:Object(i.b)("words.due"),key:"due",dataIndex:"due",render:e=>e.format("L")},{title:Object(i.b)("words.total"),key:"total_cents",dataIndex:"total_cents",align:"right",render:e=>Object(C.d)(e)},{key:"action",dataIndex:"action",width:20,render:(e,t)=>Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(n.i,{onClick:()=>F(t.id),children:Object(p.jsx)(Fe.a,{})})})}];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(n.a,{open:a,width:500,push:!1,onClose:$,height:"100%",title:Object(i.b)("words.payment",{count:2}),footer:Object(p.jsxs)(nt,{children:[Object(p.jsx)(k.a,{block:!0,size:"large",onClick:$,children:Object(p.jsx)(n.h,{$semibold:!0,children:Object(i.b)("verbs.back")})}),"manual"===y?Object(p.jsx)(k.a,{block:!0,onClick:D,type:"primary",size:"large",className:"ant-button-success",children:Object(p.jsx)(n.h,{$semibold:!0,children:Object(i.b)("verbs.invoice")})}):Object(p.jsx)(k.a,{block:!0,onClick:B,type:"primary",size:"large",loading:O,className:v?"ant-button-success":void 0,children:Object(p.jsx)(n.h,{$semibold:!0,children:v?Object(i.b)("phrases.send_link"):Object(i.b)("phrases.generate_link")})})]}),children:[Object(p.jsxs)(n.g,{$bottom:10,style:{columnGap:8},children:[Object(p.jsxs)(ct,{$selected:"automatic"===y,onClick:()=>z("automatic"),className:"manual"===y&&v?"disabled":void 0,children:[Object(p.jsx)(ze.a,{checked:"automatic"===y,disabled:"manual"===y&&v}),Object(p.jsxs)("div",{children:[Object(p.jsx)(n.h,{$block:!0,children:Object(i.b)("words.automatic",{context:"female"})}),Object(p.jsx)(n.h,{$block:!0,$size:12,$color:"gray_1",children:Object(i.b)("customer.subscription.drawer.on_credit_card")})]})]}),Object(p.jsxs)(ct,{$selected:"manual"===y,onClick:()=>z("manual"),className:"automatic"===y&&v?"disabled":void 0,children:[Object(p.jsx)(ze.a,{checked:"manual"===y,disabled:"automatic"===y&&v}),Object(p.jsxs)("div",{children:[Object(p.jsx)(n.h,{$block:!0,children:Object(i.b)("words.manual")}),Object(p.jsx)(n.h,{$block:!0,$size:12,$color:"gray_1",children:Object(i.b)("customer.subscription.drawer.on_the_counter")})]})]})]}),0===E.length&&Object(p.jsx)(u.a,{layout:"vertical",children:Object(p.jsx)(n.g,{gutter:[8,0],$isFlex:!0,$wrap:!0,children:Object(p.jsx)(b.a,{span:24,children:Object(p.jsx)(u.a.Item,{label:Object(i.b)("words.value"),children:Object(p.jsx)(S.a,{value:g,min:0,size:"large",disabled:!0})})})})}),"automatic"===y&&Object(p.jsx)(tt,{total_cents:g}),"manual"===y&&Object(p.jsx)(n.g,{children:Object(p.jsx)(n.h,{$block:!0,children:Object(i.b)("customer.subscription.drawer.manual_payment_type_information")})}),v&&"manual"===y&&Object(p.jsx)(n.g,{$top:5,$bottom:10,children:Object(p.jsx)(k.a,{type:"primary",icon:Object(p.jsx)(De.a,{}),onClick:D,children:Object(i.b)("phrases.new_payment")})}),E.length>0&&Object(p.jsx)(Ne.a,{dataSource:E,columns:P,pagination:!1})]}),Object(p.jsx)(Ke,{ref:l}),Object(p.jsx)(qe.a,{ref:d}),Object(p.jsx)(Be.a,{ref:j})]})};var it=Object(s.memo)(Object(s.forwardRef)(st));const ct=m.d.div.withConfig({componentId:"wb__sc-v0g3rh-0"})(["width:40%;display:flex;flex-direction:row;align-items:center;justify-content:start;cursor:pointer;padding:10px 20px;border:1px solid transparent;box-shadow:0 0 10px 3px rgb(197 197 197 / 12%);border-radius:5px;background-color:#FFFFFF;transition:box-shadow .2s;"," .ant-radio-wrapper{padding-right:10px;}&.disabled{opacity:0.8;border:1px solid #c5c5c5;cursor:default;}&:hover:not(.disabled){border:1px solid ",";box-shadow:0 0 10px 3px rgb(197 197 197 / 30%);}"],(e=>e.$selected&&`border: 1px solid ${e.theme.colors.primary};`),(e=>e.theme.colors.primary)),nt=m.d.div.withConfig({componentId:"wb__sc-v0g3rh-1"})(["display:flex;.ant-btn + .ant-btn{margin-left:8px;}"]),rt=e=>{let{close:t,destroySubscription:a,cancelSubscription:r,disableSubscription:l}=e;const d=Object(ue.a)((e=>e.current_user.permissions)),b=Object(o.b)((e=>e.headerRef)),u=Object(o.b)((e=>e.save_loading)),j=Object(o.b)((e=>e.subscription.status)),m=Object(o.b)((e=>e.cancel_loading)),h=Object(o.b)((e=>e.subscription.finished)),O=Object(o.b)((e=>e.destroy_loading)),_=Object(o.b)((e=>e.disable_loading)),x=Object(o.b)((e=>e.subscription.id)),v=Object(o.b)((e=>e.subscription.total_cents)),g=Object(o.b)((e=>{var t;return!(null===(t=e.subscription.client)||void 0===t||!t.id)})),y=Object(o.b)((e=>e.subscription.customer_subscription_items)),f=Object(s.useRef)(null),w=Object(s.useMemo)((()=>y.some((e=>!e._destroy))),[y]),C=Object(s.useCallback)((()=>{d.can_destroy_subscription_template?c.c.confirm({centered:!0,className:"webook-modal",title:Object(i.b)("words.attention"),maskClosable:!0,content:Object(i.b)("phrases.confirm_delete",{model:Object(i.b)("words.subscription").toLocaleLowerCase(),context:"female"}),okText:Object(i.b)("phrases.yes_delete"),okType:"danger",cancelText:Object(i.b)("verbs.cancel"),onOk:()=>!!x&&a(x)}):c.b.warning(Object(i.b)("phrases.no_permission_to_do_this"))}),[a,x,d.can_destroy_subscription_template]),I=Object(s.useCallback)((()=>{d.can_destroy_subscription_template?c.c.confirm({centered:!0,className:"webook-modal",title:Object(i.b)("words.attention"),maskClosable:!0,content:Object(p.jsx)(Se.a,{i18nKey:"customer.subscription.drawer.cancel_message",components:[Object(p.jsx)("span",{}),Object(p.jsx)("br",{})]}),okText:Object(i.b)("phrases.yes_cancel"),okType:"danger",cancelText:Object(i.b)("verbs.cancel"),onOk:()=>!!x&&r(x)}):c.b.warning(Object(i.b)("phrases.no_permission_to_do_this"))}),[r,x,d.can_destroy_subscription_template]),A=Object(s.useCallback)((()=>{d.can_destroy_subscription_template?c.c.confirm({centered:!0,className:"webook-modal",title:Object(i.b)("words.attention"),maskClosable:!0,content:Object(p.jsx)(Se.a,{i18nKey:"customer.subscription.drawer.disable_message",components:[Object(p.jsx)("span",{}),Object(p.jsx)("br",{})]}),okText:Object(i.b)("phrases.yes_disable"),okType:"danger",cancelText:Object(i.b)("verbs.cancel"),onOk:()=>!!x&&l(x)}):c.b.warning(Object(i.b)("phrases.no_permission_to_do_this"))}),[l,x,d.can_destroy_subscription_template]),S=Object(s.useCallback)((()=>{var e,t;if(!g)return c.b.warning(Object(i.b)("phrases.select",{model:Object(i.b)("words.client").toLocaleLowerCase()})),void(null===b||void 0===b||null===(t=b.current)||void 0===t||t.scrollIntoView({behavior:"smooth",inline:"start"}));v<0?c.b.warning(Object(i.b)("customer.subscription.drawer.negative_value_warning")):null===(e=f.current)||void 0===e||e.open()}),[g,b,v]),$=x&&d.can_edit_subscription_template,E=!x&&d.can_create_subscription_template,F=$||E;return Object(p.jsxs)(lt,{children:[Object(p.jsxs)(n.g,{$gap:8,justify:"end",children:[Object(p.jsx)(k.a,{size:"large",onClick:t,children:Object(p.jsx)(n.h,{$semibold:!0,children:Object(i.b)("verbs.close")})}),x&&"canceled"!==j&&Object(p.jsx)($e.a,{trigger:["click"],menu:{items:(()=>{const e=[{key:"cancel",title:Object(i.b)("verbs.cancel"),label:Object(p.jsx)(n.h,{$color:"red",children:Object(i.b)("customer.subscription.drawer.cancel_subscription")}),disabled:m||_,onClick:I}];return"disabled"!==j&&e.push({key:"disabled",title:Object(i.b)("words.disable"),label:Object(p.jsx)(n.h,{$color:"red",children:Object(i.b)("customer.subscription.drawer.disable_subscription")}),disabled:m||_,onClick:A}),e})()},placement:"topLeft",getPopupContainer:e=>e.parentElement||document.body,children:Object(p.jsx)(k.a,{disabled:u||O,size:"large",loading:m||_,children:Object(p.jsxs)(n.h,{$semibold:!0,children:[Object(i.b)("words.other",{count:2})," ",Object(p.jsx)(Ee.a,{})]})})}),x&&d.can_destroy_subscription_template&&Object(p.jsx)(k.a,{danger:!0,size:"large",type:"primary",onClick:C,disabled:u||O,children:Object(p.jsx)(n.h,{$semibold:!0,children:Object(i.b)("verbs.delete")})}),F&&Object(p.jsx)(k.a,{size:"large",type:"primary",loading:u||O,onClick:S,disabled:!w||u||O,className:"ant-button-success",children:Object(p.jsx)(n.h,{$semibold:!0,children:h?Object(i.b)("phrases.see_payments"):Object(i.b)("verbs.invoice")})})]}),Object(p.jsx)(it,{ref:f})]})};rt.displayName="Footer";var ot=Object(s.memo)(rt);const lt=m.d.div.withConfig({componentId:"wb__sc-1mapch8-0"})(["display:flex;justify-content:space-between;align-items:center;position:sticky;bottom:0;left:0;right:0;background:#FFFFFF;padding:10px 15px;border-top:1px solid #f0f0f0;"]),dt=e=>{const{loading:t,has_error:a,title:s,...i}=e;return Object(p.jsxs)(n.g,{style:{height:"100%",overflow:"hidden"},children:[Object(p.jsx)(ut,{children:Object(p.jsx)(Ae,{})}),Object(p.jsxs)(jt,{children:[Object(p.jsx)(ne.a,{loading:t}),Object(p.jsx)(re.a,{visible:a,small:!1,zIndex:1,$fullHeight:!0}),Object(p.jsx)(ie,{title:s}),Object(p.jsx)(ot,{...i})]})]})};dt.displayName="SubscriptionDesktop";var bt=dt;const ut=Object(m.d)(b.a).withConfig({componentId:"wb__sc-bjymf5-0"})(["width:360px;min-width:360px;height:100%;background:#FFFFFF;backdrop-filter:blur(10px);border-right:1px solid #f0f0f0;@media (max-width:1600px){width:300px;min-width:300px;}"]),jt=Object(m.d)(b.a).withConfig({componentId:"wb__sc-bjymf5-1"})(["position:relative;background-color:#FFFFFF;overflow:hidden;width:100%;"]);var mt=a(356),pt=a(1813),ht=a(592),Ot=a(697),_t=a(619);const xt=e=>{let{services:t,search:a,handleChangeProduct:c}=e;const[r,o]=Object(s.useState)(50),l=Object(ue.a)((e=>e.inventory_products)),d=Object(s.useMemo)((()=>void 0===t?l.filter((e=>!e.deleted_at&&e.active)):t?l.filter((e=>e.is_service&&!e.deleted_at&&e.active)):l.filter((e=>!e.is_service&&!e.deleted_at&&e.active))),[l,t]),b=Object(s.useMemo)((()=>a?new _t.a(d,{isCaseSensitive:!1,findAllMatches:!0,keys:["description"],threshold:.3,ignoreLocation:!0}).search(a).map((e=>e.item)):d),[d,a]),u=Object(s.useMemo)((()=>b.slice(0,r)),[b,r]);return 0===b.length?Object(p.jsx)(pt.a,{image:pt.a.PRESENTED_IMAGE_SIMPLE,description:Object(i.b)("phrases.empty")}):Object(p.jsxs)("div",{children:[Object(p.jsx)(oe.a.Provider,{value:!1,children:u.map((e=>Object(p.jsx)(gt,{children:Object(p.jsx)(n.g,{$alignCenter:!0,$paddings:10,onClick:()=>c(e),children:Object(p.jsx)(Ot.a,{item:e},e.id)})},e.id)))}),b.length>u.length&&Object(p.jsxs)(n.h,{$alignCenter:!0,$fullWidth:!0,$block:!0,$size:14,$color:"primary",onClick:()=>o((e=>e+50)),$cursor:"pointer",$semibold:!0,$mBottom:20,children:[Object(i.b)("input.show_more")," ",b.length-u.length>=50?50:b.length-u.length]})]})};xt.displayName="ProductsListMobile";var vt=Object(s.memo)(xt);const gt=Object(m.d)(ht.b).withConfig({componentId:"wb__sc-nwb79l-0"})(["box-shadow:0 2px 9px rgba(83,83,83,10%);margin:0 0 10px;"]),yt=e=>{let{search:t,handleChangeProduct:a}=e;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(n.h,{$left:15,$size:18,$semibold:!0,children:Object(i.b)("words.service_other")}),Object(p.jsx)(vt,{services:!0,search:t,handleChangeProduct:a}),Object(p.jsx)(n.h,{$left:15,$size:18,$semibold:!0,children:Object(i.b)("words.product_other")}),Object(p.jsx)(vt,{services:!1,search:t,handleChangeProduct:a})]})};var ft=Object(s.memo)(yt),wt=a(3059),kt=a(131),Ct=a(1444);const It=e=>{let{search:t,is_service:a,setSearch:c,back:r,close:o}=e;const l=Object(s.useMemo)((()=>void 0===a?`${Object(i.b)("verbs.select")} ${Object(i.b)("words.item").toLocaleLowerCase()}`:a?`${Object(i.b)("verbs.select")} ${Object(i.b)("words.service").toLocaleLowerCase()}`:`${Object(i.b)("verbs.select")} ${Object(i.b)("words.product").toLocaleLowerCase()}`),[a]);return Object(p.jsxs)("div",{children:[Object(p.jsxs)(n.g,{$alignCenter:!0,justify:"space-between",children:[Object(p.jsxs)(n.g,{$alignCenter:!0,children:[void 0!==a&&Object(p.jsx)("div",{onClick:r,children:Object(p.jsx)(n.d,{$right:10,as:wt.a,$size:18})}),Object(p.jsx)(n.h,{$size:22,$semibold:!0,children:l})]}),Object(p.jsx)("div",{onClick:o,style:{marginLeft:"auto"},children:Object(p.jsx)(n.d,{as:kt.a,$size:18})})]}),Object(p.jsx)(St,{allowClear:!0,placeholder:Object(i.b)("phrases.type_to_search"),size:"large",enterKeyHint:"search",value:t,onChange:e=>c(e.target.value),prefix:Object(p.jsx)(Ct.a,{style:{color:"lightgray"}})})]})};It.displayName="HeaderMobile";var At=Object(s.memo)(It);const St=Object(m.d)(g.a).withConfig({componentId:"wb__sc-1xoress-0"})(["margin-top:15px;border-color:rgba(0,0,0,0.05);padding:8px 12px;width:100%;.ant-input-prefix{margin-right:10px;}"]),$t=(e,t)=>{const[a,c]=Object(s.useState)(!1),[l,d]=Object(s.useState)(),[b,u]=Object(s.useState)(),[j,m]=Object(s.useState)({...r.a,id:Object(x.a)()}),h=Object(o.b)((e=>e.subscriptionDispatch)),O=Object(s.useCallback)((()=>{c(!0)}),[]),_=Object(s.useCallback)((()=>{c(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:O,close:_})));const v=Object(s.useCallback)((()=>{u(!1)}),[]),g=Object(s.useCallback)((()=>{u(!0)}),[]),y=Object(s.useCallback)((()=>{void 0!==b?u(void 0):m(r.a)}),[b]),f=Object(s.useCallback)((e=>{e||(u(void 0),d(void 0),m({...r.a,id:Object(x.a)()}))}),[]),w=Object(s.useCallback)((e=>{const t=e.price_cents,a={...j,product:e,value_cents:t,total_cents:t};h({type:"add_subscription_item",payload:a}),_()}),[_,h,j]);return Object(p.jsx)(Ft,{open:a,onClose:_,closable:!1,destroyOnClose:!0,afterOpenChange:f,push:!1,height:"100%",placement:"bottom",title:Object(p.jsx)(At,{search:l,is_service:b,setSearch:d,back:y,close:_}),children:Object(p.jsx)("div",{children:void 0===b?l?Object(p.jsx)(ft,{search:l,handleChangeProduct:w}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(Dt,{onClick:g,children:[Object(p.jsx)(n.h,{$size:18,$semibold:!0,children:Object(i.b)("words.service_other")}),Object(p.jsx)(n.d,{as:mt.a,$size:18})]}),Object(p.jsxs)(Dt,{onClick:v,children:[Object(p.jsx)(n.h,{$size:18,$semibold:!0,children:Object(i.b)("words.product_other")}),Object(p.jsx)(n.d,{as:mt.a,$size:18})]})]}):Object(p.jsx)(vt,{services:b,search:l,handleChangeProduct:w})})})};$t.displayName="NewSubscriptionItemDrawer";var Et=Object(s.forwardRef)($t);const Ft=Object(m.d)(n.a).withConfig({componentId:"wb__sc-1qty8b6-0"})([".ant-drawer-header{padding:max(10px,var(--safe-area-inset-top)) 15px 20px 15px;}.ant-drawer-body{padding-left:0;padding-right:0;padding-top:10px !important;}"]),Dt=Object(m.d)(n.g).attrs({$alignCenter:!0,justify:"space-between",$paddings:[10,0],$backgroundColor:"white"}).withConfig({componentId:"wb__sc-1qty8b6-1"})(["border-bottom:1px solid #f1f1f1;"]);var zt=a(3060),Nt=a(595),qt=a(590);const Bt=e=>{let{openNewSubscriptionItemDrawer:t}=e;return Object(p.jsx)(qt.a,{children:Object(p.jsx)(Nt.a,{spaced:!0,children:Object(p.jsxs)(n.g,{$column:!0,$justifyCenter:!0,$alignCenter:!0,children:[Object(p.jsx)(n.d,{as:zt.a,$top:20,$size:48}),Object(p.jsx)(n.h,{$block:!0,$top:10,$bottom:20,children:Object(i.b)("customer.subscription.drawer.empty_subscription")}),Object(p.jsx)(k.a,{type:"primary",block:!0,onClick:t,children:Object(i.b)("phrases.add_item")})]})})})};Bt.displayName="EmptySubscriptionMobile";var Pt=Object(s.memo)(Bt),Rt=a(615);const Mt=()=>{const e=Object(s.useCallback)(((e,t,a)=>{const s=t("quantity")||0,i=t("value_cents")||0;let c=t("discount")||0;if("percentage"===e)c/=100,c>100&&(c=100);else{const e=i*s;c*=100,c>e&&(c=e)}a("discount",c)}),[]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(j.a,{gutter:8,children:[Object(p.jsx)(b.a,{span:12,children:Object(p.jsx)(u.a.Item,{name:"value_cents",label:Object(i.b)("words.price"),rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],initialValue:0,children:Object(p.jsx)(S.a,{size:"large"})})}),Object(p.jsx)(b.a,{span:12,children:Object(p.jsx)(u.a.Item,{name:"quantity",label:Object(i.b)("words.quantity"),rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],initialValue:0,children:Object(p.jsx)(f.a,{size:"large",type:"number",style:{width:"100%"}})})}),Object(p.jsx)(b.a,{span:24,children:Object(p.jsx)(u.a.Item,{label:Object(i.b)("words.discount"),shouldUpdate:(e,t)=>e.value_cents!==t.value_cents||e.quantity!==t.quantity||e.discount_type!==t.discount_type,children:t=>{let{getFieldValue:a,setFieldValue:s}=t;const i=a("quantity"),c=a("value_cents"),n=a("discount_type"),r=i*c;return Object(p.jsxs)(y.a.Compact,{block:!0,children:[Object(p.jsx)(u.a.Item,{name:"discount_type",initialValue:"value",noStyle:!0,children:Object(p.jsx)(w.a,{style:{width:70},size:"large",onChange:t=>e(t,a,s),options:[{label:Object(C.h)(),value:"value"},{label:"%",value:"percentage"}]})}),Object(p.jsx)(u.a.Item,{noStyle:!0,name:"discount",initialValue:0,children:"percentage"===n?Object(p.jsx)(f.a,{min:0,max:100,size:"large",parser:C.t,formatter:e=>Object(C.s)(e),className:"hide-number-button",style:{width:"calc(100% - 70px)"}}):Object(p.jsx)(f.a,{min:0,max:r,size:"large",className:"hide-number-button",style:{width:"calc(100% - 70px)"},parser:e=>Object(C.t)(e,1),formatter:e=>Object(C.s)((e||0)/100)})})]})}})})]}),Object(p.jsxs)(j.a,{justify:"space-between",children:[Object(p.jsx)(n.h,{$size:16,$semibold:!0,children:Object(i.b)("words.total")}),Object(p.jsx)(n.h,{$size:16,$semibold:!0,children:Object(p.jsx)(u.a.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.value_cents!==t.value_cents||e.quantity!==t.quantity||e.discount!==t.discount,children:e=>{let{getFieldsValue:t}=e;const a=t(!0),s=Object(r.f)(a);return Object(C.d)(s)}})})]})]})};var Tt=Object(s.memo)(Mt);const Lt=e=>{let{removeSubscriptionItem:t,submit:a}=e;return Object(p.jsxs)(n.g,{children:[Object(p.jsx)(k.a,{type:"primary",size:"large",danger:!0,block:!0,style:{marginRight:10},onClick:t,children:Object(i.b)("verbs.delete")}),Object(p.jsx)(k.a,{type:"primary",size:"large",block:!0,onClick:a,children:Object(p.jsx)(n.h,{$semibold:!0,children:Object(i.b)("verbs.save")})})]})};Lt.displayName="Footer";var Vt=Object(s.memo)(Lt);const Ht=(e,t)=>{var a;const[l,d]=Object(s.useState)(!1),[b,j]=Object(s.useState)({...r.a,id:Object(x.a)()}),m=Object(o.b)((e=>e.subscriptionDispatch)),[h]=u.a.useForm(),O=Object(s.useCallback)((e=>{d(!0),j(e),h.setFieldsValue({value_cents:e.value_cents,quantity:e.quantity,discount:e.discount,discount_type:e.discount_type})}),[h]),_=Object(s.useCallback)((()=>{d(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:O,close:_})));const v=Object(s.useCallback)((e=>{var t;const{value_cents:a,quantity:s,discount:i,discount_type:c}=e,n=Object(r.f)({value_cents:a,quantity:s,discount_type:c,discount:i}),o={id:b.id,is_service:(null===(t=b.product)||void 0===t?void 0:t.is_service)||!0,product:b.product,value_cents:a,quantity:s,discount_type:c,discount:i,total_cents:n};m({type:"update_subscription_item",payload:o}),_()}),[_,m,b.id,b.product]),g=Object(s.useCallback)((e=>{e||(j({...r.a,id:Object(x.a)()}),h.resetFields())}),[h]),y=null===(a=b.product)||void 0===a?void 0:a.description;return Object(p.jsx)(n.a,{push:!1,height:"100%",onClose:_,open:l,placement:"bottom",afterOpenChange:g,title:Object(p.jsx)(n.h,{$size:20,$semibold:!0,children:y}),footer:Object(p.jsx)(Vt,{removeSubscriptionItem:()=>{c.c.confirm({centered:!0,className:"webook-modal",title:Object(i.b)("phrases.confirm"),maskClosable:!0,content:Object(i.b)("phrases.confirm_delete",{model:Object(i.b)("words.item").toLocaleLowerCase()}),okText:Object(i.b)("phrases.yes_delete"),okType:"danger",cancelText:Object(i.b)("verbs.cancel"),onOk:()=>{m({type:"remove_subscription_item",payload:b.id}),_()}})},submit:()=>h.submit()}),children:Object(p.jsx)(u.a,{form:h,layout:"vertical",onFinish:v,children:Object(p.jsx)(Tt,{})})})};Ht.displayName="EditSubscriptionItemDrawer";var Ut=Object(s.memo)(Object(s.forwardRef)(Ht)),Gt=a(612);const Yt=e=>{let{subscription_item:t}=e;const a=Object(s.useRef)(null),c=t.product,r=Object(o.b)((e=>e.subscription.finished)),l=Object(o.b)((e=>e.subscriptionDispatch)),d=Object(s.useMemo)((()=>{if(!r)return{content:Object(p.jsx)(Gt.a,{icon:v.a,label:Object(i.b)("verbs.delete"),direction:"left",color:"red"}),action:()=>l({type:"remove_subscription_item",payload:t.id})}}),[l,r,t.id]),b=Object(s.useMemo)((()=>"value"===t.discount_type?Object(C.d)(t.discount):Object(C.u)(t.discount,{symbol_position:"right"})),[t.discount,t.discount_type]);return Object(p.jsxs)(Rt.SwipeableListItem,{swipeLeft:d,children:[Object(p.jsx)(n.g,{$column:!0,$paddings:[10,0],style:{borderBottom:"1px solid #f1f1f1"},children:Object(p.jsxs)(n.g,{$alignCenter:!0,justify:"space-between",onClick:()=>{var e;return!r&&(null===(e=a.current)||void 0===e?void 0:e.open(t))},children:[Object(p.jsxs)(Jt,{$column:!0,$right:10,children:[Object(p.jsx)(n.h,{$block:!0,$textEllipsis:!0,$semibold:!0,children:null===c||void 0===c?void 0:c.description}),Object(p.jsx)(n.h,{$block:!0,$size:12,children:null!==c&&void 0!==c&&c.is_service?`${t.quantity} ${Object(i.b)("words.item",{count:t.quantity}).toLocaleLowerCase()}`:Object(i.b)("phrases.number_of_units",{count:t.quantity,unit:null===c||void 0===c?void 0:c.und})}),Object(p.jsx)(n.h,{$block:!0,$size:12,children:Object(i.b)("customer.subscription_template.unit_value",{value:Object(C.d)(t.value_cents)})}),0!==t.discount&&Object(p.jsx)(n.h,{$block:!0,$size:12,children:Object(i.b)("customer.subscription_template.discount_value",{discount:b})})]}),Object(p.jsx)(Wt,{children:Object(p.jsxs)(n.h,{$semibold:!0,$block:!0,children:[Object(C.d)(t.total_cents),!r&&Object(p.jsx)(n.d,{$mLeft:5,as:mt.a,$color:"primary"})]})})]})}),Object(p.jsx)(Ut,{ref:a})]})};Yt.displayName="SubscriptionItem";var Qt=Object(s.memo)(Yt,je.isEqual);const Jt=Object(m.d)(n.g).withConfig({componentId:"wb__sc-1pag6ch-0"})(["overflow:hidden;"]),Wt=m.d.div.withConfig({componentId:"wb__sc-1pag6ch-1"})(["display:flex;flex-direction:column;width:auto;justify-content:flex-end;"]),Zt=e=>{let{openNewSubscriptionItemDrawer:t}=e;const a=Object(o.b)((e=>e.subscription.finished)),s=Object(o.b)((e=>e.subscription.customer_subscription_items));return Object(p.jsx)(qt.a,{children:Object(p.jsx)(Nt.a,{spaced:!0,children:Object(p.jsxs)(n.g,{$column:!0,children:[Object(p.jsx)(n.h,{$bold:!0,$size:20,$bottom:15,children:Object(i.b)("words.customer_subscription_item",{count:2})}),s.filter((e=>!e._destroy)).map(((e,t)=>Object(p.jsx)(Qt,{subscription_item:e},t))),Object(p.jsxs)(n.h,{$color:"primary",$semibold:!0,$top:20,onClick:t,$hidden:a,children:[Object(p.jsx)(De.a,{})," ",Object(i.b)("phrases.add_item")]})]})})})};Zt.displayName="SubscriptionItemsMobile";var Kt=Object(s.memo)(Zt),Xt=a(599),ea=a(993),ta=a(661);var aa=e=>{const{item:t}=e;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Xt.a,{type:"image",src:t.small_thumb_url,blurhash:t.image_blurhash}),Object(p.jsx)(sa,{children:Object(p.jsx)(oe.b,{width:10,$block:!0,children:null===t||void 0===t?void 0:t.name})})]})};const sa=m.d.div.withConfig({componentId:"wb__sc-17t32uh-0"})(["overflow:hidden;margin-left:10px;"]);var ia=e=>{let{open:t,closeDrawer:a,onChangeSubscriptionTemplate:n}=e;const r=Object(s.useRef)(null),o=Object(ue.a)((e=>e.current_user.permissions)),[l,d]=Object(s.useState)(50),[b,u]=Object(s.useState)(""),{data:j,refetch:m}=Q(),h=Object(s.useMemo)((()=>(null===j||void 0===j?void 0:j.all_customer_subscription_templates.all)||[]),[null===j||void 0===j?void 0:j.all_customer_subscription_templates]),O=Object(s.useMemo)((()=>b?new _t.a(h,{isCaseSensitive:!1,findAllMatches:!0,keys:["name"],threshold:.3,ignoreLocation:!0}).search(b).map((e=>e.item)):h),[h,b]),_=Object(s.useMemo)((()=>O.slice(0,l)),[O,l]),x=Object(s.useCallback)((e=>{e&&(n(e),a(),m())}),[a,n,m]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ta.a,{items:_,model_name:Object(i.b)("words.customer_subscription_template").toLocaleLowerCase(),MobileItem:aa,search:b,setSearch:u,onSelect:n,total_count:O.length,handleLoadMore:()=>d((e=>e+50)),openDrawer:()=>{var e;o.can_create_subscription_template?null===(e=r.current)||void 0===e||e.open():c.b.warning(Object(i.b)("phrases.no_permission_to_do_this"))},open:t,close:a}),Object(p.jsx)(ea.a,{ref:r,afterSave:x})]})};const ca=()=>{const[e,t]=Object(s.useState)(!1),a=Object(o.b)((e=>e.subscription.finished)),c=Object(o.b)((e=>e.subscription.customer_subscription_template)),l=Object(o.b)((e=>e.subscriptionDispatch)),d=Object(s.useCallback)((e=>{l({type:"change_subcritpion_template",payload:e||null}),e&&e.subscription_template_items.forEach((e=>{const t=e.value_cents,a=e.quantity,s=e.discount_type,i=e.discount,c=Object(r.f)({value_cents:t,quantity:a,discount_type:s,discount:i}),n={id:Object(x.a)(),is_service:e.inventory_product.is_service,product:e.inventory_product,quantity:a,value_cents:t,discount_type:s,discount:i,total_cents:c};l({type:"add_subscription_item",payload:n})}))}),[l]);return a&&!c?null:Object(p.jsxs)(n.g,{$alignCenter:!0,$paddings:[15,0],onClick:()=>!e&&!a&&t(!0),children:[Object(p.jsx)(Xt.a,{type:"image",size:40,src:null===c||void 0===c?void 0:c.small_thumb_url,blurhash:null===c||void 0===c?void 0:c.image_blurhash}),Object(p.jsx)(n.g,{$column:!0,$mLeft:10,style:{width:"100%",overflow:"hidden"},children:Object(p.jsx)(n.h,{$color:"primary",$size:16,$semibold:!0,children:(null===c||void 0===c?void 0:c.name)||Object(i.b)("customer.subscription.drawer.select_subscription_template")})}),!a&&Object(p.jsx)(n.d,{as:mt.a,$color:"primary"}),Object(p.jsx)(ia,{open:e,closeDrawer:()=>t(!1),onChangeSubscriptionTemplate:d})]})};ca.displayName="SubscriptionTemplateCard";var na=Object(s.memo)(ca),ra=a(2884),oa=a(775),la=a(718);var da=e=>{let{visible:t,closeDrawer:a}=e;const n=Object(s.useRef)(null),r=Object(ue.a)((e=>e.current_user.permissions)),l=Object(o.b)((e=>e.subscriptionDispatch)),{clients:d,search:b,loading:u,setSearch:j,setPage:m}=Object(la.b)(),h=Object(s.useCallback)((e=>{e&&l({type:"change_client",payload:e})}),[l]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ta.a,{items:d,model_name:Object(i.b)("words.client").toLocaleLowerCase(),MobileItem:oa.a,search:b,setSearch:j,onSelect:h,handleLoadMore:()=>m((e=>e+1)),loading:u,openDrawer:()=>{var e;r.can_create_client?null===(e=n.current)||void 0===e||e.open({initial_values:{name:b}}):c.b.warning(Object(i.b)("phrases.no_permission_to_do_this"))},focusable:!0,open:t,close:a}),Object(p.jsx)(le.a,{ref:n,onSave:e=>h(e)})]})};var ba=()=>{const[e,t]=Object(s.useState)(!1),a=Object(s.useRef)(null),c=Object(ue.a)((e=>e.current_user.permissions)),n=Object(o.b)((e=>e.subscription.client)),r=Object(o.b)((e=>e.subscription.finished)),l=Object(s.useCallback)((()=>{e||r||t(!0)}),[e,r]),d=Object(s.useCallback)((()=>{var e;c.can_edit_client?null===(e=a.current)||void 0===e||e.open({id:null===n||void 0===n?void 0:n.id}):ra.a.warning(Object(i.b)("phrases.no_permission_to_do_this"))}),[null===n||void 0===n?void 0:n.id,c.can_edit_client]),b=Object(s.useCallback)((()=>{Object(C.z)({phone:(null===n||void 0===n?void 0:n.phone2)||(null===n||void 0===n?void 0:n.phone1),message:""})}),[null===n||void 0===n?void 0:n.phone1,null===n||void 0===n?void 0:n.phone2]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(be.a,{client:n,finished:r,handleSelectClient:l,handleOpenClientDrawer:d,handleOpenWhatsapp:b}),Object(p.jsx)(da,{visible:e,closeDrawer:()=>t(!1)}),Object(p.jsx)(le.a,{ref:a})]})},ua=a(628),ja=a(53),ma=a.n(ja);const pa=()=>{const e=Object(o.b)((e=>e.subscription.date)),t=Object(o.b)((e=>e.subscription.finished)),a=Object(o.b)((e=>e.subscriptionDispatch)),i=Object(s.useRef)(null),c=Object(s.useCallback)((e=>{a({type:"change_date",payload:ma()(e)})}),[a]);return Object(p.jsxs)(n.g,{$alignCenter:!0,$paddings:[15,0],onClick:()=>{var e;return!t&&(null===(e=i.current)||void 0===e?void 0:e.open())},style:{borderBottom:"1px solid #f1f1f1"},children:[Object(p.jsx)(n.g,{children:Object(p.jsx)(n.h,{$block:!0,$semibold:!0,children:e.format("dddd, L")})}),!t&&Object(p.jsx)(n.d,{as:mt.a,$color:"primary"}),Object(p.jsx)(ua.a,{ref:i,type:"one",defaultValue:e.toDate(),onConfirm:c})]})};pa.displayName="DateCardMobile";var ha=pa;const Oa=()=>{const e=Object(o.b)((e=>e.headerRef));return Object(p.jsx)("div",{ref:e,children:Object(p.jsx)(qt.a,{children:Object(p.jsx)(Nt.a,{spaced:!0,children:Object(p.jsxs)(n.g,{$column:!0,children:[Object(p.jsx)(n.h,{$bold:!0,$size:20,$bottom:15,children:Object(i.b)("words.information",{count:2})}),Object(p.jsx)(ba,{}),Object(p.jsx)(ha,{}),Object(p.jsx)(na,{})]})})})})};Oa.displayName="HeaderMobile";var _a=Object(s.memo)(Oa);const xa=()=>{const e=Object(o.b)((e=>e.subscription.total_cents));return Object(p.jsx)(qt.a,{children:Object(p.jsx)(Nt.a,{spaced:!0,children:Object(p.jsxs)(n.g,{$column:!0,children:[Object(p.jsx)(n.h,{$bold:!0,$size:20,children:Object(i.b)("words.payment",{count:2})}),Object(p.jsxs)(n.g,{justify:"space-between",$top:15,children:[Object(p.jsx)(n.h,{$semibold:!0,$size:16,children:Object(i.b)("words.total")}),Object(p.jsx)(n.h,{$semibold:!0,$size:16,children:Object(C.d)(e)})]})]})})})};xa.displayName="PaymentsMobile";var va=Object(s.memo)(xa);const ga=()=>{const e=Object(o.b)((e=>e.subscription.finished)),t=Object(o.b)((e=>e.subscription.discount_cents)),a=Object(o.b)((e=>e.subscription.customer_subscription_items)),c=Object(s.useMemo)((()=>Object(r.e)(a)),[a]),l=Object(o.b)((e=>e.subscriptionDispatch)),d=Object(s.useCallback)((e=>{let t=e;"string"===typeof t&&(t=parseFloat(t)),null===t&&(t=0),l({type:"change_discount_cents",payload:t})}),[l]);return Object(p.jsx)(qt.a,{children:Object(p.jsx)(Nt.a,{spaced:!0,children:Object(p.jsxs)(n.g,{$column:!0,children:[Object(p.jsx)(n.h,{$bold:!0,$size:20,$bottom:20,children:Object(i.b)("words.discount",{count:2})}),Object(p.jsx)(u.a,{layout:"vertical",children:Object(p.jsx)(fa,{label:Object(i.b)("words.value"),children:Object(p.jsx)(S.a,{size:"large",disabled:e,value:t,onChange:d,max:c})})})]})})})};ga.displayName="TotalsCard";var ya=ga;const fa=Object(m.d)(u.a.Item).withConfig({componentId:"wb__sc-1xv0v1d-0"})(["margin-bottom:10px;"]);var wa=a(735);const ka=e=>{let{disabled:t,destroySubscription:a,cancelSubscription:r,disableSubscription:l}=e;const d=Object(ue.a)((e=>e.current_user.permissions)),b=Object(o.b)((e=>e.headerRef)),u=Object(o.b)((e=>e.save_loading)),j=Object(o.b)((e=>e.subscription.status)),m=Object(o.b)((e=>e.cancel_loading)),h=Object(o.b)((e=>e.subscription.finished)),O=Object(o.b)((e=>e.destroy_loading)),_=Object(o.b)((e=>e.disable_loading)),x=Object(o.b)((e=>e.subscription.id)),v=Object(o.b)((e=>e.subscription.total_cents)),g=!!Object(o.b)((e=>{var t;return null===(t=e.subscription.client)||void 0===t?void 0:t.id})),y=Object(o.b)((e=>e.subscription.customer_subscription_items)),f=Object(s.useRef)(null),w=Object(s.useRef)(null),C=Object(s.useMemo)((()=>y.reduce(((e,t)=>e||!t._destroy),!1)),[y]),I=x&&d.can_edit_subscription_template,A=!x&&d.can_create_subscription_template,S=(I||A)&&C,$=Object(s.useCallback)((()=>{d.can_destroy_subscription_template?c.c.confirm({centered:!0,className:"webook-modal",title:Object(i.b)("words.attention"),maskClosable:!0,content:Object(p.jsx)(Se.a,{i18nKey:"customer.subscription.drawer.cancel_message",components:[Object(p.jsx)("span",{}),Object(p.jsx)("br",{})]}),okText:Object(i.b)("phrases.yes_cancel"),okType:"danger",cancelText:Object(i.b)("verbs.cancel"),onOk:()=>!!x&&r(x)}):c.b.warning(Object(i.b)("phrases.no_permission_to_do_this"))}),[r,x,d.can_destroy_subscription_template]),E=Object(s.useCallback)((()=>{d.can_destroy_subscription_template?c.c.confirm({centered:!0,className:"webook-modal",title:Object(i.b)("words.attention"),maskClosable:!0,content:Object(p.jsx)(Se.a,{i18nKey:"customer.subscription.drawer.disable_message",components:[Object(p.jsx)("span",{}),Object(p.jsx)("br",{})]}),okText:Object(i.b)("phrases.yes_disable"),okType:"danger",cancelText:Object(i.b)("verbs.cancel"),onOk:()=>!!x&&l(x)}):c.b.warning(Object(i.b)("phrases.no_permission_to_do_this"))}),[l,x,d.can_destroy_subscription_template]),F=Object(s.useCallback)((()=>{c.c.confirm({centered:!0,className:"webook-modal",title:Object(i.b)("words.attention"),maskClosable:!0,content:Object(i.b)("phrases.confirm_delete",{model:Object(i.b)("words.subscription").toLocaleLowerCase(),context:"female"}),okText:Object(i.b)("phrases.yes_delete"),okType:"danger",cancelText:Object(i.b)("verbs.cancel"),onOk:()=>!!x&&a(x)})}),[a,x]),D=Object(s.useCallback)((()=>{var e,t;if(!g)return c.b.warning(Object(i.b)("phrases.select",{model:Object(i.b)("words.client").toLocaleLowerCase()})),void(null===b||void 0===b||null===(t=b.current)||void 0===t||t.scrollIntoView({behavior:"smooth",inline:"start"}));v<0?c.b.warning(Object(i.b)("customer.subscription.drawer.negative_value_warning")):null===(e=f.current)||void 0===e||e.open()}),[g,b,v]);return Object(p.jsxs)(Ia,{children:[x&&"canceled"!==j&&Object(p.jsx)($e.a,{trigger:["click"],menu:{items:(()=>{const e=[{key:"cancel",title:Object(i.b)("verbs.cancel"),label:Object(p.jsx)(n.h,{$color:"red",children:Object(i.b)("customer.subscription.drawer.cancel_subscription")}),disabled:m||_,onClick:$}];return"disabled"!==j&&e.push({key:"disabled",title:Object(i.b)("words.disable"),label:Object(p.jsx)(n.h,{$color:"red",children:Object(i.b)("customer.subscription.drawer.disable_subscription")}),disabled:m||_,onClick:E}),e})()},placement:"topLeft",getPopupContainer:e=>e.parentElement||document.body,children:Object(p.jsx)(k.a,{type:"primary",disabled:u||O,size:"large",loading:m||_,children:Object(p.jsxs)(n.h,{$semibold:!0,children:[Object(i.b)("words.other",{count:2})," ",Object(p.jsx)(Ee.a,{})]})})}),!!x&&d.can_destroy_subscription_template&&Object(p.jsx)(k.a,{block:!0,disabled:t||u||O,loading:u||O,onClick:F,size:"large",type:"primary",danger:!0,children:Object(p.jsx)(n.h,{$semibold:!0,children:Object(i.b)("verbs.delete")})}),S&&Object(p.jsx)(k.a,{block:!0,size:"large",type:"primary",disabled:t||u||O,onClick:D,className:"ant-button-success",loading:u||O,children:Object(p.jsx)(n.h,{$semibold:!0,children:h?Object(i.b)("phrases.see_payments"):Object(i.b)("verbs.invoice")})}),Object(p.jsx)(it,{ref:f}),Object(p.jsx)(Ke,{ref:w})]})};ka.displayName="Footer";var Ca=Object(s.memo)(ka);const Ia=Object(m.d)(wa.a).attrs({$margin:15}).withConfig({componentId:"wb__sc-73m1vf-0"})(["background-color:#FFFFFF;display:flex;& > *:not(:last-child){margin-right:8px;}"]),Aa=e=>{const t=Object(s.useRef)(null),a=Object(o.b)((e=>e.subscription.customer_subscription_items)),i=Object(s.useMemo)((()=>a.some((e=>!e._destroy))),[a]),c=Object(s.useCallback)((()=>{var e;null===(e=t.current)||void 0===e||e.open()}),[]);return Object(p.jsxs)(n.g,{$column:!0,$mBottom:75,children:[Object(p.jsx)(_a,{}),i?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Kt,{openNewSubscriptionItemDrawer:c}),Object(p.jsx)(ya,{}),Object(p.jsx)(va,{})]}):Object(p.jsx)(Pt,{openNewSubscriptionItemDrawer:c}),Object(p.jsx)(Ca,{...e}),Object(p.jsx)(Et,{ref:t})]})};Aa.displayName="SubscriptionFormMobile";var Sa=Aa;const $a=e=>{let{loading:t,has_error:a,title:s,...i}=e;return Object(p.jsxs)(Fa,{children:[Object(p.jsx)(ne.a,{loading:t}),Object(p.jsxs)(re.a,{visible:a,small:!0,zIndex:1,children:[Object(p.jsx)(n.h,{$top:5,$bottom:5,$block:!0,$size:24,$bold:!0,children:s}),Object(p.jsx)(Sa,{disabled:a,loading:t,...i})]})]})};$a.displayName="SubscriptionMobile";var Ea=$a;const Fa=m.d.div.withConfig({componentId:"wb__sc-o2kixl-0"})(["position:relative;"]);var Da=a(1850),za=a(641),Na=a(190);const qa=V.e`
  mutation SaveSubscription ($data: SaveCustomerSubscriptionInput!) {
    saveCustomerSubscription (input: $data) {
      success
      errors

      customer_subscription {
        id code date due discount_cents observation total_cents status payment_type payment_link

        client {
          ...ClientsAttributes
        }

        customer_subscription_template {
          id
          name
        }

        customer_subscription_items {
          id quantity value_cents discount discount_type total_cents balance

          product: inventory_product {
            ...InventoryProductsAttributes
          }
        }

        customer_subscription_payments {
          id
          date
          due
          total_cents

          finance_bill_recs {
            id
            date
            due
            value_cents
            installment_index
            installment_id
            status
            payment {
              ...FinancePaymentsAttributes
            }
          }
        }
      }
    }
  }

  ${U.b}
  ${za.a}
  ${Na.b}
`;var Ba=e=>{const[t,{loading:a}]=Object(Da.a)(qa);return[Object(s.useCallback)((async a=>{try{const{data:s}=await t({variables:{data:a}}),{success:i=!1,customer_subscription:n,errors:o=[]}=(null===s||void 0===s?void 0:s.saveCustomerSubscription)||{};if(i&&n){const t=Object(r.c)(n);e({type:"set_subscription",payload:t})}return null===o||void 0===o||o.forEach((e=>c.b.error(e))),{success:i}}catch(s){return G.a.captureException(s),c.b.error(Object(i.b)("phrases.generic_save_error_message")),console.error(s),{success:!1}}}),[e,t]),{loading:a}]},Pa=a(2879);const Ra=V.e`
  query CustomerSubscriptionDrawer ($id: ID) {
    customer_subscription (id: $id) {
      id code date due discount_cents observation total_cents status payment_type payment_link

      client {
        ...ClientsAttributes
      }

      customer_subscription_template {
        id
        name
      }

      customer_subscription_items {
        id quantity value_cents discount discount_type total_cents balance

        product: inventory_product {
          ...InventoryProductsAttributes
        }
      }

      customer_subscription_payments {
        id
        date
        due
        total_cents

        finance_bill_recs {
          id
          date
          due
          value_cents
          installment_index
          installment_id
          status
          account_id
          payment {
            ...FinancePaymentsAttributes
          }
        }
      }
    }
  }

  ${U.b}
  ${za.a}
  ${Na.b}
`;var Ma=e=>Object(Pa.a)(Ra,{fetchPolicy:"network-only",onCompleted:t=>{const{customer_subscription:a}=t,s=Object(r.c)(a);e({type:"set_subscription",payload:s})},onError:e=>{G.a.captureException(e),console.log(e)}});const Ta=V.e`
  mutation SubscriptionListCancelSubscription($data: CancelAutomaticPaymentCustomerSubscriptionInput!) {
    cancelCustomerSubscription(input: $data) {
      success errors
    }
  }
`;var La=()=>{const[e,{loading:t}]=Object(Da.a)(Ta);return[Object(s.useCallback)((async t=>{try{var a;const s=await e({variables:{data:{subscription_id:t}}}),{success:i,errors:n}=(null===(a=s.data)||void 0===a?void 0:a.cancelCustomerSubscription)||{};return i?{success:!0}:(null===n||void 0===n||n.forEach((e=>c.b.error(e))),{success:!1})}catch(s){return G.a.captureException(s),console.error(s),c.b.error(Object(i.b)("customer.subscription.drawer.cancel_error")),{success:!1}}}),[e]),t]};const Va=V.e`
  mutation SubscriptionListDisableSubscription($data: DisableCustomerSubscriptionInput!) {
    disableCustomerSubscription(input: $data) {
      success errors
    }
  }
`;var Ha=()=>{const[e,{loading:t}]=Object(Da.a)(Va);return[Object(s.useCallback)((async t=>{try{var a;const s=await e({variables:{data:{subscription_id:t}}}),{success:i,errors:n}=(null===(a=s.data)||void 0===a?void 0:a.disableCustomerSubscription)||{};return i?{success:!0}:(null===n||void 0===n||n.forEach((e=>c.b.error(e))),{success:!1})}catch(s){return G.a.captureException(s),console.error(s),c.b.error(Object(i.b)("customer.subscription.drawer.disable_error")),{success:!1}}}),[e]),t]};const Ua=(e,t)=>{let{afterSave:a}=e;const[n,b]=Object(s.useState)(!1),[u,j]=Object(s.useReducer)(l.b,l.a),m=Object(s.useRef)(null),h=Object(ue.a)((e=>e.is_mobile)),[O,{loading:_,error:x}]=Ma(j),[v,{loading:g}]=Ba(j),[y,f]=Object(d.a)(),[w,k]=La(),[C,I]=Ha(),A=Object(s.useCallback)(((e,t)=>{b(!0),e&&O({variables:{id:e}}),t&&j({type:"change_client",payload:t})}),[O]),S=Object(s.useCallback)((()=>{b(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:A,close:S})));const $=Object(s.useCallback)((async()=>{const e=Object(r.d)(u);if(!(null===e||void 0===e?void 0:e.customer_subscription_items_attributes.some((e=>!0!==e._destroy))))return void c.b.warning(Object(i.b)("customer.subscription.select_item"));const{success:t}=await v(e);t&&(c.b.success(Object(i.b)("phrases.saved_successfully",{prefix:Object(i.b)("words.subscription"),context:"female"})),"manual"===u.payment_type&&S(),null===a||void 0===a||a())}),[a,S,v,u]),E=Object(s.useCallback)((async e=>{const{success:t}=await y(e);t&&(S(),null===a||void 0===a||a())}),[a,S,y]),F=Object(s.useCallback)((async e=>{const{success:t}=await w(e);t&&(S(),null===a||void 0===a||a())}),[a,S,w]),D=Object(s.useCallback)((async e=>{const{success:t}=await C(e);t&&(S(),null===a||void 0===a||a())}),[a,S,C]),z=Object(s.useMemo)((()=>u.id?u.finished?Object(i.b)("customer.subscription.viewing",{number:u.code}):`${Object(i.b)("customer.subscription.edit_subscription")}`:Object(i.b)("customer.subscription.new")),[u.code,u.finished,u.id]),N=Object(s.useMemo)((()=>({subscription:u,save_loading:g,destroy_loading:f,cancel_loading:k,disable_loading:I,subscriptionDispatch:j,submit:$,headerRef:m})),[u,g,f,k,I,$]);return Object(p.jsx)(Ga,{closable:!0,push:!1,width:1650,height:"100%",destroyOnClose:!0,onClose:S,open:n,afterOpenChange:e=>{e||j({type:"reset_subscription"})},placement:h?"bottom":"right",children:Object(p.jsx)(o.a.Provider,{value:N,children:Object(p.jsx)(Te.a,{Mobile:Ea,Desktop:bt,loading:_,has_error:!!x,title:z,close:S,destroySubscription:E,cancelSubscription:F,disableSubscription:D})})})};Ua.displayName="SubscriptionDrawer";t.a=Object(s.forwardRef)(Ua);const Ga=Object(m.d)(n.a).withConfig({componentId:"wb__sc-5tqbjw-0"})([".ant-drawer-body{background:#f8f8f8;padding:0;}"])},756:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));a(0);var s=a(2880),i=a(22);const c=e=>Object(i.jsx)(s.a,{component:r,style:{fontSize:"20rem"},...e});c.displayName="CashbackIcon";const n=()=>Object(i.jsxs)("svg",{viewBox:"0 0 16 16","data-icon":"dashboard",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:[Object(i.jsx)("path",{d:"M11.917 11.71a2.046 2.046 0 01-1.454-.602l-2.1-2.1a.4.4 0 00-.551 0l-2.108 2.108a2.044 2.044 0 01-1.454.602h-.414l2.66 2.66c.83.83 2.177.83 3.007 0l2.667-2.668h-.253zM4.25 4.282c.55 0 1.066.214 1.454.602l2.108 2.108a.39.39 0 00.552 0l2.1-2.1a2.044 2.044 0 011.453-.602h.253L9.503 1.623a2.127 2.127 0 00-3.007 0l-2.66 2.66h.414z"}),Object(i.jsx)("path",{d:"M14.377 6.496l-1.612-1.612a.307.307 0 01-.114.023h-.733c-.379 0-.75.154-1.017.422l-2.1 2.1a1.005 1.005 0 01-1.425 0L5.268 5.32a1.448 1.448 0 00-1.018-.422h-.9a.306.306 0 01-.109-.021L1.623 6.496c-.83.83-.83 2.177 0 3.008l1.618 1.618a.305.305 0 01.108-.022h.901c.38 0 .75-.153 1.018-.421L7.375 8.57a1.034 1.034 0 011.426 0l2.1 2.1c.267.268.638.421 1.017.421h.733c.04 0 .079.01.114.024l1.612-1.612c.83-.83.83-2.178 0-3.008z"})]});n.displayName="PixSvg";const r=()=>Object(i.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 32 32",fill:"currentColor",children:[Object(i.jsx)("path",{d:"M232.42 306.895c-.642 0-1.284.24-1.768.724l-2.933 2.936a2.485 2.485 0 00-1.455-1.08l-6.924-1.856a4.1 4.1 0 00-1.676-.092 4.096 4.096 0 00-1.572.584l-4.322 2.727-.35-.608a1.621 1.621 0 00-2.19-.585l-3.287 1.896a1.621 1.621 0 00-.586 2.19l4.899 8.482a1.62 1.62 0 002.187.588l3.287-1.899a1.622 1.622 0 00.588-2.19l-.064-.112 1.873-1.266 6.89 1.355c.945.186 1.789-.077 2.461-.765a531.235 531.235 0 016.706-6.764 1 1 0 00.006-.004 2.519 2.519 0 000-3.537 2.496 2.496 0 00-1.77-.725zm0 1.982a.5.5 0 01.353.156.48.48 0 010 .71 533.533 533.533 0 00-6.724 6.784c-.041.042-.588.21-.645.2l-7.299-1.434a1 1 0 00-.753.152l-2.1 1.42-2.48-4.295 4.386-2.765a2.1 2.1 0 011.664-.254l6.924 1.855a.48.48 0 01.354.614.48.48 0 01-.614.353l-4.345-1.164a1 1 0 00-1.225.707 1 1 0 00.707 1.225l4.346 1.164a2.52 2.52 0 002.592-.852 1 1 0 00.263-.176l4.242-4.244a.5.5 0 01.354-.156zm-22.533 2.697l.484.84a1 1 0 00.139.4 1 1 0 00.238.252l3.639 6.303-2.598 1.5-4.5-7.795zM224 301.014a1 1 0 00-1 1 1 1 0 001 1h2a1 1 0 001-1 1 1 0 00-1-1zM224 297.014a1 1 0 00-1 1 1 1 0 001 1h2a1 1 0 001-1 1 1 0 00-1-1z",transform:"translate(-204 -292)"}),Object(i.jsx)("path",{d:"M225 293.014c-3.854 0-7 3.146-7 7s3.146 7 7 7 7-3.146 7-7-3.146-7-7-7zm0 2c2.773 0 5 2.226 5 5 0 2.773-2.227 5-5 5s-5-2.227-5-5c0-2.774 2.227-5 5-5z",transform:"translate(-204 -292)"})]});r.displayName="CashbackSvg"},757:function(e,t,a){"use strict";var s=a(74);t.a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;s.a.is_native&&s.a.sendMessage({type:"request_review_app",payload:{value:e}})}},758:function(e,t,a){"use strict";var s=a(37),i=a(1850),c=a(50),n=a(116),r=a(76);const o=s.e`
  mutation saveSalonSettings($data: SaveSalonInput!) {
    saveSalon(input: $data) {
      success errors
    }
  }
`;t.a=e=>Object(i.a)(o,{...e,onError:e=>{n.b.error(Object(c.b)("phrases.generic_save_error_message")),console.log("saveMessageModel",JSON.stringify(e,null,2)),r.a.captureException(e)}})},759:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));class s{static isValid(e){const t=e.toUpperCase();if(!this.regexCaracteresNaoPermitidos.test(t)){let e=this.removeMascaraCNPJ(t);if(this.regexCNPJ.test(e)&&e!==this.cnpjZerado){return e.substring(this.tamanhoCNPJSemDV)===this.calculaDV(e.substring(0,this.tamanhoCNPJSemDV))}}return!1}static calculaDV(e){if(!this.regexCaracteresNaoPermitidos.test(e)){let t=this.removeMascaraCNPJ(e);if(this.regexCNPJSemDV.test(t)&&t!==this.cnpjZerado.substring(0,this.tamanhoCNPJSemDV)){let e=0,a=0;for(let i=0;i<this.tamanhoCNPJSemDV;i++){const s=t.charCodeAt(i)-this.valorBase;e+=s*this.pesosDV[i+1],a+=s*this.pesosDV[i]}const s=e%11<2?0:11-e%11;a+=s*this.pesosDV[this.tamanhoCNPJSemDV];return`${s}${a%11<2?0:11-a%11}`}}throw new Error("N\xe3o \xe9 poss\xedvel calcular o DV pois o CNPJ fornecido \xe9 inv\xe1lido")}static removeMascaraCNPJ(e){return e.replace(this.regexCaracteresMascara,"")}}s.tamanhoCNPJSemDV=12,s.regexCNPJSemDV=/^([A-Z\d]){12}$/,s.regexCNPJ=/^([A-Z\d]){12}(\d){2}$/,s.regexCaracteresMascara=/[./-]/g,s.regexCaracteresNaoPermitidos=/[^A-Z\d./-]/i,s.valorBase="0".charCodeAt(0),s.pesosDV=[6,5,4,3,2,9,8,7,6,5,4,3,2],s.cnpjZerado="00000000000000"},760:function(e,t,a){"use strict";var s=a(50),i=a(116),c=a(37),n=a(148),r=a(0);const o=c.e`
  query AddressQueryByZipCode($zip_code: String!) {
    fetch_address(zip_code: $zip_code) {
      number
      logradouro
      neighborhood
      state_id
      city_id
    }
  }
`;t.a=()=>{const[e,t]=Object(r.useState)(!1),a=Object(n.a)();return[async e=>{if(!e||e.length<=0)return{success:!1};try{t(!0);const{data:s}=await a.query({query:o,variables:{zip_code:e}});return s.fetch_address?{success:!0,data:s.fetch_address}:{success:!1}}catch(c){return i.b.error(Object(s.b)("phrases.unable_to_fetch_zip_code")),console.log("[useGetCEP] Erro ao buscar o CEP: ",c),{success:!1}}finally{t(!1)}},{loading:e}]}},761:function(e,t,a){"use strict";var s=a(2843),i=a(1256),c=a(250),n=a(619),r=a(50),o=a(137),l=a(0),d=a(629),b=a(896),u=a(27),j=a(116),m=a(22);const{Option:p}=i.a,h={isCaseSensitive:!1,findAllMatches:!0,keys:["name"]},O=e=>{let{select_first:t=!1,showCreateButton:a,...i}=e;const[O,_]=Object(l.useState)(),x=Object(l.useRef)(null),v=Object(u.a)((e=>e.inventory_groups)),g=Object(u.a)((e=>e.current_user.permissions)),y=Object(l.useMemo)((()=>v.filter((e=>e.active))),[v]);Object(l.useEffect)((()=>{t&&!i.value&&i.onChange&&y.length>0&&i.onChange(y[0].id,{label:y[0].id,value:y[0].id})}),[t]);const f=Object(l.useMemo)((()=>{if(!i.value)return y;const e=y.some((e=>e.id===i.value));if(e)return y;const t=v.find((e=>e.id===i.value));return t?[t,...y]:y}),[y,v,i.value]),w=Object(l.useMemo)((()=>{if(!O)return f;return new n.a(f,h).search(O).map((e=>e.item))}),[f,O]),k=Object(l.useCallback)((()=>{var e;if(!g.can_create_product)return void j.b.warning(Object(r.b)("phrases.no_permission_to_do_this"));const t={name:O||"",active:!0};null===(e=x.current)||void 0===e||e.open(t)}),[g.can_create_product,O]),C=Object(l.useCallback)((e=>Object(m.jsxs)("div",{children:[e,a&&Object(m.jsx)(c.g,{$paddings:10,style:{borderTop:"1px solid #f0f0f0"},children:Object(m.jsx)(c.i,{onClick:k,children:Object(m.jsxs)(c.h,{$semibold:!0,children:[Object(m.jsx)(s.a,{})," ",Object(r.b)("phrases.click_to_create")," ",O||""]})})})]})),[k,a,O]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(d.b,{showSearch:!0,filterOption:!1,onSearch:Object(o.debounce)(_,300),placeholder:Object(r.b)("words.category"),dropdownRender:C,getPopupContainer:Object(l.useCallback)((e=>e.parentElement),[]),...i,children:w.map((e=>Object(m.jsx)(p,{value:e.id,children:e.name},e.id)))}),Object(m.jsx)(b.a,{ref:x})]})};t.a=Object(l.memo)(O)},762:function(e,t,a){"use strict";var s=a(0),i=a(1813),c=a(250),n=a(583),r=a(592),o=a(733),l=a(734),d=a(602),b=a(697),u=a(27),j=a(19),m=a(619),p=a(50),h=a(22);const O=e=>{let{services:t,search:a,handleChangeProduct:r}=e;const j=Object(d.b)((e=>e.sale.date)),[O,x]=Object(s.useState)(50);let v=Object(u.a)((e=>e.inventory_products));const{data:g,loading:y}=Object(l.b)(j);v=Object(s.useMemo)((()=>Object(o.a)(v,null===g||void 0===g?void 0:g.all_promotions.all)),[null===g||void 0===g?void 0:g.all_promotions.all,v]);const f=Object(s.useMemo)((()=>void 0===t?v.filter((e=>!e.deleted_at&&e.active)):t?v.filter((e=>e.is_service&&!e.deleted_at&&e.active)):v.filter((e=>!e.is_service&&!e.deleted_at&&e.active))),[v,t]),w=Object(s.useMemo)((()=>a?new m.a(f,{isCaseSensitive:!1,findAllMatches:!0,keys:["description"],threshold:.3,ignoreLocation:!0}).search(a).map((e=>e.item)):f),[f,a]),k=Object(s.useMemo)((()=>w.slice(0,O)),[w,O]);return 0===w.length?Object(h.jsx)(i.a,{image:i.a.PRESENTED_IMAGE_SIMPLE,description:Object(p.b)("phrases.empty")}):Object(h.jsxs)("div",{children:[Object(h.jsx)(n.a.Provider,{value:y,children:k.map((e=>Object(h.jsx)(_,{children:Object(h.jsx)(c.g,{$alignCenter:!0,$paddings:10,onClick:()=>r(e),children:Object(h.jsx)(b.a,{item:e},e.id)})},e.id)))}),w.length>k.length&&Object(h.jsxs)(c.h,{$alignCenter:!0,$fullWidth:!0,$block:!0,$size:14,$color:"primary",onClick:()=>x((e=>e+50)),$cursor:"pointer",$semibold:!0,$mBottom:20,children:[Object(p.b)("input.show_more")," ",w.length-k.length>=50?50:w.length-k.length]})]})};O.displayName="ProductsListMobile",t.a=Object(s.memo)(O);const _=Object(j.d)(r.b).withConfig({componentId:"wb__sc-riaq4i-0"})(["box-shadow:0 2px 9px rgba(83,83,83,10%);margin:0 0 10px;"])},770:function(e,t,a){"use strict";var s=a(2937),i=a(586),c=a(339),n=a(250),r=a(581),o=a(50),l=a(0),d=a(19),b=a(27),u=a(116);var j=a(852),m=a(2831),p=a(686),h=a(1256),O=a(2824),_=a(2883),x=a(1227),v=a(3023),g=a(137),y=a(3048),f=a(22);const{Option:w}=h.a,k=e=>{let{invoice_options:t}=e;const a=(null===t||void 0===t?void 0:t.csosn_csts)||[],i=(null===t||void 0===t?void 0:t.cst_pis_options)||[],c=(null===t||void 0===t?void 0:t.cst_cofins_options)||[],r=(null===t||void 0===t?void 0:t.cfop_options)||[],o=(null===t||void 0===t?void 0:t.devolution_cfop)||[],d=(null===t||void 0===t?void 0:t.origin_options)||[],b=Object(l.useCallback)(((e,t)=>{const a=Object(g.deburr)(e.toLowerCase());return Object(g.deburr)(null===t||void 0===t?void 0:t.children.toLowerCase()).indexOf(a)>=0}),[]);return Object(f.jsxs)(n.g,{gutter:4,$wrap:!0,children:[Object(f.jsx)(s.a.Item,{name:"id",noStyle:!0,children:Object(f.jsx)(O.a,{type:"hidden"})}),Object(f.jsx)(s.a.Item,{name:"product_id",noStyle:!0,children:Object(f.jsx)(O.a,{type:"hidden"})}),Object(f.jsx)(_.a,{span:24,children:Object(f.jsx)(s.a.Item,{name:["invoice_product_attributes","csosn_cst"],label:"CSOSN-CST",children:Object(f.jsx)(I,{allowClear:!0,showSearch:!0,filterOption:b,placeholder:"CSOSN-CST",getPopupContainer:Object(l.useCallback)((e=>e.parentElement),[]),children:a.map((e=>Object(f.jsx)(w,{value:e.label,children:e.label},e.value)))})})}),Object(f.jsx)(_.a,{span:24,children:Object(f.jsx)(s.a.Item,{name:["invoice_product_attributes","cst_pis"],label:"CST-PIS",children:Object(f.jsx)(I,{allowClear:!0,showSearch:!0,filterOption:b,placeholder:"CST-PIS",getPopupContainer:Object(l.useCallback)((e=>e.parentElement),[]),children:i.map((e=>Object(f.jsx)(w,{value:e.value,children:e.label},e.value)))})})}),Object(f.jsx)(_.a,{span:24,children:Object(f.jsx)(s.a.Item,{name:["invoice_product_attributes","cst_cofins"],label:"CST-COFINS",children:Object(f.jsx)(I,{allowClear:!0,showSearch:!0,filterOption:b,placeholder:"CST-COFINS",getPopupContainer:Object(l.useCallback)((e=>e.parentElement),[]),children:c.map((e=>Object(f.jsx)(w,{value:e.value,children:e.label},e.value)))})})}),Object(f.jsx)(_.a,{span:24,children:Object(f.jsx)(s.a.Item,{name:["invoice_product_attributes","cfop"],label:"CFOP para vendas",children:Object(f.jsx)(I,{allowClear:!0,showSearch:!0,filterOption:b,placeholder:"CFOP para vendas",getPopupContainer:Object(l.useCallback)((e=>e.parentElement),[]),children:r.map((e=>Object(f.jsx)(w,{value:e.label,children:e.label},e.value)))})})}),Object(f.jsx)(_.a,{span:24,children:Object(f.jsx)(s.a.Item,{name:["invoice_product_attributes","devolution_cfop"],label:Object(f.jsxs)("div",{children:["CFOP para devolu\xe7\xf5es",Object(f.jsx)(x.a,{trigger:["hover","click"],title:"CFOP para devolu\xe7\xf5es",content:Object(f.jsx)("span",{children:"Este campo \xe9 somente para controle interno no sistema. Ao realizar a emiss\xe3o de nota fiscal de devolu\xe7\xe3o voc\xea precisar\xe1 informar este campo l\xe1."}),children:Object(f.jsx)(y.a,{style:{paddingLeft:5}})})]}),children:Object(f.jsx)(I,{allowClear:!0,showSearch:!0,filterOption:b,placeholder:"CFOP para devolu\xe7\xf5es",getPopupContainer:Object(l.useCallback)((e=>e.parentElement),[]),children:o.map((e=>Object(f.jsx)(w,{value:e.value,children:e.label},e.value)))})})}),Object(f.jsx)(_.a,{span:24,children:Object(f.jsx)(s.a.Item,{name:["invoice_product_attributes","origin"],label:"Origem do produto",children:Object(f.jsx)(I,{allowClear:!0,showSearch:!0,filterOption:b,placeholder:"Origem do produto",getPopupContainer:Object(l.useCallback)((e=>e.parentElement),[]),children:d.map((e=>Object(f.jsx)(w,{value:e.label,children:e.label},e.value)))})})}),Object(f.jsx)(_.a,{span:12,children:Object(f.jsx)(s.a.Item,{name:["invoice_product_attributes","ncm"],label:"NCM",children:Object(f.jsx)(O.a,{placeholder:"NCM"})})}),Object(f.jsx)(_.a,{span:12,children:Object(f.jsx)(s.a.Item,{name:["invoice_product_attributes","cest"],label:"CEST",children:Object(f.jsx)(O.a,{placeholder:"CEST"})})}),Object(f.jsx)(_.a,{span:24,children:Object(f.jsx)(n.h,{$size:20,$bottom:25,$bold:!0,children:"Tipo de produto"})}),Object(f.jsxs)(_.a,{span:12,children:[Object(f.jsx)(s.a.Item,{name:["invoice_product_attributes","for_sale"],noStyle:!0,valuePropName:"checked",initialValue:!1,style:{display:"flex",alignItems:"center"},children:Object(f.jsx)(v.a,{})}),Object(f.jsx)(n.h,{$left:8,$size:15,$semibold:!0,children:"Venda"})]}),Object(f.jsxs)(_.a,{span:12,children:[Object(f.jsx)(s.a.Item,{name:["invoice_product_attributes","for_consuming"],noStyle:!0,valuePropName:"checked",initialValue:!1,children:Object(f.jsx)(v.a,{})}),Object(f.jsx)(n.h,{$left:8,$size:15,$semibold:!0,children:"Consumo"})]})]})};k.displayName="InvoiceConfigurationForm";var C=Object(l.memo)(k,g.isEqual);const I=Object(d.d)(h.a).withConfig({componentId:"wb__sc-zawia4-0"})(["width:100%;"]);var A=a(862),S=a(863),$=a(864),E=a(623);var F=()=>Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(E.a,{title:Object(o.b)("words.active"),description:Object(o.b)("product_service.settings.active_description"),is_drawer:!0,input_width:80,children:Object(f.jsx)(s.a.Item,{name:"active",noStyle:!0,valuePropName:"checked",initialValue:!0,children:Object(f.jsx)(v.a,{})})}),Object(f.jsx)(E.a,{title:Object(o.b)("words.favorite"),description:Object(o.b)("product_service.settings.favorite_description"),is_drawer:!0,input_width:80,children:Object(f.jsx)(s.a.Item,{name:"favorite",noStyle:!0,valuePropName:"checked",initialValue:!1,children:Object(f.jsx)(v.a,{})})}),Object(f.jsx)(E.a,{title:Object(o.b)("products.drawer.settings.control_stock"),description:Object(o.b)("products.drawer.settings.stock_description"),is_drawer:!0,input_width:80,children:Object(f.jsx)(s.a.Item,{name:"stock_movement",noStyle:!0,valuePropName:"checked",initialValue:!0,children:Object(f.jsx)(v.a,{})})})]}),D=a(1438),z=a(2838),N=a(538),q=a(692),B=a(579),P=a(907),R=a(761),M=a(584),T=a(665);const{Option:L}=h.a,V=[{value:Object(o.b)("units.unit"),label:Object(o.b)("units.labels.unit")},{value:Object(o.b)("units.milliliter"),label:Object(o.b)("units.labels.milliliter")},{value:Object(o.b)("units.gram"),label:Object(o.b)("units.labels.gram")},{value:Object(o.b)("units.dose"),label:Object(o.b)("units.labels.dose")},{value:Object(o.b)("units.liter"),label:Object(o.b)("units.labels.liter")},{value:Object(o.b)("units.box"),label:Object(o.b)("units.labels.box")},{value:Object(o.b)("units.package"),label:Object(o.b)("units.labels.package")},{value:Object(o.b)("units.milligram"),label:Object(o.b)("units.labels.milligram")},{value:Object(o.b)("units.centimeter"),label:Object(o.b)("units.labels.centimeter")},{value:Object(o.b)("units.hours"),label:Object(o.b)("units.labels.hours")},{value:Object(o.b)("units.kilogram"),label:Object(o.b)("units.labels.kilogram")},{value:Object(o.b)("units.jar"),label:Object(o.b)("units.labels.jar")},{value:Object(o.b)("units.bottle"),label:Object(o.b)("units.labels.bottle")},{value:Object(o.b)("units.piece"),label:Object(o.b)("units.labels.piece")},{value:Object(o.b)("units.roll"),label:Object(o.b)("units.labels.roll")},{value:Object(o.b)("units.application"),label:Object(o.b)("units.labels.application")},{value:Object(o.b)("units.sheets"),label:Object(o.b)("units.labels.sheets")},{value:Object(o.b)("units.bag"),label:Object(o.b)("units.labels.bag")},{value:Object(o.b)("units.ampoule"),label:Object(o.b)("units.labels.ampoule")},{value:Object(o.b)("units.gallon"),label:Object(o.b)("units.labels.gallon")},{value:Object(o.b)("units.tube"),label:Object(o.b)("units.labels.tube")},{value:Object(o.b)("units.capsule"),label:Object(o.b)("units.labels.capsule")},{value:Object(o.b)("units.blister_pack"),label:Object(o.b)("units.labels.blister_pack")},{value:Object(o.b)("units.tablet"),label:Object(o.b)("units.labels.tablet")},{value:Object(o.b)("units.sachet"),label:Object(o.b)("units.labels.sachet")},{value:Object(o.b)("units.meter"),label:Object(o.b)("units.labels.meter")}],H=e=>(Object(l.useEffect)((()=>{e.value||e.onChange&&e.onChange(V[0].value,{label:V[0].label,value:V[0].value})}),[]),Object(f.jsx)(h.a,{filterOption:!1,placeholder:Object(o.b)("units.unit"),getPopupContainer:Object(l.useCallback)((e=>e.parentElement),[]),style:{width:"100%"},...e,children:V.map((e=>{let{value:t,label:a}=e;return Object(f.jsx)(L,{value:t,children:a},t)}))}));H.displayName="UnityInput";var U=Object(l.memo)(H);const G=e=>{const{product_id:t,image_url:a,image_blurhash:i,setImage:c,setPreview:r}=e,d=Object(l.useRef)(null),u=Object(b.a)((e=>e.is_mobile));return Object(l.useEffect)((()=>{let e;return t||(e=setTimeout((()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.focus()}),700)),()=>clearTimeout(e)}),[t]),Object(f.jsxs)(n.g,{$wrap:!0,gutter:8,children:[Object(f.jsx)(s.a.Item,{name:"id",noStyle:!0,children:Object(f.jsx)(O.a,{type:"hidden"})}),Object(f.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%",alignItems:"center"},children:Object(f.jsx)(q.a,{image_url:a,blurhash:i,setImage:c,setPreview:r,shape:"square",type:"image"})}),Object(f.jsx)(_.a,{span:24,children:Object(f.jsx)(s.a.Item,{name:"description",label:Object(o.b)("words.name"),rules:[{required:!0,message:Object(o.b)("phrases.required_field")}],children:Object(f.jsx)(O.a,{size:u?"large":"middle",ref:d,placeholder:Object(o.b)("words.name"),autoComplete:"off"})})}),Object(f.jsx)(_.a,{xs:24,sm:12,children:Object(f.jsx)(s.a.Item,{name:"group_id",label:Object(o.b)("words.category"),rules:[{required:!0,message:Object(o.b)("phrases.required_field")}],children:Object(f.jsx)(R.a,{size:u?"large":"middle",select_first:!0,showCreateButton:!0})})}),Object(f.jsx)(_.a,{xs:24,sm:12,children:Object(f.jsx)(s.a.Item,{name:"brand_id",label:Object(o.b)("words.brand"),children:Object(f.jsx)(P.a,{size:u?"large":"middle",showCreateButton:!0})})}),Object(f.jsx)(_.a,{span:12,children:Object(f.jsx)(s.a.Item,{name:"price_cents",label:Object(o.b)("products.drawer.register.sale_price"),initialValue:0,children:Object(f.jsx)(M.a,{size:u?"large":"middle"})})}),Object(f.jsx)(_.a,{span:12,children:Object(f.jsx)(s.a.Item,{name:"cost_cents",label:Object(o.b)("products.drawer.register.purchase_cost"),initialValue:0,children:Object(f.jsx)(M.a,{size:u?"large":"middle"})})}),Object(f.jsx)(D.a,{orientation:"left",children:Object(o.b)("words.stock")}),Object(f.jsx)(_.a,{xs:24,sm:12,children:Object(f.jsx)(s.a.Item,{name:"und",label:"Registro de sa\xedda",rules:[{required:!0,message:Object(o.b)("phrases.required_field")}],children:Object(f.jsx)(U,{disabled:!!t,size:u?"large":"middle"})})}),Object(f.jsx)(s.a.Item,{noStyle:!0,dependencies:["und"],children:e=>{let{getFieldValue:a,setFieldValue:i}=e;const c=a("und"),n=(null===c||void 0===c?void 0:c.toLocaleLowerCase())===Object(o.b)("units.unit").toLocaleLowerCase();return n&&i("unit_quantity",1),Object(f.jsx)(_.a,{xs:24,sm:12,children:Object(f.jsx)(s.a.Item,{name:"unit_quantity",label:Object(o.b)("phrases.one_unit_equals"),rules:t||n?void 0:[{required:!0,message:Object(o.b)("phrases.required_field")}],children:Object(f.jsx)(z.a,{addonAfter:null===c||void 0===c?void 0:c.toLocaleLowerCase(),min:1,disabled:n||!!t,size:u?"large":"middle",inputMode:"numeric",style:{width:"100%"}})})})}}),Object(f.jsx)(_.a,{xs:24,sm:12,children:Object(f.jsx)(s.a.Item,{name:"stock_minimum",label:Object(o.b)("products.drawer.register.minimum_stock"),tooltip:Object(o.b)("products.drawer.register.minimum_stock_description"),initialValue:0,children:Object(f.jsx)(z.a,{addonAfter:Object(o.b)("words.unit").toLocaleLowerCase(),size:u?"large":"middle",inputMode:"numeric",placeholder:Object(o.b)("products.drawer.register.minimum_stock"),style:{width:"100%"}})})}),!t&&Object(f.jsx)(_.a,{xs:24,sm:12,children:Object(f.jsx)(s.a.Item,{name:"quantity",label:Object(o.b)("products.drawer.register.initial_stock"),initialValue:0,children:Object(f.jsx)(z.a,{min:0,addonAfter:Object(o.b)("words.unit").toLocaleLowerCase(),size:u?"large":"middle",inputMode:"numeric",placeholder:Object(o.b)("words.stock"),style:{width:"100%"}})})}),Object(f.jsx)(D.a,{}),Object(f.jsx)(_.a,{xs:24,sm:12,children:Object(f.jsx)(s.a.Item,{name:"employee_price_cents",label:Object(o.b)("products.drawer.register.price_for_employee"),initialValue:0,children:Object(f.jsx)(M.a,{size:u?"large":"middle"})})}),Object(f.jsx)(_.a,{xs:24,sm:12,children:Object(f.jsx)(s.a.Item,{label:Object(o.b)("phrases.additional_cost"),children:Object(f.jsxs)(N.a.Compact,{block:!0,children:[Object(f.jsx)(s.a.Item,{name:"additional_cost_type",initialValue:"cost_value",noStyle:!0,children:Object(f.jsx)(h.a,{style:{width:70},size:u?"large":"middle",options:[{label:Object(B.h)(),value:"cost_value"},{label:"%",value:"cost_percentage"}]})}),Object(f.jsx)(s.a.Item,{noStyle:!0,dependencies:["additional_cost_type"],children:e=>{let{getFieldValue:t}=e;return"cost_percentage"===t("additional_cost_type")?Object(f.jsx)(s.a.Item,{noStyle:!0,name:"additional_cost_percentage",initialValue:0,children:Object(f.jsx)(z.a,{min:0,max:100,parser:B.t,size:u?"large":"middle",formatter:e=>Object(B.s)(e),className:"hide-number-button",style:{width:"calc(100% - 70px)"}})}):Object(f.jsx)(s.a.Item,{noStyle:!0,name:"additional_cost_cents",initialValue:0,children:Object(f.jsx)(z.a,{min:0,className:"hide-number-button",size:u?"large":"middle",style:{width:"calc(100% - 70px)"},parser:e=>Object(B.t)(e,1),formatter:e=>Object(B.s)((e||0)/100)})})}})]})})}),Object(f.jsx)(_.a,{span:24,children:Object(f.jsx)(s.a.Item,{name:"commission",label:Object(o.b)("products.drawer.register.default_commission"),initialValue:0,children:Object(f.jsx)(T.a,{inputMode:"numeric",size:u?"large":"middle"})})}),Object(f.jsx)(_.a,{xs:24,sm:12,children:Object(f.jsx)(s.a.Item,{name:"code",label:Object(o.b)("products.drawer.register.item_code"),children:Object(f.jsx)(O.a,{size:u?"large":"middle",placeholder:Object(o.b)("products.drawer.register.item_code")})})}),Object(f.jsx)(_.a,{xs:24,sm:12,children:Object(f.jsx)(s.a.Item,{name:"bar_code",label:Object(o.b)("products.drawer.register.bar_code"),children:Object(f.jsx)(O.a,{size:u?"large":"middle",placeholder:Object(o.b)("products.drawer.register.bar_code")})})}),Object(f.jsx)(_.a,{span:24,children:Object(f.jsx)(s.a.Item,{name:"observation",label:Object(o.b)("words.annotation_other"),children:Object(f.jsx)(O.a.TextArea,{size:u?"large":"middle",placeholder:Object(o.b)("words.annotation_other"),style:{width:"100%"}})})})]})};G.displayName="GeneralForm";var Y=G,Q=a(159),J=a(2843),W=a(1002),Z=a(1813),K=a(2969),X=a(547),ee=a(3050),te=a(3051),ae=a(583),se=a(908),ie=a(53),ce=a.n(ie),ne=a(18),re=a(117);const oe=e=>{var t;let{flow:a}=e;const s="+"===(null===a||void 0===a?void 0:a.kind),i=s?re.a.success:re.a.red;return Object(f.jsx)(je,{children:Object(f.jsx)(ae.a.Provider,{value:!a,children:Object(f.jsxs)(n.g,{$column:!0,$paddings:15,children:[Object(f.jsxs)(n.g,{justify:"space-between",$alignCenter:!0,children:[Object(f.jsx)(ae.b,{$block:!0,$semibold:!0,width:12,children:!!a&&Object(f.jsx)(se.a,{flow:a})}),Object(f.jsx)(K.a,{color:i,text:Object(f.jsxs)(n.h,{$bold:!0,$hex:i,children:[s?"+":"-",(null===a||void 0===a?void 0:a.quantity)||0," (",null===a||void 0===a?void 0:a.product.und.toLowerCase(),")"]})})]}),Object(f.jsx)(D.a,{style:{margin:"10px 0"}}),Object(f.jsxs)(de,{children:[Object(f.jsxs)(be,{children:[Object(f.jsx)(n.h,{$color:"gray_2",$size:12,children:Object(o.b)("phrases.previous_stock")}),Object(f.jsx)(ae.b,{width:6,children:Object(f.jsxs)(be,{children:[Object(f.jsxs)(n.h,{$alignCenter:!0,$fullWidth:!0,$bold:!0,children:[null===a||void 0===a?void 0:a.old_quantity," (",null===a||void 0===a?void 0:a.product.und.toLowerCase(),")"]}),Object(f.jsx)(n.h,{$alignCenter:!0,$size:10,$color:"gray_1",children:Object(o.b)("products.drawer.composes.unit_equivalent",{quantity:null===a||void 0===a?void 0:a.old_quantity_normalized,unit:Object(o.b)("words.unit").toLowerCase()})})]})})]}),Object(f.jsx)(ue,{children:s?Object(f.jsx)(ee.a,{style:{color:re.a.success}}):Object(f.jsx)(te.a,{style:{color:re.a.red}})}),Object(f.jsxs)(be,{children:[Object(f.jsx)(n.h,{$size:12,$color:"gray_2",children:Object(o.b)("phrases.current_stock")}),Object(f.jsx)(ae.b,{width:6,children:Object(f.jsxs)(be,{children:[Object(f.jsxs)(n.h,{$alignCenter:!0,$fullWidth:!0,$bold:!0,children:[null===a||void 0===a?void 0:a.current_quantity," (",null===a||void 0===a?void 0:a.product.und.toLowerCase(),")"]}),Object(f.jsx)(n.h,{$alignCenter:!0,$size:10,$color:"gray_1",children:Object(o.b)("products.drawer.composes.unit_equivalent",{quantity:null===a||void 0===a?void 0:a.current_quantity_normalized,unit:Object(o.b)("words.unit").toLowerCase()})})]})})]})]}),Object(f.jsx)(ae.b,{$mTop:10,$block:!0,width:8,children:Object(f.jsx)(X.a,{color:s?"green":"red",icon:s?Object(f.jsx)(ee.a,{}):Object(f.jsx)(te.a,{}),style:{borderRadius:"6px"},children:s?Object(o.b)("words.cash_income"):Object(o.b)("words.cash_outflow")})}),!(null===a||void 0===a||!a.reason)&&Object(f.jsx)(n.h,{$size:12,$mTop:10,$block:!0,$color:"gray_2",children:a.reason}),Object(f.jsx)(D.a,{style:{margin:"10px 0"}}),Object(f.jsxs)(n.g,{justify:"space-between",children:[Object(f.jsx)(ae.b,{width:10,$color:"gray_1",$size:12,children:ce()(null===a||void 0===a?void 0:a.created_at,ne.H).format("LL, HH:mm[h]")}),Object(f.jsx)(ae.b,{width:8,$color:"gray_1",$size:12,children:null===a||void 0===a||null===(t=a.created_by)||void 0===t?void 0:t.name})]})]})})})};oe.displayName="FlowItemMobile";var le=Object(l.memo)(oe);const de=d.d.div.withConfig({componentId:"wb__sc-1376fao-0"})(["display:flex;align-items:center;justify-content:space-between;padding:10px;background-color:#fafafa;border-radius:5px;gap:10px;"]),be=d.d.div.withConfig({componentId:"wb__sc-1376fao-1"})(["display:flex;flex-direction:column;align-items:center;flex:1;"]),ue=d.d.div.withConfig({componentId:"wb__sc-1376fao-2"})(["display:flex;align-items:center;justify-content:center;"]),je=d.d.div.withConfig({componentId:"wb__sc-1376fao-3"})(["display:flex;background-color:",";border-radius:5px;box-shadow:0 2px 9px rgba(83,83,83,0.06);overflow:hidden;border:1px solid transparent;user-select:none;transition:all .2s ease;margin:0 0 10px 0;"],(e=>e.theme.colors.white)),me=e=>{let{loading:t,flows:a}=e;return t?Object(f.jsx)(he,{children:[-1,-2,-3].map((e=>Object(f.jsx)(le,{},`flow-loading-item-${e}`)))}):a.length?Object(f.jsx)(he,{children:a.map((e=>Object(f.jsx)(le,{flow:e},e.id)))}):Object(f.jsx)(Z.a,{description:Object(o.b)("phrases.empty"),image:Z.a.PRESENTED_IMAGE_SIMPLE})};me.displayName="FlowsList";var pe=me;const he=d.d.div.withConfig({componentId:"wb__sc-g9ucxj-0"})(["width:100%;"]);var Oe=a(956);const _e=e=>{let{product_id:t}=e;const a=Object(l.useRef)(null),{data:s,loading:c,error:n,refetch:r}=Object(Oe.a)({id:t,page:1,results:25}),d=Object(l.useMemo)((()=>{var e,t;return(null===s||void 0===s||null===(e=s.product)||void 0===e||null===(t=e.flows)||void 0===t?void 0:t.all)||[]}),[s]);return Object(f.jsxs)(ve,{children:[Object(f.jsx)(i.a,{small:!0,visible:!!n}),Object(f.jsx)(pe,{loading:c,flows:d}),Object(f.jsx)("div",{style:{position:"fixed",bottom:66,right:15,left:15},children:Object(f.jsx)(Q.a,{disabled:c,icon:Object(f.jsx)(J.a,{}),size:"large",block:!0,type:"primary",onClick:()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.open()},children:Object(o.b)("products.drawer.stock_movement.create_movement")})}),Object(f.jsx)(W.a,{ref:a,product_id:t,onSave:r})]})};_e.displayName="FlowsMobile";var xe=_e;const ve=d.d.div.withConfig({componentId:"wb__sc-2oy8vh-0"})(["position:relative;"]),ge=["cashback","electronic_invoice"];var ye=e=>{const{image_url:t,image_blurhash:a,product_id:s,invoice_options:i,setImage:c,setPreview:n,setActiveTab:r,setFieldsValue:d}=e,u=Object(l.useRef)(null),m=Object(b.a)((e=>e.is_webook)),h=Object(b.a)((e=>e.is_mobile)),O=Object(b.a)((e=>e.is_agendapro)),_=Object(b.a)((e=>e.current_user.salon.salon_configuration)),x=Object(A.a)(),v=Object(l.useCallback)((e=>{var t;ge.includes(e)&&O?null===(t=u.current)||void 0===t||t.open():"cashback"!==e||_.cashback_active?r(e):x()}),[O,x,_.cashback_active,r]),g=Object(l.useCallback)((e=>Object(f.jsx)(j.a,{placement:h?"bottom":void 0,trigger:["hover","click"],title:s?"":Object(o.b)("phrases.deactivated_tab_warning",{module:Object(o.b)("words.product").toLocaleLowerCase()}),children:e})),[h,s]),y=Object(l.useMemo)((()=>{const e=[{key:"register",forceRender:!0,label:Object(o.b)("words.record"),children:Object(f.jsx)(Y,{product_id:s,image_url:t,image_blurhash:a,setImage:c,setPreview:n})},{key:"settings",forceRender:!0,label:Object(o.b)("words.setting",{count:2}),children:Object(f.jsx)(F,{})},{key:"cashback",label:Object(o.b)("words.cashback"),forceRender:!0,children:Object(f.jsx)(S.a,{})},{key:"client_return",disabled:!s,label:g(Object(o.b)("words.return")),children:Object(f.jsx)($.a,{setFieldsValue:d,is_product:!0})}];return m||e.push({key:"electronic_invoice",disabled:!s,label:g(Object(o.b)("services.drawer.configure_invoice")),children:Object(f.jsx)(C,{invoice_options:i})}),h&&e.push({key:"stock_movement",disabled:!s,label:g(Object(o.b)("products.drawer.stock_movement.stock_movements")),children:Object(f.jsx)(xe,{product_id:s})}),e}),[a,t,i,h,m,s,g,d,c,n]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(fe,{onTabClick:v,tabPosition:h?"top":"left",defaultActiveKey:e.active_tab,items:y,renderTabBar:(e,t)=>Object(f.jsx)(t,{...e,mobile:!1})}),Object(f.jsx)(p.a,{ref:u})]})};const fe=Object(d.d)(m.a).withConfig({componentId:"wb__sc-uckdpl-0"})(["height:calc(100vh - 125px);.ant-tabs-content-holder{overflow-y:auto;padding-right:15px;padding-bottom:60px;","}",""],(e=>e.theme.is_mobile&&Object(d.c)(["padding-right:0;"])),(e=>e.theme.is_mobile&&Object(d.c)(["height:100%;"])));var we=a(37),ke=a(2879),Ce=a(76);const Ie=we.e`
  query FetchProduct($id: ID) {
    inventory_product(id: $id) {
      id
      description
      group_id
      price_cents
      active
      favorite
      stock_movement
      points_needed
      points_awarded
      commission
      brand_id
      und
      code
      bar_code
      cost_cents
      employee_price_cents
      stock_minimum
      unit_quantity
      public_description
      offers_category_ids
      gender_audience
      delivery
      additional_cost_cents
      client_return_message
      send_client_return_message
      use_default_client_return_message
      return_time
      cashback_active
      cashback_value
      cashback_value_type
      observation
      image_url: large_thumb_url
      image_blurhash
      additional_cost_percentage
      additional_cost_type

      invoice_product_attributes: invoice_product {
        id
        product_id
        csosn_cst
        cst_pis
        cst_cofins
        cfop
        origin
        ncm
        cest
        for_consuming
        for_sale
        devolution_cfop
      }
    }

    invoive_product_options {
      csosn_csts {
        value label
      }
      cst_pis_options {
        value label
      }
      cst_cofins_options {
        value label
      }
      cfop_options {
        value label
      }
      origin_options {
        value label
      }
      devolution_cfop {
        value label
      }
    }
  }
`;var Ae=e=>{let{setInvoiceOptions:t,setPreview:a,setImageBlurhash:s,form:i}=e;return Object(ke.a)(Ie,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,onCompleted:e=>{const{inventory_product:c,invoive_product_options:n}=e;i.setFieldsValue(c),a(c.image_url),s(c.image_blurhash),t(n)},onError:e=>{Ce.a.captureException(e),console.log({error:e})}})},Se=a(1850),$e=a(188);const Ee=we.e`
  mutation SaveProduct ($data: SaveInventoryProductInput!) {
    saveInventoryProduct (input: $data) {
      success
      errors

      inventory_product {
        ...InventoryProductsAttributes
      }
    }
  }

  ${$e.b}
`;var Fe=()=>{const[e,{loading:t}]=Object(Se.a)(Ee,{context:{hasUpload:!0}});return[async t=>{const a={...t,service:!1},s="image"in a&&a.image;try{const{data:t}=await e({variables:{data:a},context:{hasUpload:s}}),{success:i=!1,errors:c=[],inventory_product:n}=(null===t||void 0===t?void 0:t.saveInventoryProduct)||{};return null===c||void 0===c||c.forEach((e=>u.b.error(e))),{success:i,inventory_product:n}}catch(i){return Ce.a.captureException(i),u.b.error("N\xe3o foi poss\xedvel salvar as altera\xe7\xf5es. Atualize a p\xe1gina e tente novamente. Se o erro persistir entre em contato."),console.error(i),{success:!1,inventory_product:void 0}}},{loading:t}]};const De=(e,t)=>{let{afterSave:a}=e;const[n,d]=Object(l.useState)(!1),[j,m]=Object(l.useState)(),[p,h]=Object(l.useState)(),[O,_]=Object(l.useState)(),[x,v]=Object(l.useState)("register"),[g,y]=Object(l.useState)(void 0),[w,k]=Object(l.useState)(void 0),C=Object(b.a)((e=>e.is_mobile)),[I]=s.a.useForm(),{resetFields:A,submit:S,setFieldsValue:$}=I,[E,{loading:F}]=Fe(),[D,{loading:z,error:N}]=Ae({form:I,setPreview:h,setInvoiceOptions:k,setImageBlurhash:_}),q=Object(l.useCallback)((e=>{e||(A(),m(void 0),h(void 0),_(void 0),y(void 0),v("register"))}),[A]),B=Object(l.useCallback)((function(){let{id:e,initial_active_bar:t,initial_values:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&(D({variables:{id:e}}),y(e)),a&&$(a),t&&v(t),d(!0)}),[D,$]),P=Object(l.useCallback)((()=>{d(!1)}),[]);Object(l.useImperativeHandle)(t,(()=>({open:B,close:P})));const R=Object(l.useCallback)((async e=>{const t=(e=>({...e,brand_id:e.brand_id||null}))(e),{success:s,inventory_product:i}=await E({...t,image:j});s&&(u.b.success(Object(o.b)("phrases.saved_successfully",{prefix:Object(o.b)("words.product")})),P(),null===a||void 0===a||a(i))}),[a,P,j,E]),M=Object(l.useCallback)((e=>{var t;let{errorFields:a}=e;const s=null===a||void 0===a||null===(t=a[0].name)||void 0===t?void 0:t[0],i=qe(s);v(i)}),[]),T=Object(l.useMemo)((()=>`${g?Object(o.b)("verbs.editing"):Object(o.b)("words.new")} ${Object(o.b)("words.product").toLocaleLowerCase()}`),[g]);return Object(f.jsx)(Ne,{open:n,title:T,width:840,placement:C?"bottom":"right",height:"100%",styles:{body:{overflowY:C?"auto":"hidden",paddingTop:0,paddingRight:C?15:0,paddingBottom:0}},onClose:P,closable:!0,destroyOnClose:!0,footer:Object(f.jsx)(r.a,{close:P,submit:S,loading:z||F,disabled:!!N}),afterOpenChange:q,push:!1,children:Object(f.jsxs)(ze,{children:[Object(f.jsx)(c.a,{loading:z}),Object(f.jsxs)(s.a,{form:I,layout:"vertical",onFinish:R,onFinishFailed:M,style:{width:"100%"},scrollToFirstError:!0,children:[Object(f.jsx)("button",{type:"submit",hidden:!0}),Object(f.jsx)(i.a,{visible:!!N}),Object(f.jsx)(ye,{active_tab:x,image_url:p,image_blurhash:O,product_id:g,invoice_options:w,setActiveTab:v,setImage:m,setPreview:h,setFieldsValue:$})]})]})})};De.displayName="ProductDrawer";t.a=Object(l.memo)(Object(l.forwardRef)(De));const ze=Object(d.d)(n.g).withConfig({componentId:"wb__sc-hpeiuq-0"})(["position:relative;",""],(e=>!e.theme.is_mobile&&Object(d.c)(["height:100%;"]))),Ne=Object(d.d)(n.a).withConfig({componentId:"wb__sc-hpeiuq-1"})([".ant-drawer-body,.ant-drawer-header{background:",";}"],(e=>e.theme.is_mobile?"#f8f8f8":"#ffffff")),qe=e=>({description:"register",und:"register",group_id:"register",return_time:"client_return"}[e]||"register")},771:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(116),n=a(250),r=a(2937),o=a(3024),l=a(159),d=a(2824),b=a(723),u=a(27),j=a(19),m=a(579),p=a(22);const h=(e,t)=>{const[a,j]=Object(s.useState)(!1),[h]=r.a.useForm(),{name:O,salon_id:x}=Object(u.a)((e=>e.current_user)),v=Object(u.a)((e=>e.application_id)),g=()=>j(!0),y=()=>j(!1);Object(s.useImperativeHandle)(t,(()=>({open:g,close:y})));const[f]=Object(b.a)();return Object(p.jsx)(o.a,{title:Object(p.jsx)(n.h,{$block:!0,$size:18,$bold:!0,children:Object(i.b)("words.feedback")}),centered:!0,closable:!0,destroyOnClose:!0,open:a,onCancel:y,zIndex:1210,afterClose:()=>h.resetFields(),footer:Object(p.jsxs)(_,{children:[Object(p.jsx)(l.a,{type:"default",onClick:y,children:Object(p.jsx)(n.h,{$semibold:!0,children:Object(i.b)("verbs.close")})}),Object(p.jsx)(l.a,{type:"primary",onClick:()=>h.submit(),children:Object(p.jsx)(n.h,{$semibold:!0,children:Object(i.b)("verbs.send")})})]}),children:Object(p.jsx)(r.a,{form:h,initialValues:{feedback:""},layout:"vertical",onFinish:e=>{let{feedback:t}=e;f({message:`*Usu\xe1rio*: ${O}\n*Id do sal\xe3o*: ${x}\n*Origem*: ${Object(m.i)(v).origin}\n*Feedback*: ${t}`,channel:"#resmungos-apps"}),c.b.success(Object(i.b)("modals.feedback.thank_you_for_your_feedback")),y()},children:Object(p.jsx)(r.a.Item,{label:Object(i.b)("modals.feedback.found_a_problem_or_have_a_suggestion"),name:"feedback",rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(p.jsx)(d.a.TextArea,{placeholder:Object(i.b)("modals.feedback.write_your_suggestion_or_improvement_here"),rows:5,maxLength:500})})})})};h.displayName="FeedbackModal";var O=Object(s.memo)(Object(s.forwardRef)(h));const _=j.d.div.withConfig({componentId:"wb__sc-1tapz41-0"})(["display:flex;justify-content:flex-end;.ant-btn + .ant-btn{margin-left:8px;}"]);var x=a(582),v=a(650),g=a(18),y=a(658),f=a(3067),w=a(3068),k=a(3069),C=a(3042),I=a(600);const A=e=>{const{icon:t,title:a,content:s,button_content:i,onClick:c}=e,r=Object(u.a)((e=>e.is_mobile));return Object(p.jsxs)($,{children:[Object(p.jsxs)(E,{children:[Object(p.jsx)(n.d,{as:t,$size:r?30:50}),Object(p.jsx)(n.h,{$size:18,$bold:!0,$top:15,$bottom:15,$alignCenter:!0,children:a}),Object(p.jsx)(n.h,{$align:"justify",children:s})]}),Object(p.jsx)(l.a,{type:"primary",size:"large",block:!0,onClick:c,children:Object(p.jsx)(n.h,{$semibold:!0,children:i})})]})};A.displayName="HelpCard";var S=A;const $=j.d.div.withConfig({componentId:"wb__sc-15xij71-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:space-between;padding:15px;background-color:",";box-shadow:0 3px 6px -4px rgba(0,0,0,0.12),0 6px 16px 0 rgba(0,0,0,0.08),0 9px 28px 8px rgba(0,0,0,0.05);border-radius:5px;margin-bottom:15px;",";"],(e=>e.theme.colors.white),(e=>!e.theme.is_mobile&&Object(j.c)(["width:265px;"]))),E=j.d.div.withConfig({componentId:"wb__sc-15xij71-1"})(["display:flex;flex-direction:column;align-items:center;margin-bottom:15px;"]);var F=e=>{const{openSupport:t,openFeedbackModal:a,requestTraining:s}=e,c=Object(u.a)((e=>e.is_mobile)),r=Object(u.a)((e=>{var t;return!(null===(t=e.current_user.salon.subscription)||void 0===t||!t.is_trial)})),o=r?Object(i.b)("help.talk_to_sales"):Object(i.b)("help.contact_support");return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(D,{children:[Object(p.jsx)(S,{icon:f.a,title:Object(i.b)("help.knowledge_base"),content:Object(i.b)("help.knowledge_base_content"),button_content:Object(i.b)("verbs.access"),onClick:()=>Object(I.a)(g.b)}),Object(p.jsx)(S,{icon:w.a,title:Object(i.b)("words.feedback"),content:Object(i.b)("help.feedback_content"),button_content:Object(i.b)("help.give_feedback"),onClick:a}),!r&&Object(p.jsx)(S,{icon:k.a,title:Object(p.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(i.b)("help.premium_training")}),content:Object(i.b)("help.training_content",{value:Object(y.d)(4990)}),button_content:Object(i.b)("help.request_training"),onClick:s})]}),Object(p.jsxs)(n.g,{$alignCenter:!0,$column:!0,children:[Object(p.jsx)(n.h,{$margins:10,$alignCenter:!0,$size:18,$semibold:!0,$light:!0,children:Object(i.b)("help.need_help")}),Object(p.jsx)(l.a,{block:c,size:"large",style:{marginBottom:10},type:"primary",icon:Object(p.jsx)(C.a,{}),onClick:()=>t(),children:o}),Object(p.jsx)(n.h,{$alignCenter:!0,$light:!0,$size:16,children:Object(i.b)("help.business_hours")})]})]})};const D=j.d.div.withConfig({componentId:"wb__sc-1wdez8c-0"})(["padding:10px;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;gap:30px;",""],(e=>e.theme.is_mobile&&Object(j.c)(["padding:0;gap:0;"]))),z=e=>{const{close:t,open:a,...s}=e;return Object(p.jsx)(q,{width:1050,open:a,centered:!0,closable:!0,onCancel:t,footer:null,children:Object(p.jsx)(F,{...s})})};z.displayName="HelpModalDesktop";var N=z;const q=Object(j.d)(o.a).withConfig({componentId:"wb__sc-da57fy-0"})([".ant-modal-title{display:flex;align-items:center;justify-content:center;}"]),B=e=>{const{close:t,open:a,...s}=e;return Object(p.jsx)(n.a,{title:Object(i.b)("words.help"),destroyOnClose:!0,open:a,zIndex:1001,onClose:t,width:"100%",height:"100%",placement:"bottom",push:!1,children:Object(p.jsx)(F,{...s})})};B.displayName="HelpDrawerMobile";var P=B,R=a(313);const M=(e,t)=>{const a=Object(u.a)((e=>e.current_user)),n="request_training_notification",r=!R.a.get(n),[o,l]=Object(s.useState)(r),d=Object(s.useRef)(null),j=Object(v.b)(),[m,h]=Object(s.useState)(!1),[_]=Object(b.a)(),g=Object(s.useCallback)((()=>{h(!0)}),[]),y=Object(s.useCallback)((()=>{h(!1)}),[]),f=Object(s.useCallback)((()=>{var e;null===(e=d.current)||void 0===e||e.open()}),[]),w=Object(s.useCallback)((()=>{const e=new Date;e.setUTCHours(23,59,59,999),R.a.set(n,!0,{secure:!0,sameSite:!0,expires:e}),l(!1)}),[n]),k=Object(s.useCallback)((()=>{if(c.b.success(Object(i.b)("help.training_requested")),y(),!o)return;w();const e=`### SOLICITA\xc7\xc3O DE TREINAMENTO PREMIUM\n\n      *Estabelecimento*: ${a.salon.name} #${a.salon_id}\n      *Usu\xe1rio*: [${a.name}](https://app.belasis.com.br/suporte/options?id=${a.id})\n      *Whitelabel*: ${a.salon.whitelabel.name}\n    `;_({message:e,channel:"#adicionais-comprados"})}),[y,a.id,a.name,a.salon.name,a.salon.whitelabel.name,a.salon_id,o,w,_]);return Object(s.useImperativeHandle)(t,(()=>({open:g,close:y}))),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x.a,{Desktop:N,Mobile:P,openFeedbackModal:f,openSupport:j,requestTraining:k,close:y,open:m}),Object(p.jsx)(O,{ref:d})]})};t.a=Object(s.forwardRef)(M)},774:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(250),n=a(117),r=a(958),o=a(599),l=a(27),d=a(591),b=a(19),u=a(22);const j=e=>{var t,a;const{item:s}=e,o=Object(l.a)((e=>e.theme)),d=!(null===(t=s.user)||void 0===t||null===(a=t.current_access_rule_user_salon)||void 0===a||!a.is_admin);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{children:Object(u.jsx)(m,{src:s.avatar_url,blurhash:s.avatar_blurhash})}),Object(u.jsxs)(c.g,{$column:!0,$left:10,children:[s.name,Object(u.jsxs)(c.g,{justify:"space-between",$alignCenter:!0,children:[s.cellphone?Object(u.jsx)(p,{inputStyle:{fontSize:12,color:n.a.gray_2},disabled:!0,hide_input_styles:!0,value:s.cellphone},s.cellphone):"",d&&Object(u.jsx)(r.a,{color:o.color_primary,children:Object(i.b)("words.admin")})]})]})]})};t.a=Object(s.memo)(j);const m=Object(b.d)(o.a).withConfig({componentId:"wb__sc-5r8hcg-0"})(["width:40px !important;height:40px !important;"]),p=Object(b.d)(d.a).withConfig({componentId:"wb__sc-5r8hcg-1"})(["input{font-size:12rem !important;color:",";}"],(e=>e.theme.colors.gray_1))},775:function(e,t,a){"use strict";var s=a(0),i=a(117),c=a(599),n=a(27),r=a(583),o=a(591),l=a(19),d=a(22);const b=e=>{const{item:t}=e,a=Object(n.a)((e=>e.current_user.permissions));return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(c.a,{size:"large",src:null===t||void 0===t?void 0:t.avatar_url,blurhash:null===t||void 0===t?void 0:t.avatar_blurhash}),Object(d.jsxs)(u,{children:[Object(d.jsx)(r.b,{width:20,$block:!0,children:null===t||void 0===t?void 0:t.name}),a.can_access_client_phone&&Object(d.jsx)(r.b,{width:12,children:null!==t&&void 0!==t&&t.phone2?Object(d.jsx)(o.a,{inputStyle:{fontSize:12,color:i.a.gray_2},disabled:!0,hide_input_styles:!0,value:t.phone2},t.phone2):void 0})]})]})};t.a=Object(s.memo)(b);const u=l.d.div.withConfig({componentId:"wb__sc-jb6okt-0"})(["overflow:hidden;margin-left:10px;"])},784:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(642),n=a(250),r=a(444),o=a(53),l=a.n(o);const d=e=>e.map((e=>{let{id:t,installment_id:a,installment_index:s,due:i,date:c,payment:n,status:o,inventory_vendor_id:d,...b}=e;return{...b,id:Object(r.a)(t)?void 0:t,date:l()(c).format("YYYY-MM-DD"),due:l()(i).format("YYYY-MM-DD")}})),b=e=>e.filter((e=>!!e.product_id)).map((e=>{let{id:t,und:a,product_id:s,quantity:i,product_unit_quantity:c,...n}=e;return{...n,id:Object(r.a)(t)?void 0:t,product_id:s,quantity:i}}));var u=a(116),j=a(579),m=a(447),p=a(2937),h=a(1438),O=a(27),_=a(2883),x=a(2838),v=a(1809),g=a(2824),y=a(159),f=a(3038),w=a(3058),k=a(672),C=a(584),I=a(653),A=a(19),S=a(22);const $=e=>{let{handlePaymentSelect:t}=e;const[a,r]=Object(s.useState)(""),o=Object(c.b)((e=>e.inventory_purchase.date)),l=Object(O.a)((e=>e.finance_payments)),d=Object(s.useMemo)((()=>l.filter((e=>e.active))),[l]),b=Object(s.useMemo)((()=>d.find((e=>e.is_cash))),[d]),u=Object(s.useMemo)((()=>d.filter((e=>e.is_card))),[d]),j=Object(s.useMemo)((()=>d.filter((e=>![...u,b].find((t=>(null===t||void 0===t?void 0:t.id)===e.id))))),[d,u,b]),m=Object(s.useMemo)((()=>u.map((e=>({key:e.id,onClick:()=>t(e),label:e.name})))),[u,t]),h=Object(s.useMemo)((()=>j.filter((e=>e.name.toLowerCase().includes(a.toLowerCase())))),[j,a]),y=Object(s.useMemo)((()=>h.map((e=>({key:e.id,onClick:()=>t(e),label:e.name})))),[t,h]);return Object(S.jsxs)(n.g,{justify:"center",$column:!0,children:[Object(S.jsxs)(n.g,{$wrap:!0,$isFlex:!0,gutter:[8,0],children:[Object(S.jsx)(_.a,{span:12,children:Object(S.jsx)(p.a.Item,{name:"value_cents",label:Object(i.b)("words.value"),initialValue:0,children:Object(S.jsx)(C.a,{min:0,size:"large"})})}),Object(S.jsx)(_.a,{span:12,children:Object(S.jsx)(p.a.Item,{name:"installments",label:Object(i.b)("words.installment",{count:2}),initialValue:1,children:Object(S.jsx)(x.a,{style:{width:"100%"},size:"large",min:1})})}),Object(S.jsx)(_.a,{span:24,children:Object(S.jsx)(p.a.Item,{name:"due",label:Object(i.b)("words.due"),initialValue:o,children:Object(S.jsx)(I.b,{size:"large"})})}),Object(S.jsx)(_.a,{span:24,children:Object(S.jsx)(p.a.Item,{name:"chart_id",label:Object(i.b)("words.category"),rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(S.jsx)(k.a,{kind:"D",size:"large",defaultOption:"Inventory::Purchase"})})})]}),Object(S.jsxs)(n.g,{$isFlex:!0,$gap:15,children:[Object(S.jsx)(F,{block:!0,size:"large",disabled:!b,icon:Object(S.jsx)(f.a,{}),onClick:()=>b&&t(b),children:(null===b||void 0===b?void 0:b.name)||Object(i.b)("words.cash")}),Object(S.jsx)(v.a,{menu:{items:m},trigger:["click"],placement:"bottom",disabled:0===u.length,dropdownRender:e=>Object(S.jsx)(n.c,{children:e}),children:Object(S.jsx)(F,{block:!0,size:"large",icon:Object(S.jsx)(w.a,{}),disabled:0===u.length,children:Object(i.b)("words.card")})})]}),Object(S.jsx)(n.g,{$top:15,$bottom:15,children:Object(S.jsx)(v.a,{menu:{items:y},trigger:["click"],placement:"bottom",disabled:0===j.length,dropdownRender:e=>Object(S.jsxs)(n.c,{children:[Object(S.jsx)("div",{style:{padding:"8px 12px",backgroundColor:"#FFFFFF"},children:Object(S.jsx)(g.a,{placeholder:Object(i.b)("whatsapp_booster.type_to_search"),value:a,autoFocus:!0,allowClear:!0,onChange:e=>r(e.target.value),style:{width:"100%"}})}),0===h.length?Object(S.jsx)(n.h,{$paddings:12,$alignCenter:!0,$color:"gray_1",children:Object(i.b)("input.not_found",{model:Object(i.b)("words.item").toLowerCase()})}):e]}),children:Object(S.jsx)(F,{block:!0,size:"large",disabled:0===j.length,children:Object(i.b)("words.other",{count:2})})})})]})};$.displayName="PaymentForm";var E=$;const F=Object(A.d)(y.a).withConfig({componentId:"wb__sc-1jw6xtq-0"})(["height:60px;font-weight:500;"]);var D=a(3036),z=a(748);const N=e=>{let{can_finish:t,finishSale:a,close:r}=e;const o=Object(O.a)((e=>e.is_mobile)),l=Object(c.b)((e=>e.saving)),d=Object(c.b)((e=>e.inventory_purchase.sum_cents)),b=Object(s.useRef)(null),u=Object(s.useCallback)((()=>{var e;null===(e=b.current)||void 0===e||e.open(d)}),[d]);return Object(S.jsxs)(B,{children:[Object(S.jsx)(y.a,{size:"large",block:o,icon:Object(S.jsx)(D.a,{}),onClick:u,children:Object(S.jsx)(n.h,{$semibold:!0,children:Object(i.b)("phrases.calculate_change")})}),t?Object(S.jsx)(y.a,{onClick:a,type:"primary",size:"large",className:"ant-button-success",loading:l,disabled:l,block:o,children:Object(S.jsx)(n.h,{$semibold:!0,children:Object(i.b)("purchases.finalize_purchase")})}):Object(S.jsx)(y.a,{block:o,onClick:r,type:"primary",size:"large",children:Object(S.jsx)(n.h,{$semibold:!0,children:Object(i.b)("verbs.back")})}),Object(S.jsx)(z.a,{ref:b})]})};N.displayName="Footer";var q=N;const B=A.d.div.withConfig({componentId:"wb__sc-6e6cbb-0"})(["display:flex;justify-content:right;.ant-btn + .ant-btn{margin-left:8px;}"]);var P=a(137),R=a(582),M=a(232);const T=Object(s.lazy)((()=>Object(M.a)((()=>a.e(138).then(a.bind(null,2891)))))),L=Object(s.lazy)((()=>Object(M.a)((()=>a.e(139).then(a.bind(null,2892)))))),V=e=>Object(S.jsx)(R.a,{Desktop:T,Mobile:L,...e});V.displayName="BillRecItem";var H=Object(s.memo)(V,P.isEqual);var U=e=>{let{form:t}=e;const a=Object(c.b)((e=>e.purchaseDispatch)),r=Object(c.b)((e=>e.inventory_purchase.finance_bill_pays_attributes.filter((e=>!e._destroy)))),o=Object(c.b)((e=>e.inventory_purchase.sum_cents)),l=Object(s.useCallback)((e=>{const s=r.reduce(((t,a)=>a.id===e?t:t+a.value_cents),0),i=Math.max(0,o-s);t.setFieldsValue({value_cents:i}),a({type:"remove_bill_pay_item",payload:e})}),[r,a,o,t]),d=Object(s.useCallback)(((e,t)=>{const s={...e,due:t};a({type:"update_bill_pay",payload:s})}),[a]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(h.a,{orientation:"left",children:Object(i.b)("words.payment",{count:2})}),Object(S.jsxs)(n.g,{$column:!0,children:[0===r.length&&Object(S.jsx)(n.h,{$size:18,children:Object(i.b)("phrases.no_payment_added")}),r.map((e=>{const t=r.filter((t=>t.installment_id===e.installment_id)).length;return Object(S.jsx)(H,{bill_pay:e,installments:t,handleEditDate:d,removeBillRec:l},e.id)}))]})]})};const G=(e,t)=>{const[a,r]=Object(s.useState)(!1),o=Object(O.a)((e=>e.current_user.permissions)),l=Object(O.a)((e=>e.is_mobile)),d=Object(c.b)((e=>e.inventory_purchase.id)),b=Object(c.b)((e=>e.submit)),_=Object(c.b)((e=>e.inventory_purchase.sum_cents)),x=Object(c.b)((e=>e.inventory_purchase.finished)),v=Object(c.b)((e=>e.purchaseDispatch)),g=Object(c.b)((e=>e.inventory_purchase.date)),y=Object(c.b)((e=>e.inventory_purchase.finance_bill_pays_attributes.filter((e=>!e._destroy)))),[f]=p.a.useForm(),{setFieldsValue:w,resetFields:k,getFieldsValue:C}=f,I=Object(s.useCallback)((()=>y.reduce(((e,t)=>e+t.value_cents),0)),[y]),A=Object(s.useCallback)((()=>{f.setFieldsValue({value_cents:x?0:_-I(),due:g,installments:1}),r(!0)}),[I,g,x,f,_]),$=Object(s.useCallback)((()=>{r(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:A,close:$})));const F=Object(s.useCallback)((e=>{const{value_cents:t,installments:a,due:s,chart_id:c}=C();if(t<=0)return void u.b.warning(Object(i.b)("phrases.enter_value"));const n=Math.floor(t/a),r=t-n*(a-1),o=s.clone(),l=Object(m.a)(),d=I(),b=Math.max(0,_-d-t);for(let i=1;i<=a;i++){let t={id:Object(m.a)(),chart_id:c,date:g,value_cents:a>1&&i===a?r:n,due:o.clone().add(i-1,"month"),payment_id:e.id,payment:e,account_id:e.account_id};a>1&&(t={...t,installment_index:i,installment_id:l}),v({type:"add_bill_pay",payload:t})}w({value_cents:b,installments:1,due:g})}),[C,I,_,w,g,v]),D=Object(s.useCallback)((e=>{e||k()}),[k]),z=Object(s.useCallback)((()=>{I()<_?u.b.warning(Object(i.b)("phrases.check_payments")):(b(!0),$())}),[I,_,b,$]),N=y.reduce(((e,t)=>e+t.value_cents),0),B=!d&&o.can_edit_purchase,P=!!d&&o.can_create_purchase,R=_<=N&&(B||P);return Object(S.jsxs)(n.a,{open:a,width:500,push:!1,placement:l?"bottom":"right",height:"100%",onClose:$,title:Object(i.b)("words.payment",{count:2}),afterOpenChange:D,footer:Object(S.jsx)(q,{can_finish:R,finishSale:z,close:$}),children:[Object(S.jsx)(p.a,{form:f,layout:"vertical",children:Object(S.jsx)(E,{handlePaymentSelect:F})}),Object(S.jsx)(U,{form:f}),Object(S.jsx)(h.a,{orientation:"left",style:{paddingTop:30},children:Object(i.b)("phrases.sale_summary")}),Object(S.jsxs)(n.g,{$column:!0,$gap:8,$bottom:50,children:[Object(S.jsxs)(n.g,{justify:"space-between",children:[Object(S.jsx)(n.h,{$size:18,children:Object(i.b)("words.total")}),Object(S.jsx)(n.h,{$size:18,children:Object(j.d)(_)})]}),Object(S.jsxs)(n.g,{justify:"space-between",$top:5,children:[Object(S.jsx)(n.h,{$size:18,$bold:!0,children:Object(i.b)("phrases.total_paid")}),Object(S.jsx)(n.h,{$size:18,$bold:!0,children:Object(j.d)(N)})]})]})]})};G.displayName="PaymentDrawer";var Y=Object(s.memo)(Object(s.forwardRef)(G)),Q=a(645),J=a(749),W=a(37),Z=a(1850),K=a(76),X=a(657);const ee=W.e`
  mutation SaveInventoryPurchase($data: InventoryPurchaseSaveInput!) {
    inventoryPurchaseSave(input: $data) {
      success errors
    }
  }
`;var te=e=>{const[t,{loading:a}]=Object(Z.a)(ee);return[async a=>{try{const{data:s}=await t({variables:{data:a}}),{success:i=!1,errors:c=[]}=(null===s||void 0===s?void 0:s.inventoryPurchaseSave)||{};return null===c||void 0===c||c.forEach((t=>{"Caixa n\xe3o est\xe1 aberto"!==t?u.b.error(t):Object(X.a)(e)})),{success:i}}catch(s){return K.a.captureException(s),u.b.error(Object(i.b)("phrases.generic_save_error_message")),console.error(s),{success:!1}}},{loading:a}]},ae=a(190),se=a(2879);const ie=W.e`
  query PurchaseDrawer($id: ID, $imported_electronic_invoice_id: ID) {
    inventory_purchase(id: $id, imported_electronic_invoice_id: $imported_electronic_invoice_id) {
      errors
      nfe_id
      purchase {
        id
        number
        vendor_id
        date
        sum_cents
        freight_cents
        discount_cents
        other_revenues_cents
        other_expenses_cents
        comment
        finished
        imported_electronic_invoice_id

        purchase_items_attributes: purchase_items {
          id
          quantity
          value_cents
          sum_cents
          cost_cents
          product_id
          inventory_product {
            id und unit_quantity
          }
          _destroy
        }

        finance_bill_pays_attributes: finance_bill_pays {
          id
          inventory_vendor_id
          chart_id
          account_id
          date
          installment_index: installment
          value_cents
          payment_id
          due
          status
          payment {
            ...FinancePaymentsAttributes
          }
        }
      }
    }
  }

  ${ae.b}
`;var ce=(e,t)=>Object(se.a)(ie,{fetchPolicy:"no-cache",onCompleted:a=>{let{inventory_purchase:{purchase:s,nfe_id:i,errors:c}}=a;if(c&&i)return c.map((e=>u.b.info(e,5))),void t(i);if(!s)return;const{purchase_items_attributes:n,finance_bill_pays_attributes:r,date:o,__typename:d,id:b,...j}=s,p=j.finished||!!j.imported_electronic_invoice_id,h=n.map((e=>{let{inventory_product:t,__typename:a,...s}=e;return{...s,und:t.und,product_unit_quantity:t.unit_quantity,id:s.id||Object(m.a)(),_destroy:!1}})),O=r.map((e=>{let{date:t,due:a,__typename:s,...i}=e;return{...i,date:l()(t),due:l()(a)}})),_={...j,id:b||Object(m.a)(),date:l()(o),finance_bill_pays_attributes:O,purchase_items_attributes:p?h:[...h,J.a]};e({type:"set_purchase",payload:_})},onError:e=>{console.log(e),K.a.captureException(e)}}),ne=a(771),re=a(2853);const oe=e=>{const{submit:t,disabled:a,loading:c,finished:o,purchase_id:l,paymentDrawerRef:d,close:b,validadeItems:j,handleDestroy:m}=e,p=Object(O.a)((e=>e.is_mobile)),h=Object(O.a)((e=>e.current_user.permissions)),_=Object(s.useRef)(null),x=Object(r.a)(l),v=Object(s.useCallback)((()=>{h.can_destroy_purchase?u.c.confirm({centered:!0,className:"webook-modal",title:Object(i.b)("words.attention"),maskClosable:!0,content:Object(i.b)("phrases.confirm_delete",{model:Object(i.b)("words.purchase").toLocaleLowerCase(),context:"female"}),okText:Object(i.b)("phrases.yes_delete"),okType:"danger",cancelText:Object(i.b)("verbs.cancel"),onOk:()=>m(l)}):u.b.warning(Object(i.b)("phrases.no_permission_to_do_this"))}),[m,h.can_destroy_purchase,l]);return Object(S.jsxs)(de,{children:[!p&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(y.a,{disabled:a,loading:c,icon:Object(S.jsx)(re.a,{}),size:"large",onClick:()=>{var e;return null===(e=_.current)||void 0===e?void 0:e.open()},children:Object(S.jsx)(n.h,{$semibold:!0,children:Object(i.b)("words.help")})}),Object(S.jsx)(y.a,{disabled:a,loading:c,size:"large",onClick:b,children:Object(S.jsx)(n.h,{$semibold:!0,children:Object(i.b)("verbs.cancel")})})]}),!x&&Object(S.jsx)(y.a,{block:p,disabled:a,loading:c,onClick:v,size:"large",type:"primary",danger:!0,children:Object(S.jsx)(n.h,{$semibold:!0,children:Object(i.b)("verbs.delete")})}),!o&&Object(S.jsx)(y.a,{block:p,size:"large",type:"primary",onClick:()=>t(!1),disabled:o||a,loading:c,children:Object(S.jsx)(n.h,{$semibold:!0,children:Object(i.b)("verbs.save")})}),Object(S.jsx)(y.a,{block:p,className:"ant-button-success",type:"primary",disabled:a,loading:c,onClick:()=>{var e;j()&&(null===(e=d.current)||void 0===e||e.open())},size:"large",children:Object(S.jsx)(n.h,{$bold:!0,children:o?Object(i.b)("phrases.see_payments"):Object(i.b)("verbs.invoice")})}),Object(S.jsx)(ne.a,{ref:_})]})};oe.displayName="Footer";var le=oe;const de=A.d.div.withConfig({componentId:"wb__sc-42dbvd-0"})(["display:flex;justify-content:right;background-color:#FFFFFF;& > *:not(:last-child){margin-right:8px;}"]);var be=a(965);const ue=Object(s.lazy)((()=>Object(M.a)((()=>Promise.all([a.e(0),a.e(77)]).then(a.bind(null,2947)))))),je=Object(s.lazy)((()=>Object(M.a)((()=>Promise.all([a.e(0),a.e(87)]).then(a.bind(null,3005)))))),me=(e,t)=>{const[a,n]=Object(s.useState)(!1),[o,l]=Object(s.useReducer)(J.c,J.b),j=Object(s.useRef)(null),{afterSave:m,onError:p}=e,h=Object(O.a)((e=>e.is_mobile)),_=Object(O.a)((e=>e.current_user.permissions)),x=Object(s.useRef)(null),v=Object(s.useRef)(null),g=Object(s.useCallback)((()=>{n(!1)}),[]),y=Object(s.useCallback)((e=>{g(),null===p||void 0===p||p(e)}),[g,p]),f=Object(s.useCallback)((()=>{var e;_.can_access_cash_accounting?null===(e=v.current)||void 0===e||e.open():u.b.warning(Object(i.b)("phrases.no_permission_to_do_this"))}),[_.can_access_cash_accounting]),[w,{loading:k}]=te(f),[C,{loading:I,error:A}]=ce(l,y),[$,E]=Object(be.a)(),F=Object(s.useCallback)((function(){let{id:e,invoice_id:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e?C({variables:{id:e}}):t&&C({variables:{imported_electronic_invoice_id:t}}),n(!0)}),[C]);Object(s.useImperativeHandle)(t,(()=>({open:F,close:g})));const D=Object(s.useCallback)((async e=>{const{success:t}=await $({id:e});t&&(u.b.success(Object(i.b)("phrases.deleted_successfully",{prefix:Object(i.b)("words.purchase"),context:"female"})),g(),null===m||void 0===m||m(!0))}),[m,g,$]),z=Object(s.useCallback)((()=>{var e;if(!o.vendor_id)return u.b.warning(Object(i.b)("purchases.inform_supplier")),null===j||void 0===j||null===(e=j.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"start"}),!1;var t;return 0!==o.purchase_items_attributes.filter((e=>e.product_id)).length||(u.b.warning(Object(i.b)("purchases.inform_a_valid_item")),null===j||void 0===j||null===(t=j.current)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"start"}),!1)}),[o.purchase_items_attributes,o.vendor_id]),N=Object(s.useCallback)((async e=>{if(!z())return;const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{id:a,purchase_items_attributes:s,finance_bill_pays_attributes:i=[],...c}=e,n=b(s),o=d(i);return{...c,id:Object(r.a)(a)?void 0:a,finished:t,date:c.date.format("YYYY-MM-DD"),purchase_items_attributes:n,finance_bill_pays_attributes:o}}(o,e),{success:a}=await w(t);a&&(u.b.success(Object(i.b)("phrases.saved_successfully",{context:"female",prefix:Object(i.b)("words.purchase")})),g(),null===m||void 0===m||m())}),[m,g,o,w,z]),q=Object(s.useMemo)((()=>Object(r.a)(o.id)?Object(i.b)("purchases.new_purchase"):o.finished?Object(i.b)("purchases.viewing_purchase"):Object(i.b)("purchases.editing_purchase")),[o.finished,o.id]),B=Object(s.useMemo)((()=>({inventory_purchase:o,loading:I,saving:k,purchaseDispatch:l,submit:N,headerRef:j})),[o,I,k,N]);return Object(S.jsxs)(pe,{open:a,onClose:g,closable:!0,title:!h&&q,width:1650,placement:h?"bottom":"right",height:"100%",destroyOnClose:!0,afterOpenChange:e=>{e||l({type:"reset_purchase"})},push:!1,footer:Object(S.jsx)(le,{paymentDrawerRef:x,close:g,disabled:I,loading:k||E,validadeItems:z,handleDestroy:D,purchase_id:o.id,finished:o.finished,submit:N}),children:[Object(S.jsxs)(c.a.Provider,{value:B,children:[Object(S.jsx)(R.a,{Desktop:je,Mobile:ue,loading:I,has_error:!!A,title:q}),Object(S.jsx)(Y,{ref:x})]}),Object(S.jsx)(Q.a,{ref:v})]})};me.displayName="PurchaseDrawer";t.a=Object(s.memo)(Object(s.forwardRef)(me));const pe=Object(A.d)(n.a).withConfig({componentId:"wb__sc-1ptozyc-0"})([".ant-drawer-body{",";background:",";}.ant-drawer-header{background:",";}"],(e=>e.theme.is_mobile&&Object(A.c)(["padding:0;"])),(e=>e.theme.is_mobile?"#f8f8f8":"#FFFFFF"),(e=>e.theme.is_mobile?"#f8f8f8":"#FFFFFF"))},791:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(1256),n=a(19),r=a(2845),o=a(3054),l=a(733),d=a(579),b=a(696),u=a(770),j=a(713),m=a(680),p=a(27),h=a(697),O=a(734),_=a(116),x=a(22);const{Option:v}=c.a,g=e=>{let{date:t,is_service:a,initial_search:c,...g}=e;const y=Object(s.useRef)(null),f=Object(s.useRef)(null),w=Object(s.useRef)(null),{data:k,loading:C}=Object(O.b)(t),I=Object(p.a)((e=>e.current_user.permissions));let A=Object(p.a)((e=>e.inventory_products));A=Object(s.useMemo)((()=>Object(l.a)(A,null===k||void 0===k?void 0:k.all_promotions.all)),[null===k||void 0===k?void 0:k.all_promotions.all,A]);const S=Object(n.f)(),{onChange:$}=g,E=Object(s.useMemo)((()=>A.filter((e=>(void 0===a||e.is_service===a)&&e.active))),[A,a]),F=Object(s.useMemo)((()=>{if(!g.value)return E;const e=E.some((e=>e.id===g.value));if(e)return E;const t=A.find((e=>e.id===g.value));return t?[t,...E]:E}),[E,A,g.value]),D=Object(s.useMemo)((()=>{const e=[{key:"description",name:Object(i.b)("words.description"),full:!0},{key:"price_cents",name:Object(i.b)("words.value"),span:5}];return a&&e.push({key:"duration",name:Object(i.b)("words.duration"),span:4}),!1===a&&e.push({key:"quantity",name:Object(i.b)("input.in_stock"),span:5}),e.push({key:"favorite",name:"",span:1},{key:"promotion",name:"",span:1}),e}),[a]),z=Object(m.a)(D),N=Object(s.useMemo)((()=>a?["description"]:["description","code","bar_code"]),[a]),q=Object(s.useCallback)((e=>e.map((e=>{const t=(e.quantity||0)/(e.unit_quantity||1),a=e.active?`${e.description}`:`[${Object(i.b)("words.disabled")}] ${e.description}`;return Object(x.jsx)(v,{value:e.id,item:e,description:Object(x.jsx)("div",{children:a}),children:Object(x.jsx)(z.Item,{description:a,price_cents:Object(d.d)(e.price_cents),quantity:Object(i.b)("phrases.number_of_units",{count:t,unit:Object(i.b)("words.unit",{count:t})}),duration:Object(d.f)(e.duration,"minutes",{descriptive:!0}),favorite:Object(x.jsx)(r.a,{style:{color:e.favorite?S.colors.gold:"lightgray"}}),promotion:Object(x.jsx)(o.a,{style:{color:e.has_promotion?S.colors.gold:"lightgray"}})})},e.id)}))),[z]),B=Object(s.useMemo)((()=>a?Object(i.b)("words.service").toLocaleLowerCase():!1===a?Object(i.b)("words.product").toLocaleLowerCase():`${Object(i.b)("words.service").toLocaleLowerCase()}/${Object(i.b)("words.product").toLocaleLowerCase()}`),[a]),P=Object(s.useCallback)((e=>{var t,a;null===$||void 0===$||$(e.id,{label:e.id,value:e.id,key:e.id,item:e}),null===(t=y.current)||void 0===t||null===(a=t.closeDrawer)||void 0===a||a.call(t)}),[$]),R=Object(s.useCallback)((e=>{var t,s;if(!I.can_create_product)return void _.b.warning(Object(i.b)("phrases.no_permission_to_do_this"));if(void 0===a)return;const n={description:e||c};a?null===(t=f.current)||void 0===t||t.open({initial_values:n}):null===(s=w.current)||void 0===s||s.open({initial_values:n})}),[c,a,I.can_create_product]);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(b.a,{ref:y,model_name:B,optionLabelProp:"description",search_keys:N,items:Object(d.A)(F),SelectDropdown:z,renderOptions:q,MobileItem:h.a,openDrawer:R,showCreateButton:void 0!==a,getItemTitle:e=>e.active?e.description:`[${Object(i.b)("words.disabled")}] ${e.description}`,loading:C,...g}),Object(x.jsx)(j.a,{ref:f,afterSave:P}),Object(x.jsx)(u.a,{ref:w,afterSave:P})]})};t.a=Object(s.memo)(g)},794:function(e,t,a){"use strict";a(0);var s=a(250),i=a(1801),c=a(159),n=a(2843),r=a(27),o=a(19),l=a(340),d=a(22);const b=e=>{const{t:t}=Object(l.c)(),{page:a,results:o,total:b,loading:m,handleChangePagination:p,close:h,openDrawer:O,create_text:_=t("words.new"),...x}=e,v=Object(r.a)((e=>e.is_mobile));return Object(d.jsxs)(u,{children:[Object(d.jsx)(i.a,{current:a,pageSize:o,total:b,pageSizeOptions:["25","30","40","50","100"],size:"small",showSizeChanger:!0,onChange:p,hideOnSinglePage:v,showTotal:e=>v?null:t("phrases.in_total",{count:e}),...x}),(!!h||!!O)&&Object(d.jsxs)(j,{children:[!!h&&Object(d.jsx)(c.a,{size:v?"large":"middle",block:v,onClick:h,children:Object(d.jsx)(s.h,{$semibold:!0,children:t("verbs.cancel")})}),!!O&&Object(d.jsx)(c.a,{size:v?"large":"middle",block:v,loading:m,icon:Object(d.jsx)(n.a,{}),type:"primary",onClick:O,children:Object(d.jsx)(s.h,{$semibold:!0,children:_})})]})]})};b.displayName="Footer",t.a=b;const u=o.d.div.withConfig({componentId:"wb__sc-1us3eza-0"})(["display:flex;justify-content:space-between;align-items:center;padding-left:20px;@media (max-width:480px){flex-direction:column;.ant-pagination{margin-bottom:10px;}}"]),j=o.d.div.withConfig({componentId:"wb__sc-1us3eza-1"})(["display:flex;justify-content:flex-end;flex:1;.ant-btn + .ant-btn{margin-left:8px;}@media (max-width:480px){width:100%;}"])},795:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(116),n=a(37),r=a(1850),o=a(76);const l=n.e`
  mutation SubscriptionListDestroySubscription($data: DestroyCustomerSubscriptionInput!) {
    destroyCustomerSubscription(input: $data) {
      success errors
    }
  }
`;t.a=()=>{const[e,{loading:t}]=Object(r.a)(l);return[Object(s.useCallback)((async t=>{try{var a;const s=await e({variables:{data:{id:t}}}),{success:i,errors:n}=(null===(a=s.data)||void 0===a?void 0:a.destroyCustomerSubscription)||{};return i?{success:!0}:(null===n||void 0===n||n.forEach((e=>c.b.error(e))),{success:!1})}catch(s){return o.a.captureException(s),console.error(s),c.b.error(Object(i.b)("phrases.generic_delete_error_message")),{success:!1}}}),[e]),t]}},796:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(116),n=a(579),r=a(250),o=a(3035),l=a(3036),d=a(3037),b=a(3057),u=a(756),j=a(596),m=a(27),p=a(604),h=a(19),O=a(53),_=a.n(O),x=a(22);const v=e=>{let{client:t}=e;const a=_()().format("MM-DD")===_()(null===t||void 0===t?void 0:t.birthday).format("MM-DD"),h=Object(s.useRef)(null),O=Object(m.a)((e=>e.current_user.permissions)),v=e=>{var a;O.can_edit_client?null===(a=h.current)||void 0===a||a.open({id:null===t||void 0===t?void 0:t.id,initial_active_bar:e}):c.b.warning(Object(i.b)("phrases.no_permission_to_do_this"))},y=(null===t||void 0===t?void 0:t.open_sales_count)||0,f=y>0,w=(null===t||void 0===t?void 0:t.late_payments_count)||0,k=w>0;return Object(x.jsxs)("div",{children:[Object(x.jsx)(r.h,{$bold:!0,$size:20,$paddings:[5,15],children:t?Object(i.b)("words.information_other"):Object(x.jsx)(p.a,{width:"9ch"})}),Object(x.jsxs)(r.g,{$column:!0,$isFlex:!1,children:[Object(x.jsxs)(g,{onClick:()=>v(a?"messages":"register"),children:[Object(x.jsx)(r.d,{as:o.a}),Object(x.jsx)(r.h,{className:"label",children:t?null!==t&&void 0!==t&&t.birthday?a?Object(i.b)("phrases.birthday_today"):`${Object(i.b)("phrases.birthday_on")} ${_()(t.birthday).format("DD, MMMM")}`:Object(i.b)("phrases.birthday_not_set"):Object(x.jsx)(p.a,{width:"22ch"})})]}),Object(x.jsxs)(g,{onClick:()=>v("cashback"),children:[Object(x.jsx)(r.d,{as:u.a,$size:16}),Object(x.jsx)(r.h,{className:"label",children:t?`${Object(n.d)(t.cashback_balance_cents||0)} ${Object(i.b)("phrases.in_cashback")}`:Object(x.jsx)(p.a,{width:"16ch"})})]}),Object(x.jsxs)(g,{onClick:()=>v("credits"),children:[Object(x.jsx)(r.d,{as:l.a}),Object(x.jsx)(r.h,{className:"label",children:t?`${Object(n.d)(t.balance_cents||0)} ${Object(i.b)("phrases.in_credit")}`:Object(x.jsx)(p.a,{width:"16ch"})})]}),Object(x.jsxs)(g,{$danger:f,onClick:()=>v("debits"),children:[Object(x.jsx)(r.d,{as:d.a}),Object(x.jsx)(r.h,{className:"label",$color:f?"red":void 0,children:t?`${y} ${Object(i.b)("phrases.open",{prefix:Object(i.b)("words.sale",{count:y}).toLocaleLowerCase()})}`:Object(x.jsx)(p.a,{width:"19ch"})})]}),Object(x.jsxs)(g,{$danger:k,onClick:()=>v("debits"),children:[Object(x.jsx)(r.d,{as:b.a}),Object(x.jsx)(r.h,{className:"label",children:t?`${w} ${Object(i.b)("phrases.open",{prefix:Object(i.b)("words.payment",{count:w}).toLocaleLowerCase()})}`:Object(x.jsx)(p.a,{width:"21ch"})})]})]}),Object(x.jsx)(j.a,{ref:h})]})};v.displayName="Information",t.a=v;const g=h.d.div.withConfig({componentId:"wb__sc-juqc2g-0"})(["display:flex;align-items:center;padding:10px 15px;cursor:pointer;&:hover{background-color:rgba(0,0,0,0.05);}.anticon{font-size:16rem;color:",";}.label{color:",";padding-left:10px;}",""],(e=>e.theme.colors.primary),(e=>e.theme.colors.primary),(e=>e.$danger&&Object(h.c)([".label{color:",";font-weight:800;}.anticon{font-weight:800;color:",";}"],e.theme.colors.red,e.theme.colors.red)))},797:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(250),n=a(2883),r=a(2937),o=a(2838),l=a(2934),d=a(1809),b=a(2824),u=a(159),j=a(27),m=a(584),p=a(959),h=a(19),O=a(579),_=a(3038),x=a(3058),v=a(22);const g=e=>{let{handlePaymentSelect:t}=e;const[a,u]=Object(s.useState)(""),h=Object(j.a)((e=>Object(O.A)(e.finance_payments))),g=Object(s.useMemo)((()=>h.filter((e=>e.active))),[h]),f=Object(s.useMemo)((()=>g.find((e=>e.is_cash))),[g]),w=Object(s.useMemo)((()=>g.filter((e=>e.is_card))),[g]),k=Object(s.useMemo)((()=>g.filter((e=>![...w,f].find((t=>(null===t||void 0===t?void 0:t.id)===e.id))))),[g,w,f]),C=Object(s.useMemo)((()=>w.map((e=>({key:e.id,onClick:()=>t(e),label:Object(v.jsx)(p.a,{payment_name:e.name,payment_favorite:e.favorite})})))),[w,t]),I=Object(s.useMemo)((()=>k.filter((e=>e.name.toLowerCase().includes(a.toLowerCase())))),[k,a]),A=Object(s.useMemo)((()=>I.map((e=>({key:e.id,onClick:()=>{t(e),u("")},label:Object(v.jsx)(p.a,{payment_name:e.name,payment_favorite:e.favorite})})))),[t,I]);return Object(v.jsxs)(c.g,{justify:"center",$column:!0,children:[Object(v.jsxs)(c.g,{gutter:[8,0],$isFlex:!0,$wrap:!0,children:[Object(v.jsx)(n.a,{span:12,children:Object(v.jsx)(r.a.Item,{name:"value_cents",label:Object(i.b)("words.value"),initialValue:0,children:Object(v.jsx)(m.a,{min:0,size:"large"})})}),Object(v.jsx)(n.a,{span:12,children:Object(v.jsx)(r.a.Item,{name:"installments",label:Object(i.b)("words.installment",{count:2}),initialValue:1,children:Object(v.jsx)(o.a,{style:{width:"100%"},size:"large",min:1})})}),Object(v.jsx)(n.a,{span:24,children:Object(v.jsx)(r.a.Item,{name:"due",label:Object(i.b)("words.payment"),children:Object(v.jsx)(l.a,{style:{width:"100%"},size:"large",allowClear:!1,format:"L"})})})]}),Object(v.jsxs)(c.g,{$gap:15,children:[Object(v.jsx)(y,{block:!0,icon:Object(v.jsx)(_.a,{}),size:"large",disabled:!f,onClick:()=>f&&t(f),children:(null===f||void 0===f?void 0:f.name)||Object(i.b)("words.cash")}),Object(v.jsx)(d.a,{menu:{items:C},trigger:["click"],placement:"bottomRight",disabled:0===w.length,dropdownRender:e=>Object(v.jsx)(c.c,{children:e}),children:Object(v.jsx)(y,{block:!0,size:"large",icon:Object(v.jsx)(x.a,{}),disabled:0===w.length,children:Object(i.b)("words.card")})})]}),Object(v.jsx)(c.g,{$top:15,$bottom:20,children:Object(v.jsx)(d.a,{menu:{items:A},trigger:["click"],placement:"bottom",disabled:0===k.length,dropdownRender:e=>Object(v.jsxs)(c.c,{children:[Object(v.jsx)("div",{style:{padding:"8px 12px",backgroundColor:"#FFFFFF"},children:Object(v.jsx)(b.a,{placeholder:Object(i.b)("whatsapp_booster.type_to_search"),value:a,autoFocus:!0,allowClear:!0,onChange:e=>u(e.target.value),style:{width:"100%"}})}),0===I.length?Object(v.jsx)(c.h,{$paddings:12,$alignCenter:!0,$color:"gray_1",children:Object(i.b)("input.not_found",{model:Object(i.b)("words.item").toLowerCase()})}):e]}),children:Object(v.jsx)(y,{block:!0,size:"large",disabled:0===k.length,children:Object(i.b)("words.other",{count:2})})})})]})};g.displayName="PaymentForm",t.a=g;const y=Object(h.d)(u.a).withConfig({componentId:"wb__sc-aqcb85-0"})(["height:60px;font-weight:500;"])},799:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return p}));var s=a(0),i=a(53),c=a.n(i),n=a(27),r=a(654),o=a(579),l=a(50),d=a(18),b=a(722);const u=e=>{let{form:t,setFields:a,setRawData:s}=e;return e=>{const i=JSON.parse(e.fields)||[],n=i.map((e=>({key_number:e.key_number,type:e.type,required:e.required,label:e.label,options:j(e.options)})));a(n);const r={id:e.id,status:e.status,anamnesis_template_id:e.anamnesis_template_id,client_id:e.client_id,entry_date:c()(e.entry_date)};i.forEach((e=>{r[e.key_number]=m(e.value)})),t.setFieldsValue(r),s({...e,uuid:e.uuid})}},j=e=>e?e.map((e=>({id:String(e.id),value:e.value}))):e,m=e=>e?Array.isArray(e)?e.map(String):String(e):e,p=e=>{let{uuid:t,document_type:a,name:i}=e;const c=Object(n.a)((e=>e.current_user.salon)),u=Object(r.a)(),j=Object(b.a)(),m=Object(s.useMemo)((()=>`${d.v?"http://":"https://"}${j}?anamnesis_uuid=${t}`),[j,t]);return{handleSendDigitalSignatureLink:e=>{const t=Object(l.b)("digital_signature.message_description",{name:i,document_type:a,signature_url_link:m,salon_name:c.name});Object(o.z)({phone:e.phone,message:t})},handleCopyLink:()=>{u(m)},signature_url_link:m}}},800:function(e,t,a){"use strict";var s=a(37),i=a(1850),c=a(116),n=a(76),r=a(50);const o=s.e`
  mutation UpdateInvoice($data: UpdateInvoiceInput!) {
    updateInvoice(input: $data) {
      success errors
    }
  }
`;t.a=()=>{const[e,{loading:t}]=Object(i.a)(o);return[async t=>{const a=c.b.loading(`${Object(r.b)("verbs.wait")}...`,0);try{const{data:s}=await e({variables:{data:{id:t}}}),{success:i,errors:n}=(null===s||void 0===s?void 0:s.updateInvoice)||{};return i?(c.b.success("Nota fiscal de servi\xe7o atualizada!"),{success:i}):(null===n||void 0===n||n.forEach((e=>c.b.error(e))),{success:i})}catch(s){return n.a.captureException(s),c.b.error("N\xe3o foi poss\xedvel atualizar a nota fiscal de servi\xe7o. Atualize a p\xe1gina e tente novamente. Se o erro persistir entre em contato. C\xf3digo: #202206171151"),console.error(s),{success:!1}}finally{a()}},{loading:t}]}},801:function(e,t,a){"use strict";var s=a(37),i=a(1850),c=a(116),n=a(76),r=a(50);const o=s.e`
  mutation CancelInvoice($data: CancelInvoiceInput!) {
    cancelInvoice(input: $data) {
      success errors
    }
  }
`;t.a=()=>{const[e,{loading:t}]=Object(i.a)(o);return[async t=>{const a=c.b.loading(`${Object(r.b)("verbs.wait")}...`,0);try{const{data:s}=await e({variables:{data:{id:t}}}),{success:i,errors:n}=(null===s||void 0===s?void 0:s.cancelInvoice)||{};return i?(c.b.success("Pedido de cancelamento da nota fiscal de servi\xe7o enviado!"),{success:i}):(null===n||void 0===n||n.forEach((e=>c.b.error(e))),{success:i})}catch(s){return n.a.captureException(s),c.b.error("N\xe3o foi poss\xedvel cancelar a nota fiscal de servi\xe7o. Atualize a p\xe1gina e tente novamente. Se o erro persistir entre em contato. C\xf3digo: #202206171151"),console.error(s),{success:!1}}finally{a()}},{loading:t}]}},802:function(e,t,a){"use strict";var s=a(37),i=a(1850),c=a(116),n=a(76);const r=s.e`
  mutation UpdateElectronicConsumerInvoice($data: UpdateElectronicConsumerInvoiceInput!) {
    updateElectronicConsumerInvoice(input: $data) {
      success errors
    }
  }
`;t.a=()=>{const[e,{loading:t}]=Object(i.a)(r);return[async t=>{try{const{data:a}=await e({variables:{data:{id:t}}}),{success:s,errors:i}=(null===a||void 0===a?void 0:a.updateElectronicConsumerInvoice)||{};return s?(c.b.success("Nota fiscal de consumidor atualizada!"),{success:s}):(null===i||void 0===i||i.forEach((e=>c.b.error(e))),{success:s})}catch(a){return n.a.captureException(a),c.b.error("N\xe3o foi poss\xedvel atualizar a nota fiscal de consumidor. Atualize a p\xe1gina e tente novamente. Se o erro persistir entre em contato. C\xf3digo: #202206201618"),console.error(a),{success:!1}}},{loading:t}]}},803:function(e,t,a){"use strict";var s=a(37),i=a(1850),c=a(116),n=a(76),r=a(50);const o=s.e`
  mutation CancelElectronicConsumerInvoice($data: CancelElectronicConsumerInvoiceInput!) {
    cancelElectronicConsumerInvoice(input: $data) {
      success errors
    }
  }
`;t.a=()=>{const[e,{loading:t}]=Object(i.a)(o);return[async t=>{const a=c.b.loading(`${Object(r.b)("verbs.wait")}...`,0);try{const{data:s}=await e({variables:{data:{id:t}}}),{success:i,errors:n}=(null===s||void 0===s?void 0:s.cancelElectronicConsumerInvoice)||{};return i?(c.b.success("Pedido de cancelamento da nota fiscal de consumidor enviado!"),{success:i}):(null===n||void 0===n||n.forEach((e=>c.b.error(e))),{success:i})}catch(s){return n.a.captureException(s),c.b.error("N\xe3o foi poss\xedvel cancelar a nota fiscal de consumidor. Atualize a p\xe1gina e tente novamente. Se o erro persistir entre em contato. C\xf3digo: #202206201751"),console.error(s),{success:!1}}finally{a()}},{loading:t}]}},804:function(e,t,a){"use strict";var s=a(37),i=a(1850),c=a(116),n=a(76);const r=s.e`
  mutation UpdateElectronicInvoice($data: UpdateElectronicInvoiceInput!) {
    updateElectronicInvoice(input: $data) {
      success errors
    }
  }
`;t.a=()=>{const[e,{loading:t}]=Object(i.a)(r);return[async t=>{try{const{data:a}=await e({variables:{data:{id:t}}}),{success:s,errors:i}=(null===a||void 0===a?void 0:a.updateElectronicInvoice)||{};return s?(c.b.success("Nota fiscal de produto atualizada!"),{success:s}):(null===i||void 0===i||i.forEach((e=>c.b.error(e))),{success:s})}catch(a){return n.a.captureException(a),c.b.error("N\xe3o foi poss\xedvel atualizar a nota fiscal de produto. Atualize a p\xe1gina e tente novamente. Se o erro persistir entre em contato. C\xf3digo: #202206201618"),console.error(a),{success:!1}}},{loading:t}]}},805:function(e,t,a){"use strict";var s=a(37),i=a(1850),c=a(116),n=a(76),r=a(50);const o=s.e`
  mutation CancelElectronicInvoice($data: CancelElectronicInvoiceInput!) {
    cancelElectronicInvoice(input: $data) {
      success errors
    }
  }
`;t.a=()=>{const[e,{loading:t}]=Object(i.a)(o);return[async t=>{const a=c.b.loading(`${Object(r.b)("verbs.wait")}...`,0);try{const{data:s}=await e({variables:{data:{id:t}}}),{success:i,errors:n}=(null===s||void 0===s?void 0:s.cancelElectronicInvoice)||{};return i?(c.b.success("Pedido de cancelamento da nota fiscal de produto enviado!"),{success:i}):(null===n||void 0===n||n.forEach((e=>c.b.error(e))),{success:i})}catch(s){return n.a.captureException(s),c.b.error("N\xe3o foi poss\xedvel cancelar a nota fiscal de produto. Atualize a p\xe1gina e tente novamente. Se o erro persistir entre em contato. C\xf3digo: #202206201751"),console.error(s),{success:!1}}finally{a()}},{loading:t}]}},824:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(1438),n=a(2824),r=a(2843),o=a(250),l=a(18),d=a(27),b=a(827),u=a(604),j=a(116),m=a(37),p=a(1850),h=a(76);const O=m.e`
  mutation WebookSaveNote($data: SaveNoteInput!) {
    saveNote(input: $data) {
      success
      errors

      note {
        id
        description
        updated_at
        user_id
      }
    }
  }
`;var _=()=>{const[e,{loading:t}]=Object(p.a)(O);return[async t=>{try{const{data:a}=await e({variables:{data:t}}),{success:s=!1,errors:i=[],note:c}=(null===a||void 0===a?void 0:a.saveNote)||{};return null===i||void 0===i||i.forEach((e=>j.b.error(e))),{success:s,note:c}}catch(a){return h.a.captureException(a),j.b.error(Object(i.b)("phrases.generic_save_error_message")),console.error(a),{success:!1,note:void 0}}},t]},x=a(631),v=a(19),g=a(53),y=a.n(g),f=a(22);const w=e=>{let{client_id:t,notes:a=[],setNotes:b}=e;const[m,p]=Object(s.useState)(!1),[h,O]=Object(s.useState)(""),v=Object(d.a)((e=>e.current_user.permissions)),g=Object(d.a)((e=>e.employees)),[w,C]=_(),I=async()=>{if(!t)return;if(0===h.length)return void j.b.warning(Object(i.b)("phrases.cannot_be_empty",{prefix:Object(i.b)("words.description")}));const{success:e,note:a}=await w({client_id:t,description:h});if(e){if(a){const e={...a,employee:g.find((e=>e.user_id===a.user_id))};b((t=>[e,...t]))}j.b.success(Object(i.b)("phrases.saved_successfully",{context:"female",prefix:Object(i.b)("words.annotation")})),O(""),p(!1)}};return v.can_access_client_annotations?Object(f.jsxs)("div",{children:[Object(f.jsxs)(o.g,{align:"middle",justify:"space-between",$paddings:[15,15,0,15],children:[Object(f.jsx)(o.h,{$bold:!0,$size:20,children:t?Object(i.b)("words.annotation",{count:2}):Object(f.jsx)(u.a,{width:"3ch"})}),Object(f.jsx)("div",{children:Object(f.jsxs)(o.g,{$alignCenter:!0,children:[m&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(o.h,{$link:!0,$color:"default_text",$semibold:!0,onClick:()=>p(!1),children:Object(i.b)("verbs.cancel")}),Object(f.jsx)(c.a,{type:"vertical"})]}),t&&Object(f.jsxs)(o.g,{$alignCenter:!0,children:[!m&&Object(f.jsx)(o.d,{as:r.a,$color:"primary",$right:5,$size:12}),Object(f.jsx)(o.h,{$semibold:!0,$link:!0,onClick:()=>{m?I():p(!0)},children:m?Object(i.b)("verbs.save"):Object(i.b)("verbs.add")})]})]})})]}),Object(f.jsxs)(o.g,{$column:!0,style:{textAlign:"left"},children:[m&&Object(f.jsx)(o.g,{$paddings:[10,15],children:Object(f.jsx)(n.a.TextArea,{autoFocus:!0,size:"small",placeholder:Object(i.b)("phrases.write_note_and_press_enter_to_save"),value:h,onChange:e=>O(e.target.value),onKeyDown:e=>{e.shiftKey||"Enter"===e.key&&I()},disabled:C,rows:3})}),a.map((e=>{var t,a;return Object(f.jsx)(k,{author:Object(f.jsx)(o.h,{$semibold:!0,children:(null===(t=e.employee)||void 0===t?void 0:t.name)||Object(i.b)("phrases.no_user")}),avatar:Object(f.jsx)(x.a,{src:null===(a=e.employee)||void 0===a?void 0:a.avatar_url}),content:e.description,datetime:Object(f.jsx)("span",{children:y()(e.updated_at,l.H).fromNow()})},e.id)})),0===a.length&&!m&&Object(f.jsx)(o.h,{$color:"gray_1",$mTop:10,$paddings:[0,15],children:Object(i.b)("phrases.model_not_found",{model:Object(i.b)("words.annotation").toLocaleLowerCase(),context:"female"})})]})]}):null};w.displayName="Notes";t.a=Object(s.memo)(w);const k=Object(v.d)(b.a).withConfig({componentId:"wb__sc-ni8cmy-0"})(["padding:0 15px;&:hover{background-color:rgba(0,0,0,0.05);}.comment-content-detail{white-space:pre-wrap;word-wrap:break-word;}"])},826:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return i}));var s=a(1226);const i=(e,t,a)=>{if(!e)return;const i=(a||100)/(t||100)*100,n=Object(s.a)(e,100,i);return c(n,100,i)},c=(t,a,s)=>{const i=[...t].map((e=>String.fromCharCode(e))).join(""),c=r(a,s,i),o=n(c);return"data:image/png;base64,"+("undefined"!==typeof e?e.from(o).toString("base64"):btoa(c))},n=e=>{const t=new Uint8Array(e.length);for(let a=0;a<e.length;a++)t[a]=e.charCodeAt(a);return t},r=(e,t,a)=>{const s=String.fromCharCode(120,1),i=[],c=String.fromCharCode(137,80,78,71,13,10,26,10),n=String.fromCharCode(0);let r,o,l;for(r=0;r<256;r++){for(o=r,l=0;l<8;l++)1&o?o=3988292384^o>>>1:o>>>=1;i[r]=o}const d=e=>4294967295^((e,t)=>{let a,s=e;for(let c=0;c<t.length;c++)a=t.charCodeAt(c),s=i[255&(s^a)]^s>>>8;return s})(4294967295,e),b=e=>String.fromCharCode((4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e),u=(e,t,a)=>{const s=d(t+a);return b(e)+t+a+b(s)},j=u(0,"IEND",""),m=((e,t)=>{const a=b(e)+b(t)+String.fromCharCode(8)+String.fromCharCode(6)+String.fromCharCode(0)+String.fromCharCode(0)+String.fromCharCode(0);return u(13,"IHDR",a)})(e,t);let p,h="";for(let _=0;_<a.length;_+=4*e){if(p=n,Array.isArray(a))for(let t=0;t<4*e;t++)p+=String.fromCharCode(255&a[_+t]);else p+=a.substr(_,4*e);h+=p}const O=s+(e=>{const t=65535;let a,s,i="";for(let c=0;c<e.length;c+=t)a=e.length-c,s="",a<=t?s=String.fromCharCode(1):(a=t,s=String.fromCharCode(0)),i+=s+String.fromCharCode(255&a,(65280&a)>>>8),i+=String.fromCharCode(255&~a,(65280&~a)>>>8),i+=e.substring(c,c+a);return i})(h)+b((e=>{let t=1,a=0;for(let s=0;s<e.length;s++)t=(t+e.charCodeAt(s))%65521,a=(a+t)%65521;return a<<16|t})(h));return c+m+u(O.length,"IDAT",O)+j}}).call(this,a(1014).Buffer)},827:function(e,t,a){"use strict";var s=a(0),i=a(19),c=a(22);const n=e=>{let{author:t,avatar:a,content:s,datetime:i,actions:n,show_author:o=!0,...l}=e;return Object(c.jsx)(r,{...l,children:Object(c.jsxs)("div",{className:"comment-inner",children:[!!a&&Object(c.jsx)("div",{className:"comment-avatar",children:"string"===typeof a?Object(c.jsx)("img",{src:a,alt:"comment-avatar"}):a}),Object(c.jsxs)("div",{className:"comment-content",children:[(t||i)&&Object(c.jsxs)("div",{className:"comment-content-author",children:[t&&o&&Object(c.jsx)("span",{className:"comment-content-author-name",children:t}),i&&Object(c.jsx)("span",{className:"comment-content-author-time",children:i})]}),Object(c.jsx)("div",{className:"comment-content-detail",children:s}),!!n&&n.length&&Object(c.jsx)("ul",{className:"comment-actions",children:n.map(((e,t)=>Object(c.jsx)("li",{children:e},`action-${t}`)))})]})]})})};n.displayName="Comment",t.a=Object(s.memo)(n);const r=i.d.div.withConfig({componentId:"wb__sc-1a7cdni-0"})(["position:relative;.comment-inner{display:flex;padding:16px 0;}.comment-avatar{position:relative;flex-shrink:0;margin-right:12px;img{width:32px;height:32px;border-radius:50%;}}.comment-content{position:relative;flex:1 1 auto;min-width:1px;font-size:14rem;word-wrap:break-word;.comment-content-author{display:flex;flex-wrap:wrap;justify-content:flex-start;margin-bottom:4px;font-size:14rem;& > a,& > span{padding-right:8px;font-size:12px;line-height:18px;}.comment-content-author-name{color:rgba(0,0,0,.45);transition:color 0.3s;> *{color:rgba(0,0,0,.45);&:hover{color:rgba(0,0,0,.45);}}}.comment-content-author-time{color:#ccc;white-space:nowrap;cursor:auto;}}.comment-content-detail p{margin-bottom:inherit;white-space:pre-wrap;}}.comment-actions{margin-top:12px;padding-left:0;> li{display:inline-block;color:rgba(0,0,0,.45);> span{margin-right:10px;color:rgba(0,0,0,.45);font-size:12px;cursor:pointer;transition:color 0.3s;user-select:none;&:hover{color:#595959;}}}}"])},831:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(250),n=a(762),r=a(22);const o=e=>{let{search:t,handleChangeProduct:a}=e;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(c.h,{$left:15,$size:18,$semibold:!0,children:Object(i.b)("words.service",{count:2})}),Object(r.jsx)(n.a,{services:!0,search:t,handleChangeProduct:a}),Object(r.jsx)(c.h,{$left:15,$size:18,$semibold:!0,children:Object(i.b)("words.product",{count:2})}),Object(r.jsx)(n.a,{services:!1,search:t,handleChangeProduct:a})]})};t.a=Object(s.memo)(o)},832:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(2824),n=a(250),r=a(3059),o=a(131),l=a(1444),d=a(19),b=a(22);const u=e=>{let{search:t,is_service:a,step:c,setSearch:d,back:u,close:m}=e;const p=Object(s.useMemo)((()=>"employee"===c?`${Object(i.b)("verbs.select")} ${Object(i.b)("words.employee").toLocaleLowerCase()}`:void 0===a?`${Object(i.b)("verbs.select")} ${Object(i.b)("words.item").toLocaleLowerCase()}`:a?`${Object(i.b)("verbs.select")} ${Object(i.b)("words.service").toLocaleLowerCase()}`:`${Object(i.b)("verbs.select")} ${Object(i.b)("words.product").toLocaleLowerCase()}`),[a,c]);return Object(b.jsxs)("div",{children:[Object(b.jsxs)(n.g,{$alignCenter:!0,justify:"space-between",children:[Object(b.jsxs)(n.g,{$alignCenter:!0,children:[void 0!==a&&Object(b.jsx)("div",{onClick:u,children:Object(b.jsx)(n.d,{$right:10,as:r.a,$size:18})}),Object(b.jsx)(n.h,{$size:22,$semibold:!0,children:p})]}),Object(b.jsx)("div",{onClick:m,style:{marginLeft:"auto"},children:Object(b.jsx)(n.d,{as:o.a,$size:18})})]}),Object(b.jsx)(j,{allowClear:!0,placeholder:Object(i.b)("phrases.type_to_search"),size:"large",enterKeyHint:"search",value:t,onChange:e=>d(e.target.value),prefix:Object(b.jsx)(l.a,{style:{color:"lightgray"}})})]})};u.displayName="HeaderMobile",t.a=Object(s.memo)(u);const j=Object(d.d)(c.a).withConfig({componentId:"wb__sc-1x58x8v-0"})(["margin-top:15px;border-color:rgba(0,0,0,0.05);padding:8px 12px;width:100%;.ant-input-prefix{margin-right:10px;}"])},846:function(e,t,a){"use strict";var s=a(0),i=a(116),c=a(799),n=a(250),r=a(2937),o=a(852),l=a(2831),d=a(50),b=a(891),u=a(27),j=a(18),m=a(1438),p=a(159),h=a(19),O=a(53),_=a.n(O),x=a(3064),v=a(22);const g=e=>{let{digital_signature:t,name:a,handleCopyLink:i}=e;const[c,r]=Object(s.useState)(300),o=Object(u.a)((e=>e.is_mobile));return Object(s.useEffect)((()=>{const e=document.getElementById("canvas-container");e&&r(o?e.offsetWidth:Math.floor(.5*e.offsetWidth))}),[o]),Object(v.jsxs)(f,{children:[Object(v.jsx)(w,{id:"canvas-container",children:Object(v.jsx)(k,{style:{width:c,height:Math.floor(c/2)},src:t.image_url},t.id+t.image_url)}),Object(v.jsx)(m.a,{}),Object(v.jsx)(n.h,{$size:16,children:Object(d.b)("digital_signature.signed_by_user_in_date",{name:a,date:_()(t.created_at,j.H).format("L, HH:mm[h]"),interpolation:{escapeValue:!1}})}),Object(v.jsx)(C,{children:Object(v.jsx)(p.a,{type:"primary",icon:Object(v.jsx)(x.a,{}),onClick:i,size:o?"large":"middle",block:o,children:Object(d.b)("anamnesis.copy_link")})})]})};g.displayName="Signed";var y=Object(s.memo)(g);const f=h.d.div.withConfig({componentId:"wb__sc-1rlv9xf-0"})(["position:relative;"]),w=h.d.div.withConfig({componentId:"wb__sc-1rlv9xf-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;"]),k=h.d.img.attrs({loading:"lazy"}).withConfig({componentId:"wb__sc-1rlv9xf-2"})(["background-repeat:no-repeat;background-size:contain;"]),C=h.d.div.withConfig({componentId:"wb__sc-1rlv9xf-3"})(["display:flex;justify-content:flex-end;margin-top:20px;"]);var I=a(3065),A=a(3042),S=a(2883),$=a(2824),E=a(596),F=a(591);const D=e=>{const{client_id:t,phone:a,refetch:c,handleCopyLink:o,signature_url_link:l,name:b,handleSendDigitalSignatureLink:j}=e,m=Object(s.useRef)(null),h=Object(u.a)((e=>e.current_user.salon)),O=Object(u.a)((e=>e.is_mobile)),_=Object(u.a)((e=>e.current_user.permissions)),[x]=r.a.useForm();Object(s.useEffect)((()=>{a&&x.setFieldsValue({phone:a})}),[x,a]);const g=Object(d.b)("anamnesis.digital_signature_client_message",{name:b,signature_url_link:l,salon_name:h.name}),y=()=>{_.can_edit_client?null===f||void 0===f||f():i.b.warning(Object(d.b)("phrases.no_permission_to_do_this"))},f=()=>{var e;null===(e=m.current)||void 0===e||e.open({id:t,initial_active_bar:"register"})};return Object(v.jsxs)(r.a,{form:x,layout:"vertical",scrollToFirstError:!0,onFinish:j,children:[Object(v.jsxs)(n.g,{$wrap:!0,gutter:{xs:0,sm:8},children:[Object(v.jsx)(S.a,{span:24,children:Object(v.jsx)(r.a.Item,{name:"phone",label:Object(d.b)("words.cellphone"),validateTrigger:["onChange"],rules:[{required:!0,message:Object(v.jsx)(n.h,{$link:!0,onClick:y,children:Object(d.b)("digital_signature.register_to_continue")})}],children:Object(v.jsx)(F.a,{disabled:!!a,size:O?"large":"middle",onClick:y})})}),Object(v.jsx)(S.a,{span:24,children:Object(v.jsx)(r.a.Item,{label:Object(d.b)("words.link"),children:Object(v.jsx)($.a,{prefix:Object(v.jsx)(I.a,{}),disabled:!0,value:l,size:O?"large":"middle",suffix:Object(v.jsx)(n.h,{$link:!0,onClick:o,children:Object(d.b)("verbs.copy")})})})}),Object(v.jsx)(S.a,{span:24,children:Object(v.jsx)(r.a.Item,{label:Object(d.b)("digital_signature.message_preview"),children:Object(v.jsx)($.a.TextArea,{rows:6,autoSize:{minRows:6,maxRows:6},style:{width:"100%"},placeholder:Object(d.b)("digital_signature.provide_the_message"),value:g,disabled:!0})})}),Object(v.jsx)(N,{span:24,children:Object(v.jsx)(p.a,{type:"primary",className:"ant-button-success",icon:Object(v.jsx)(A.a,{}),onClick:x.submit,size:O?"large":"middle",block:O,children:Object(d.b)("anamnesis.send_link_to_client")})})]}),Object(v.jsx)(E.a,{ref:m,onSave:c})]})};D.displayName="SendSignatureLink";var z=D;const N=Object(h.d)(S.a).withConfig({componentId:"wb__sc-yi753g-0"})(["display:flex;justify-content:flex-end;"]);var q=a(2976);var B=e=>{const{digital_signature:t,name:a,document_type:s,uuid:i,phone:n,refetch:r,client_id:o}=e,l=!(null===t||void 0===t||!t.id),{handleCopyLink:b,handleSendDigitalSignatureLink:u,signature_url_link:j}=Object(c.a)({uuid:i,name:a,document_type:s});return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(q.a,{style:{marginBottom:18},type:"info",message:Object(d.b)("anamnesis.link_tab_message")}),l&&Object(v.jsx)(y,{handleCopyLink:b,digital_signature:t,name:a}),!l&&Object(v.jsx)(z,{handleCopyLink:b,signature_url_link:j,name:a,phone:n,refetch:r,handleSendDigitalSignatureLink:u,client_id:o})]})},P=a(37),R=a(1850),M=a(76);const T=P.e`
  mutation AnamnesisDrawerSaveAnamnesis ($data: SaveAnamnesisInput!) {
    saveAnamnesis (input: $data) {
      success
      errors
      anamnesis {
        id
      }
    }
  }
`;var L=()=>{const[e,{loading:t}]=Object(R.a)(T);return[async t=>{try{const{data:a}=await e({variables:{data:t}}),{success:s=!1,errors:c=[],anamnesis:n}=(null===a||void 0===a?void 0:a.saveAnamnesis)||{};return null===c||void 0===c||c.forEach((e=>i.b.error(e))),{success:s,anamnesis:n}}catch(a){return M.a.captureException(a),i.b.error(Object(d.b)("phrases.generic_save_error_message")),console.error(a),{success:!1,anamnesis:void 0}}},{loading:t}]},V=a(339),H=a(2879);var U=e=>{let{onCompleted:t}=e;return Object(H.a)(Y,{fetchPolicy:"network-only",onCompleted:e=>{const{anamnesis:a}=e;t(a)},onError:e=>{M.a.captureException(e),console.log(e)}})};const G=P.e`
  fragment AnamnesiAttributes on Anamnesis {
    id
    uuid
    anamnesis_template_id
    status
    client_id
    entry_date
    fields

    client {
      id
      name
      cellphone
    }

    anamnesis_template {
      id name
    }

    digital_signature {
      id
      image_url
      created_at
    }

    electronic_signature {
      id
      external_document_url
      signed_at
      status
      created_at
      updated_at
    }
  }
`,Y=P.e`
  query AnamnesisDrawerFetch ($id: ID) {
    anamnesis(id: $id) {
      ...AnamnesiAttributes
    }
  }

  ${G}
`;var Q=a(586),J=a(1227),W=a(1003),Z=a(621),K=a(653),X=a(1256);const ee=e=>{let{field:t,value:a=[],...i}=e;const c=Object(s.useMemo)((()=>{var e;return null===(e=t.options)||void 0===e?void 0:e.map((e=>({value:e.id,label:e.value})))}),[t.options]);return Object(v.jsx)(X.a,{options:c,mode:"multiple",placeholder:t.label,allowClear:!t.required,value:a||[],showArrow:!0,...i})};ee.displayName="MultipleChoicesField";var te=ee;const ae=e=>{let{field:t,...a}=e;const i=Object(s.useMemo)((()=>{var e;return null===(e=t.options)||void 0===e?void 0:e.map((e=>({value:e.id,label:e.value})))}),[t.options]);return Object(v.jsx)(X.a,{options:i,placeholder:t.label,allowClear:!t.required,...a})};ae.displayName="ComboboxField";var se=ae;const ie=e=>{let{field:t,...a}=e;return Object(v.jsx)($.a,{placeholder:t.label,...a})};ie.displayName="StringField";var ce=ie,ne=a(2838);const re=e=>{let{field:t,...a}=e;return Object(v.jsx)(ne.a,{placeholder:t.label,style:{width:"100%"},type:"number",...a})};re.displayName="NumberField";var oe=re,le=a(1810);const de=e=>{var t;let{field:a,...s}=e;return Object(v.jsx)(le.a.Group,{...s,children:null===(t=a.options)||void 0===t?void 0:t.map((e=>Object(v.jsx)(le.a,{value:e.id,children:e.value},e.id)))})};de.displayName="RadioField";var be=de,ue=a(1426),je=a(1440),me=a(2854),pe=a(3066),he=a(1276),Oe=a.n(he);const _e=P.e`
  mutation getS3SignedUrl($data: CreateSignUrlInput!) {
    createS3SignedUrl(input: $data) {
      success
      errors
      signed_url
    }
  }
`;var xe=()=>{const[e]=Object(R.a)(_e);return[async t=>{try{const{data:a}=await e({variables:{data:t}}),{success:s,signed_url:i,errors:c}=(null===a||void 0===a?void 0:a.createS3SignedUrl)||{};return s?{success:!0,signed_url:i}:(console.error(c),{success:!1,errors:c})}catch(a){return M.a.captureException(a),i.b.error(Object(d.b)("phrases.generic_save_error_message")),console.error(a),{success:!1}}}]};const ve=e=>{const{only_images:t,onPreProcess:a,inputRef:i,folder_name:c,onSignUrlError:n,allowed_type:r,onSignedFinished:o,...l}=e,[d]=xe(),b=Object(s.useCallback)(((e,t)=>{a?a(e,t):t(e)}),[a]),u=Object(s.useCallback)((async(e,t)=>{try{const a={object_name:e.name,folder_name:c,content_type:e.type},{success:s,signed_url:i,errors:r}=await d(a);if(!s)return void n(r);t({publicUrl:i,signedUrl:i,filename:e.name,fileKey:e.type})}catch(a){console.log(a)}}),[c,d,n]);return Object(v.jsx)(Oe.a,{accept:t?"image/png, image/jpeg, image/jpg, image/gif":r,style:{display:"none"},preprocess:b,scrubFilename:e=>e.replace(/[^\w\d_\-.]+/gi,""),getSignedUrl:u,inputRef:i,autoUpload:!0,...l})};ve.displayName="ReactS3UploaderAdapter";var ge=ve;const ye=e=>{let{value:t,onChange:a,disabled:c}=e;const[n,r]=Object(s.useState)(!1);let o=null,l=null;const b=Object(s.useCallback)((e=>{var t;null===(t=l)||void 0===t||t(),i.b.error(Object(d.b)("phrases.file_not_supported")),console.error(e),r(!1)}),[l]),u=Object(s.useCallback)((e=>{var t;r(!1),null===(t=l)||void 0===t||t()}),[l]),j=Object(s.useCallback)((e=>{var t;const s=e.signedUrl.split("?")[0];r(!1),null===(t=l)||void 0===t||t(),null===a||void 0===a||a(s)}),[l,a]);return Object(v.jsx)(ue.a,{spinning:n,children:Object(v.jsxs)(we,{children:[t&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Ce,{src:t,alt:"",style:{borderRadius:"5px"}}),Object(v.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",children:Object(v.jsxs)(ke,{className:"button-wrapper-on-hover-only",children:[Object(v.jsx)(je.a,{}),"\xa0",Object(d.b)("phrases.open_image")]})}),Object(v.jsx)(Ie,{children:Object(v.jsx)(p.a,{icon:Object(v.jsx)(me.a,{style:{color:"red"}}),onClick:()=>{c||null===a||void 0===a||a(null)}})})]}),!t&&Object(v.jsx)(ke,{className:"button-wrapper-no-image",title:Object(d.b)("phrases.select",{model:Object(d.b)("words.image").toLocaleLowerCase(),context:"female"}),onClick:e=>{var t;c?e.stopPropagation():null===(t=o)||void 0===t||t.click()},tabIndex:0,children:Object(v.jsx)(pe.a,{})}),!t&&Object(v.jsx)(ge,{only_images:!0,onPreProcess:(e,t)=>(r(!0),l=i.b.loading(`${Object(d.b)("verbs.sending")}...`,0),t(e)),onError:b,inputRef:e=>o=e,onFinish:j,folder_name:"anamnesis",disabled:c,onSignUrlError:u})]})})};ye.displayName="ImageField";var fe=ye;const we=h.d.div.withConfig({componentId:"wb__sc-mnrb3m-0"})(["height:200px;position:relative;border-radius:5px;border:1px dashed rgba(0 0 0 / 10%);"]),ke=h.d.div.withConfig({componentId:"wb__sc-mnrb3m-1"})(["width:100%;height:200px;align-items:center;cursor:pointer;display:flex;justify-content:center;position:absolute;top:0;transition:transform .1s,opacity .1s;z-index:4;border-radius:5px;&.button-wrapper-on-hover-only{background-color:rgba(80,90,251,0.3);color:white;opacity:0;&:hover{opacity:1;}}&.button-wrapper-no-image{font-size:40rem;}"]),Ce=h.d.img.attrs({loading:"lazy"}).withConfig({componentId:"wb__sc-mnrb3m-2"})(["height:100%;width:100%;object-fit:cover;"]),Ie=h.d.div.withConfig({componentId:"wb__sc-mnrb3m-3"})(["position:absolute;top:8px;right:8px;z-index:5;"]),Ae=e=>{let{field:t,...a}=e;return Object(v.jsx)($.a.TextArea,{placeholder:t.label,...a})};Ae.displayName="TextField";var Se=Ae;const $e=e=>({string:Object(v.jsx)(ce,{...e}),text:Object(v.jsx)(Se,{...e}),multiple_choices:Object(v.jsx)(te,{...e}),combobox:Object(v.jsx)(se,{...e}),radio:Object(v.jsx)(be,{...e}),number:Object(v.jsx)(oe,{...e}),image:Object(v.jsx)(fe,{disabled:e.disabled})}[e.field.type]||null),Ee=e=>{const{size:t="middle",...a}=e;return Object(v.jsx)(S.a,{span:24,children:Object(v.jsx)(r.a.Item,{noStyle:!0,dependencies:["status"],children:s=>{let{getFieldValue:i}=s;const c=i("id"),n="closed"===i("status"),o=!!c&&n;return Object(v.jsx)(r.a.Item,{label:e.field.label,name:e.field.key_number,rules:[{required:n&&e.field.required,message:Object(d.b)("phrases.required_field")}],children:$e({size:t,disabled:o,...a})})}})})};Ee.displayName="Field";var Fe=Ee,De=a(629),ze=a(3048);const Ne=e=>{let{fields:t,setFields:a}=e;const s=Object(u.a)((e=>e.is_mobile));return Object(v.jsxs)(n.g,{$wrap:!0,gutter:{xs:0,md:8},children:[Object(v.jsx)(r.a.Item,{name:"id",noStyle:!0,children:Object(v.jsx)($.a,{type:"hidden"})}),Object(v.jsx)(S.a,{span:24,children:Object(v.jsx)(r.a.Item,{name:"anamnesis_template_id",label:Object(d.b)("words.anamnesi_template"),rules:[{required:!0,message:Object(d.b)("phrases.required_field")}],children:Object(v.jsx)(W.a,{placeholder:Object(d.b)("phrases.select",{model:Object(d.b)("words.anamnesi_template").toLocaleLowerCase()}),allowClear:!1,size:s?"large":"middle",onChange:(e,t)=>(e=>{const t=JSON.parse(e.fields);a(t)})(t.item)})})}),Object(v.jsx)(S.a,{span:24,children:Object(v.jsx)(r.a.Item,{name:"client_id",label:Object(d.b)("words.client"),rules:[{required:!0,message:Object(d.b)("phrases.required_field")}],children:Object(v.jsx)(Z.a,{popupClassName:"ant-select-dropdown-small",size:s?"large":"middle",placeholder:Object(d.b)("phrases.select",{model:Object(d.b)("words.client").toLocaleLowerCase()})})})}),Object(v.jsx)(S.a,{xs:24,md:12,children:Object(v.jsx)(r.a.Item,{name:"entry_date",label:Object(d.b)("words.date"),initialValue:_()(),rules:[{required:!0,message:Object(d.b)("phrases.required_field")}],children:Object(v.jsx)(K.b,{format:"L",placeholder:Object(d.b)("phrases.select",{model:Object(d.b)("words.date").toLocaleLowerCase(),context:"female"}),size:s?"large":"middle",style:{width:"100%"},allowClear:!1})})}),Object(v.jsx)(S.a,{xs:24,md:12,children:Object(v.jsx)(r.a.Item,{name:"status",label:Object(v.jsxs)(v.Fragment,{children:[Object(d.b)("words.status"),Object(v.jsx)(J.a,{trigger:["hover","click"],title:Object(d.b)("anamnesis.document_status"),content:Object(v.jsxs)("span",{children:[Object(v.jsxs)("b",{children:[Object(d.b)("words.opened"),":"]})," ",Object(d.b)("anamnesis.open_status_description"),Object(v.jsx)("br",{}),Object(v.jsxs)("b",{children:[Object(d.b)("words.closed"),":"]})," ",Object(d.b)("anamnesis.close_status_description")]}),children:Object(v.jsx)(ze.a,{style:{paddingLeft:5}})})]}),rules:[{required:!0,message:Object(d.b)("phrases.required_field")}],children:Object(v.jsx)(De.b,{size:s?"large":"middle",options:[{value:"open",label:Object(d.b)("words.opened")},{value:"closed",label:Object(d.b)("words.closed")}],allowClear:!1})})}),t.map((e=>Object(v.jsx)(Fe,{size:s?"large":"middle",field:e},e.key_number)))]})};Ne.displayName="AnamnesisForm";var qe=Ne,Be=a(581),Pe=a(342);const Re=(e,t)=>{var a;let{afterSave:l}=e;const[j,m]=Object(s.useState)(!1),[p,h]=Object(s.useState)([]),[O,_]=Object(s.useState)("register"),[x,g]=Object(s.useState)(),[y,f]=Object(s.useState)(),w=Object(u.a)((e=>e.is_mobile)),[k]=r.a.useForm(),{submit:C,resetFields:I,setFieldsValue:A}=k,S=Object(c.b)({form:k,setFields:h,setRawData:g}),[$,{loading:E,error:F}]=U({onCompleted:S}),[D,{loading:z}]=L(),N=Object(s.useCallback)((function(e){let{client_id:t,tab:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&($({variables:{id:e}}),f(e)),t&&A({client_id:t}),a&&_(a),m(!0)}),[$,A]),q=Object(s.useCallback)((()=>{m(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:N,close:q})));const P=e=>Object(v.jsx)(o.a,{placement:w?"bottom":void 0,trigger:["hover","click"],title:y?"":Object(d.b)("phrases.available_after_creation"),children:e});return Object(v.jsx)(n.a,{open:j,title:Object(d.b)("words.anamnesi"),placement:w?"bottom":"right",height:"100%",onClose:q,width:740,closable:!0,destroyOnClose:!0,footer:"register"===O&&Object(v.jsx)(Be.a,{close:q,submit:C,disabled:E||!!F,loading:z}),afterOpenChange:e=>{e||(I(),h([]),_("register"),f(void 0),g(void 0))},push:!1,children:Object(v.jsxs)(Me,{children:[Object(v.jsx)(V.a,{loading:E}),Object(v.jsx)(Q.a,{visible:!!F,small:!0}),Object(v.jsx)(Te,{onTabClick:e=>{_(e)},defaultActiveKey:"register",tabPosition:w?"top":"left",activeKey:O,items:[{label:Object(d.b)("words.data"),key:"register",children:Object(v.jsx)(r.a,{scrollToFirstError:!0,initialValues:{status:"open"},form:k,layout:"vertical",onFinish:async e=>{const t=(e=>{const{id:t,entry_date:a,anamnesis_template_id:s,client_id:i,...c}=e,n=p.map((e=>{const t=c[e.key_number];return{...e,value:JSON.stringify(t)}}));return{id:t,status:e.status,entry_date:a.format("YYYY-MM-DD"),anamnesis_template_id:s,client_id:i,fields:n}})(e),{success:a,anamnesis:s}=await D(t);a&&(q(),i.b.success(Object(d.b)("phrases.saved_successfully_female",{prefix:Object(d.b)("words.anamnesi"),context:"female"})),null===l||void 0===l||l(null===s||void 0===s?void 0:s.id))},children:Object(v.jsx)(qe,{fields:p,setFields:h})})},{label:Object(v.jsxs)(v.Fragment,{children:[P("Assinatura Eletr\xf4nica"),Object(v.jsx)(Pe.c,{date:"2025/07/05"})]}),key:"electronic_signature",disabled:!y,children:Object(v.jsx)(b.a,{afterSave:()=>{q(),null===l||void 0===l||l()},signaturable_type:"Anamnesis",signaturable_id:y})},{label:P(Object(d.b)("words.link")),key:"digital_signature",disabled:!y,children:Object(v.jsx)(B,{client_id:y,uuid:null===x||void 0===x?void 0:x.uuid,digital_signature:null===x||void 0===x?void 0:x.digital_signature,phone:null===x||void 0===x?void 0:x.client.cellphone,name:null===x||void 0===x?void 0:x.client.name,document_type:`${Object(d.b)("words.anamnesi")} - ${null===x||void 0===x||null===(a=x.anamnesis_template)||void 0===a?void 0:a.name}`,refetch:()=>$({variables:{id:y}})})}]})]})})};Re.displayName="AnamnesisDrawer";t.a=Object(s.forwardRef)(Re);const Me=h.d.div.withConfig({componentId:"wb__sc-g2p32s-0"})(["position:relative;height:100%;"]),Te=Object(h.d)(l.a).withConfig({componentId:"wb__sc-g2p32s-1"})(["height:100%;.ant-tabs-content-holder{overflow-y:auto;}.ant-tabs-tab-btn{display:flex;align-items:center;}"])},847:function(e,t,a){"use strict";var s=a(0),i=a(2937),c=a(250),n=a(37),r=a(2879),o=a(447),l=a(116),d=a(871),b=a(18),u=a(76);const j=n.e`
  query InvoiceDrawerFetchSaleInfo ($id: ID) {
    inventory_sale (id: $id) {
      id

      client {
        id
        name
        email
        cpf
        cnpj
        insc
        phone2
        address
        number
        district
        cep
        uf
        city
        complement
      }

      sale_items {
        id
        quantity
        value_cents
        sum_cents
        discount_cents
        discount_type
        discount_percentage

        inventory_product {
          id
          service
          description
          measurement_unit
          invoice_product {
            cfop_normalized
            ncm
            cest
            csosn_cst_normalized
            cst_pis
            cst_cofins
          }
        }
      }

      bill_recs {
        value_cents
        invoice_payment_name
      }
    }
  }
`,m=n.e`
  query InvoiceDrawerFetchPackageInfo ($id: ID) {
    inventory_package (id: $id) {
      id
      invoice_value

      client {
        id
        name
        email
        cpf
        cnpj
        insc
        phone2
        address
        number
        district
        cep
        uf
        city
        complement
      }

      package_items {
        id
        quantity
        value_cents
        sum_cents
        discount_cents
        discount_type
        discount_percentage

        product {
          id
          service
          description
          measurement_unit
          invoice_product {
            cfop_normalized
            ncm
            cest
            csosn_cst_normalized
            cst_pis
            cst_cofins
          }
        }
      }

      bill_recs {
        value_cents
        invoice_payment_name
      }
    }
  }
`;var p=(e,t,a)=>{const s="Inventory::Sale"===a?j:m;return Object(r.a)(s,{fetchPolicy:"no-cache",onCompleted:s=>{var i,c,n,r;const l=s.inventory_sale||s.inventory_package,u=(null===l||void 0===l||null===(i=l.bill_recs)||void 0===i?void 0:i.map((e=>({name:e.invoice_payment_name,value_cents:e.value_cents}))))||[],j="55"===(null===l||void 0===l||null===(c=l.client.phone2)||void 0===c?void 0:c.substring(0,2))?null===l||void 0===l||null===(n=l.client.phone2)||void 0===n?void 0:n.substring(2):"",m={...l,items_attributes:Object(d.a)(a,t,l),payments_attributes:[...u,{name:void 0,value_cents:void 0}],nfce_id:Object(o.a)(),payment_terms:"1",emission_environment:b.v?"Homologacao":"Producao",send_email:!0,send_client:!0,send_client_address:!0,customer_icms_taxpayer_indicator:"taxpayer",customer_person_type:"F",customer_name:null===l||void 0===l?void 0:l.client.name,customer_email:null===l||void 0===l?void 0:l.client.email,customer_cpf_cnpj:null===(r=(null===l||void 0===l?void 0:l.client.cpf)||(null===l||void 0===l?void 0:l.client.cnpj))||void 0===r?void 0:r.replaceAll(/[.-]/g,""),customer_phone_number:j,customer_address_state:null===l||void 0===l?void 0:l.client.uf,customer_address_city:null===l||void 0===l?void 0:l.client.city,customer_address_street:null===l||void 0===l?void 0:l.client.address,customer_address_number:null===l||void 0===l?void 0:l.client.number,customer_address_complement:null===l||void 0===l?void 0:l.client.complement,customer_address_neighborhood:null===l||void 0===l?void 0:l.client.district,customer_address_zip_code:null===l||void 0===l?void 0:l.client.cep,customer_presence_indicator:"1",client_id:null===l||void 0===l?void 0:l.client.id,transport_modality:"SemFrete",transport_value_cents:0};e(m)},onError:e=>{u.a.captureException(e),console.log(e),l.b.warning(e.message)}})},h=a(1850);const O=n.e`
  mutation InvoiceDrawerIssueElectronicConsumerInvoice ($data: IssueElectronicConsumerInvoiceInput!) {
    issueElectronicConsumerInvoice (input: $data) {
      success
      errors
    }
  }
`;var _=()=>{const[e,{loading:t}]=Object(h.a)(O);return[async t=>{try{const{data:a}=await e({variables:{data:t}}),{success:s,errors:i}=(null===a||void 0===a?void 0:a.issueElectronicConsumerInvoice)||{};return s?(l.b.success("Emiss\xe3o enviada com sucesso!"),{success:s}):(null===i||void 0===i||i.forEach((e=>l.b.error(e))),{success:s})}catch(a){return u.a.captureException(a),l.b.error("N\xe3o foi poss\xedvel emitir a nota fiscal de consumidor. Atualize a p\xe1gina e tente novamente. Se o erro persistir entre em contato. C\xf3digo: #202206291208"),console.error(a),{success:!1}}},{loading:t}]},x=a(2831),v=a(27),g=a(2883),y=a(2824),f=a(584),w=a(22);var k=()=>Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(c.g,{$wrap:!0,gutter:8,children:[Object(w.jsx)(g.a,{xs:24,md:12,children:Object(w.jsx)(i.a.Item,{name:"transport_modality",label:"Modalidade do frete",children:Object(w.jsx)(y.a.TextArea,{})})}),Object(w.jsx)(g.a,{xs:24,md:12,children:Object(w.jsx)(i.a.Item,{name:"transport_value_cents",label:"Valor do frete",children:Object(w.jsx)(f.a,{min:0})})})]})}),C=a(50),I=a(1438),A=a(440),S=a(19);const $=()=>{const e=Object(v.a)((e=>e.is_mobile)),t=Object(v.a)((e=>{var t;return null===(t=e.current_user.salon.invoice_company)||void 0===t?void 0:t.ibs_cbs_classificacao_tributaria}));return Object(w.jsx)(i.a.List,{name:"items_attributes",children:a=>a.map(((a,s)=>Object(w.jsxs)(w.Fragment,{children:[0!==s&&!e&&Object(w.jsx)(I.a,{},`field.name${s}`),Object(w.jsx)(F,{ghost:!0,expandIconPosition:"end",items:[{key:a.name,label:Object(w.jsxs)(c.g,{$wrap:!0,gutter:8,children:[Object(w.jsx)(g.a,{xs:24,md:12,children:Object(w.jsx)(i.a.Item,{name:[a.name,"description"],label:"Nome:",children:Object(w.jsx)(y.a,{disabled:!0})})}),Object(w.jsx)(g.a,{xs:10,md:6,children:Object(w.jsx)(i.a.Item,{name:[a.name,"quantity"],label:"Quantidade:",children:Object(w.jsx)(y.a,{disabled:!0})})}),Object(w.jsx)(g.a,{xs:14,md:6,children:Object(w.jsx)(i.a.Item,{name:[a.name,"total_value_cents"],label:"Total:",children:Object(w.jsx)(f.a,{disabled:!0})})})]}),children:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(i.a.Item,{name:[a.name,"item_id"],noStyle:!0,children:Object(w.jsx)(y.a,{type:"hidden"})}),Object(w.jsx)(i.a.Item,{name:[a.name,"item_type"],noStyle:!0,children:Object(w.jsx)(y.a,{type:"hidden"})}),Object(w.jsxs)(c.g,{$wrap:!0,gutter:8,children:[Object(w.jsx)(g.a,{span:8,children:Object(w.jsx)(i.a.Item,{name:[a.name,"cfop"],label:"CFOP:",children:Object(w.jsx)(y.a,{disabled:!0})})}),Object(w.jsx)(g.a,{span:8,children:Object(w.jsx)(i.a.Item,{name:[a.name,"ncm"],label:"NCM:",children:Object(w.jsx)(y.a,{disabled:!0})})}),Object(w.jsx)(g.a,{span:8,children:Object(w.jsx)(i.a.Item,{name:[a.name,"cest"],label:"CEST:",children:Object(w.jsx)(y.a,{disabled:!0})})})]}),Object(w.jsxs)(c.g,{$wrap:!0,gutter:8,children:[Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(i.a.Item,{name:[a.name,"measurement_unit"],label:"Unidade de Medida:",children:Object(w.jsx)(y.a,{disabled:!0})})}),Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(i.a.Item,{name:[a.name,"taxable_measurement_unit"],label:"Unidade de Medida Tax\xe1vel:",children:Object(w.jsx)(y.a,{disabled:!0})})})]}),Object(w.jsxs)(c.g,{$wrap:!0,gutter:8,children:[Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(i.a.Item,{name:[a.name,"icms_tax_situation"],label:"Sit. Tribut\xe1ria ICMS:",children:Object(w.jsx)(y.a,{disabled:!0})})}),Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(i.a.Item,{name:[a.name,"icms_origin"],label:"Origem ICMS:",children:Object(w.jsx)(y.a,{disabled:!0})})})]}),Object(w.jsxs)(c.g,{$wrap:!0,gutter:8,children:[Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(i.a.Item,{name:[a.name,"cst_pis"],label:"Sit. Tribut\xe1ria PIS:",children:Object(w.jsx)(y.a,{disabled:!0})})}),Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(i.a.Item,{name:[a.name,"cst_cofins"],label:"Sit. Tribut\xe1ria COFINS:",children:Object(w.jsx)(y.a,{disabled:!0})})})]}),Object(w.jsxs)(c.g,{$wrap:!0,gutter:8,children:[Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(i.a.Item,{name:[a.name,"unit_value_cents"],label:"Valor Unit\xe1rio:",children:Object(w.jsx)(f.a,{disabled:!0})})}),Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(i.a.Item,{name:[a.name,"discounts_cents"],label:"Descontos:",children:Object(w.jsx)(f.a,{disabled:!0})})})]}),!!t&&Object(w.jsx)(c.g,{$wrap:!0,gutter:8,children:Object(w.jsx)(g.a,{span:24,children:Object(w.jsx)(i.a.Item,{label:Object(C.b)("settings.invoices.tax_reform.ibs_cbs_classificacao_tributaria"),children:Object(w.jsx)(y.a,{value:t,disabled:!0})})})})]})}]},a.name)]})))})};$.displayName="ProductsForm";var E=$;const F=Object(S.d)(A.a).withConfig({componentId:"wb__sc-n2mejp-0"})(["",";",";"],(e=>e.theme.is_mobile&&Object(S.c)(["margin:10px 0 !important;background-color:#ffffff !important;box-shadow:0 2px 9px rgba(83,83,83,0.06);"])),(e=>!e.theme.is_mobile&&Object(S.c)([".ant-collapse-item > .ant-collapse-header{padding-left:0 !important;}.ant-collapse-content-box{padding-left:0 !important;}"])));var D=a(1256),z=a(662),N=a(2854),q=a(543);const B=e=>{let{field:t,last_item:a,add:s,destroy:c}=e;const n=Object(v.a)((e=>e.is_mobile));return Object(w.jsxs)(M,{gutter:8,children:[Object(w.jsx)(i.a.Item,{noStyle:!0,name:[t.name,"_destroy"],children:Object(w.jsx)(y.a,{type:"hidden"})}),Object(w.jsx)(g.a,{xs:24,md:14,children:Object(w.jsx)(i.a.Item,{required:!1,label:"Forma de pagamento",name:[t.name,"name"],rules:[{required:!a,message:"Campo obrigat\xf3rio"}],children:Object(w.jsxs)(D.a,{onChange:()=>{a&&s()},size:"middle",style:{width:"100%"},children:[Object(w.jsx)(D.a.Option,{value:"1",children:"Dinheiro"}),Object(w.jsx)(D.a.Option,{value:"2",children:"Cheque Pr\xe9"}),Object(w.jsx)(D.a.Option,{value:"3",children:"Cart\xe3o de Cr\xe9dito"}),Object(w.jsx)(D.a.Option,{value:"4",children:"Cart\xe3o de D\xe9bito"}),Object(w.jsx)(D.a.Option,{value:"99",children:"Outros"})]})})}),Object(w.jsx)(g.a,{xs:24,md:10,children:Object(w.jsx)(i.a.Item,{required:!1,label:"Valor",name:[t.name,"value_cents"],rules:[{required:!a,message:"Obrigat\xf3rio"}],children:Object(w.jsx)(f.a,{})})}),Object(w.jsx)(g.a,{span:24,children:Object(w.jsx)(i.a.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.payments_attributes.name!==t.payments_attributes.name,children:e=>{let{getFieldValue:a}=e;const s="99"!==a(["payments_attributes",t.name,"name"]);return Object(w.jsx)(i.a.Item,{hidden:s,label:"Descri\xe7\xe3o",name:[t.name,"description"],children:Object(w.jsx)(y.a,{})})}})}),!a&&!n&&Object(w.jsx)(R,{className:"color-red",onClick:()=>c(t.name)})]})};B.displayName="PaymentItem";var P=B;const R=Object(S.d)(N.a).withConfig({componentId:"wb__sc-1o5408a-0"})(["position:absolute;right:0;top:40px;font-size:18rem;"]),M=Object(S.d)(q.a).withConfig({componentId:"wb__sc-1o5408a-1"})(["width:100%;position:relative;padding-right:20px;.ant-form-item{margin-bottom:8px;.ant-form-item-explain{display:none;}}.ant-form-item-label{display:flex !important;}.anticon-delete{top:40px !important;}@media (max-width:768px){background-color:",";user-select:none;padding:10px;.swipeable-list-item__content{border-radius:5px;}}"],(e=>e.theme.colors.white));var T=e=>{let{setFieldsValue:t,getFieldValue:a}=e;const s=Object(v.a)((e=>e.is_mobile));return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(c.g,{$wrap:!0,gutter:8,children:Object(w.jsx)(g.a,{span:24,children:Object(w.jsx)(i.a.Item,{name:"payment_terms",label:"Condi\xe7\xe3o de pagamento",children:Object(w.jsxs)(D.a,{size:"middle",style:{width:"100%"},children:[Object(w.jsx)(D.a.Option,{value:"1",children:"Pagamento \xe0 vista"}),Object(w.jsx)(D.a.Option,{value:"2",children:"Pagamento \xe0 prazo"})]})})})}),Object(w.jsx)(z.a,{name:"payments_attributes",setFieldsValue:t,getFieldValue:a,Item:P,style:s?{margin:"0 0 10px"}:void 0})]})},L=a(3023);var V=()=>Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(i.a.Item,{name:"id",noStyle:!0,children:Object(w.jsx)(y.a,{type:"hidden"})}),Object(w.jsx)(i.a.Item,{name:"nfce_id",noStyle:!0,children:Object(w.jsx)(y.a,{type:"hidden"})}),Object(w.jsx)(i.a.Item,{name:"customer_icms_taxpayer_indicator",noStyle:!0,children:Object(w.jsx)(y.a,{type:"hidden"})}),Object(w.jsxs)(c.g,{gutter:8,$wrap:!0,children:[Object(w.jsx)(g.a,{xs:24,md:8,children:Object(w.jsx)(i.a.Item,{name:"emission_environment",label:"Ambiente de emiss\xe3o",children:Object(w.jsxs)(D.a,{size:"middle",style:{width:"100%"},children:[Object(w.jsx)(D.a.Option,{value:"Producao",children:"Produ\xe7\xe3o"}),Object(w.jsx)(D.a.Option,{value:"Homologacao",children:"Homologa\xe7\xe3o"})]})})}),Object(w.jsx)(g.a,{xs:24,md:16,children:Object(w.jsx)(i.a.Item,{name:"customer_presence_indicator",label:"Indicador de Presen\xe7a do Consumidor",children:Object(w.jsx)(D.a,{disabled:!0,suffixIcon:null,size:"middle",style:{width:"100%"},children:Object(w.jsx)(D.a.Option,{value:"1",children:"Opera\xe7\xe3o presencial"})})})})]}),Object(w.jsx)(c.g,{$wrap:!0,gutter:8,children:Object(w.jsx)(g.a,{span:24,children:Object(w.jsx)(i.a.Item,{name:"additional_information",label:"Informa\xe7\xf5es adicionais",children:Object(w.jsx)(y.a.TextArea,{})})})}),Object(w.jsx)(c.g,{$wrap:!0,gutter:8,children:Object(w.jsx)(g.a,{span:24,children:Object(w.jsx)(i.a.Item,{name:"send_email",label:"Enviar NFC-e por email para o cliente",valuePropName:"checked",children:Object(w.jsx)(L.a,{})})})})]}),H=a(603),U=a(626),G=a.n(U);const Y=()=>Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(i.a.Item,{name:"client_id",noStyle:!0,children:Object(w.jsx)(y.a,{type:"hidden"})}),Object(w.jsxs)(c.g,{$wrap:!0,gutter:8,children:[Object(w.jsx)(g.a,{xs:24,md:12,children:Object(w.jsx)(i.a.Item,{name:"send_client",label:"Enviar dados do cliente",valuePropName:"checked",children:Object(w.jsx)(L.a,{})})}),Object(w.jsx)(g.a,{xs:24,md:12,children:Object(w.jsx)(i.a.Item,{name:"send_client_address",label:"Enviar endere\xe7o do cliente",valuePropName:"checked",children:Object(w.jsx)(L.a,{})})})]}),Object(w.jsxs)(c.g,{gutter:8,$wrap:!0,children:[Object(w.jsx)(g.a,{xs:24,md:12,children:Object(w.jsx)(i.a.Item,{name:"customer_icms_taxpayer_indicator",label:"Indicador contribuinte ICMS",children:Object(w.jsxs)(D.a,{size:"middle",style:{width:"100%"},children:[Object(w.jsx)(D.a.Option,{value:"taxpayer",children:"Contribuinte"}),Object(w.jsx)(D.a.Option,{value:"non_taxpayer",children:"N\xe3o-Contribuinte"}),Object(w.jsx)(D.a.Option,{value:"exempt_taxpayer",children:"Contribuinte Isento"})]})})}),Object(w.jsx)(g.a,{xs:24,md:12,children:Object(w.jsx)(i.a.Item,{name:"customer_person_type",label:"Tipo de pessoa",children:Object(w.jsx)(D.a,{disabled:!0,suffixIcon:null,size:"middle",style:{width:"100%"},children:Object(w.jsx)(D.a.Option,{value:"F",children:"Pessoa F\xedsica"})})})})]}),Object(w.jsxs)(c.g,{gutter:8,$wrap:!0,children:[Object(w.jsx)(g.a,{xs:24,md:12,children:Object(w.jsx)(i.a.Item,{name:"customer_name",label:"Nome",children:Object(w.jsx)(y.a,{placeholder:"Informe o nome",autoComplete:"off"})})}),Object(w.jsx)(g.a,{xs:24,md:12,children:Object(w.jsx)(i.a.Item,{name:"customer_cpf_cnpj",label:"CPF",validateTrigger:["onChange","onBlur"],rules:[{validateTrigger:"onBlur",validator:H.b}],children:Object(w.jsx)(G.a,{placeholder:Object(C.b)("acronyms.cpf"),mask:"999.999.999-99",maskPlaceholder:null,maxLength:14,children:Object(w.jsx)(y.a,{size:"middle",inputMode:"numeric"})})})})]}),Object(w.jsxs)(c.g,{gutter:8,$wrap:!0,children:[Object(w.jsx)(g.a,{xs:24,md:12,children:Object(w.jsx)(i.a.Item,{name:"customer_email",label:"Email",children:Object(w.jsx)(y.a,{placeholder:"Informe o email",autoComplete:"off"})})}),Object(w.jsx)(g.a,{xs:24,md:12,children:Object(w.jsx)(i.a.Item,{name:"customer_phone_number",label:"Telefone",children:Object(w.jsx)(y.a,{placeholder:"Informe o celular",autoComplete:"off"})})})]}),Object(w.jsx)(c.g,{gutter:8,$wrap:!0,children:Object(w.jsx)(g.a,{span:24,children:Object(w.jsx)(i.a.Item,{name:"customer_address_street",label:"Rua",children:Object(w.jsx)(y.a,{placeholder:"Informe a rua",autoComplete:"off"})})})}),Object(w.jsxs)(c.g,{gutter:8,$wrap:!0,children:[Object(w.jsx)(g.a,{xs:24,md:10,children:Object(w.jsx)(i.a.Item,{name:"customer_address_neighborhood",label:"Bairro",children:Object(w.jsx)(y.a,{placeholder:"Informe o bairro",autoComplete:"off"})})}),Object(w.jsx)(g.a,{xs:24,md:7,children:Object(w.jsx)(i.a.Item,{name:"customer_address_number",label:"N\xfamero",children:Object(w.jsx)(y.a,{placeholder:"Informe o n\xfamero",autoComplete:"off"})})}),Object(w.jsx)(g.a,{xs:24,md:7,children:Object(w.jsx)(i.a.Item,{name:"customer_address_zip_code",label:"CEP",children:Object(w.jsx)(y.a,{placeholder:"Informe o cep",autoComplete:"off"})})})]}),Object(w.jsxs)(c.g,{gutter:8,$wrap:!0,children:[Object(w.jsx)(g.a,{xs:24,md:10,children:Object(w.jsx)(i.a.Item,{name:"customer_address_complement",label:"Complemento",children:Object(w.jsx)(y.a,{placeholder:"Informe o complemento",autoComplete:"off"})})}),Object(w.jsx)(g.a,{xs:24,md:7,children:Object(w.jsx)(i.a.Item,{name:"customer_address_state",label:"Estado (Sigla)",children:Object(w.jsx)(y.a,{placeholder:"Informe a sigla",autoComplete:"off"})})}),Object(w.jsx)(g.a,{xs:24,md:7,children:Object(w.jsx)(i.a.Item,{name:"customer_address_city",label:"Cidade",children:Object(w.jsx)(y.a,{placeholder:"Informe a cidade",autoComplete:"off"})})})]})]});var Q=Object(s.memo)(Y);const J=e=>{const{active_tab:t,setActiveTab:a,setFieldsValue:i,getFieldValue:c}=e,n=Object(v.a)((e=>e.is_mobile)),r=Object(s.useMemo)((()=>[{label:"Cliente",key:"client",children:Object(w.jsx)(Q,{}),forceRender:!0},{label:"Produtos",key:"products",children:Object(w.jsx)(E,{}),forceRender:!0},{label:"Pagamentos",key:"payments",children:Object(w.jsx)(T,{setFieldsValue:i,getFieldValue:c}),forceRender:!0},{label:"Transporte",key:"transport",children:Object(w.jsx)(k,{}),forceRender:!0},{label:"Geral",key:"general",children:Object(w.jsx)(V,{}),forceRender:!0}]),[c,i]);return Object(w.jsx)(Z,{onTabClick:a,tabPosition:n?"top":"left",activeKey:t,items:r})};J.displayName="ElectronicConsumerInvoiceTabs";var W=J;const Z=Object(S.d)(x.a).withConfig({componentId:"wb__sc-9kj3g8-0"})(["height:100%;.ant-tabs-content-holder{overflow-y:auto;}"]);var K=a(339),X=a(581);const ee=(e,t)=>{const{refetch:a,type:c}=e,[n,r]=Object(s.useState)(!1),[o,d]=Object(s.useState)("client"),[b,u]=Object(s.useState)(!0),j=Object(v.a)((e=>e.is_mobile)),[m]=i.a.useForm(),{setFieldsValue:h,getFieldValue:O,submit:x}=m,[g,{loading:y}]=p(h,u,c),[f,{loading:k}]=_(),C=Object(s.useCallback)((e=>{g({variables:{id:e}}),r(!0)}),[g]),I=Object(s.useCallback)((()=>{r(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:C,close:I})));return Object(w.jsxs)(te,{open:n,onClose:I,width:768,placement:j?"bottom":"right",height:"100%",title:"Emiss\xe3o da Nota Fiscal de Consumidor",destroyOnClose:!0,push:!1,footer:Object(w.jsx)(X.a,{loading:y||k,save_text:"Emitir",submit:x,close:I}),children:[Object(w.jsx)(K.a,{loading:y}),Object(w.jsx)(i.a,{form:m,layout:"vertical",onFinish:async e=>{if(!b)return void l.b.error("Algumas informa\xe7\xf5es fiscais do produto est\xe3o inv\xe1lidas. Verifique acessando o cadastro do produto na aba Nota Fiscal.");const{id:t,payments_attributes:s,...i}=e,n=null===s||void 0===s?void 0:s.reduce(((e,t)=>t.name&&t.value_cents?[...e,t]:e),[]),r={...i,document_id:t,document_type:c,payments_attributes:n},{success:o}=await f(r);o&&(I(),null===a||void 0===a||a())},style:{width:"100%"},scrollToFirstError:!0,children:Object(w.jsx)(W,{active_tab:o,setActiveTab:d,setFieldsValue:h,getFieldValue:O})})]})};ee.displayName="ElectronicConsumerInvoiceDrawer";t.a=Object(s.memo)(Object(s.forwardRef)(ee));const te=Object(S.d)(c.a).withConfig({componentId:"wb__sc-168g4s1-0"})([".ant-drawer-header{background:",";}.ant-drawer-body{background:",";}"],(e=>e.theme.is_mobile?"#f8f8f8":"#ffffff"),(e=>e.theme.is_mobile?"#f8f8f8":"#ffffff"))},848:function(e,t,a){"use strict";var s=a(0),i=a(2937),c=a(250),n=a(37),r=a(2879),o=a(447),l=a(116),d=a(871),b=a(18),u=a(76);const j=n.e`
  query InvoiceDrawerFetchSaleInfo ($id: ID) {
    inventory_sale (id: $id) {
      id

      client {
        id
        name
        email
        cpf
        cnpj
        insc
        phone2
        address
        number
        district
        cep
        uf
        city
        complement
      }

      sale_items {
        id
        quantity
        value_cents
        sum_cents
        discount_type
        discount_percentage
        discount_cents

        inventory_product {
          id
          service
          description
          measurement_unit
          invoice_product {
            cfop_normalized
            ncm
            cest
            csosn_cst_normalized
            cst_pis
            cst_cofins
          }
        }
      }
    }
  }
`,m=n.e`
  query InvoiceDrawerFetchSaleInfo ($id: ID) {
    inventory_package (id: $id) {
      id
      invoice_value

      client {
        id
        name
        email
        cpf
        cnpj
        insc
        phone2
        address
        number
        district
        cep
        uf
        city
        complement
      }

      package_items {
        id
        quantity
        value_cents
        sum_cents
        discount_cents
        discount_type
        discount_percentage

        product {
          id
          service
          description
          measurement_unit
          invoice_product {
            cfop_normalized
            ncm
            cest
            csosn_cst_normalized
            cst_pis
            cst_cofins
          }
        }
      }
    }
  }
`;var p=(e,t,a)=>{const s="Inventory::Sale"===a?j:m;return Object(r.a)(s,{fetchPolicy:"no-cache",onCompleted:s=>{var i,c,n;const r=s.inventory_sale||s.inventory_package,l="55"===(null===r||void 0===r||null===(i=r.client.phone2)||void 0===i?void 0:i.substring(0,2))?null===r||void 0===r||null===(c=r.client.phone2)||void 0===c?void 0:c.substring(2):"",u={...r,items_attributes:Object(d.a)(a,t,r),nfe_id:Object(o.a)(),invoice_type:"NF-e",emission_environment:b.v?"Homologacao":"Producao",operation_type:"Venda ao Consumidor",send_email:!0,send_client:!0,send_client_address:!0,customer_icms_taxpayer_indicator:"taxpayer",customer_person_type:"F",customer_name:null===r||void 0===r?void 0:r.client.name,customer_email:null===r||void 0===r?void 0:r.client.email,customer_cpf_cnpj:null===(n=(null===r||void 0===r?void 0:r.client.cpf)||(null===r||void 0===r?void 0:r.client.cnpj))||void 0===n?void 0:n.replaceAll(/[.-]/g,""),customer_state_registration:null===r||void 0===r?void 0:r.client.insc,customer_phone_number:l,customer_address_state:null===r||void 0===r?void 0:r.client.uf,customer_address_city:null===r||void 0===r?void 0:r.client.city,customer_address_street:null===r||void 0===r?void 0:r.client.address,customer_address_number:null===r||void 0===r?void 0:r.client.number,customer_address_complement:null===r||void 0===r?void 0:r.client.complement,customer_address_neighborhood:null===r||void 0===r?void 0:r.client.district,customer_address_zip_code:null===r||void 0===r?void 0:r.client.cep,customer_presence_indicator:"1",client_id:null===r||void 0===r?void 0:r.client.id,transport_modality:"SemFrete",transport_value_cents:0};e(u)},onError:e=>{u.a.captureException(e),console.log(e),l.b.warning(e.message)}})},h=a(1850);const O=n.e`
  mutation InvoiceDrawerIssueElectronicInvoice ($data: IssueElectronicInvoiceInput!) {
    issueElectronicInvoice (input: $data) {
      success
      errors
    }
  }
`;var _=()=>{const[e,{loading:t}]=Object(h.a)(O);return[async t=>{try{const{data:a}=await e({variables:{data:t}}),{success:s,errors:i}=(null===a||void 0===a?void 0:a.issueElectronicInvoice)||{};return s?(l.b.success("Emiss\xe3o enviada com sucesso!"),{success:s}):(null===i||void 0===i||i.forEach((e=>l.b.error(e))),{success:s})}catch(a){return u.a.captureException(a),l.b.error("N\xe3o foi poss\xedvel emitir a nota fiscal de produto. Atualize a p\xe1gina e tente novamente. Se o erro persistir entre em contato. C\xf3digo: #202206231816"),console.error(a),{success:!1}}},{loading:t}]},x=a(27),v=a(2831),g=a(2883),y=a(2824),f=a(584),w=a(22);var k=()=>Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(c.g,{$wrap:!0,gutter:8,children:[Object(w.jsx)(g.a,{xs:24,md:12,children:Object(w.jsx)(i.a.Item,{name:"transport_modality",label:"Modalidade do frete",children:Object(w.jsx)(y.a.TextArea,{})})}),Object(w.jsx)(g.a,{xs:24,md:12,children:Object(w.jsx)(i.a.Item,{name:"transport_value_cents",label:"Valor do frete",children:Object(w.jsx)(f.a,{min:0})})})]})}),C=a(1256),I=a(3023);var A=()=>Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(i.a.Item,{name:"id",noStyle:!0,children:Object(w.jsx)(y.a,{type:"hidden"})}),Object(w.jsx)(i.a.Item,{name:"nfe_id",noStyle:!0,children:Object(w.jsx)(y.a,{type:"hidden"})}),Object(w.jsx)(i.a.Item,{name:"customer_icms_taxpayer_indicator",noStyle:!0,children:Object(w.jsx)(y.a,{type:"hidden"})}),Object(w.jsx)(i.a.Item,{name:"invoice_type",noStyle:!0,children:Object(w.jsx)(y.a,{type:"hidden"})}),Object(w.jsxs)(c.g,{gutter:8,$wrap:!0,children:[Object(w.jsx)(g.a,{xs:24,md:8,children:Object(w.jsx)(i.a.Item,{name:"emission_environment",label:"Ambiente de emiss\xe3o",children:Object(w.jsxs)(C.a,{size:"middle",style:{width:"100%"},children:[Object(w.jsx)(C.a.Option,{value:"Producao",children:"Produ\xe7\xe3o"}),Object(w.jsx)(C.a.Option,{value:"Homologacao",children:"Homologa\xe7\xe3o"})]})})}),Object(w.jsx)(g.a,{xs:24,md:16,children:Object(w.jsx)(i.a.Item,{name:"customer_presence_indicator",label:"Indicador de Presen\xe7a do Consumidor",children:Object(w.jsx)(C.a,{disabled:!0,suffixIcon:null,size:"middle",style:{width:"100%"},children:Object(w.jsx)(C.a.Option,{value:"1",children:"Opera\xe7\xe3o presencial"})})})})]}),Object(w.jsx)(c.g,{$wrap:!0,gutter:8,children:Object(w.jsx)(g.a,{span:24,children:Object(w.jsx)(i.a.Item,{name:"operation_type",label:"Natureza da Opera\xe7\xe3o",children:Object(w.jsx)(y.a,{maxLength:60})})})}),Object(w.jsx)(c.g,{$wrap:!0,gutter:8,children:Object(w.jsx)(g.a,{span:24,children:Object(w.jsx)(i.a.Item,{name:"additional_information",label:"Informa\xe7\xf5es adicionais",children:Object(w.jsx)(y.a.TextArea,{})})})}),Object(w.jsx)(c.g,{$wrap:!0,gutter:8,children:Object(w.jsx)(g.a,{span:24,children:Object(w.jsx)(i.a.Item,{name:"send_email",label:"Enviar NF-e por email para o cliente",valuePropName:"checked",children:Object(w.jsx)(I.a,{})})})})]}),S=a(19);const $=()=>Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(i.a.Item,{name:"client_id",noStyle:!0,children:Object(w.jsx)(y.a,{type:"hidden"})}),Object(w.jsxs)(c.g,{gutter:8,$wrap:!0,children:[Object(w.jsx)(g.a,{xs:24,md:12,children:Object(w.jsx)(i.a.Item,{name:"send_client",label:"Enviar dados do cliente",valuePropName:"checked",children:Object(w.jsx)(I.a,{})})}),Object(w.jsx)(g.a,{xs:24,md:12,children:Object(w.jsx)(i.a.Item,{name:"send_client_address",label:"Enviar endere\xe7o do cliente",valuePropName:"checked",children:Object(w.jsx)(I.a,{})})})]}),Object(w.jsxs)(c.g,{gutter:8,$wrap:!0,children:[Object(w.jsx)(g.a,{xs:24,md:12,children:Object(w.jsx)(i.a.Item,{name:"customer_icms_taxpayer_indicator",label:"Indicador contribuinte ICMS",children:Object(w.jsxs)(C.a,{size:"middle",style:{width:"100%"},children:[Object(w.jsx)(C.a.Option,{value:"taxpayer",children:"Contribuinte"}),Object(w.jsx)(C.a.Option,{value:"non_taxpayer",children:"N\xe3o-Contribuinte"}),Object(w.jsx)(C.a.Option,{value:"exempt_taxpayer",children:"Contribuinte Isento"})]})})}),Object(w.jsx)(g.a,{xs:24,md:12,children:Object(w.jsx)(i.a.Item,{name:"customer_person_type",label:"Tipo de pessoa",children:Object(w.jsxs)(C.a,{size:"middle",style:{width:"100%"},children:[Object(w.jsx)(C.a.Option,{value:"F",children:"Pessoa F\xedsica"}),Object(w.jsx)(C.a.Option,{value:"J",children:"Pessoa Jur\xeddica"})]})})})]}),Object(w.jsxs)(c.g,{gutter:8,$wrap:!0,children:[Object(w.jsx)(g.a,{xs:24,md:12,children:Object(w.jsx)(i.a.Item,{name:"customer_name",label:"Nome",children:Object(w.jsx)(y.a,{placeholder:"Informe o nome",autoComplete:"off"})})}),Object(w.jsx)(g.a,{xs:24,md:12,children:Object(w.jsx)(i.a.Item,{name:"customer_cpf_cnpj",label:"CPF/CNPJ",children:Object(w.jsx)(y.a,{autoComplete:"off"})})})]}),Object(w.jsxs)(c.g,{gutter:8,$wrap:!0,children:[Object(w.jsx)(g.a,{xs:24,md:12,children:Object(w.jsx)(i.a.Item,{name:"customer_state_registration",label:"Inscri\xe7\xe3o estadual",children:Object(w.jsx)(y.a,{autoComplete:"off"})})}),Object(w.jsx)(g.a,{xs:24,md:12,children:Object(w.jsx)(i.a.Item,{name:"customer_municipal_registration",label:"Inscri\xe7\xe3o municipal",children:Object(w.jsx)(y.a,{autoComplete:"off"})})})]}),Object(w.jsxs)(c.g,{gutter:8,$wrap:!0,children:[Object(w.jsx)(g.a,{xs:24,md:12,children:Object(w.jsx)(i.a.Item,{name:"customer_email",label:"Email",children:Object(w.jsx)(y.a,{placeholder:"Informe o email",autoComplete:"off"})})}),Object(w.jsx)(g.a,{xs:24,md:12,children:Object(w.jsx)(i.a.Item,{name:"customer_phone_number",label:"Telefone",children:Object(w.jsx)(y.a,{placeholder:"Informe o celular",autoComplete:"off"})})})]}),Object(w.jsx)(c.g,{gutter:8,$wrap:!0,children:Object(w.jsx)(g.a,{span:24,children:Object(w.jsx)(i.a.Item,{name:"customer_address_street",label:"Rua",children:Object(w.jsx)(y.a,{placeholder:"Informe a rua",autoComplete:"off"})})})}),Object(w.jsxs)(c.g,{gutter:8,$wrap:!0,children:[Object(w.jsx)(g.a,{xs:24,md:10,children:Object(w.jsx)(i.a.Item,{name:"customer_address_neighborhood",label:"Bairro",children:Object(w.jsx)(y.a,{placeholder:"Informe o bairro",autoComplete:"off"})})}),Object(w.jsx)(g.a,{xs:24,md:7,children:Object(w.jsx)(i.a.Item,{name:"customer_address_number",label:"N\xfamero",children:Object(w.jsx)(y.a,{placeholder:"Informe o n\xfamero",autoComplete:"off"})})}),Object(w.jsx)(g.a,{xs:24,md:7,children:Object(w.jsx)(i.a.Item,{name:"customer_address_zip_code",label:"CEP",children:Object(w.jsx)(y.a,{placeholder:"Informe o cep",autoComplete:"off"})})})]}),Object(w.jsxs)(c.g,{gutter:8,$wrap:!0,children:[Object(w.jsx)(g.a,{xs:24,md:10,children:Object(w.jsx)(i.a.Item,{name:"customer_address_complement",label:"Complemento",children:Object(w.jsx)(y.a,{placeholder:"Informe o complemento",autoComplete:"off"})})}),Object(w.jsx)(g.a,{xs:24,md:7,children:Object(w.jsx)(i.a.Item,{name:"customer_address_state",label:"Estado (Sigla)",children:Object(w.jsx)(y.a,{placeholder:"Informe a sigla",autoComplete:"off"})})}),Object(w.jsx)(g.a,{xs:24,md:7,children:Object(w.jsx)(i.a.Item,{name:"customer_address_city",label:"Cidade",children:Object(w.jsx)(y.a,{placeholder:"Informe a cidade",autoComplete:"off"})})})]})]});var E=Object(s.memo)($),F=a(50),D=a(1438),z=a(440);const N=()=>{const e=Object(x.a)((e=>e.is_mobile)),t=Object(x.a)((e=>{var t;return null===(t=e.current_user.salon.invoice_company)||void 0===t?void 0:t.ibs_cbs_classificacao_tributaria}));return Object(w.jsx)(i.a.List,{name:"items_attributes",children:a=>a.map(((a,s)=>Object(w.jsxs)(w.Fragment,{children:[0!==s&&!e&&Object(w.jsx)(D.a,{},`field.name${s}`),Object(w.jsx)(B,{ghost:!0,expandIconPosition:"end",items:[{key:a.name,label:Object(w.jsxs)(c.g,{$wrap:!0,gutter:8,children:[Object(w.jsx)(g.a,{xs:24,md:12,children:Object(w.jsx)(i.a.Item,{name:[a.name,"description"],label:"Nome:",children:Object(w.jsx)(y.a,{disabled:!0})})}),Object(w.jsx)(g.a,{xs:10,md:6,children:Object(w.jsx)(i.a.Item,{name:[a.name,"quantity"],label:"Quantidade:",children:Object(w.jsx)(y.a,{disabled:!0})})}),Object(w.jsx)(g.a,{xs:14,md:6,children:Object(w.jsx)(i.a.Item,{name:[a.name,"total_value_cents"],label:"Total:",children:Object(w.jsx)(f.a,{disabled:!0})})})]}),children:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(i.a.Item,{name:[a.name,"item_id"],noStyle:!0,children:Object(w.jsx)(y.a,{type:"hidden"})}),Object(w.jsx)(i.a.Item,{name:[a.name,"item_type"],noStyle:!0,children:Object(w.jsx)(y.a,{type:"hidden"})}),Object(w.jsxs)(c.g,{$wrap:!0,gutter:8,children:[Object(w.jsx)(g.a,{span:8,children:Object(w.jsx)(i.a.Item,{name:[a.name,"cfop"],label:"CFOP:",children:Object(w.jsx)(y.a,{disabled:!0})})}),Object(w.jsx)(g.a,{span:8,children:Object(w.jsx)(i.a.Item,{name:[a.name,"ncm"],label:"NCM:",children:Object(w.jsx)(y.a,{disabled:!0})})}),Object(w.jsx)(g.a,{span:8,children:Object(w.jsx)(i.a.Item,{name:[a.name,"cest"],label:"CEST:",children:Object(w.jsx)(y.a,{disabled:!0})})})]}),Object(w.jsxs)(c.g,{$wrap:!0,gutter:8,children:[Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(i.a.Item,{name:[a.name,"measurement_unit"],label:"Unidade de Medida:",children:Object(w.jsx)(y.a,{disabled:!0})})}),Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(i.a.Item,{name:[a.name,"taxable_measurement_unit"],label:"Unidade de Medida Tax\xe1vel:",children:Object(w.jsx)(y.a,{disabled:!0})})})]}),Object(w.jsxs)(c.g,{$wrap:!0,gutter:8,children:[Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(i.a.Item,{name:[a.name,"icms_tax_situation"],label:"Sit. Tribut\xe1ria ICMS:",children:Object(w.jsx)(y.a,{disabled:!0})})}),Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(i.a.Item,{name:[a.name,"icms_origin"],label:"Origem ICMS:",children:Object(w.jsx)(y.a,{disabled:!0})})})]}),Object(w.jsxs)(c.g,{$wrap:!0,gutter:8,children:[Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(i.a.Item,{name:[a.name,"cst_pis"],label:"Sit. Tribut\xe1ria PIS:",children:Object(w.jsx)(y.a,{disabled:!0})})}),Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(i.a.Item,{name:[a.name,"cst_cofins"],label:"Sit. Tribut\xe1ria COFINS:",children:Object(w.jsx)(y.a,{disabled:!0})})})]}),Object(w.jsxs)(c.g,{$wrap:!0,gutter:8,children:[Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(i.a.Item,{name:[a.name,"unit_value_cents"],label:"Valor Unit\xe1rio:",children:Object(w.jsx)(f.a,{disabled:!0})})}),Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(i.a.Item,{name:[a.name,"discounts_cents"],label:"Descontos:",children:Object(w.jsx)(f.a,{disabled:!0})})})]}),!!t&&Object(w.jsx)(c.g,{$wrap:!0,gutter:8,children:Object(w.jsx)(g.a,{span:24,children:Object(w.jsx)(i.a.Item,{label:Object(F.b)("settings.invoices.tax_reform.ibs_cbs_classificacao_tributaria"),children:Object(w.jsx)(y.a,{value:t,disabled:!0})})})})]})}]},a.name)]})))})};N.displayName="ProductsForm";var q=N;const B=Object(S.d)(z.a).withConfig({componentId:"wb__sc-71lsfb-0"})(["",";",";"],(e=>e.theme.is_mobile&&S.c`
    margin: 10px 0 !important;
    background-color: #ffffff !important;
    box-shadow: 0 2px 9px rgba(83, 83, 83, 0.06);
  `),(e=>!e.theme.is_mobile&&S.c`
    .ant-collapse-item > .ant-collapse-header {
      padding-left: 0 !important;
    }

    .ant-collapse-content-box {
      padding-left: 0 !important;
    }
  `)),P=e=>{let{active_tab:t,setActiveTab:a}=e;const i=Object(x.a)((e=>e.is_mobile)),c=Object(s.useMemo)((()=>[{label:"Cliente",key:"client",children:Object(w.jsx)(E,{}),forceRender:!0},{label:"Produtos",key:"products",children:Object(w.jsx)(q,{}),forceRender:!0},{label:"Transporte",key:"transport",children:Object(w.jsx)(k,{}),forceRender:!0},{label:"Geral",key:"general",children:Object(w.jsx)(A,{}),forceRender:!0}]),[]);return Object(w.jsx)(M,{onTabClick:a,tabPosition:i?"top":"left",activeKey:t,items:c})};P.displayName="ElectronicInvoiceTabs";var R=P;const M=Object(S.d)(v.a).withConfig({componentId:"wb__sc-wl4jez-0"})(["height:100%;.ant-tabs-content-holder{overflow-y:auto;}"]);var T=a(339),L=a(581);const V=(e,t)=>{const{refetch:a,type:c}=e,[n,r]=Object(s.useState)(!1),[o,d]=Object(s.useState)("client"),[b,u]=Object(s.useState)(!0),j=Object(x.a)((e=>e.is_mobile)),[m]=i.a.useForm(),{setFieldsValue:h,submit:O}=m,[v,{loading:g}]=p(h,u,c),[y,{loading:f}]=_(),k=Object(s.useCallback)((e=>{v({variables:{id:e}}),r(!0)}),[v]),C=Object(s.useCallback)((()=>{r(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:k,close:C})));return Object(w.jsxs)(H,{open:n,onClose:C,width:768,placement:j?"bottom":"right",height:"100%",title:"Emiss\xe3o da Nota Fiscal de Produto",destroyOnClose:!0,push:!1,footer:Object(w.jsx)(L.a,{loading:g||f,save_text:"Emitir",submit:O,close:C}),children:[Object(w.jsx)(T.a,{loading:g}),Object(w.jsx)(i.a,{form:m,layout:"vertical",onFinish:async e=>{if(!b)return void l.b.error("Algumas informa\xe7\xf5es fiscais do produto est\xe3o inv\xe1lidas. Verifique acessando o cadastro do produto na aba Nota Fiscal.");const{id:t,...s}=e,i={...s,document_id:t,document_type:c},{success:n}=await y(i);n&&(C(),null===a||void 0===a||a())},style:{width:"100%",height:"100%"},scrollToFirstError:!0,children:Object(w.jsx)(R,{active_tab:o,setActiveTab:d})})]})};V.displayName="ElectronicInvoiceDrawer";t.a=Object(s.memo)(Object(s.forwardRef)(V));const H=Object(S.d)(c.a).withConfig({componentId:"wb__sc-8t67i9-0"})([".ant-drawer-header{background:",";}.ant-drawer-body{background:",";}"],(e=>e.theme.is_mobile?"#f8f8f8":"#ffffff"),(e=>e.theme.is_mobile?"#f8f8f8":"#ffffff"))},850:function(e,t,a){"use strict";var s=a(0),i=a(2937),c=a(250),n=a(37),r=a(1850),o=a(116),l=a(76);const d=n.e`
  mutation InvoiceDrawerIssueInvoice ($data: IssueInvoiceInput!) {
    issueInvoice (input: $data) {
      success
      errors
    }
  }
`;var b=()=>{const[e,{loading:t}]=Object(r.a)(d);return[async t=>{try{const{data:a}=await e({variables:{data:t}}),{success:s,errors:i}=(null===a||void 0===a?void 0:a.issueInvoice)||{};return s?(o.b.success("Emiss\xe3o enviada com sucesso!"),{success:s}):(null===i||void 0===i||i.forEach((e=>o.b.error(e))),{success:s})}catch(a){return l.a.captureException(a),o.b.error("N\xe3o foi poss\xedvel emitir a nota fiscal de servi\xe7o. Atualize a p\xe1gina e tente novamente. Se o erro persistir entre em contato. C\xf3digo: #202206221729"),console.error(a),{success:!1}}},{loading:t}]},u=a(27),j=a(339),m=a(2879);const p=e=>{let t=((null===e||void 0===e?void 0:e.sale_items)||[]).reduce(((e,t,a)=>{const s=0===a?"":"; ";return t.inventory_product.service?`${e}${s}${t.inventory_product.description}`:e}),"");return t+=((null===e||void 0===e?void 0:e.package_items)||[]).reduce(((e,t,a)=>{const s=0===a?"":"; ";return(null===t||void 0===t?void 0:t.product.service)?`${e}${s}${t.product.description}`:e}),""),t},h=(e,t)=>{var a;let s=((null===e||void 0===e?void 0:e.sale_items)||[]).reduce(((e,a)=>{const s=a.inventory_product.invoice_product;return null!==s&&void 0!==s&&s[t]?[...e,s]:e}),[]);s=((null===e||void 0===e?void 0:e.package_items)||[]).reduce(((e,a)=>{const s=a.product.invoice_product;return null!==s&&void 0!==s&&s[t]?[...e,s]:e}),s);const i=null===(a=s[0])||void 0===a?void 0:a[t];return{show_field:s.length>0,field_value:i}};var O=a(53),_=a.n(O);const x=n.e`
  query InvoiceDrawerFetchSaleInfo ($id: ID) {
    inventory_sale (id: $id) {
      id
      invoice_value

      client {
        name
        email
        cpf
        cnpj
        address
        number
        district
        cep
        uf
        city
      }

      sale_items {
        id
        inventory_product {
          id
          description
          service
          invoice_product {
            id service_list_item cnae city_service_code
          }
        }
      }
    }
  }
`,v=n.e`
  query InvoiceDrawerFetchPackageInfo ($id: ID) {
    inventory_package (id: $id) {
      id
      invoice_value

      client {
        name
        email
        cpf
        cnpj
        address
        number
        district
        cep
        uf
        city
      }

      package_items {
        id
        product {
          id
          description
          service
          invoice_product {
            id service_list_item cnae city_service_code
          }
        }
      }
    }
  }
`;var g=e=>{const{setFieldsValue:t,setShowServiceListItem:a,setShowCnae:s,setShowCityServiceCode:i,type:c}=e,n="Inventory::Sale"===c?x:v;return Object(m.a)(n,{fetchPolicy:"no-cache",onCompleted:e=>{var c;const n=e.inventory_sale||e.inventory_package;if(!n)return;const{show_field:r,field_value:o}=h(n,"service_list_item"),{show_field:l,field_value:d}=h(n,"cnae"),{show_field:b,field_value:u}=h(n,"city_service_code"),j={...n,service_description:p(n),service_list_item:o,cnae:d,city_service_code:u,total_value:100*n.invoice_value,emission_date:_()(),send_client:!0,send_client_address:!0,client_name:n.client.name,client_email:n.client.email,client_document:null===(c=(null===n||void 0===n?void 0:n.client.cpf)||(null===n||void 0===n?void 0:n.client.cnpj))||void 0===c?void 0:c.replaceAll(/[.-]/g,""),client_street:n.client.address,client_number:n.client.number,client_district:n.client.district,client_zipcode:n.client.cep,client_state:n.client.uf,client_city:n.client.city};a(r),s(l),i(b),t(j)},onError:e=>{l.a.captureException(e),console.log(e)}})},y=a(2831),f=a(50),w=a(2824),k=a(2883),C=a(2976),I=a(665),A=a(584),S=a(653),$=a(22);var E=e=>{let{show_service_list_item:t,show_cnae:a,show_city_service_code:s}=e;const n=Object(u.a)((e=>{var t;return(null===(t=e.current_user.salon.invoice_company)||void 0===t?void 0:t.has_approximate_taxes)||!1})),r=Object(u.a)((e=>{var t;return null===(t=e.current_user.salon.invoice_company)||void 0===t?void 0:t.codigo_nbs})),o=Object(u.a)((e=>{var t;return null===(t=e.current_user.salon.invoice_company)||void 0===t?void 0:t.ibs_cbs_classificacao_tributaria})),l=Object(u.a)((e=>{var t;return null===(t=e.current_user.salon.invoice_company)||void 0===t?void 0:t.ibs_cbs_codigo_indicador_operacao}));return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(i.a.Item,{name:"id",noStyle:!0,children:Object($.jsx)(w.a,{type:"hidden"})}),Object($.jsx)(c.g,{$wrap:!0,gutter:8,children:Object($.jsx)(k.a,{span:24,children:Object($.jsx)(i.a.Item,{name:"service_description",label:"Servi\xe7os",children:Object($.jsx)(w.a.TextArea,{})})})}),Object($.jsxs)(c.g,{$wrap:!0,gutter:8,children:[Object($.jsx)(k.a,{xs:24,md:12,children:Object($.jsx)(i.a.Item,{name:"total_value",label:"Valor total",children:Object($.jsx)(A.a,{})})}),Object($.jsx)(k.a,{xs:24,md:12,children:Object($.jsx)(i.a.Item,{name:"emission_date",label:"Data",children:Object($.jsx)(S.b,{allowClear:!1,getPopupContainer:()=>document.body})})})]}),n&&Object($.jsxs)(c.g,{$wrap:!0,gutter:8,children:[Object($.jsx)(k.a,{span:12,children:Object($.jsx)(i.a.Item,{name:"approximate_percentage_taxes",label:"Percentual dos tributos",children:Object($.jsx)(I.a,{})})}),Object($.jsx)(k.a,{span:12,children:Object($.jsx)(i.a.Item,{name:"source_approximate_taxes",label:"Fonte dos tributos",initialValue:"IBPT",children:Object($.jsx)(w.a,{})})})]}),(a||t||s)&&Object($.jsx)(C.a,{type:"info",style:{marginBottom:15,padding:10},closable:!0,message:"Cnae, item lista de servi\xe7o ou c\xf3digo de servi\xe7o municipal",description:"Em caso de servi\xe7os com cnae, item lista de servi\xe7o ou c\xf3digo de servi\xe7o municipal diferentes a nota fiscal de servi\xe7o pode ser negada, para evitar isso recomenda-se separ\xe1-los em mais de uma comanda realizando a emiss\xe3o separadamente."}),t&&Object($.jsx)(c.g,{$wrap:!0,gutter:8,children:Object($.jsx)(k.a,{span:24,children:Object($.jsx)(i.a.Item,{name:"service_list_item",label:"Item lista de servi\xe7o",children:Object($.jsx)(w.a,{disabled:!0})})})}),a&&Object($.jsx)(c.g,{$wrap:!0,gutter:8,children:Object($.jsx)(k.a,{span:24,children:Object($.jsx)(i.a.Item,{name:"cnae",label:"Cnae",children:Object($.jsx)(w.a,{disabled:!0})})})}),s&&Object($.jsx)(c.g,{$wrap:!0,gutter:8,children:Object($.jsx)(k.a,{span:24,children:Object($.jsx)(i.a.Item,{name:"city_service_code",label:"C\xf3digo de Servi\xe7o Municipal",children:Object($.jsx)(w.a,{disabled:!0})})})}),!!r&&Object($.jsx)(c.g,{$wrap:!0,gutter:8,children:Object($.jsx)(k.a,{span:24,children:Object($.jsx)(i.a.Item,{label:Object(f.b)("settings.invoices.tax_reform.codigo_nbs"),children:Object($.jsx)(w.a,{value:r,disabled:!0})})})}),!!o&&!!l&&Object($.jsxs)(c.g,{$wrap:!0,gutter:8,children:[Object($.jsx)(k.a,{span:24,children:Object($.jsx)(i.a.Item,{label:Object(f.b)("settings.invoices.tax_reform.ibs_cbs_classificacao_tributaria"),children:Object($.jsx)(w.a,{value:o,disabled:!0})})}),Object($.jsx)(k.a,{span:24,children:Object($.jsx)(i.a.Item,{label:Object(f.b)("settings.invoices.tax_reform.ibs_cbs_codigo_indicador_operacao"),children:Object($.jsx)(w.a,{value:l,disabled:!0})})})]})]})},F=a(19),D=a(3023);const z=()=>Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(c.g,{gutter:8,$wrap:!0,children:[Object($.jsx)(k.a,{xs:24,md:12,children:Object($.jsx)(i.a.Item,{name:"send_client",label:"Enviar dados do cliente",valuePropName:"checked",children:Object($.jsx)(D.a,{})})}),Object($.jsx)(k.a,{xs:24,md:12,children:Object($.jsx)(i.a.Item,{name:"send_client_address",label:"Enviar endere\xe7o do cliente",valuePropName:"checked",children:Object($.jsx)(D.a,{})})})]}),Object($.jsx)(c.g,{gutter:8,$wrap:!0,children:Object($.jsx)(k.a,{span:24,children:Object($.jsx)(i.a.Item,{name:"client_name",label:"Nome",children:Object($.jsx)(w.a,{placeholder:"Informe o nome",autoComplete:"off"})})})}),Object($.jsxs)(c.g,{gutter:8,$wrap:!0,children:[Object($.jsx)(k.a,{xs:24,md:12,children:Object($.jsx)(i.a.Item,{name:"client_email",label:"Email",children:Object($.jsx)(w.a,{placeholder:"Informe o email",autoComplete:"off"})})}),Object($.jsx)(k.a,{xs:24,md:12,children:Object($.jsx)(i.a.Item,{name:"client_document",label:"CPF/CNPJ",children:Object($.jsx)(w.a,{autoComplete:"off"})})})]}),Object($.jsxs)(c.g,{gutter:8,$wrap:!0,children:[Object($.jsx)(k.a,{xs:24,md:12,children:Object($.jsx)(i.a.Item,{name:"client_street",label:"Rua",children:Object($.jsx)(w.a,{placeholder:"Informe a rua",autoComplete:"off"})})}),Object($.jsx)(k.a,{xs:24,md:12,children:Object($.jsx)(i.a.Item,{name:"client_number",label:"N\xfamero",children:Object($.jsx)(w.a,{placeholder:"Informe o n\xfamero",autoComplete:"off"})})})]}),Object($.jsxs)(c.g,{gutter:8,$wrap:!0,children:[Object($.jsx)(k.a,{xs:24,md:12,children:Object($.jsx)(i.a.Item,{name:"client_district",label:"Bairro",children:Object($.jsx)(w.a,{placeholder:"Informe o bairro",autoComplete:"off"})})}),Object($.jsx)(k.a,{xs:24,md:12,children:Object($.jsx)(i.a.Item,{name:"client_zipcode",label:"CEP",children:Object($.jsx)(w.a,{placeholder:"Informe o cep",autoComplete:"off"})})})]}),Object($.jsxs)(c.g,{gutter:8,$wrap:!0,children:[Object($.jsx)(k.a,{xs:24,md:12,children:Object($.jsx)(i.a.Item,{name:"client_state",label:"Estado (Sigla)",children:Object($.jsx)(w.a,{placeholder:"Informe a sigla",autoComplete:"off"})})}),Object($.jsx)(k.a,{xs:24,md:12,children:Object($.jsx)(i.a.Item,{name:"client_city",label:"Cidade",children:Object($.jsx)(w.a,{placeholder:"Informe a cidade",autoComplete:"off"})})})]})]});var N=Object(s.memo)(z);const q=e=>{const{active_tab:t,show_service_list_item:a,show_cnae:i,show_city_service_code:c,setActiveTab:n}=e,r=Object(u.a)((e=>e.is_mobile)),o=Object(s.useMemo)((()=>[{label:"Cliente",key:"client",children:Object($.jsx)(N,{}),forceRender:!0},{label:"Geral",key:"general",children:Object($.jsx)(E,{show_service_list_item:a,show_cnae:i,show_city_service_code:c}),forceRender:!0}]),[c,i,a]);return Object($.jsx)(P,{onTabClick:n,tabPosition:r?"top":"left",activeKey:t,items:o})};q.displayName="InvoiceTabs";var B=q;const P=Object(F.d)(y.a).withConfig({componentId:"wb__sc-18i0te6-0"})(["height:100%;.ant-tabs-content-holder{overflow-y:auto;}"]);var R=a(581);const M=(e,t)=>{let{refetch:a,type:n}=e;const[r,o]=Object(s.useState)(!1),[l,d]=Object(s.useState)("client"),[m,p]=Object(s.useState)(!1),[h,O]=Object(s.useState)(!1),[_,x]=Object(s.useState)(!1),v=Object(u.a)((e=>e.is_mobile)),[y]=i.a.useForm(),{setFieldsValue:f,submit:w,resetFields:k}=y,[C,{loading:I}]=g({setFieldsValue:f,setShowServiceListItem:p,setShowCnae:O,setShowCityServiceCode:x,type:n}),[A,{loading:S}]=b(),E=Object(s.useCallback)((e=>{C({variables:{id:e}}),o(!0)}),[C]),F=Object(s.useCallback)((()=>{o(!1),k()}),[k]);Object(s.useImperativeHandle)(t,(()=>({open:E,close:F})));return Object($.jsxs)(c.a,{open:r,onClose:F,width:768,placement:v?"bottom":"right",height:"100%",title:"Emiss\xe3o de Nota Fiscal de Servi\xe7os",destroyOnClose:!0,push:!1,footer:Object($.jsx)(R.a,{loading:I||S,submit:w,close:F,save_text:"Emitir"}),children:[Object($.jsx)(j.a,{loading:I}),Object($.jsx)(i.a,{form:y,layout:"vertical",onFinish:async e=>{const t={...e,total_value:e.total_value/100,type:n},{success:s}=await A(t);s&&(F(),null===a||void 0===a||a())},style:{width:"100%",height:"100%"},scrollToFirstError:!0,children:Object($.jsx)(B,{active_tab:l,setActiveTab:d,show_service_list_item:m,show_cnae:h,show_city_service_code:_})})]})};M.displayName="InvoiceDrawer";t.a=Object(s.memo)(Object(s.forwardRef)(M))},855:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var s=a(137),i=a(746),c=a(447),n=a(444),r=a(53);const o={date:a.n(r)()(),sum_cents:0,finished:!1,discount_cents:0,credit_cents:0,cashback_cents:0,sale_items:[],bill_recs:[],manually_changed_discount_cents:!1,manually_changed_credit_cents:!1,manually_changed_cashback_cents:!1,client_max_credits_cents:0,client_cashback_balance_cents:0,package_items:[],subscription_items:[],down_payment_cents:0};t.b=(e,t)=>{switch(t.type){case"reset_sale":return console.debug("[SaleDrawer Reducer] Resetando comanda"),o;case"set_sale":return console.debug("[SaleDrawer Reducer] Editando comanda: ",t.payload),t.payload;case"change_client":return console.debug("[SaleDrawer Reducer] Cliente alterado: ",t.payload),d(e,t.payload);case"change_date":return console.debug("[SaleDrawer Reducer] Data alterada: ",t.payload.format("L")),{...e,date:t.payload};case"change_number":return console.debug("[SaleDrawer Reducer] N\xfamero alterado: ",t.payload),{...e,number:t.payload};case"update_bill_rec":return C(e,t.payload);case"add_sale_item":return p(e,t.payload);case"remove_sale_item":return h(e,t.payload);case"update_sale_item":return O(e,t.payload);case"add_bill_rec":return _(e,t.payload);case"remove_bill_rec":return x(e,t.payload);case"change_discount_cents":return v(e,t.payload);case"change_credit_cents":return g(e,t.payload);case"change_cashback_cents":return y(e,t.payload);case"change_comment":return{...e,comment:t.payload};case"after_load_client_data":return f(e,t.payload);case"add_package_item":return w(e,t.payload);case"update_package_balance":return k(e,t.payload);case"add_subscription_item":return I(e,t.payload);case"update_subscription_balance":return A(e,t.payload);default:return e}};const l=e=>e.reduce(((e,t)=>t._destroy?e:e+t.sum_cents),0),d=(e,t)=>{var a,s;let n=e.sale_items,r=e.discount_cents;"sale_item"===(null===(a=e.client)||void 0===a?void 0:a.default_discount_type)&&(n=n.map((t=>{var a;if("percentage"===t.discount_type&&t.discount===(null===(a=e.client)||void 0===a?void 0:a.default_discount_percentage)){const e="value",a=0,s=Object(i.d)({value_cents:t.value_cents,quantity:t.quantity,discount_type:e,discount:a});return{...t,discount_type:e,discount:a,sum_cents:s,package_item_id:null}}return t}))),"sale"===(null===(s=e.client)||void 0===s?void 0:s.default_discount_type)&&(r=0),n=n.map((e=>{if(e.package_item_id){var t,a,s,n;let o;if(e.employee){var r;const t=e.employee.id;o=null===(r=e.inventory_product)||void 0===r?void 0:r.product_configurations.find((e=>e.employee_id===t))}const l=null===(t=e.inventory_product)||void 0===t||null===(a=t.composes)||void 0===a?void 0:a.map((e=>{let{id:t,...a}=e;return{id:Object(c.a)(),...a}})),d={...e,package_item_id:null,value_cents:(null===(s=o)||void 0===s?void 0:s.value_cents)||(null===(n=e.inventory_product)||void 0===n?void 0:n.price_cents)||0,sale_composes:l||[],discount_type:"value",discount:0},b=Object(i.d)({value_cents:d.value_cents,quantity:d.quantity,discount_type:d.discount_type,discount:d.discount});return{...d,sum_cents:b}}return e}));const o=j(n,r,e.credit_cents,e.cashback_cents);return{...e,client:t,sale_items:n,manually_changed_discount_cents:!1,manually_changed_credit_cents:!1,manually_changed_cashback_cents:!1,discount_cents:r,sum_cents:o}},b=(e,t,a)=>{let s=a.credit_cents;const i=l(e);return a.manually_changed_credit_cents||(s=Math.min(i-t,a.client_max_credits_cents)),Math.min(s,i-t)},u=(e,t,a,s)=>{let i=s.cashback_cents;const c=l(e);return Math.min(i,c-t-a)},j=(e,t,a,s)=>{const i=l(e);return Math.round(i-t-a-s)},m=(e,t)=>{const a=((e,t)=>{var a;let s=t.discount_cents;const i=l(e);return"sale"!==(null===(a=t.client)||void 0===a?void 0:a.default_discount_type)||t.manually_changed_discount_cents||(s=i*(t.client.default_discount_percentage||0)/100),Math.min(s,i)})(e,t),s=b(e,a,t),i=u(e,a,s,t),c=j(e,a,s,i);return{...t,sum_cents:c,sale_items:e,discount_cents:a,credit_cents:s,cashback_cents:i}},p=(e,t)=>{console.debug("[SaleDrawer Reducer] Adicionando item: ",t);const a=[...e.sale_items,t];return m(a,e)},h=(e,t)=>{const a=Object(s.cloneDeep)(e.sale_items),i=a.findIndex((e=>e.id===t));if(-1===i||!a[i])return e;a[i]._destroy=!0;const c=a[i].package_item_id,n=a[i].subscription_item_id,r=a[i].quantity,o=e.package_items.map((e=>({...e,balance:e.id===c?e.balance+r:e.balance}))),l=e.subscription_items.map((e=>({...e,balance:e.id===n?e.balance+r:e.balance})));return console.debug("[SaleReducer] Removendo item: ",i,a[i]),m(a,{...e,package_items:o,subscription_items:l})},O=(e,t)=>{const a=Object(s.cloneDeep)(e.sale_items),i=a.findIndex((e=>e.id===t.id));return-1===i?e:(console.debug("[SaleDrawer Reducer] Atualizando item: ",i,t),a[i]=t,m(a,e))},_=(e,t)=>{console.debug("[SaleDrawer Reducer] Adicionando pagamento: ",t);const a=[...e.bill_recs,t];return{...e,bill_recs:a}},x=(e,t)=>{const a=Object(s.cloneDeep)(e.bill_recs),i=a.findIndex((e=>e.id===t));if(-1===i||!a[i])return e;if(a[i]._destroy=!0,console.debug("[SaleReducer] Removendo pagamento: ",i,a[i]),!a[i].installment_id)return{...e,bill_recs:a};let c=1;const n=a.map((e=>(e.installment_id!==a[i].installment_id||e._destroy||(e.installment_index=c,c++),e)));return{...e,bill_recs:n}},v=(e,t)=>{const a=b(e.sale_items,t,e),s=u(e.sale_items,t,a,e),i=j(e.sale_items,t,a,s);return{...e,sum_cents:i,discount_cents:t,manually_changed_discount_cents:!0,credit_cents:a}},g=(e,t)=>{const a=l(e.sale_items),s=Math.min(a-e.discount_cents,e.client_max_credits_cents),i=Math.min(t,s),c=u(e.sale_items,e.discount_cents,i,e),n=j(e.sale_items,e.discount_cents,i,c);return{...e,sum_cents:n,credit_cents:i,manually_changed_credit_cents:!0}},y=(e,t)=>{const a=l(e.sale_items),s=e.client_cashback_balance_cents,i=Math.min(s,a-e.discount_cents-e.credit_cents),c=Math.min(t,i),n=j(e.sale_items,e.discount_cents,e.credit_cents,c);return{...e,sum_cents:n,cashback_cents:c,manually_changed_cashback_cents:!0}},f=(e,t)=>{var a,s,c;const{balance_cents:r,cashback_balance_cents:o,package_items:d,subscription_items:b,cashback_minimum_value_cents:u}=t;let m=e.sale_items,p=e.discount_cents,h=e.credit_cents,O=e.cashback_cents;"sale_item"===(null===(a=e.client)||void 0===a?void 0:a.default_discount_type)&&(null===(s=e.client)||void 0===s?void 0:s.default_discount_percentage)&&!e.manually_changed_discount_cents&&(m=m.map((t=>{var a;const s="percentage",c=(null===(a=e.client)||void 0===a?void 0:a.default_discount_percentage)||0,n=Object(i.d)({value_cents:t.value_cents,quantity:t.quantity,discount_type:s,discount:c});return{...t,discount_type:s,discount:c,sum_cents:n}}))),m=m.map((t=>{if(e.down_payment_cents)return t;const a=b.findIndex((e=>{var a;return e.inventory_product_id===(null===(a=t.inventory_product)||void 0===a?void 0:a.id)&&e.balance>=t.quantity})),s=b[a];if(t.calendar_id&&Object(n.a)(t.id)&&s){b[a].balance-=t.quantity;return{...t,subscription_item_id:s.id,value_cents:0,discount:0,discount_type:"value",sum_cents:0}}const i=d.findIndex((e=>{var a;return e.inventory_product_id===(null===(a=t.inventory_product)||void 0===a?void 0:a.id)&&e.balance>=t.quantity})),c=d[i];if(t.calendar_id&&Object(n.a)(t.id)&&c){d[i].balance-=t.quantity;return{...t,package_item_id:c.id,value_cents:0,discount:0,discount_type:"value",sum_cents:0}}return t}));const _=l(m);if("sale"!==(null===(c=e.client)||void 0===c?void 0:c.default_discount_type)||e.manually_changed_discount_cents||(p=_*(e.client.default_discount_percentage||0)/100),!e.manually_changed_credit_cents){const t=Math.min(_-p,r);h=e.down_payment_cents?Math.min(e.down_payment_cents,t):t}e.finished||(O>o&&(O=o),(O<0||o<u)&&(O=0),h>r&&(h=r),h<0&&(h=0));const x=j(m,p,h,O);return{...e,discount_cents:p,credit_cents:h,cashback_cents:O,sale_items:m,client_cashback_balance_cents:o,client_max_credits_cents:r,sum_cents:x,package_items:d,subscription_items:b}},w=(e,t)=>{var a;const{package_item_id:s,employee:i}=t,n=[...e.package_items],r=n.findIndex((e=>e.id===s)),o=n[r];if(!o)return e;n[r].balance-=1;const l=null===(a=o.inventory_product.composes)||void 0===a?void 0:a.map((e=>{let{id:t,...a}=e;return{id:Object(c.a)(),...a}})),d={id:Object(c.a)(),is_service:o.inventory_product.is_service,inventory_product:o.inventory_product,employee:i,quantity:1,discount:0,discount_type:"value",value_cents:0,sum_cents:0,package_item_id:o.id,sale_composes:l,sale_assistants:[]};return{...e,sale_items:[...e.sale_items,d],package_items:n}},k=(e,t)=>{const{package_item_id:a,quantity:s}=t;console.debug("[SaleReducer] Atualizando saldo de pacote. ID:",a,"Quantidade: ",s);const i=e.package_items.map((e=>({...e,balance:e.id===a?e.balance+s:e.balance})));return{...e,package_items:i}},C=(e,t)=>{const a=Object(s.cloneDeep)(e.bill_recs),i=a.findIndex((e=>e.id===t.id));return a[i]=t,{...e,bill_recs:a}},I=(e,t)=>{var a;const{subscription_item_id:s,employee:i}=t,n=[...e.subscription_items],r=n.findIndex((e=>e.id===s)),o=n[r];if(!o)return e;n[r].balance-=1;const l=null===(a=o.inventory_product.composes)||void 0===a?void 0:a.map((e=>{let{id:t,...a}=e;return{id:Object(c.a)(),...a}})),d={id:Object(c.a)(),is_service:o.inventory_product.is_service,inventory_product:o.inventory_product,employee:i,quantity:1,discount:0,discount_type:"value",value_cents:0,sum_cents:0,subscription_item_id:o.id,sale_composes:l,sale_assistants:[]};return{...e,sale_items:[...e.sale_items,d],subscription_items:n}},A=(e,t)=>{const{subscription_item_id:a,quantity:s}=t;console.debug("[SaleReducer] Atualizando saldo de assinatura. ID:",a,"Quantidade: ",s);const i=e.subscription_items.map((e=>({...e,balance:e.id===a?e.balance+s:e.balance})));return{...e,subscription_items:i}}},856:function(e,t,a){"use strict";var s=a(37),i=a(1850);const c=s.e`
  mutation SaveBannerUser($data: BannerUserSaveInput!) {
    bannerUserSave(input: $data) {
      success errors
    }
  }
`;t.a=()=>Object(i.a)(c)},857:function(e,t,a){"use strict";var s=a(0),i=a(19),c=a(27),n=a(22);const r=e=>{let{video_id:t,...a}=e;const s=Object(c.a)((e=>e.is_mobile));return t?Object(n.jsx)(o,{$is_mobile:s,children:Object(n.jsx)("iframe",{src:`https://www.youtube.com/embed/${t}?modestbranding=1&rel=0&showinfo=0&cc_load_policy=0&iv_load_policy=3&autohide=1`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0,style:{border:0},title:"Embedded youtube",...a})}):null};r.displayName="YouTubeVideo",t.a=Object(s.memo)(r);const o=i.d.div.withConfig({componentId:"wb__sc-cfp1hj-0"})(["overflow:hidden;padding-bottom:50%;position:relative;height:0;border-radius:20px;",";iframe{left:0;top:0;height:100%;width:100%;position:absolute;}"],(e=>e.$is_mobile&&Object(i.c)(["padding-bottom:unset;height:90vh;"])))},862:function(e,t,a){"use strict";var s=a(3024),i=a(250),c=a(608),n=a(758),r=a(20),o=a(50),l=a(340),d=a(116),b=a(22);t.a=()=>{const[e,{loading:t}]=Object(n.a)(),a=Object(r.o)(),u=()=>{s.a.destroyAll(),a("/cashback/settings")},j=async()=>{const{data:t}=await e({variables:{data:{salon_configuration_attributes:{cashback_active:!0}}}}),{success:a,errors:i}=(null===t||void 0===t?void 0:t.saveSalon)||{};if(a)return s.a.destroyAll(),void d.b.success(Object(o.b)("phrases.saved_successfully",{prefix:Object(o.b)("words.setting"),context:"female"}));null===i||void 0===i||i.map((e=>d.b.error(e)))};return()=>c.a.information({className:"webook-modal",title:Object(o.b)("cashback.inactive"),confirmLoading:t,useConfirm:!0,alignContent:"justify",content:Object(b.jsx)(l.a,{i18nKey:"cashback.inactive_module_description",components:[Object(b.jsx)(i.h,{$size:18,$link:!0,onClick:j})]}),maskClosable:!0,okText:Object(o.b)("phrases.access_settings"),onOk:u,cancelText:Object(o.b)("verbs.close")})}},863:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(2937),n=a(3023),r=a(538),o=a(1256),l=a(2838),d=a(579),b=a(623),u=a(27),j=a(22);t.a=()=>{const e=Object(u.a)((e=>e.current_user.salon.salon_configuration)),t=Object(u.a)((e=>e.is_mobile)),a=Object(s.useMemo)((()=>"percentage"===e.cashback_value_type?Object(d.u)(e.cashback_default_value,{symbol_position:"right"}):Object(d.d)(e.cashback_default_value,{cents:!1})),[e.cashback_default_value,e.cashback_value_type]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b.a,{title:Object(i.b)("words.active"),description:Object(i.b)("product_service.cashback.active_description"),is_drawer:!0,input_width:240,children:Object(j.jsx)(c.a.Item,{name:"cashback_active",valuePropName:"checked",children:Object(j.jsx)(n.a,{})})}),Object(j.jsx)(b.a,{title:Object(i.b)("product_service.cashback.custom_value"),description:Object(i.b)("product_service.cashback.custom_value_description",{default_value:a,zero_value:Object(d.d)(0)}),is_drawer:!0,is_column:!0,input_width:240,children:Object(j.jsxs)(r.a.Compact,{block:!0,children:[Object(j.jsx)(c.a.Item,{name:"cashback_value_type",initialValue:"value",noStyle:!0,children:Object(j.jsx)(o.a,{style:{width:70},size:t?"large":"middle",options:[{label:Object(d.h)(),value:"value"},{label:"%",value:"percentage"}]})}),Object(j.jsx)(c.a.Item,{noStyle:!0,dependencies:["cashback_value_type"],children:e=>{let{getFieldValue:a}=e;const s=a("cashback_value_type");return Object(j.jsx)(c.a.Item,{noStyle:!0,name:"cashback_value",initialValue:0,children:"percentage"===s?Object(j.jsx)(l.a,{min:0,max:100,parser:d.t,size:t?"large":"middle",formatter:e=>Object(d.s)(e),className:"hide-number-button",style:{width:"calc(100% - 70px)"}}):Object(j.jsx)(l.a,{min:0,className:"hide-number-button",size:t?"large":"middle",style:{width:"calc(100% - 70px)"},parser:d.t,formatter:e=>Object(d.s)(e)})})}})]})})]})}},864:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(340),n=a(250),r=a(2976),o=a(2937),l=a(3023),d=a(2838),b=a(2883),u=a(2824),j=a(1005),m=a(19),p=a(637),h=a(623),O=a(27),_=a(22);t.a=e=>{let{setFieldsValue:t,is_product:a}=e;const m=Object(O.a)((e=>e.is_mobile)),v=Object(s.useRef)(null),g=Object(s.useRef)(null),y=Object(s.useCallback)((()=>{var e;null===(e=g.current)||void 0===e||e.open()}),[]);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(r.a,{type:"info",message:Object(_.jsx)(c.a,{i18nKey:"product_service.return.description",components:[Object(_.jsx)(n.h,{$color:"primary",$cursor:"pointer",onClick:y})]}),style:{width:"100%",marginBottom:15,padding:10}}),Object(_.jsx)(h.a,{title:Object(i.b)("words.active"),description:Object(i.b)("product_service.return.active_description"),is_drawer:!0,input_width:80,children:Object(_.jsx)(o.a.Item,{name:"send_client_return_message",noStyle:!0,valuePropName:"checked",initialValue:!0,children:Object(_.jsx)(l.a,{})})}),Object(_.jsx)(h.a,{title:Object(i.b)("product_service.return.period"),description:a?Object(i.b)("products.drawer.return.period_description"):Object(i.b)("services.drawer.return.period_description"),is_drawer:!0,input_width:80,children:Object(_.jsx)(o.a.Item,{style:{marginBottom:0},name:"return_time",rules:[{required:!0,message:Object(i.b)("words.required")}],children:Object(_.jsx)(d.a,{size:m?"large":"middle",inputMode:"numeric",min:0,style:{width:70}})})}),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(h.a,{title:Object(i.b)("product_service.return.use_default_message"),description:Object(i.b)("product_service.return.use_default_message_description"),is_drawer:!0,input_width:80,children:Object(_.jsx)(o.a.Item,{name:"use_default_client_return_message",noStyle:!0,valuePropName:"checked",initialValue:!0,children:Object(_.jsx)(l.a,{})})}),Object(_.jsx)(o.a.Item,{noStyle:!0,dependencies:["use_default_client_return_message"],children:e=>{let{getFieldValue:s}=e;if(s("use_default_client_return_message"))return null;const c=["client_name","nickname",...a?["product_name","return_product_days"]:["service_name","return_service_days"]];return Object(_.jsxs)(x,{children:[Object(_.jsx)(n.g,{align:"middle",children:Object(_.jsx)(b.a,{span:24,children:Object(_.jsx)(o.a.Item,{label:Object(i.b)("words.message"),name:"client_return_message",children:Object(_.jsx)(u.a.TextArea,{style:{width:"100%"},showCount:!0,maxLength:255,autoSize:{minRows:3},ref:v})})})}),Object(_.jsx)(p.a,{keys:c,textAreaRef:v,fieldName:"client_return_message",setFieldsValue:t})]})}})]}),Object(_.jsx)(j.a,{ref:g})]})};const x=m.d.div.withConfig({componentId:"wb__sc-1nob1ls-0"})(["",""],(e=>e.theme.is_mobile&&Object(m.c)(["padding:10px 15px;"])))},866:function(e,t,a){"use strict";a(0);var s=a(50),i=a(250),c=a(631),n=a(19),r=a(22);t.a=()=>Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(o,{src:void 0}),Object(r.jsx)(i.g,{$column:!0,$left:10,children:Object(s.b)("sale.without_employee")})]});const o=Object(n.d)(c.a).withConfig({componentId:"wb__sc-1r8vnof-0"})(["width:40px !important;height:40px !important;"])},867:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var s=a(447),i=a(137),c=a(620),n=a(53);const r={date:a.n(n)()(),total_cents:0,discount_cents:0,finished:!1,payment_type:"automatic",customer_subscription_items:[],customer_subscription_payments:[]};t.b=(e,t)=>{switch(t.type){case"reset_subscription":return r;case"set_subscription":return t.payload;case"change_observation":return{...e,observation:t.payload};case"change_date":return{...e,date:t.payload};case"change_client":return{...e,client:t.payload};case"add_subscription_item":return d(e,t.payload);case"update_subscription_item":return b(e,t.payload);case"remove_subscription_item":return u(e,t.payload);case"change_discount_cents":return j(e,t.payload);case"add_subscription_payment":return p(e,t.payload);case"remove_subscription_payment":return h(e,t.payload);case"set_bill_recs":return m(e,t.payload);case"change_payment_type":return{...e,payment_type:t.payload};case"change_subcritpion_template":return{...e,customer_subscription_template:t.payload};default:return e}};const o=(e,t)=>{const a=Object(c.e)(e);return Math.round(a-t)},l=(e,t)=>{const a=((e,t)=>{let a=t.discount_cents;const s=Object(c.e)(e);return Math.min(a,s)})(e,t),s=o(e,a);return{...t,total_cents:s,customer_subscription_items:e,discount_cents:a}},d=(e,t)=>{const a=[...e.customer_subscription_items,t];return l(a,e)},b=(e,t)=>{const a=Object(i.cloneDeep)(e.customer_subscription_items),s=a.findIndex((e=>e.id===t.id));return-1===s?e:(console.debug("[SubscriptionReducer] Atualizando item: ",s,t),a[s]=t,l(a,e))},u=(e,t)=>{const a=Object(i.cloneDeep)(e.customer_subscription_items),s=a.findIndex((e=>e.id===t));return-1!==s&&a[s]?(a[s]._destroy=!0,console.debug("[SubscriptionReducer] Removendo item: ",s,a[s]),l(a,e)):e},j=(e,t)=>{let a=t;const s=Object(c.e)(e.customer_subscription_items);a=Math.min(a,s);const i=o(e.customer_subscription_items,a);return{...e,total_cents:i,discount_cents:a}},m=(e,t)=>{const{subscription_payment_id:a,bill_recs:s}=t,c=Object(i.cloneDeep)(e.customer_subscription_payments),n=c.findIndex((e=>e.id===a));return-1!==n&&c[n]?(c[n].finance_bill_recs=s,{...e,customer_subscription_payments:c}):e},p=(e,t)=>{const a=Object(i.cloneDeep)(e.customer_subscription_payments),c=e.due||e.date,n={id:t||Object(s.a)(),date:c,due:c.clone().add(1,"month"),total_cents:e.total_cents,finance_bill_recs:[]};return a.push(n),{...e,customer_subscription_payments:a}},h=(e,t)=>{const a=Object(i.cloneDeep)(e.customer_subscription_payments),s=a.findIndex((e=>e.id===t));return-1!==s&&a[s]?(a.splice(s,1),{...e,customer_subscription_payments:a}):e}},868:function(e,t,a){"use strict";var s=a(37),i=a(1850),c=a(50),n=a(116),r=a(76);const o=s.e`
  mutation SaveClientImagesMutation($data: SaveClientFileLinkInput!) {
    saveClientFileLink(input: $data) {
      success
      errors
      file_link {
        id
        link
        holder_id
        size
        created_at
        file_blurhash
        salon { id name }
      }
    }
  }
`;t.a=()=>{const[e,{loading:t}]=Object(i.a)(o);return[async(t,a)=>{try{const{data:s}=await e({variables:{data:t},context:{fetchOptions:{onProgress:e=>{const t=Math.floor(e.loaded/e.total*100);null===a||void 0===a||a({percent:t})}}}}),{success:i=!1,errors:c,file_link:r}=(null===s||void 0===s?void 0:s.saveClientFileLink)||{};return null===c||void 0===c||c.map((e=>n.b.error(e))),{success:i,file_link:r}}catch(s){return r.a.captureException(s),n.b.error(Object(c.b)("phrases.generic_save_error_message")),console.error(s),{success:!1,file_link:void 0}}},t]}},869:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var s=a(53),i=a.n(s);const c={user_agent:window.navigator.userAgent,color_depth:window.screen.colorDepth,type:"BROWSER",java_enabled:!1,language:window.navigator.language,screen_height:window.screen.height,screen_width:window.screen.width,time_zone_off_set:i()().format("Z")}},870:function(e,t,a){"use strict";a.d(t,"c",(function(){return b})),a.d(t,"a",(function(){return u}));var s=a(137),i=a(447),c=a(698),n=a(579),r=a(53),o=a.n(r),l=a(27);const d=()=>{const e=Object(l.a)((e=>e.current_user.employee)),t=Object(l.a)((e=>e.current_user.salon_id))===e.salon_id?e:void 0;return{id:Object(i.a)(),duration:15,time:Object(n.r)(),employee:t}},b=()=>({date:o()(),status:"confirmed",calendars:[d()],reminder:!0,force_schedule:!1,package_items:[],subscription_items:[]}),u={date:o()(),status:"confirmed",calendars:[],reminder:!0,force_schedule:!1,package_items:[],subscription_items:[]};t.b=(e,t)=>{var a,s,i;switch(t.type){case"reset_schedule_group":return u;case"set_schedule_group":return t.payload;case"change_client":return j(e,t.payload);case"change_date":return{...e,date:t.payload};case"change_status":return{...e,status:t.payload};case"change_schedule_color":return{...e,schedule_color:t.payload};case"add_calendar":return{...e,calendars:[...e.calendars,t.payload]};case"update_calendar":return m(e,t.payload);case"change_reminder":return{...e,reminder:t.payload};case"remove_calendar":return p(e,t.payload);case"change_force_schedule":return{...e,force_schedule:t.payload};case"change_observation":return{...e,obs:t.payload};case"change_recurrence_apply_forward":const c={...e.recurrence,frequency:(null===(a=e.recurrence)||void 0===a?void 0:a.frequency)||"week",number_occurrences:(null===(s=e.recurrence)||void 0===s?void 0:s.number_occurrences)||1};return{...e,recurrence:{...c,apply_forward:t.payload}};case"change_recurrence":if(null===(i=t.payload)||void 0===i||!i.length)return{...e,recurrence:void 0};const n=t.payload[0],r=t.payload[1];return{...e,recurrence:{...e.recurrence,frequency:n,number_occurrences:r}};case"after_load_client_data":return h(e,t.payload);case"add_package_item":return O(e,t.payload);case"update_package_balance":return _(e,t.payload);case"add_subscription_item":return x(e,t.payload);default:return e}};const j=(e,t)=>{const a=e.calendars.map((e=>{let{inventory_package_item_id:t,...a}=e;return{...a,inventory_package_item_id:null}}));return{...e,client:t,calendars:a}},m=(e,t)=>{const a=Object(s.cloneDeep)(e.calendars),i=a.findIndex((e=>e.id===t.id));return-1===i?e:(a[i]=t,{...e,calendars:a})},p=(e,t)=>{const a=Object(s.cloneDeep)(e.calendars),i=a.findIndex((e=>e.id===t));if(-1===i||!a[i])return e;a[i]._destroy=!0;const c=a[i].inventory_package_item_id,n=e.package_items.map((e=>({...e,balance:e.id===c?e.balance+1:e.balance})));return{...e,calendars:a,package_items:n}},h=(e,t)=>{const{package_items:a,subscription_items:s}=t;return e.calendars.forEach((t=>{var s;if(!t.inventory_package_item_id)return;if(null!==(s=e.inventory_sale)&&void 0!==s&&s.finished)return;const i=a.find((e=>e.id===t.inventory_package_item_id));i&&(i.balance-=1)})),{...e,package_items:a,subscription_items:s}},O=(e,t)=>{const{package_item_id:a,is_mobile:n}=t,r=Object(s.cloneDeep)(e.calendars),l=[...e.package_items],d=l.findIndex((e=>e.id===a)),b=l[d];if(!b)return e;l[d].balance-=1;const u=r.filter((e=>!e._destroy)),j=u[u.length-1];if(!n){const t={id:Object(i.a)(),inventory_product:b.inventory_product,time:j.time,duration:b.inventory_product.duration,employee:j.employee,inventory_package_item_id:b.id};return r.splice(r.length-1,0,t),j.time=o()(t.time,"HH:mm").add(t.duration||0,"minute").format("HH:mm"),{...e,calendars:r,package_items:l}}const m=Object(c.g)(j);if(1===u.length&&!m){const t=r.findIndex((e=>e.id===j.id)),a={id:Object(i.a)(),inventory_product:b.inventory_product,time:j.time,duration:b.inventory_product.duration,employee:j.employee,inventory_package_item_id:b.id};return r.splice(t,1,a),{...e,calendars:r,package_items:l}}const p=o()(j.time,"HH:mm").add(j.duration||0,"minute").format("HH:mm"),h={id:Object(i.a)(),inventory_product:b.inventory_product,time:p,duration:b.inventory_product.duration,employee:j.employee,inventory_package_item_id:b.id};return r.splice(r.length,0,h),{...e,calendars:r,package_items:l}},_=(e,t)=>{const{package_item_id:a,quantity:s}=t;console.debug("[SaleReducer] Atualizando saldo de pacote. ID:",a,"Quantidade: ",s);const i=e.package_items.map((e=>({...e,balance:e.id===a?e.balance+s:e.balance})));return{...e,package_items:i}},x=(e,t)=>{const{subscription_item_id:a,is_mobile:n}=t,r=Object(s.cloneDeep)(e.calendars),l=[...e.subscription_items],d=l.findIndex((e=>e.id===a)),b=l[d];if(!b)return e;l[d].balance-=1;const u=r.filter((e=>!e._destroy)),j=u[u.length-1];if(!n){const t={id:Object(i.a)(),inventory_product:b.inventory_product,time:j.time,duration:b.inventory_product.duration,employee:j.employee};return r.splice(r.length-1,0,t),j.time=o()(t.time,"HH:mm").add(t.duration||0,"minute").format("HH:mm"),{...e,calendars:r,subscription_items:l}}const m=Object(c.g)(j);if(1===u.length&&!m){const t=r.findIndex((e=>e.id===j.id)),a={id:Object(i.a)(),inventory_product:b.inventory_product,time:j.time,duration:b.inventory_product.duration,employee:j.employee};return r.splice(t,1,a),{...e,calendars:r,subscription_items:l}}const p=o()(j.time,"HH:mm").add(j.duration||0,"minute").format("HH:mm"),h={id:Object(i.a)(),inventory_product:b.inventory_product,time:p,duration:b.inventory_product.duration,employee:j.employee};return r.splice(r.length,0,h),{...e,calendars:r,subscription_items:l}}},871:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));const s=e=>"value"===e.discount_type?e.discount_cents:e.value_cents*e.discount_percentage/100,i=(e,t,a)=>{var i,c;const n="Inventory::Sale"===e?"Inventory::SaleItem":"Inventory::PackageItem";return[...(null===a||void 0===a||null===(i=a.sale_items)||void 0===i?void 0:i.reduce(((e,a)=>{const i=a.inventory_product;if(i.service)return e;const c=i.invoice_product;c||t(!1);const r={item_type:n,item_id:a.id,cfop:null===c||void 0===c?void 0:c.cfop_normalized,ncm:null===c||void 0===c?void 0:c.ncm,cest:null===c||void 0===c?void 0:c.cest,quantity:a.quantity,measurement_unit:i.measurement_unit,taxable_measurement_unit:i.measurement_unit,unit_value_cents:a.value_cents||0,total_value_cents:a.sum_cents||0,discounts_cents:s(a)||0,icms_tax_situation:null===c||void 0===c?void 0:c.csosn_cst_normalized,icms_origin:0,pis_tax_situation:null===c||void 0===c?void 0:c.cst_pis,cofins_tax_situation:null===c||void 0===c?void 0:c.cst_cofins,description:i.description};return[...e,r]}),[]))||[],...(null===a||void 0===a||null===(c=a.package_items)||void 0===c?void 0:c.reduce(((e,a)=>{const i=a.product;if(i.service)return e;const c=i.invoice_product;c||t(!1);const r={item_type:n,item_id:a.id,cfop:null===c||void 0===c?void 0:c.cfop_normalized,ncm:null===c||void 0===c?void 0:c.ncm,cest:null===c||void 0===c?void 0:c.cest,quantity:a.quantity,measurement_unit:i.measurement_unit,taxable_measurement_unit:i.measurement_unit,unit_value_cents:a.value_cents||0,total_value_cents:a.sum_cents||0,discounts_cents:s(a)||0,icms_tax_situation:null===c||void 0===c?void 0:c.csosn_cst_normalized,icms_origin:0,pis_tax_situation:null===c||void 0===c?void 0:c.cst_pis,cofins_tax_situation:null===c||void 0===c?void 0:c.cst_cofins,description:i.description};return[...e,r]}),[]))||[]]}},874:function(e,t,a){"use strict";var s=a(0),i=a(20),c=a(27);t.a=()=>{const e=Object(i.o)(),t=Object(c.a)((e=>e.current_user));return Object(s.useEffect)((()=>{e(null!==t&&void 0!==t&&t.id?"/calendar":"/login")}),[null===t||void 0===t?void 0:t.id,e]),null}},890:function(e,t,a){"use strict";var s=a(0),i=a(137),c=a(2937),n=a(250),r=a(116),o=a(50),l=a(37),d=a(1850),b=a(188),u=a(76);const j=l.e`
  mutation SavePackageTemplate ($data: InventoryPackageTemplateSaveInput!) {
    inventoryPackageTemplateSave (input: $data) {
      success
      errors

      package_template {
        id
        name

        package_template_items {
          id quantity price_cents

          product {
            ...InventoryProductsAttributes
          }
        }
      }
    }
  }

  ${b.b}
`;var m=()=>{const[e,{loading:t}]=Object(d.a)(j);return[async t=>{try{const{data:a}=await e({variables:{data:t}}),{success:s=!1,errors:i=[],package_template:c}=(null===a||void 0===a?void 0:a.inventoryPackageTemplateSave)||{};return null===i||void 0===i||i.forEach((e=>r.b.error(e))),{success:s,package_template:c}}catch(a){return u.a.captureException(a),r.b.error(Object(o.b)("phrases.generic_save_error_message")),console.error(a),{success:!1,package_template:null}}},{loading:t}]},p=a(2879);const h=l.e`
  query PacakgeTemplateDrawer ($id: ID) {
    package_template(id: $id) {
      id active name

      items_attributes: package_template_items {
        id inventory_product_id quantity price_cents original_cents
      }
    }
  }
`;var O=e=>Object(p.a)(h,{fetchPolicy:"network-only",onCompleted:t=>{const{package_template:a}=t,{items_attributes:s,...c}=a,n=[...s,{id:Object(i.uniqueId)("items_attributes_"),price_cents:0,quantity:1}];e.setFieldsValue({...c,items_attributes:n})},onError:e=>{u.a.captureException(e),console.log(e)}}),_=a(582),x=a(2824),v=a(2883),g=a(3023),y=a(1438),f=a(2838),w=a(159),k=a(2854),C=a(584),I=a(622),A=a(19),S=a(22);var $=e=>{let{setFieldsValue:t,getFieldValue:a}=e;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(c.a.Item,{name:"id",noStyle:!0,children:Object(S.jsx)(x.a,{type:"hidden"})}),Object(S.jsxs)(n.g,{gutter:[8,0],children:[Object(S.jsx)(v.a,{span:22,children:Object(S.jsx)(c.a.Item,{name:"name",label:Object(o.b)("words.name"),rules:[{required:!0,message:Object(o.b)("phrases.required_field")}],children:Object(S.jsx)(x.a,{placeholder:"Nome"})})}),Object(S.jsx)(v.a,{span:2,children:Object(S.jsx)(c.a.Item,{name:"active",label:Object(o.b)("words.active"),valuePropName:"checked",initialValue:!0,children:Object(S.jsx)(g.a,{})})})]}),Object(S.jsx)(y.a,{orientation:"left",children:Object(o.b)("words.item",{count:2})}),Object(S.jsx)(c.a.List,{name:"items_attributes",children:(e,s)=>{let{add:n,remove:r}=s;return e.map(((s,l)=>{const d=a(["items_attributes",s.name,"_destroy"]),b=0===l,u=b,j=e.length===l+1;return Object(S.jsxs)(E,{$wrap:!0,gutter:[8,0],$hidden:d,children:[Object(S.jsx)(c.a.Item,{noStyle:!0,name:[s.name,"id"],children:Object(S.jsx)(x.a,{type:"hidden"})}),Object(S.jsx)(c.a.Item,{noStyle:!0,name:[s.name,"_destroy"],children:Object(S.jsx)(x.a,{type:"hidden"})}),Object(S.jsx)(v.a,{xs:24,sm:24,md:8,children:Object(S.jsx)(c.a.Item,{required:!1,label:u?`${Object(o.b)("words.service")}/${Object(o.b)("words.product")}`:void 0,name:[s.name,"inventory_product_id"],rules:[{required:!j||b,message:Object(o.b)("phrases.required_field")}],children:Object(S.jsx)(I.a,{onChange:(e,c)=>{const r=c.item;if(j&&n({id:Object(i.uniqueId)("items_attributes_")}),!r)return;const o=a("items_attributes")||[];o[s.name].price_cents=r.price_cents,o[s.name].original_cents=r.price_cents,t({items_attributes:o})}})})}),Object(S.jsx)(v.a,{xs:12,sm:5,md:3,children:Object(S.jsx)(c.a.Item,{required:!1,label:u?Object(o.b)("acronyms.qty"):void 0,name:[s.name,"quantity"],rules:[{required:!j,message:Object(o.b)("phrases.required_field")}],initialValue:1,children:Object(S.jsx)(f.a,{style:{width:"100%"},min:0})})}),Object(S.jsx)(v.a,{xs:12,sm:6,md:4,children:Object(S.jsx)(c.a.Item,{required:!1,label:u?Object(o.b)("words.unitary_price"):void 0,name:[s.name,"price_cents"],rules:[{required:!j,message:Object(o.b)("phrases.required_field")}],initialValue:0,children:Object(S.jsx)(C.a,{})})}),Object(S.jsx)(v.a,{xs:12,sm:6,md:4,children:Object(S.jsx)(c.a.Item,{required:!1,label:u?Object(o.b)("words.original_price"):void 0,name:[s.name,"original_cents"],initialValue:0,children:Object(S.jsx)(C.a,{disabled:!0})})}),Object(S.jsx)(v.a,{xs:12,sm:6,md:4,children:Object(S.jsx)(c.a.Item,{shouldUpdate:(e,t)=>{var a,i,c,n;const r=e.items_attributes||[],o=t.items_attributes||[];return(null===(a=r[s.name])||void 0===a?void 0:a.price_cents)!==(null===(i=o[s.name])||void 0===i?void 0:i.price_cents)||(null===(c=r[s.name])||void 0===c?void 0:c.quantity)!==(null===(n=o[s.name])||void 0===n?void 0:n.quantity)},label:u?Object(o.b)("words.total"):void 0,children:()=>{const e=a(["items_attributes",s.name,"quantity"])||0,t=a(["items_attributes",s.name,"price_cents"])||0;return Object(S.jsx)(C.a,{value:e*t,disabled:!0})}})}),Object(S.jsx)(v.a,{sm:1,md:1,style:{marginTop:u?28:-5},children:Object(S.jsx)(w.a,{danger:!0,type:"text",size:"large",icon:Object(S.jsx)(k.a,{}),disabled:j,onClick:()=>(e=>{var s,i,c;const n=a("items_attributes")||[];null!==(s=n[e])&&void 0!==s&&s.id&&!(null===(i=n[e])||void 0===i||null===(c=i.id)||void 0===c?void 0:c.includes("items_attributes_"))?(n[e]={...n[e],_destroy:!0},t({items_attributes:n})):r(e)})(s.name)})})]},s.key)}))}}),Object(S.jsx)(n.g,{$wrap:!0,gutter:8,justify:"end",children:Object(S.jsxs)(F,{justify:"end",children:[Object(S.jsx)("div",{className:"label",children:Object(S.jsx)(n.h,{$semibold:!0,$size:15,children:Object(o.b)("words.total")})}),Object(S.jsx)(v.a,{xs:12,sm:7,md:5,children:Object(S.jsx)(c.a.Item,{shouldUpdate:!0,noStyle:!0,children:()=>{const e=a("items_attributes").reduce(((e,t)=>e+t.quantity*t.price_cents),0);return Object(S.jsx)(C.a,{value:e,disabled:!0})}})})]})})]})};const E=Object(A.d)(n.g).withConfig({componentId:"wb__sc-7sfnee-0"})(["position:relative;padding-right:20px;.ant-form-item{margin-bottom:8px;.ant-form-item-explain{display:none;}}"]),F=Object(A.d)(n.g).withConfig({componentId:"wb__sc-7sfnee-1"})(["display:flex;flex-flow:row nowrap;margin:22px;.label{display:flex;align-items:center;margin-right:8px;}"]);var D=a(3060),z=a(2843),N=a(356),q=a(543);const B=()=>Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(q.a,{gutter:8,children:[Object(S.jsx)(c.a.Item,{noStyle:!0,name:"id",children:Object(S.jsx)(x.a,{type:"hidden"})}),Object(S.jsx)(c.a.Item,{noStyle:!0,name:"inventory_product_id",children:Object(S.jsx)(x.a,{type:"hidden"})}),Object(S.jsx)(v.a,{span:24,children:Object(S.jsx)(c.a.Item,{label:Object(o.b)("words.name"),name:"item_name",children:Object(S.jsx)(x.a,{disabled:!0,size:"large"})})}),Object(S.jsx)(v.a,{span:12,children:Object(S.jsx)(c.a.Item,{name:"original_cents",label:Object(o.b)("words.original_price"),initialValue:0,children:Object(S.jsx)(C.a,{disabled:!0,size:"large"})})}),Object(S.jsx)(v.a,{span:12,children:Object(S.jsx)(c.a.Item,{name:"price_cents",label:Object(o.b)("words.unitary_price"),rules:[{required:!0,message:Object(o.b)("phrases.required_field")}],initialValue:0,children:Object(S.jsx)(C.a,{size:"large"})})}),Object(S.jsx)(v.a,{span:12,children:Object(S.jsx)(c.a.Item,{name:"quantity",label:Object(o.b)("words.quantity"),rules:[{required:!0,message:Object(o.b)("phrases.required_field")}],initialValue:0,children:Object(S.jsx)(f.a,{size:"large",type:"number",style:{width:"100%"}})})}),Object(S.jsx)(v.a,{span:12,children:Object(S.jsx)(c.a.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.price_cents!==t.price_cents||e.quantity!==t.quantity,children:e=>{let{getFieldValue:t}=e;const a=t("quantity")*t("price_cents");return Object(S.jsx)(c.a.Item,{label:Object(o.b)("words.total"),children:Object(S.jsx)(C.a,{size:"large",value:a,disabled:!0})})}})})]})});var P=Object(s.memo)(B);const R=e=>{let{setFieldsValue:t,getFieldValue:a,close:i,submit:c,item:l}=e;const d=!(null===l||void 0===l||!l.id),b=Object(s.useCallback)((e=>{const s=(a("items_attributes")||[]).map((t=>t.id===e.id?{...t,_destroy:!0}:t));t({items_attributes:s})}),[t,a]),u=Object(s.useCallback)((()=>{r.c.confirm({centered:!0,className:"webook-modal",title:Object(o.b)("words.attention"),maskClosable:!0,content:Object(o.b)("phrases.confirm_delete",{model:Object(o.b)("words.item").toLocaleLowerCase()}),okText:Object(o.b)("phrases.yes_delete"),okType:"danger",cancelText:Object(o.b)("verbs.cancel"),onOk:()=>{b(l),i()}})}),[i,l,b]);return Object(S.jsxs)(T,{children:[d&&Object(S.jsx)(w.a,{size:"large",block:!0,onClick:u,danger:!0,children:Object(S.jsx)(n.h,{$semibold:!0,$size:18,children:Object(o.b)("verbs.delete")})}),Object(S.jsx)(w.a,{size:"large",block:!0,onClick:i,children:Object(S.jsx)(n.h,{$semibold:!0,$size:18,children:Object(o.b)("verbs.cancel")})}),Object(S.jsx)(w.a,{size:"large",block:!0,type:"primary",onClick:c,children:Object(S.jsx)(n.h,{$semibold:!0,$size:18,children:Object(o.b)("verbs.save")})})]})};R.displayName="Footer";var M=Object(s.memo)(R);const T=A.d.div.withConfig({componentId:"wb__sc-1kptwz-0"})(["display:flex;justify-content:flex-end;.ant-btn + .ant-btn{margin-left:8px;}"]),L=(e,t)=>{const{setFieldsValue:a,getFieldValue:i,onClose:r}=e,[l,d]=Object(s.useState)(!1),[b,u]=Object(s.useState)(),[j]=c.a.useForm(),m=Object(s.useCallback)(((e,t)=>{d(!0),u(e),j.setFieldsValue({id:e.id,inventory_product_id:e.inventory_product_id,original_cents:e.original_cents,price_cents:e.price_cents,quantity:e.quantity,item_name:t})}),[j]),p=Object(s.useCallback)((()=>{d(!1),r&&r()}),[r]);Object(s.useImperativeHandle)(t,(()=>({open:m,close:p})));const h=Object(s.useCallback)((e=>{const t=i("items_attributes")||[];if(e.id){const s=t.map((t=>t.id===e.id?e:t));a({items_attributes:s})}else e.id=`items_attributes_${t.length+1}`,a({items_attributes:[...t,e]})}),[a,i]),O=Object(s.useCallback)((e=>{const t={id:e.id,inventory_product_id:e.inventory_product_id,original_cents:e.original_cents,price_cents:e.price_cents,quantity:e.quantity};h(t),p()}),[p,h]),_=Object(s.useCallback)((e=>{e||j.resetFields()}),[j]),x=null===b||void 0===b?void 0:b.id;return Object(S.jsx)(n.a,{open:l,push:!1,onClose:p,afterOpenChange:_,height:"100%",placement:"bottom",title:x?`${Object(o.b)("verbs.edit")} ${Object(o.b)("words.item")}`:Object(o.b)("phrases.add_item"),footer:Object(S.jsx)(M,{setFieldsValue:a,getFieldValue:i,item:b,close:p,submit:()=>j.submit()}),children:Object(S.jsx)(c.a,{form:j,layout:"vertical",onFinish:O,children:Object(S.jsx)(P,{})})})};L.displayName="EditPackageTemplateItem";var V=Object(s.memo)(Object(s.forwardRef)(L)),H=a(762),U=a(831),G=a(832);const Y=(e,t)=>{const{setFieldsValue:a,getFieldValue:i}=e,[c,r]=Object(s.useState)(!1),[l,d]=Object(s.useState)(),[b,u]=Object(s.useState)(),j=Object(s.useRef)(null),m=Object(s.useCallback)((()=>{r(!0)}),[]),p=Object(s.useCallback)((()=>{r(!1),u(void 0),d(void 0)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:m,close:p})));const h=Object(s.useCallback)((()=>{u(!1)}),[]),O=Object(s.useCallback)((()=>{u(!0)}),[]),_=Object(s.useCallback)((()=>{u(void 0)}),[]),x=Object(s.useCallback)((e=>{var t;const a={inventory_product_id:e.id,original_cents:e.price_cents,price_cents:e.price_cents,quantity:1};null===(t=j.current)||void 0===t||t.open(a,e.description),d(void 0)}),[]);return Object(S.jsxs)(J,{open:c,onClose:p,closable:!1,destroyOnClose:!0,height:"100%",placement:"bottom",push:!1,title:Object(S.jsx)(G.a,{search:l,step:"product",is_service:b,setSearch:d,back:_,close:p}),children:[Object(S.jsx)("div",{children:void 0===b?l?Object(S.jsx)(U.a,{search:l,handleChangeProduct:x}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(W,{onClick:O,children:[Object(S.jsx)(n.h,{$size:18,$semibold:!0,children:Object(o.b)("words.service",{count:2})}),Object(S.jsx)(n.d,{as:N.a,$size:18})]}),Object(S.jsxs)(W,{onClick:h,children:[Object(S.jsx)(n.h,{$size:18,$semibold:!0,children:Object(o.b)("words.product",{count:2})}),Object(S.jsx)(n.d,{as:N.a,$size:18})]})]}):Object(S.jsx)(H.a,{services:b,search:l,handleChangeProduct:x})}),Object(S.jsx)(V,{setFieldsValue:a,getFieldValue:i,onClose:p,ref:j})]})};Y.displayName="NewPackageTemplateDrawer";var Q=Object(s.memo)(Object(s.forwardRef)(Y));const J=Object(A.d)(n.a).withConfig({componentId:"wb__sc-f8srse-0"})([".ant-drawer-header{padding:max(10px,var(--safe-area-inset-top)) 15px 20px 15px;}.ant-drawer-body{padding-left:0;padding-right:0;padding-top:10px !important;}"]),W=Object(A.d)(n.g).attrs({$alignCenter:!0,justify:"space-between",$paddings:[10,0],$backgroundColor:"white"}).withConfig({componentId:"wb__sc-f8srse-1"})(["border-bottom:1px solid #f1f1f1;"]);var Z=a(579),K=a(615),X=a(612),ee=a(27);const te=e=>{const{package_template_item:t,setFieldsValue:a,getFieldValue:i}=e,c=Object(ee.a)((e=>e.inventory_products)).find((e=>e.id===t.inventory_product_id)),l=Object(s.useRef)(null),d=Object(s.useCallback)((e=>{const t=(i("items_attributes")||[]).map((t=>t.id===e.id?{...t,_destroy:!0}:t));a({items_attributes:t})}),[a,i]),b=Object(s.useCallback)((()=>{r.c.confirm({centered:!0,className:"webook-modal",title:Object(o.b)("phrases.confirm"),maskClosable:!0,content:Object(o.b)("phrases.confirm_delete",{model:Object(o.b)("words.item").toLocaleLowerCase()}),okText:Object(o.b)("phrases.yes_delete"),okType:"danger",cancelText:Object(o.b)("verbs.cancel"),onOk:()=>d(t)})}),[d,t]),u=Object(s.useMemo)((()=>({content:Object(S.jsx)(X.a,{icon:k.a,label:Object(o.b)("verbs.delete"),direction:"left",color:"red"}),action:()=>b()})),[b]);return Object(S.jsxs)(K.SwipeableListItem,{swipeLeft:u,children:[Object(S.jsxs)(n.g,{$alignCenter:!0,justify:"space-between",$paddings:[10,0],style:{borderBottom:"1px solid #f1f1f1"},onClick:()=>{var e;return null===(e=l.current)||void 0===e?void 0:e.open(t,null===c||void 0===c?void 0:c.description)},children:[Object(S.jsxs)(se,{$column:!0,$right:10,children:[Object(S.jsx)(n.h,{$block:!0,$size:12,children:`${t.quantity} ${Object(o.b)("words.item",{count:t.quantity})}`}),Object(S.jsx)(n.h,{$block:!0,$textEllipsis:!0,$semibold:!0,children:null===c||void 0===c?void 0:c.description}),Object(S.jsx)(n.h,{$block:!0,children:Object(o.b)("package_template.unit_price",{price:Object(Z.d)(t.price_cents)})})]}),Object(S.jsx)(ie,{children:Object(S.jsx)(n.h,{$semibold:!0,$block:!0,children:Object(Z.d)(t.price_cents*t.quantity)})})]}),Object(S.jsx)(V,{setFieldsValue:a,getFieldValue:i,ref:l})]})};te.displayName="PackageTemplateItemMobile";var ae=Object(s.memo)(te,i.isEqual);const se=Object(A.d)(n.g).withConfig({componentId:"wb__sc-83f8h4-0"})(["overflow:hidden;"]),ie=Object(A.d)(n.g).withConfig({componentId:"wb__sc-83f8h4-1"})(["flex:unset;width:auto;justify-content:flex-end;"]);var ce=a(595),ne=a(590);var re=e=>{const{setFieldsValue:t,getFieldValue:a}=e,i=Object(s.useRef)(null),r=Object(s.useCallback)((()=>{var e;null===(e=i.current)||void 0===e||e.open()}),[]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(ne.a,{children:[Object(S.jsxs)(ce.a,{style:{padding:20},children:[Object(S.jsx)(c.a.Item,{name:"id",noStyle:!0,children:Object(S.jsx)(x.a,{type:"hidden"})}),Object(S.jsx)(n.g,{children:Object(S.jsx)(v.a,{xs:24,sm:24,children:Object(S.jsx)(c.a.Item,{label:Object(S.jsx)(n.h,{$semibold:!0,$size:16,children:Object(o.b)("words.name")}),name:"name",rules:[{required:!0,message:Object(o.b)("phrases.required_field")}],children:Object(S.jsx)(x.a,{size:"large",placeholder:Object(o.b)("words.name")})})})})]}),Object(S.jsx)(n.g,{$column:!0,$paddings:20,children:Object(S.jsx)(ce.a,{style:{padding:"5px"},children:Object(S.jsx)(n.g,{$column:!0,children:Object(S.jsx)(c.a.Item,{shouldUpdate:(e,t)=>e.items_attributes!==t.items_attributes,noStyle:!0,children:e=>{let{getFieldValue:a}=e;return(a("items_attributes")||[]).some((e=>!e._destroy&&!!e.inventory_product_id))?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(n.h,{$bold:!0,$size:16,children:Object(o.b)("words.package_item",{count:2})}),Object(S.jsx)(c.a.List,{name:"items_attributes",children:e=>e.map((e=>{const s=a(["items_attributes",e.name,"_destroy"]);if(!a(["items_attributes",e.name,"inventory_product_id"])||s)return null;const i=a(["items_attributes",e.name]);return Object(S.jsx)(n.g,{children:Object(S.jsx)(ae,{setFieldsValue:t,getFieldValue:a,package_template_item:i})},e.key)}))}),Object(S.jsxs)(n.h,{$size:14,$color:"primary",$semibold:!0,$top:20,onClick:r,children:[Object(S.jsx)(z.a,{})," ",Object(o.b)("phrases.add_item")]})]}):Object(S.jsxs)(n.g,{$column:!0,$justifyCenter:!0,$alignCenter:!0,children:[Object(S.jsx)(n.d,{as:D.a,$top:20,$size:48}),Object(S.jsx)(n.h,{$block:!0,$top:10,$bottom:20,children:Object(o.b)("package_template.empty")}),Object(S.jsx)(w.a,{type:"primary",block:!0,onClick:r,children:Object(o.b)("phrases.add_item")})]})}})})})})]}),Object(S.jsx)(ne.a,{children:Object(S.jsx)(ce.a,{style:{padding:20},children:Object(S.jsxs)(n.g,{align:"middle",children:[Object(S.jsxs)("div",{style:{marginRight:15},children:[Object(S.jsx)(n.h,{$size:16,$semibold:!0,$block:!0,children:Object(o.b)("words.active")}),Object(S.jsx)(n.h,{$align:"justify",$block:!0,children:Object(o.b)("package_template.disable")})]}),Object(S.jsx)(c.a.Item,{name:"active",valuePropName:"checked",initialValue:!0,children:Object(S.jsx)(g.a,{})})]})})}),Object(S.jsx)(Q,{setFieldsValue:t,getFieldValue:a,ref:i})]})};const oe=e=>Object(S.jsx)(_.a,{Desktop:$,Mobile:re,...e});oe.displayName="PackageTemplateForm";var le=Object(s.memo)(oe),de=a(339),be=a(586),ue=a(581);const je=(e,t)=>{let{afterSave:a}=e;const[n,l]=Object(s.useState)(!1),d=Object(ee.a)((e=>e.is_mobile)),[b]=c.a.useForm(),{submit:u,setFieldsValue:j,getFieldValue:p,resetFields:h}=b,[_,{loading:x,error:v}]=O(b),[g,{loading:y}]=m(),f=Object(s.useCallback)((e=>{e?_({variables:{id:e}}):j({items_attributes:[{id:Object(i.uniqueId)("items_attributes_")}]}),l(!0)}),[_,j]),w=Object(s.useCallback)((()=>{l(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:f,close:w})));const k=Object(s.useCallback)((e=>{e||h()}),[h]);return Object(S.jsxs)(me,{open:n,afterOpenChange:k,title:Object(o.b)("words.package_template"),width:850,placement:d?"bottom":"right",height:"100%",onClose:w,closable:!0,destroyOnClose:!0,footer:Object(S.jsx)(ue.a,{is_large:!0,close:w,submit:u,disabled:x,loading:y}),push:!1,children:[Object(S.jsx)(be.a,{visible:!!v}),Object(S.jsxs)(pe,{children:[Object(S.jsx)(de.a,{loading:x}),Object(S.jsx)(c.a,{form:b,layout:"vertical",onFinish:async e=>{const{items_attributes:t=[],...s}=e,i=t.reduce(((e,t)=>{var a,s;let{__typename:i,original_cents:c,...n}=t;return(null===(a=n.id)||void 0===a?void 0:a.includes("items_attributes_"))&&n._destroy||!n.inventory_product_id?[...e]:(null!==(s=n.id)&&void 0!==s&&s.includes("items_attributes_")&&delete n.id,[...e,n])}),[]);if(!i.some((e=>!0!==e._destroy)))return void r.b.warning(Object(o.b)("package_template.select_item"));const c=await g({...s,package_template_items_attributes:i}),{success:n,package_template:l}=c;n&&(r.b.success(Object(o.b)("phrases.saved_successfully",{prefix:Object(o.b)("words.package_template")})),null===a||void 0===a||a(l),w())},style:{width:"100%"},initialValues:{items_attributes:[{id:Object(i.uniqueId)("items_attributes_")}]},children:Object(S.jsx)(le,{setFieldsValue:j,getFieldValue:p})})]})]})};je.displayName="PackageTemplateDrawer";t.a=Object(s.memo)(Object(s.forwardRef)(je));const me=Object(A.d)(n.a).withConfig({componentId:"wb__sc-scshj-0"})([".ant-drawer-header,.ant-drawer-body{","}"],(e=>e.theme.is_mobile&&"background: #f8f8f8;")),pe=Object(A.d)(n.g).withConfig({componentId:"wb__sc-scshj-1"})(["position:relative;"])},891:function(e,t,a){"use strict";var s=a(0),i=a(250),c=a(27),n=a(37),r=a(405),o=a(76);const l=n.e`
  query ElectronicSignature($signaturable_id: ID!, $signaturable_type: String!) {
    current_salon {
      id
      electronic_signature_balance
    }

    electronic_signature(signaturable_id: $signaturable_id, signaturable_type: $signaturable_type) {
      id
      external_document_url
      signed_at
      status
      created_at
      updated_at
    }
  }
`;var d=e=>Object(r.f)(l,{skip:!e.signaturable_id,fetchPolicy:"network-only",variables:e,onError:e=>{o.a.captureException(e),console.log({error:e})}}),b=a(586),u=a(18),j=a(53),m=a.n(j),p=a(2937),h=a(2976),O=a(538),_=a(159),x=a(19),v=a(116),g=a(50),y=a(1850);const f=n.e`
  mutation CreateElectronicSignature($data: CreateElectronicSignatureInput!) {
    createElectronicSignature(input: $data) {
      success
      errors
    }
  }
`;var w=()=>{const[e,{loading:t}]=Object(y.a)(f);return[async t=>{try{const{data:a}=await e({variables:{data:t}}),{success:s=!1,errors:i=[]}=(null===a||void 0===a?void 0:a.createElectronicSignature)||{};return null===i||void 0===i||i.forEach((e=>v.b.error(e))),{success:s}}catch(a){return o.a.captureException(a),v.b.error(Object(g.b)("phrases.generic_save_error_message")),console.error(a),{success:!1}}},t]},k=a(600),C=a(658),I=a(1256),A=a(1810),S=a(440),$=a(2883),E=a(579),F=a(962),D=a(869);const z=n.e`
  mutation RechargeSignaturesMutation($data: ElectronicSignatureBuyInput!) {
    electronicSignatureBuy(input: $data) {
      success
      errors
      electronic_signature_buy {
        id
        paid_status
        qr_code
        qr_expired
      }
    }
  }
`;var N=()=>{const[e,{loading:t}]=Object(y.a)(z);return[async t=>{try{const{data:a}=await e({variables:{data:{...t,device_attributes:D.a}}}),{success:s=!1,errors:i,electronic_signature_buy:c}=(null===a||void 0===a?void 0:a.electronicSignatureBuy)||{};return null===i||void 0===i||i.map((e=>v.b.error(e))),{success:s,electronic_signature_buy:c}}catch(a){return o.a.captureException(a),v.b.error(Object(g.b)("phrases.generic_save_error_message")),console.error(a),{success:!1,electronic_signature_buy:null}}},t]},q=a(581),B=a(608),P=a(1442),R=a(199),M=a(3063),T=a(3002),L=a(1438),V=a(2824),H=a(654),U=a(22);const G=e=>{let{qr_code:t,is_paid:a,has_expired:s,close:c}=e;const n=Object(H.a)();return Object(U.jsxs)(i.g,{$column:!0,children:[Object(U.jsxs)("div",{children:[Object(U.jsx)(i.h,{$size:20,$bold:!0,children:Object(g.b)("subscription.pix_page.title")}),Object(U.jsxs)("ol",{style:{paddingLeft:30},children:[Object(U.jsx)("li",{children:Object(g.b)("subscription.pix_page.step_1")}),Object(U.jsx)("li",{children:Object(g.b)("subscription.pix_page.step_2")}),Object(U.jsx)("li",{children:Object(g.b)("subscription.pix_page.step_3")})]})]}),Object(U.jsx)(Q,{children:Object(U.jsx)(T.a,{errorLevel:"M",size:200,value:t||" ",status:s?"expired":a?"scanned":"active",statusRender:e=>{switch(e.status){case"expired":return Object(U.jsxs)(O.a,{direction:"vertical",align:"center",children:[Object(U.jsx)(i.h,{children:Object(g.b)("subscription.pix_page.expired_code")}),Object(U.jsx)(_.a,{style:{marginTop:10},type:"primary",onClick:c,children:Object(g.b)("verbs.back")})]});case"scanned":return Object(U.jsxs)(O.a,{children:[Object(U.jsx)(i.h,{children:Object(g.b)("phrases.payment_successfully")}),Object(U.jsx)(P.a,{})]});default:return null}}})}),!s&&!a&&Object(U.jsxs)(i.h,{$fullWidth:!0,$alignCenter:!0,children:[Object(g.b)("subscription.pix_page.awaiting_payment"),"\xa0",Object(U.jsx)(R.a,{})]}),Object(U.jsx)(L.a,{}),Object(U.jsxs)(O.a,{direction:"vertical",size:14,children:[Object(U.jsx)(i.h,{$bold:!0,children:Object(g.b)("subscription.pix_page.or_copy_code_qr_to_pay")}),Object(U.jsx)(i.h,{children:Object(g.b)("subscription.pix_page.description")}),Object(U.jsx)(V.a,{disabled:!0,value:t,suffix:Object(U.jsx)(_.a,{disabled:s,icon:Object(U.jsx)(M.a,{}),type:"link",onClick:()=>n(t),children:Object(g.b)("verbs.copy")})})]})]})};G.displayName="QrCodePage";var Y=Object(s.memo)(G);const Q=x.d.div.withConfig({componentId:"wb__sc-c3pnzg-0"})(["position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:30px 0;"]);var J=a(2879);const W=n.e`
  query getAddonBuyQuery($id: ID!) {
    electronic_signature_buy(id: $id) {
      id
      qr_code
      qr_expired
      paid_status
    }
  }
`;var Z=()=>Object(J.a)(W,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0});const K=(e,t)=>{const[a,n]=Object(s.useState)(),[r,o]=Object(s.useState)(!1),{afterSave:l}=e,d=Object(c.a)((e=>e.is_mobile)),b=(null===a||void 0===a?void 0:a.qr_code)||"",u=Object(s.useMemo)((()=>"paid"===(null===a||void 0===a?void 0:a.paid_status)),[null===a||void 0===a?void 0:a.paid_status]),j=Object(s.useMemo)((()=>!(null===a||void 0===a||!a.qr_expired)),[null===a||void 0===a?void 0:a.qr_expired]),[m]=Z(),p=Object(s.useRef)(),h=e=>{var t;o(!0),n(e),t=e.id,p.current=setInterval((async()=>{const{data:e}=await m({variables:{id:t}});n(null===e||void 0===e?void 0:e.electronic_signature_buy)}),3e4)},O=()=>{o(!1)};Object(s.useEffect)((()=>{r||p.current&&clearInterval(p.current)}),[r]),Object(s.useEffect)((()=>{u&&(O(),null===l||void 0===l||l())}),[u]),Object(s.useImperativeHandle)(t,(()=>({open:h,close:O})));const _=Object(s.useCallback)((e=>{e||n(void 0)}),[]);return Object(U.jsx)(i.a,{closable:!0,title:Object(g.b)("electronic_signature_buy.payment_by_pix"),height:"100%",width:500,destroyOnClose:!0,onClose:O,afterOpenChange:_,open:r,placement:d?"bottom":"right",push:!d,footer:null,children:Object(U.jsx)(Y,{qr_code:b,is_paid:u,has_expired:j,close:O})})};K.displayName="PixDrawer";var X=Object(s.forwardRef)(K);const ee=(e,t)=>{const[a,n]=Object(s.useState)("pix"),[r,o]=Object(s.useState)(!1),{afterSave:l}=e,d=Object(c.a)((e=>e.is_mobile)),b=Object(s.useRef)(null),[u,j]=N(),[m]=p.a.useForm(),h=()=>{o(!0)},O=()=>{o(!1)};Object(s.useImperativeHandle)(t,(()=>({open:h,close:O})));const _=()=>{B.a.success({title:Object(g.b)("electronic_signature_buy.success_title"),content:Object(g.b)("electronic_signature_buy.success_content"),maskClosable:!0,closable:!0,className:"webook-modal hide-buttons",onCancel:()=>{O(),null===l||void 0===l||l()}})},x=Object(s.useCallback)((e=>{e||m.resetFields()}),[m]),v=e=>new Array(4).fill(0).map(((t,a)=>Object(U.jsxs)(I.a.Option,{value:a+1,children:[a+1,"x\xa0",Object(g.b)("words.of"),"\xa0",Object(C.d)(e/(a+1))]},a))),y=Object(s.useCallback)((e=>{e&&0!==e.length&&n(e[0])}),[]);return Object(U.jsxs)(i.a,{closable:!0,title:Object(g.b)("electronic_signature_buy.credits_for_signature"),height:"100%",width:550,destroyOnClose:!0,onClose:O,afterOpenChange:x,open:r,placement:d?"bottom":"right",styles:{body:{paddingTop:10}},push:!d,footer:Object(U.jsx)(q.a,{close:O,loading:j,submit:m.submit,save_text:Object(g.b)("electronic_signature_buy.buy_credits")}),children:[Object(U.jsxs)(ae,{children:[Object(U.jsxs)(i.h,{$size:16,$mBottom:24,children:[Object(g.b)("electronic_signature_buy.buy_warning_1"),Object(U.jsx)("br",{}),Object(U.jsxs)("b",{children:["* ",Object(g.b)("electronic_signature_buy.buy_warning_2")]})]}),Object(U.jsxs)(p.a,{form:m,layout:"vertical",onFinish:async e=>{const{success:t,electronic_signature_buy:s}=await u({...e,payment_type:a});var i;t&&s&&(s.qr_code?null===(i=b.current)||void 0===i||i.open(s):_())},scrollToFirstError:!0,children:[Object(U.jsx)(p.a.Item,{name:"quantity",label:Object(g.b)("electronic_signature_buy.select_the_quantity"),rules:[{required:!0,message:Object(g.b)("phrases.required_field")}],children:Object(U.jsx)(A.a.Group,{style:{width:"100%",display:"flex",flexDirection:"column",gap:8},size:"large",options:se.map((e=>{let{value:t,price_cents:a}=e;return{value:t,label:`${t} ${Object(g.b)("words.subscription_other")} - ${Object(E.d)(a)}`}}))})}),Object(U.jsx)(p.a.Item,{noStyle:!0,dependencies:["quantity"],children:e=>{var t;let{getFieldValue:s}=e;const c=s("quantity"),n=(null===(t=se.find((e=>e.value===c)))||void 0===t?void 0:t.price_cents)||0;return Object(U.jsx)(S.a,{accordion:!0,collapsible:j?"disabled":void 0,activeKey:a,onChange:y,items:[{showArrow:!1,label:Object(U.jsx)(ie,{checked:"pix"===a,title:Object(g.b)("words.PIX")}),key:"pix",children:Object(g.b)("subscription.checkout.payment_description",{model:Object(g.b)("words.PIX"),value:Object(C.d)(n)})},{showArrow:!1,label:Object(U.jsx)(ie,{checked:"card"===a,title:Object(g.b)("words.credit_card")}),key:"card",children:Object(U.jsxs)(i.g,{$wrap:!0,children:[Object(U.jsx)($.a,{span:24,children:Object(U.jsx)(p.a.Item,{rules:[{required:"card"===a,message:Object(g.b)("phrases.required_field")}],label:Object(g.b)("words.card"),name:"card_id",children:Object(U.jsx)(F.a,{select_default:!0,size:d?"large":"middle"})})}),Object(U.jsx)($.a,{span:24,children:Object(U.jsx)(p.a.Item,{rules:[{required:"card"===a,message:Object(g.b)("phrases.required_field")}],label:Object(g.b)("words.installment_other"),name:"installments",children:Object(U.jsx)(I.a,{disabled:j,size:d?"large":"middle",placeholder:Object(g.b)("subscription.installmenties_quantity"),children:v(n)})})})]})}]})}})]})]}),Object(U.jsx)(X,{ref:b,afterSave:_})]})};ee.displayName="SignaturesRechargeDrawer";var te=Object(s.forwardRef)(ee);const ae=x.d.div.withConfig({componentId:"wb__sc-wtdi5g-0"})(["display:flex;flex-direction:column;"]),se=[{value:10,price_cents:4700},{value:20,price_cents:8900},{value:40,price_cents:16900},{value:80,price_cents:30900},{value:120,price_cents:51e3}],ie=e=>{let{title:t,checked:a}=e;return Object(U.jsxs)(i.g,{$alignCenter:!0,children:[Object(U.jsx)(A.a,{checked:a}),"\xa0",t]})};ie.displayName="Title";var ce=a(339),ne=a(614);const re=e=>{var t;const{afterSave:a,signaturable_type:n,signaturable_id:r}=e,[o]=p.a.useForm(),l=Object(s.useRef)(null),j=Object(c.a)((e=>e.is_mobile)),{data:x,loading:y,error:f,refetch:C}=d({signaturable_id:r,signaturable_type:n}),I=(null===x||void 0===x||null===(t=x.current_salon)||void 0===t?void 0:t.electronic_signature_balance)||0,A=null===x||void 0===x?void 0:x.electronic_signature,[S,$]=w(),E=()=>{var e;I>0?v.b.info(Object(g.b)("electronic_signature.recharge_available_on_zero_balance")):null===(e=l.current)||void 0===e||e.open()},F="finished"===(null===A||void 0===A?void 0:A.status);return Object(U.jsxs)(oe,{children:[Object(U.jsx)(b.a,{visible:!!f,small:!0}),Object(U.jsx)(ce.a,{loading:y}),Object(U.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",width:"100%",marginBottom:12},children:Object(U.jsx)(i.i,{disabled:$,onClick:E,children:Object(U.jsxs)(i.h,{$color:0===I?"red":"green_1",children:[Object(g.b)("electronic_signature.avaiable_signatures"),": ",Object(U.jsx)("b",{style:{fontSize:"16rem"},children:I}),"\xa0"]})})}),Object(U.jsx)(h.a,{showIcon:!j,type:"info",message:Object(g.b)("electronic_signature.signature_with_legal_validity"),description:Object(g.b)("electronic_signature.signature_with_legal_validity_description")}),!!A&&Object(U.jsx)(O.a,{direction:"vertical",size:12,style:{marginTop:12},children:F?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(h.a,{type:"success",showIcon:!0,message:Object(g.b)("electronic_signature.document_signed")}),Object(U.jsxs)(i.h,{children:[Object(g.b)("electronic_signature.signed_at",{date:m()(A.signed_at,u.H).format("LL, HH:mm[h]")}),", \xa0",Object(U.jsx)(i.h,{onClick:()=>Object(k.a)(A.external_document_url),$link:!0,children:Object(U.jsx)("u",{children:Object(g.b)("electronic_signature.click_to_access")})})]})]}):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(h.a,{type:"warning",showIcon:!0,message:Object(g.b)("electronic_signature.waiting_for_signature")}),Object(U.jsx)(i.h,{children:Object(g.b)("electronic_signature.signatue_requested_in",{date:m()(A.updated_at,u.H).format("LL, HH:mm[h]")})})]})}),!A&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(p.a,{form:o,scrollToFirstError:!0,layout:"vertical",children:Object(U.jsx)(p.a.Item,{style:{marginTop:24},label:Object(g.b)("electronic_signature.employee_signer"),layout:"vertical",name:"employee_signer_id",rules:[{required:!0,message:Object(g.b)("phrases.required_field")}],children:Object(U.jsx)(ne.a,{only_admins:!0,disabled:!!A,showCreateButton:!1})})}),Object(U.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",width:"100%"},children:Object(U.jsx)(_.a,{loading:$,block:j,type:"primary",onClick:async()=>{if(!r)return;const e=await o.validateFields();if(!e)return;if(0===I)return void B.a.information({centered:!0,title:Object(g.b)("electronic_signature.no_balance"),maskClosable:!0,content:Object(g.b)("electronic_signature.no_balance_description"),okText:Object(g.b)("electronic_signature.add_credits"),onOk:E});const t={signaturable_type:n,signaturable_id:r,employee_signer_id:e.employee_signer_id},{success:s}=await S(t);s&&B.a.success({title:Object(g.b)("electronic_signature.signature_requested"),content:Object(g.b)("electronic_signature.signature_requested_description"),maskClosable:!0,closable:!0,className:"webook-modal hide-buttons",onCancel:a})},children:Object(g.b)("phrases.request_signature")})})]}),Object(U.jsx)(te,{ref:l,afterSave:C})]})};re.displayName="ElectronicSignatureContent";t.a=re;const oe=x.d.div.withConfig({componentId:"wb__sc-28mr3m-0"})(["display:flex;flex-direction:column;position:relative;height:100%;",""],(e=>!e.theme.is_mobile&&Object(x.c)(["height:100%;"])))},892:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(2937),n=a(250),r=a(645),o=a(27),l=a(339),d=a(37),b=a(1850),u=a(116),j=a(657),m=a(76);const p=d.e`
  mutation AdvanceDrawerSaveAdvance ($data: SaveAdvanceInput!) {
    saveAdvance (input: $data) {
      success
      errors
    }
  }
`;var h=e=>{const[t,{loading:a}]=Object(b.a)(p);return[async a=>{try{const{data:s}=await t({variables:{data:a}}),{success:i=!1,errors:c=[]}=(null===s||void 0===s?void 0:s.saveAdvance)||{};return null===c||void 0===c||c.forEach((t=>{"Caixa n\xe3o est\xe1 aberto"!==t?u.b.error(t):Object(j.a)(e)})),{success:i}}catch(s){return m.a.captureException(s),u.b.error(Object(i.b)("phrases.generic_save_error_message")),console.error(s),{success:!1}}},{loading:a}]},O=a(2879);const _=d.e`
  query AdvanceDrawerFetch($id: ID) {
    advance(id: $id) {
      id date note source value_cents chart_id payment_id account_id employee_id generate_bill

      advance_recurrence {
        id
        advances {
          id
          date
        }
      }
    }
  }
`;var x=e=>Object(O.a)(_,{fetchPolicy:"network-only",onCompleted:t=>{e(t.advance)},onError:e=>{m.a.captureException(e),console.log(e)}}),v=a(543),g=a(2824),y=a(2883),f=a(3023),w=a(2838),k=a(646),C=a(666),I=a(614),A=a(672),S=a(584),$=a(653),E=a(1829),F=a(159),D=a(53),z=a.n(D),N=a(22);const q=e=>{let{loadAdvance:t}=e;return Object(N.jsx)(c.a.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.advance_recurrence!==t.advance_recurrence||e.id!==t.id,children:e=>{let{getFieldValue:a}=e;const s=a("id"),n=a("advance_recurrence"),r=(null===n||void 0===n?void 0:n.advances)||[];return 0===r.length?null:Object(N.jsx)(c.a.Item,{label:Object(i.b)("words.recurrence",{count:2}),style:{marginBottom:10},children:Object(N.jsx)(v.a,{gutter:16,children:Object(N.jsxs)(y.a,{span:24,children:[r.map((e=>Object(N.jsx)(F.a,{icon:Object(N.jsx)(E.a,{}),style:{marginRight:5,marginBottom:5},onClick:()=>t(e.id),type:e.id===s?"primary":"default",children:z()(e.date).format("L")},e.id))),Object(N.jsx)(c.a.Item,{style:{marginBottom:0},name:"affect_future_recurrences",valuePropName:"checked",label:Object(i.b)("finance.drawers.apply_future_advances"),children:Object(N.jsx)(f.a,{})})]})})})}})};q.displayName="RecurrenceList";var B=q;var P=e=>{let{employee_id:t,editing:a,setFieldsValue:n,loadAdvance:r}=e;const[l,d]=Object(s.useState)(!1),b=Object(o.a)((e=>e.is_mobile));return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(v.a,{gutter:8,children:[Object(N.jsx)(c.a.Item,{name:"id",noStyle:!0,children:Object(N.jsx)(g.a,{type:"hidden"})}),Object(N.jsx)(y.a,{span:12,children:Object(N.jsx)(c.a.Item,{name:"value_cents",label:Object(i.b)("words.value"),rules:[{required:!0,message:Object(i.b)("phrases.required_field")},{type:"number",min:1,message:Object(i.b)("phrases.enter_value")}],children:Object(N.jsx)(S.a,{size:b?"large":"middle"})})}),Object(N.jsx)(y.a,{span:12,children:Object(N.jsx)(c.a.Item,{name:"date",label:Object(i.b)("words.due"),rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(N.jsx)($.b,{})})}),Object(N.jsx)(y.a,{span:24,children:Object(N.jsx)(c.a.Item,{name:"employee_id",label:Object(i.b)("finance.drawers.paid_to_employee"),rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(N.jsx)(I.a,{size:b?"large":"middle",disabled:!!t})})}),Object(N.jsx)(y.a,{span:24,children:Object(N.jsx)(c.a.Item,{name:"chart_id",label:Object(i.b)("words.category"),rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(N.jsx)(A.a,{size:b?"large":"middle",defaultOption:"Advance",kind:"D"})})}),Object(N.jsx)(y.a,{span:24,children:Object(N.jsx)(c.a.Item,{name:"payment_id",label:Object(i.b)("words.payment_type"),rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(N.jsx)(C.a,{size:b?"large":"middle",onChange:(e,t)=>{const a=t.item;a&&n({account_id:a.account_id})},default_cash:!1})})}),Object(N.jsx)(y.a,{span:24,children:Object(N.jsx)(c.a.Item,{name:"account_id",label:Object(i.b)("words.account"),rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(N.jsx)(k.a,{size:b?"large":"middle"})})}),Object(N.jsx)(y.a,{span:24,children:Object(N.jsxs)(v.a,{align:"middle",children:[Object(N.jsx)(c.a.Item,{style:{marginBottom:5},name:"source",valuePropName:"checked",getValueFromEvent:e=>e?"commission":"none",getValueProps:e=>({checked:"commission"===e}),children:Object(N.jsx)(f.a,{})}),"\xa0",Object(i.b)("finance.drawers.commission_advance")]})}),Object(N.jsx)(y.a,{span:24,children:Object(N.jsxs)(v.a,{align:"middle",children:[Object(N.jsx)(c.a.Item,{style:{marginBottom:5},name:"generate_bill",valuePropName:"checked",children:Object(N.jsx)(f.a,{})}),"\xa0",Object(i.b)("finance.drawers.generate_financial_transaction")]})})]}),Object(N.jsxs)(v.a,{gutter:8,children:[!a&&Object(N.jsx)(y.a,{span:24,children:Object(N.jsxs)(c.a.Item,{children:[Object(N.jsx)(f.a,{checked:l,onChange:()=>d(!l)}),"\xa0",Object(i.b)("finance.drawers.add_recurrence")]})}),Object(N.jsx)(y.a,{xs:24,sm:24,md:24,style:{display:l?void 0:"none"},children:Object(N.jsx)(c.a.Item,{name:"recurrences",label:Object(i.b)("finance.drawers.number_recurrences"),extra:Object(i.b)("words.monthly"),children:Object(N.jsx)(w.a,{min:1,max:100,inputMode:"numeric",style:{width:"100%"},placeholder:Object(i.b)("phrases.enter_value"),size:b?"large":"middle"})})})]}),Object(N.jsxs)(v.a,{gutter:8,children:[Object(N.jsx)(y.a,{span:24,children:Object(N.jsx)(c.a.Item,{name:"note",label:Object(i.b)("words.observation"),children:Object(N.jsx)(g.a.TextArea,{size:b?"large":"middle",maxLength:65535,placeholder:Object(i.b)("input.enter_description")})})}),Object(N.jsx)(c.a.Item,{name:"recurrence",hidden:!0,children:Object(N.jsx)(g.a,{})}),Object(N.jsx)(B,{loadAdvance:r})]})]})},R=a(3024),M=a(1426),T=a(911),L=a(19);const V=e=>{let{has_recurrences:t,advance_id:a,loading:c,submit:r,close:l,afterSave:d}=e;const b=Object(o.a)((e=>e.is_mobile)),[j,m]=Object(s.useState)(!1),[p,h]=Object(s.useState)(!1),[O,{loading:_}]=Object(T.a)(),x=Object(s.useCallback)((async()=>{const e=await O(a,p);null!==e&&void 0!==e&&e.success&&(m(!1),u.b.success(Object(i.b)("phrases.deleted_successfully",{prefix:Object(i.b)("words.advance")})),l(),null===d||void 0===d||d())}),[a,p,d,l,O]);return Object(N.jsxs)(U,{children:[Object(N.jsx)(R.a,{width:400,footer:null,closable:!1,open:j,afterClose:()=>h(!1),children:Object(N.jsxs)(M.a,{spinning:c,children:[Object(N.jsx)(n.h,{$size:15,$semibold:!0,$bottom:20,children:Object(i.b)("phrases.confirm_delete",{model:Object(i.b)("words.advance").toLocaleLowerCase()})}),Object(N.jsx)(n.h,{$block:!0,$bottom:20,children:t&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(n.h,{$block:!0,$bottom:10,children:[Object(i.b)("finance.transactions.delete_next_recurrences"),":"]}),Object(N.jsx)(f.a,{checked:p,onChange:e=>h(e)})]})}),Object(N.jsxs)(v.a,{gutter:8,justify:"end",children:[Object(N.jsx)(y.a,{children:Object(N.jsx)(F.a,{onClick:()=>m(!1),children:Object(i.b)("verbs.cancel")})}),Object(N.jsx)(y.a,{children:Object(N.jsx)(F.a,{danger:!0,type:"primary",onClick:x,loading:_,children:Object(i.b)("verbs.delete")})})]})]})}),!!a&&Object(N.jsx)(F.a,{size:b?"large":"middle",block:b,disabled:c,onClick:()=>m(!0),type:"primary",danger:!0,children:Object(N.jsx)(n.h,{$semibold:!0,children:Object(i.b)("verbs.delete")})}),Object(N.jsx)(F.a,{size:b?"large":"middle",block:b,loading:c,disabled:c,type:"primary",onClick:r,children:Object(N.jsx)(n.h,{$semibold:!0,children:Object(i.b)("verbs.save")})})]})};V.displayName="Footer";var H=Object(s.memo)(V);const U=L.d.div.withConfig({componentId:"wb__sc-1ye2skw-0"})(["display:flex;justify-content:flex-end;.ant-btn + .ant-btn{margin-left:8px;}"]),G=(e,t)=>{const{employee_id:a,afterSave:d}=e,b=Object(o.a)((e=>e.is_mobile)),j=Object(o.a)((e=>e.current_user.permissions)),[m,p]=Object(s.useState)(!1),[O,_]=Object(s.useState)(),[v,g]=Object(s.useState)(!1),[y]=c.a.useForm(),{setFieldsValue:f,resetFields:w,submit:k}=y,C=Object(s.useRef)(null),I=Object(s.useCallback)((()=>{var e;j.can_access_cash_accounting?null===(e=C.current)||void 0===e||e.open():u.b.warning(Object(i.b)("phrases.no_permission_to_do_this"))}),[j.can_access_cash_accounting]),A=Object(s.useCallback)((e=>{const{date:t}=e,s={...e,date:t?z()(t):void 0,employee_id:e.employee_id||a};g(!!s.advance_recurrence),f(s)}),[a,f]),[S,{loading:$}]=x(A),[E,{loading:F}]=h(I),D=Object(s.useCallback)((e=>{_(e),S({variables:{id:e}})}),[S]),q=Object(s.useCallback)((e=>{p(!0),e&&D(e)}),[D]),B=Object(s.useCallback)((()=>{p(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:q,close:B})));const R=Object(s.useCallback)((async e=>{const{date:t,...a}=e,s={...a,date:t?t.format("YYYY-MM-DD"):void 0},{success:c}=await E(s);c&&(u.b.success(Object(i.b)("phrases.saved_successfully",{prefix:Object(i.b)("words.advance")})),B(),null===d||void 0===d||d())}),[d,B,E]),M=Object(s.useCallback)((e=>{e||(w(),_(void 0),g(!1))}),[w]);return Object(N.jsxs)(n.a,{open:m,title:O?Object(i.b)("finance.drawers.editing_advance"):Object(i.b)("finance.drawers.new_advance"),placement:b?"bottom":"right",height:"100%",width:450,onClose:B,closable:!0,destroyOnClose:!0,afterOpenChange:M,footer:Object(N.jsx)(H,{has_recurrences:v,advance_id:O,loading:$||F,submit:k,close:B,afterSave:d}),children:[Object(N.jsx)(l.a,{loading:$}),Object(N.jsx)(c.a,{initialValues:{value_cents:0,date:z()(),employee_id:a,source:"commission",generate_bill:!0,recurrence:void 0,recurrences:void 0,affect_future_recurrences:!1},form:y,layout:"vertical",onFinish:R,children:Object(N.jsx)(P,{loadAdvance:D,setFieldsValue:f,editing:!!O,employee_id:a})}),Object(N.jsx)(r.a,{ref:C})]})};G.displayName="AdvanceDrawer";t.a=Object(s.memo)(Object(s.forwardRef)(G))},894:function(e,t,a){"use strict";a.r(t),a.d(t,"StyledBadge",(function(){return k})),a.d(t,"StyledSkeleton",(function(){return A})),a.d(t,"StyledHeader",(function(){return S})),a.d(t,"TopContent",(function(){return $})),a.d(t,"HeaderActions",(function(){return E})),a.d(t,"Title",(function(){return F}));var s=a(0),i=a(50),c=a(2969),n=a(282),r=a(250),o=a(19),l=a(2853),d=a(598),b=a(1236),u=a(27);var j=[{target:".table-configuration",content:Object(i.b)("joyride.step_1"),placement:"left",disableBeacon:!0},{target:".table-sort",content:Object(i.b)("joyride.step_2")},{target:".table-select-all",content:Object(i.b)("joyride.step_3")},{target:".table-mass-actions",content:Object(i.b)("joyride.step_4"),placement:"left"},{target:".table-pagination",content:Object(i.b)("joyride.step_5"),placement:"left"},{target:".table-joyride",content:Object(i.b)("joyride.step_6")}],m=a(22);const p=e=>{let{run:t,setRun:a}=e;const s=Object(u.a)((e=>e.theme));return Object(m.jsx)(b.b,{callback:e=>{const{status:t}=e;[b.a.FINISHED,b.a.SKIPPED].includes(t)&&a(!1)},continuous:!0,hideCloseButton:!0,run:t,showSkipButton:!0,spotlightClicks:!0,disableOverlayClose:!0,steps:j,locale:{back:Object(i.b)("verbs.back"),close:Object(i.b)("verbs.close"),last:Object(i.b)("verbs.close"),next:Object(i.b)("words.next"),skip:Object(i.b)("verbs.close")},styles:{options:{zIndex:1e4,primaryColor:s.colors.primary}}})};p.displayName="JoyrideListing";var h=p,O=a(53),_=a.n(O),x=a(856);var v=()=>{const[e,t]=Object(s.useState)(!1),a=Object(u.a)((e=>e.banners)),i=Object(u.a)((e=>{var t;return(null===(t=e.current_user)||void 0===t?void 0:t.banner_users)||[]})),c=Object(d.b)((e=>e.has_joyride)),n=Object(d.b)((e=>e.loading)),[r]=Object(x.a)();return Object(s.useEffect)((()=>{var e;if(!c)return;if(n)return;const s=null===(e=a.find((e=>"JoyrideListing"===e.title)))||void 0===e?void 0:e.id,o=i.find((e=>e.banner_id===s));if(!s)return;if(o)return;r({variables:{data:{banner_id:s,closed_at:_()().toISOString(),show_again_at:null}}});const l=setTimeout((()=>{t(!0)}),2e3);return()=>clearTimeout(l)}),[i,a,c,n,r]),c?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(g,{className:"table-joyride",$color:"primary",onClick:()=>t(!0),as:l.a}),Object(m.jsx)(h,{run:e,setRun:t})]}):null};const g=Object(o.d)(r.d).withConfig({componentId:"wb__sc-1ncr03e-0"})(["margin-left:5px;"]);var y=a(747),f=a(937);const w=e=>{const{loading:t=!1,title:a,children:s,tabs:c,onTabClick:n,isTabSelected:r,onSearch:o,...l}=e;return Object(m.jsxs)(S,{...l,children:[Object(m.jsxs)($,{children:[Object(m.jsx)(A,{loading:t,active:!0,paragraph:{rows:1},title:!1,children:Object(m.jsx)(f.a,{style:{overflow:"hidden"},children:Object(m.jsxs)(F,{children:[a,Object(m.jsx)(y.a,{}),Object(m.jsx)(v,{})]},"title")})}),Object(m.jsx)(A,{className:"right",loading:t,active:!0,paragraph:{rows:1,width:200},title:!1,children:Object(m.jsx)(E,{children:s})})]}),c&&Object(m.jsx)(D,{children:c.map(((e,t)=>Object(m.jsx)(k,{count:e.is_new?Object(i.b)("words.new"):"",size:"small",offset:[-25,-4],children:Object(m.jsx)(I,{onClick:()=>null===n||void 0===n?void 0:n(e),$selected:null===r||void 0===r?void 0:r(e),disabled:e.disabled,hidden:e.hidden,children:e.label})},`${e.path}-${t}`)))})]})};w.displayName="HeaderDesktop";t.default=Object(s.memo)(w);const k=Object(o.d)(c.a).withConfig({componentId:"wb__sc-1pdqf8i-0"})(["color:",";sup{background-color:"," !important;font-size:8rem !important;}"],(e=>e.theme.colors.default_text),(e=>e.theme.colors.primary)),C=Object(o.c)(["color:",";&::after{opacity:1;}"],(e=>e.theme.colors.primary)),I=Object(o.d)(r.i).withConfig({componentId:"wb__sc-1pdqf8i-1"})(["display:flex;flex-direction:row;color:",";font-weight:600;font-size:16rem;margin-right:20px;position:relative;padding:4px 0 12px;line-height:16px;transition:color 0.1s;&::after{position:absolute;bottom:0;left:0;backface-visibility:hidden;width:100%;display:block;height:2px;content:'';transition:opacity 0.1s linear 0s;background-color:",";border-radius:20px;opacity:0;}",""],(e=>e.theme.colors.default_text),(e=>e.theme.colors.primary),(e=>e.$selected&&C)),A=Object(o.d)(n.a).withConfig({componentId:"wb__sc-1pdqf8i-2"})([".ant-skeleton-content{padding:0 !important;}&.right{.ant-skeleton-paragraph{display:flex;justify-content:flex-end;}}.ant-skeleton-paragraph{margin-bottom:0;}"]),S=o.d.header.withConfig({componentId:"wb__sc-1pdqf8i-3"})(["z-index:120;transition:left .2s;"," "," "," ",""],(e=>!e.$transparent&&Object(o.c)(["background:rgb(248,248,248,1);@supports ((-webkit-backdrop-filter:blur(20px)) or (backdrop-filter:blur(20px))){background:rgb(248 248 248 / 90%);backdrop-filter:blur(20px);}"])),(e=>e.$showBottomBorder&&Object(o.c)(["border-bottom:1px solid #f1f1f1;"])),(e=>e.$sticky&&Object(o.c)(["position:sticky;top:0;"])),(e=>e.$fixed&&Object(o.c)(["position:fixed;top:0;left:","px;right:0;"],e.theme.main_sidebar_retracted?80:230))),$=o.d.div.withConfig({componentId:"wb__sc-1pdqf8i-4"})(["height:50px;display:flex;justify-content:space-between;align-items:center;"]),E=o.d.div.withConfig({componentId:"wb__sc-1pdqf8i-5"})(["display:flex;flex:1;justify-content:flex-end;& > *{margin-left:8px;}"]),F=o.d.h2.withConfig({componentId:"wb__sc-1pdqf8i-6"})(["display:flex;align-items:center;margin:0;color:",";font-size:24rem;font-weight:bold;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],(e=>e.theme.colors.default_text)),D=o.d.div.withConfig({componentId:"wb__sc-1pdqf8i-7"})(["display:flex;align-items:center;justify-content:left;white-space:nowrap;"])},895:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(2937),n=a(250),r=a(27),o=a(37),l=a(1850),d=a(116),b=a(76);const u=o.e`
  mutation inventoryBrandSave($data: Inventory_Brand_SaveInput!) {
    inventoryBrandSave(input: $data) {
      success
      errors
    }
  }
`;var j=()=>{const[e,{loading:t}]=Object(l.a)(u);return[async t=>{try{const{data:a}=await e({variables:{data:t}}),{success:s=!1,errors:i=[]}=(null===a||void 0===a?void 0:a.inventoryBrandSave)||{};return null===i||void 0===i||i.forEach((e=>d.b.error(e))),{success:s}}catch(a){return b.a.captureException(a),d.b.error(Object(i.b)("phrases.generic_save_error_message")),console.error(a),{success:!1}}},{loading:t}]},m=a(543),p=a(2824),h=a(2883),O=a(3023),_=a(22);const x=e=>{let{id:t}=e;const a=Object(s.useRef)(null);return Object(s.useEffect)((()=>{let e;return t||(e=setTimeout((()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.focus()}),700)),()=>clearTimeout(e)}),[t]),Object(_.jsxs)(m.a,{gutter:8,children:[Object(_.jsx)(c.a.Item,{name:"id",noStyle:!0,children:Object(_.jsx)(p.a,{type:"hidden",autoComplete:"off"})}),Object(_.jsx)(h.a,{flex:"1 1 400px",children:Object(_.jsx)(c.a.Item,{name:"name",label:Object(i.b)("words.name"),rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(_.jsx)(p.a,{ref:a,placeholder:Object(i.b)("words.name")})})}),Object(_.jsx)(h.a,{flex:"0 1 55px",children:Object(_.jsx)(c.a.Item,{name:"active",label:Object(i.b)("words.active"),valuePropName:"checked",initialValue:!0,children:Object(_.jsx)(O.a,{})})})]})};x.displayName="BrandForm";var v=x,g=a(581);const y=(e,t)=>{let{onSave:a}=e;const[o,l]=Object(s.useState)(!1),[b,u]=Object(s.useState)(),m=Object(r.a)((e=>e.is_mobile)),[p]=c.a.useForm(),{submit:h,setFieldsValue:O,resetFields:x}=p,[y,{loading:f}]=j(),w=Object(s.useCallback)((e=>{u(null===e||void 0===e?void 0:e.id),e&&O(e),l(!0)}),[O]),k=Object(s.useCallback)((()=>{l(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:w,close:k})));const C=Object(s.useCallback)((async e=>{const{success:t}=await y(e);t&&(d.b.success(Object(i.b)("phrases.saved_successfully",{prefix:Object(i.b)("words.brand"),context:"female"})),null===a||void 0===a||a(),k())}),[k,a,y]),I=Object(s.useCallback)((e=>{e||(x(),u(void 0))}),[x]);return Object(_.jsx)(n.a,{open:o,afterOpenChange:I,title:b?Object(i.b)("groups_brands.edit_brand"):Object(i.b)("groups_brands.new_brand"),width:600,placement:m?"bottom":"right",height:"100%",onClose:k,closable:!0,destroyOnClose:!0,footer:Object(_.jsx)(g.a,{close:k,submit:h,loading:f,disabled:!1}),children:Object(_.jsxs)(c.a,{form:p,layout:"vertical",onFinish:C,scrollToFirstError:!0,children:[Object(_.jsx)("button",{type:"submit",hidden:!0}),Object(_.jsx)(v,{id:b})]})})};y.displayName="BrandDrawer";t.a=Object(s.memo)(Object(s.forwardRef)(y))},896:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(250),n=a(2937),r=a(27),o=a(37),l=a(1850),d=a(116),b=a(76);const u=o.e`
  mutation inventoryGroupSave($data: InventoryGroupSaveInput!) {
    inventoryGroupSave(input: $data) {
      success
      errors
    }
  }
`;var j=()=>{const[e,{loading:t}]=Object(l.a)(u);return[async t=>{try{const{data:a}=await e({variables:{data:t}}),{success:s=!1,errors:i=[]}=(null===a||void 0===a?void 0:a.inventoryGroupSave)||{};return null===i||void 0===i||i.forEach((e=>d.b.error(e))),{success:s}}catch(a){return b.a.captureException(a),d.b.error(Object(i.b)("phrases.generic_save_error_message")),console.error(a),{success:!1}}},{loading:t}]},m=a(543),p=a(2824),h=a(2883),O=a(3023),_=a(22);const x=e=>{let{id:t}=e;const a=Object(s.useRef)(null);return Object(s.useEffect)((()=>{let e;return t||(e=setTimeout((()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.focus()}),700)),()=>clearTimeout(e)}),[t]),Object(_.jsxs)(m.a,{gutter:8,children:[Object(_.jsx)(n.a.Item,{name:"id",noStyle:!0,children:Object(_.jsx)(p.a,{type:"hidden"})}),Object(_.jsx)(h.a,{flex:"1 1 400px",children:Object(_.jsx)(n.a.Item,{name:"name",label:Object(i.b)("words.name"),rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(_.jsx)(p.a,{ref:a,placeholder:Object(i.b)("words.name"),autoComplete:"off"})})}),Object(_.jsx)(h.a,{flex:"0 1 55px",children:Object(_.jsx)(n.a.Item,{name:"active",label:Object(i.b)("words.active"),valuePropName:"checked",initialValue:!0,children:Object(_.jsx)(O.a,{})})})]})};x.displayName="BrandForm";var v=x,g=a(581);const y=(e,t)=>{let{onSave:a}=e;const[o,l]=Object(s.useState)(!1),[b,u]=Object(s.useState)(),m=Object(r.a)((e=>e.is_mobile)),[p]=n.a.useForm(),{submit:h,setFieldsValue:O,resetFields:x}=p,y=Object(s.useCallback)((e=>{u(null===e||void 0===e?void 0:e.id),e&&O(e),l(!0)}),[O]),f=Object(s.useCallback)((()=>{l(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:y,close:f})));const[w,{loading:k}]=j(),C=Object(s.useCallback)((async e=>{const{success:t}=await w(e);t&&(d.b.success(Object(i.b)("phrases.saved_successfully",{prefix:Object(i.b)("words.category"),context:"female"})),null===a||void 0===a||a(),f())}),[f,a,w]),I=Object(s.useCallback)((e=>{e||(x(),u(void 0))}),[x]);return Object(_.jsx)(c.a,{open:o,afterOpenChange:I,title:b?Object(i.b)("groups_brands.edit_category"):Object(i.b)("groups_brands.new_category"),width:600,placement:m?"bottom":"right",height:"100%",onClose:f,closable:!0,destroyOnClose:!0,footer:Object(_.jsx)(g.a,{close:f,submit:h,loading:k,disabled:!1}),children:Object(_.jsxs)(n.a,{form:p,layout:"vertical",onFinish:C,scrollToFirstError:!0,children:[Object(_.jsx)("button",{type:"submit",hidden:!0}),Object(_.jsx)(v,{id:b})]})})};y.displayName="GroupDrawer";t.a=Object(s.memo)(Object(s.forwardRef)(y))},898:function(e,t,a){"use strict";var s=a(37),i=a(1850),c=a(50),n=a(116),r=a(641),o=a(76),l=a(718);const d=s.e`
  mutation ClientDrawerSave($data: ClientSaveInput!) {
    saveClient(input: $data) {
      success errors
      client {
        ...ClientsAttributes
      }
    }
  }

  ${r.a}
`;t.a=()=>{const[e,{loading:t}]=Object(i.a)(d,{context:{hasUpload:!0},notifyOnNetworkStatusChange:!0,refetchQueries:[l.a]});return[async t=>{try{const{data:a}=await e({variables:{data:t},refetchQueries:t.id?[]:[l.a]}),{success:s=!1,errors:i=[],client:c}=(null===a||void 0===a?void 0:a.saveClient)||{};return null===i||void 0===i||i.forEach((e=>n.b.error(e))),{success:s,client:c}}catch(a){return o.a.captureException(a),n.b.error(Object(c.b)("phrases.generic_save_error_message")),console.error(a),{success:!1,client:void 0}}},{loading:t}]}},900:function(e){e.exports=JSON.parse('{"v":"5.4.4","fr":60,"ip":0,"op":89,"w":100,"h":100,"nm":"Fail","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":3,"nm":"\u25bd Group 6","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[50,50,0],"ix":2},"a":{"a":0,"k":[42,42,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":3600,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Combined Shape","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[41.953,42,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":29,"s":[100,100,100],"e":[110,110,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":35,"s":[110,110,100],"e":[100,100,100]},{"t":41}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-6.977,7],[6.973,-7]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-6.977,7],[6.973,-7]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":-90,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":1,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"mm","mm":2,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":4,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[200,200],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Combined Shape","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":28,"s":[80],"e":[0]},{"t":42}],"ix":1},"e":{"a":0,"k":80,"ix":2},"o":{"a":0,"k":40,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":3600,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Rectangle 6 Copy","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[42,42,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":12,"s":[100,100,100],"e":[110,110,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":18,"s":[110,110,100],"e":[100,100,100]},{"t":24}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[42,42],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":21,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0],"e":[100]},{"t":12}],"ix":2},"o":{"a":0,"k":-90,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":16,"s":[0.792938113213,0.722438514233,0.722438514233,1],"e":[0.803921580315,0.313725501299,0.313725501299,1]},{"t":24}],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.805166006088,0.31542301178,0.31542301178,1],"ix":4},"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":19,"s":[0],"e":[100]},{"t":24}],"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[200,200],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 6 Copy","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0}],"markers":[]}')},901:function(e){e.exports=JSON.parse('{"v":"5.1.5","fr":30,"ip":0,"op":42,"w":150,"h":150,"nm":"System-states-Sin conexi\xf3n","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":3,"ty":4,"nm":"! contornos","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[75,75,0],"ix":2},"a":{"a":0,"k":[8.25,8.25,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.847,0.847,0.667],"y":[1,1,1]},"o":{"x":[1,1,0.333],"y":[0,0,0]},"n":["0p847_1_1_0","0p847_1_1_0","0p667_1_0p333_0"],"t":0,"s":[468.75,468.75,100],"e":[609.375,609.375,100]},{"i":{"x":[0,0,0.667],"y":[1,1,1]},"o":{"x":[0.127,0.127,0.333],"y":[0,0,0]},"n":["0_1_0p127_0","0_1_0p127_0","0p667_1_0p333_0"],"t":21,"s":[609.375,609.375,100],"e":[468.75,468.75,100]},{"t":42.0000017106951}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.442,0],[0,-0.443],[-0.442,0],[0,0.441]],"o":[[-0.442,0],[0,0.441],[0.442,0],[0,-0.443]],"v":[[0,-0.8],[-0.8,0],[0,0.8],[0.8,0]],"c":true},"ix":2},"nm":"Trazado 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Relleno 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[8.25,12.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformar"}],"nm":"Grupo 1","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.221,0],[0,0.221],[0,0],[0.221,0],[0,-0.221],[0,0]],"o":[[0.221,0],[0,0],[0,-0.221],[-0.221,0],[0,0],[0,0.221]],"v":[[0,2.544],[0.4,2.144],[0.4,-2.144],[0,-2.544],[-0.4,-2.144],[-0.4,2.144]],"c":true},"ix":2},"nm":"Trazado 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Relleno 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[8.25,7.194],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformar"}],"nm":"Grupo 2","np":2,"cix":2,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-4.416],[-4.416,0],[0,4.416],[4.416,0]],"o":[[0,4.416],[4.416,0],[0,-4.416],[-4.416,0]],"v":[[-8,0],[0,8],[8,0],[0,-8]],"c":true},"ix":2},"nm":"Trazado 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.3137254901960784,0.35294117647058826,0.984313725490196,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Relleno 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[8.25,8.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformar"}],"nm":"Grupo 3","np":2,"cix":2,"ix":3,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3597.00014650881,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Sombra contornos","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":8.4,"s":[100],"e":[0]},{"t":23.8000009693939}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[75,75,0],"ix":2},"a":{"a":0,"k":[8.25,8.25,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.847,0.847,0.667],"y":[1,1,1]},"o":{"x":[1,1,0.333],"y":[0,0,0]},"n":["0p847_1_1_0","0p847_1_1_0","0p667_1_0p333_0"],"t":0,"s":[468.75,468.75,100],"e":[843.75,843.75,100]},{"i":{"x":[0,0,0.667],"y":[1,1,1]},"o":{"x":[0.127,0.127,0.333],"y":[0,0,0]},"n":["0_1_0p127_0","0_1_0p127_0","0p667_1_0p333_0"],"t":21,"s":[843.75,843.75,100],"e":[468.75,468.75,100]},{"t":42.0000017106951}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-4.416],[-4.416,0],[0,4.416],[4.416,0]],"o":[[0,4.416],[4.416,0],[0,-4.416],[-4.416,0]],"v":[[-8,0],[0,8],[8,0],[0,-8]],"c":true},"ix":2},"nm":"Trazado 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.3137254901960784,0.35294117647058826,0.984313725490196,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Relleno 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[8.25,8.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformar"}],"nm":"Grupo 3","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3597.00014650881,"st":0,"bm":0}],"markers":[]}')},902:function(e){e.exports=JSON.parse('{"v":"5.1.1","fr":25,"ip":0,"op":42,"w":150,"h":150,"nm":"Comp 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"ring 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[75,75,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[100,100],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.2627450980392157,0.5843137254901961,0.2235294117647059,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":2,"lj":2,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Oval 2","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.438],"y":[0]},"n":["0_1_0p438_0"],"t":13,"s":[0],"e":[83]},{"t":32}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.438],"y":[0]},"n":["0_1_0p438_0"],"t":13,"s":[-84],"e":[84]},{"t":32}],"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":125,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"ring 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[75,75,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[100,100],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.20784313725490197,0.4549019607843137,0.17254901960784313,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":9,"ix":5},"lc":2,"lj":2,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Oval 2","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.396],"y":[1]},"o":{"x":[0.576],"y":[0]},"n":["0p396_1_0p576_0"],"t":8,"s":[0],"e":[83]},{"t":25}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0.396],"y":[1]},"o":{"x":[0.576],"y":[0]},"n":["0p396_1_0p576_0"],"t":8,"s":[-84],"e":[84]},{"t":25}],"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":125,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"ring","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[75,75,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[100,100],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.8588235294117647,0.8274509803921568,0.8980392156862745,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":9,"ix":5},"lc":2,"lj":2,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Oval 2","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.396],"y":[1]},"o":{"x":[0.576],"y":[0]},"n":["0p396_1_0p576_0"],"t":0,"s":[0],"e":[83]},{"t":20}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0.396],"y":[1]},"o":{"x":[0.576],"y":[0]},"n":["0p396_1_0p576_0"],"t":0,"s":[-84],"e":[84]},{"t":20}],"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":125,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"check 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[49.5,27.86,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[0,41.96],[22.41,64.35],[83.63,0]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.2627450980392157,0.5843137254901961,0.2235294117647059,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":2,"lj":2,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.257],"y":[0]},"n":["0_1_0p257_0"],"t":20,"s":[0],"e":[100]},{"t":37}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":125,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"check 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[49.5,27.86,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[0,41.96],[22.41,64.35],[83.63,0]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.20784313725490197,0.4549019607843137,0.17254901960784313,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":2,"lj":2,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.257],"y":[0]},"n":["0_1_0p257_0"],"t":16,"s":[0],"e":[100]},{"t":34}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":125,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"check","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[49.5,27.86,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[0,41.96],[22.41,64.35],[83.63,0]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.8156862745098039,0.8941176470588236,0.803921568627451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":9,"ix":5},"lc":2,"lj":2,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.257],"y":[0]},"n":["0_1_0p257_0"],"t":12,"s":[0],"e":[100]},{"t":29}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":125,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"boom","sr":1,"ks":{"o":{"a":0,"k":10,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[75,75,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0,0,0.18],"y":[1,1,1]},"o":{"x":[0,0,0.33],"y":[0,0,0]},"n":["0_1_0_0","0_1_0_0","0p18_1_0p33_0"],"t":10,"s":[0,0,100],"e":[100,100,100]},{"t":42}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[150,150],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.8156862745098039,0.8941176470588236,0.803921568627451,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Oval 2 Copy","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":125,"st":0,"bm":0}],"markers":[]}')},903:function(e){e.exports=JSON.parse('{"v":"5.5.8","fr":24,"ip":0,"op":48,"w":150,"h":150,"nm":"CROWN","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"CROWN Outlines 2","td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[74.99999999999999,74.99999999999999,0],"ix":2},"a":{"a":0,"k":[92.592,77.994,0],"ix":1},"s":{"a":0,"k":[60.16277777777778,60.16277777777778,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[2.351,0],[0,0],[0,2.348],[0,0],[0,0],[0,0]],"o":[[0,0],[-2.349,0],[0,0],[0,0],[0,0],[-0.084,2.264]],"v":[[58.861,6.419],[-58.947,6.419],[-63.142,2.224],[-63.142,-6.419],[63.141,-6.419],[63.141,2.224]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.658999992819,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[92.594,149.319],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.796,0],[0,0],[0,-34.738],[0,0],[0,0],[0,0],[0,6.797],[6.796,0],[0,-6.796],[-0.419,-1.175],[0,0],[0,0],[0,4.28],[6.797,0],[0,-6.796],[-3.356,-2.181],[0,0],[0,0],[0,1.342],[6.797,0],[0,-6.796]],"o":[[0,0],[0,0],[0,0],[0,-34.738],[0,0],[6.796,0],[0,-6.796],[-6.797,0],[0,1.342],[0,0],[0,0],[3.271,-2.181],[0,-6.796],[-6.797,0],[0,4.28],[0,0],[0,0],[0.335,-1.175],[0,-6.796],[-6.712,0.084],[0,6.797]],"v":[[-80.008,-1.93],[-79.505,-1.93],[-63.142,68.553],[63.141,68.553],[79.504,-1.93],[80.008,-1.93],[92.342,-14.264],[80.008,-26.598],[67.673,-14.264],[68.26,-10.488],[38.639,6.881],[6.755,-45.982],[12.293,-56.219],[-0.042,-68.553],[-12.377,-56.219],[-6.839,-45.982],[-38.725,6.881],[-68.344,-10.488],[-67.757,-14.264],[-80.092,-26.598],[-92.342,-14.264]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.658999992819,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[92.592,68.804],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":121,"st":-24,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 1","tt":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":20,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":-24,"s":[-39.722222222222214,77.2222222222222,0],"to":[270,12,0],"ti":[-270,-12,0]},{"i":{"x":0.667,"y":0.667},"o":{"x":0.333,"y":0.333},"t":6,"s":[185.27777777777774,87.2222222222222,0],"to":[0,0,0],"ti":[0,0,0]},{"t":12,"s":[185.27777777777774,87.2222222222222,0]}],"ix":2,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'cycle\', 0);"},"a":{"a":0,"k":[-210,16,0],"ix":1},"s":{"a":0,"k":[13.888888888888888,17.046527777777772,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[276,808],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-210,16],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":121,"st":-24,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"CROWN Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[74.99999999999999,74.99999999999999,0],"ix":2},"a":{"a":0,"k":[92.592,77.994,0],"ix":1},"s":{"a":0,"k":[60.16277777777778,60.16277777777778,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[2.351,0],[0,0],[0,2.348],[0,0],[0,0],[0,0]],"o":[[0,0],[-2.349,0],[0,0],[0,0],[0,0],[-0.084,2.264]],"v":[[58.861,6.419],[-58.947,6.419],[-63.142,2.224],[-63.142,-6.419],[63.141,-6.419],[63.141,2.224]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.658999992819,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[92.594,149.319],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.796,0],[0,0],[0,-34.738],[0,0],[0,0],[0,0],[0,6.797],[6.796,0],[0,-6.796],[-0.419,-1.175],[0,0],[0,0],[0,4.28],[6.797,0],[0,-6.796],[-3.356,-2.181],[0,0],[0,0],[0,1.342],[6.797,0],[0,-6.796]],"o":[[0,0],[0,0],[0,0],[0,-34.738],[0,0],[6.796,0],[0,-6.796],[-6.797,0],[0,1.342],[0,0],[0,0],[3.271,-2.181],[0,-6.796],[-6.797,0],[0,4.28],[0,0],[0,0],[0.335,-1.175],[0,-6.796],[-6.712,0.084],[0,6.797]],"v":[[-80.008,-1.93],[-79.505,-1.93],[-63.142,68.553],[63.141,68.553],[79.504,-1.93],[80.008,-1.93],[92.342,-14.264],[80.008,-26.598],[67.673,-14.264],[68.26,-10.488],[38.639,6.881],[6.755,-45.982],[12.293,-56.219],[-0.042,-68.553],[-12.377,-56.219],[-6.839,-45.982],[-38.725,6.881],[-68.344,-10.488],[-67.757,-14.264],[-80.092,-26.598],[-92.342,-14.264]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.658999992819,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[92.592,68.804],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":121,"st":-24,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"STAR Outlines 4","parent":3,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[181.763,108.141,0],"ix":2},"a":{"a":0,"k":[27.855,28.161,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.917,0.917,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0]},"t":0,"s":[2.508,2.508,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[-0.209,-0.209,0]},"t":1,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":2,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":3,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.738,0.738,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":4,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.692,0.692,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.083,0.083,0]},"t":5,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.795,0.795,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.114,0.114,0]},"t":6,"s":[3.147,3.147,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.817,0.817,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.14,0.14,0]},"t":7,"s":[11.627,11.627,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.828,0.828,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.153,0.153,0]},"t":8,"s":[24.002,24.002,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.836,0.836,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.161,0.161,0]},"t":9,"s":[38.832,38.832,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.843,0.843,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.169,0.169,0]},"t":10,"s":[54.678,54.678,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.854,0.854,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.178,0.178,0]},"t":11,"s":[70.102,70.102,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.872,0.872,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.193,0.193,0]},"t":12,"s":[83.663,83.663,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.922,0.922,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.238,0.238,0]},"t":13,"s":[93.923,93.923,100]},{"i":{"x":[0.833,0.833,0.833],"y":[-0.383,-0.383,1]},"o":{"x":[0.167,0.167,0.167],"y":[-1.301,-1.301,0]},"t":14,"s":[99.442,99.442,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.773,0.773,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.089,0.089,0]},"t":15,"s":[99.109,99.109,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.808,0.808,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.132,0.132,0]},"t":16,"s":[93.927,93.927,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.821,0.821,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.147,0.147,0]},"t":17,"s":[84.998,84.998,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.829,0.829,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.156,0.156,0]},"t":18,"s":[73.333,73.333,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.835,0.835,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.162,0.162,0]},"t":19,"s":[59.943,59.943,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.841,0.841,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.168,0.168,0]},"t":20,"s":[45.84,45.84,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.849,0.849,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.175,0.175,0]},"t":21,"s":[32.034,32.034,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.861,0.861,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.186,0.186,0]},"t":22,"s":[19.535,19.535,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.886,0.886,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.207,0.207,0]},"t":23,"s":[9.356,9.356,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.917,0.917,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.311,0.311,0]},"t":24,"s":[2.508,2.508,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[-0.209,-0.209,0]},"t":25,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":26,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":27,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.738,0.738,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":28,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.692,0.692,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.083,0.083,0]},"t":29,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.795,0.795,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.114,0.114,0]},"t":30,"s":[3.147,3.147,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.817,0.817,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.14,0.14,0]},"t":31,"s":[11.627,11.627,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.828,0.828,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.153,0.153,0]},"t":32,"s":[24.002,24.002,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.836,0.836,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.161,0.161,0]},"t":33,"s":[38.832,38.832,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.843,0.843,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.169,0.169,0]},"t":34,"s":[54.678,54.678,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.854,0.854,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.178,0.178,0]},"t":35,"s":[70.102,70.102,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.872,0.872,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.193,0.193,0]},"t":36,"s":[83.663,83.663,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.922,0.922,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.238,0.238,0]},"t":37,"s":[93.923,93.923,100]},{"i":{"x":[0.833,0.833,0.833],"y":[-0.383,-0.383,1]},"o":{"x":[0.167,0.167,0.167],"y":[-1.301,-1.301,0]},"t":38,"s":[99.442,99.442,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.773,0.773,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.089,0.089,0]},"t":39,"s":[99.109,99.109,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.808,0.808,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.132,0.132,0]},"t":40,"s":[93.927,93.927,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.821,0.821,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.147,0.147,0]},"t":41,"s":[84.998,84.998,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.829,0.829,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.156,0.156,0]},"t":42,"s":[73.333,73.333,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.835,0.835,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.162,0.162,0]},"t":43,"s":[59.943,59.943,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.841,0.841,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.168,0.168,0]},"t":44,"s":[45.84,45.84,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.849,0.849,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.175,0.175,0]},"t":45,"s":[32.034,32.034,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.861,0.861,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.186,0.186,0]},"t":46,"s":[19.535,19.535,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.886,0.886,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.207,0.207,0]},"t":47,"s":[9.356,9.356,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.917,0.917,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.311,0.311,0]},"t":48,"s":[2.508,2.508,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[-0.209,-0.209,0]},"t":49,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":50,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":51,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.738,0.738,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":52,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.692,0.692,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.083,0.083,0]},"t":53,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.795,0.795,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.114,0.114,0]},"t":54,"s":[3.147,3.147,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.817,0.817,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.14,0.14,0]},"t":55,"s":[11.627,11.627,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.828,0.828,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.153,0.153,0]},"t":56,"s":[24.002,24.002,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.836,0.836,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.161,0.161,0]},"t":57,"s":[38.832,38.832,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.843,0.843,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.169,0.169,0]},"t":58,"s":[54.678,54.678,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.854,0.854,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.178,0.178,0]},"t":59,"s":[70.102,70.102,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.872,0.872,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.193,0.193,0]},"t":60,"s":[83.663,83.663,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.922,0.922,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.238,0.238,0]},"t":61,"s":[93.923,93.923,100]},{"i":{"x":[0.833,0.833,0.833],"y":[-0.383,-0.383,1]},"o":{"x":[0.167,0.167,0.167],"y":[-1.301,-1.301,0]},"t":62,"s":[99.442,99.442,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.773,0.773,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.089,0.089,0]},"t":63,"s":[99.109,99.109,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.808,0.808,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.132,0.132,0]},"t":64,"s":[93.927,93.927,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.821,0.821,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.147,0.147,0]},"t":65,"s":[84.998,84.998,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.829,0.829,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.156,0.156,0]},"t":66,"s":[73.333,73.333,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.835,0.835,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.162,0.162,0]},"t":67,"s":[59.943,59.943,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.841,0.841,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.168,0.168,0]},"t":68,"s":[45.84,45.84,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.849,0.849,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.175,0.175,0]},"t":69,"s":[32.034,32.034,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.861,0.861,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.186,0.186,0]},"t":70,"s":[19.535,19.535,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.886,0.886,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.207,0.207,0]},"t":71,"s":[9.356,9.356,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.917,0.917,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.311,0.311,0]},"t":72,"s":[2.508,2.508,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[-0.209,-0.209,0]},"t":73,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":74,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":75,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.738,0.738,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":76,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.692,0.692,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.083,0.083,0]},"t":77,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.795,0.795,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.114,0.114,0]},"t":78,"s":[3.147,3.147,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.817,0.817,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.14,0.14,0]},"t":79,"s":[11.627,11.627,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.828,0.828,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.153,0.153,0]},"t":80,"s":[24.002,24.002,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.836,0.836,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.161,0.161,0]},"t":81,"s":[38.832,38.832,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.843,0.843,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.169,0.169,0]},"t":82,"s":[54.678,54.678,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.854,0.854,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.178,0.178,0]},"t":83,"s":[70.102,70.102,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.872,0.872,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.193,0.193,0]},"t":84,"s":[83.663,83.663,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.922,0.922,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.238,0.238,0]},"t":85,"s":[93.923,93.923,100]},{"i":{"x":[0.833,0.833,0.833],"y":[-0.383,-0.383,1]},"o":{"x":[0.167,0.167,0.167],"y":[-1.301,-1.301,0]},"t":86,"s":[99.442,99.442,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.773,0.773,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.089,0.089,0]},"t":87,"s":[99.109,99.109,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.808,0.808,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.132,0.132,0]},"t":88,"s":[93.927,93.927,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.821,0.821,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.147,0.147,0]},"t":89,"s":[84.998,84.998,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.829,0.829,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.156,0.156,0]},"t":90,"s":[73.333,73.333,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.835,0.835,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.162,0.162,0]},"t":91,"s":[59.943,59.943,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.841,0.841,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.168,0.168,0]},"t":92,"s":[45.84,45.84,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.849,0.849,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.175,0.175,0]},"t":93,"s":[32.034,32.034,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.861,0.861,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.186,0.186,0]},"t":94,"s":[19.535,19.535,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.886,0.886,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.207,0.207,0]},"t":95,"s":[9.356,9.356,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.917,0.917,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.311,0.311,0]},"t":96,"s":[2.508,2.508,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[-0.209,-0.209,0]},"t":97,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":98,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":99,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.738,0.738,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":100,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.692,0.692,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.083,0.083,0]},"t":101,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.795,0.795,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.114,0.114,0]},"t":102,"s":[3.147,3.147,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.817,0.817,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.14,0.14,0]},"t":103,"s":[11.627,11.627,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.828,0.828,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.153,0.153,0]},"t":104,"s":[24.002,24.002,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.836,0.836,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.161,0.161,0]},"t":105,"s":[38.832,38.832,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.843,0.843,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.169,0.169,0]},"t":106,"s":[54.678,54.678,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.854,0.854,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.178,0.178,0]},"t":107,"s":[70.102,70.102,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.872,0.872,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.193,0.193,0]},"t":108,"s":[83.663,83.663,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.922,0.922,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.238,0.238,0]},"t":109,"s":[93.923,93.923,100]},{"i":{"x":[0.833,0.833,0.833],"y":[-0.383,-0.383,1]},"o":{"x":[0.167,0.167,0.167],"y":[-1.301,-1.301,0]},"t":110,"s":[99.442,99.442,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.773,0.773,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.089,0.089,0]},"t":111,"s":[99.109,99.109,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.808,0.808,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.132,0.132,0]},"t":112,"s":[93.927,93.927,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.821,0.821,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.147,0.147,0]},"t":113,"s":[84.998,84.998,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.829,0.829,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.156,0.156,0]},"t":114,"s":[73.333,73.333,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.835,0.835,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.162,0.162,0]},"t":115,"s":[59.943,59.943,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.841,0.841,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.168,0.168,0]},"t":116,"s":[45.84,45.84,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.849,0.849,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.175,0.175,0]},"t":117,"s":[32.034,32.034,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.861,0.861,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.186,0.186,0]},"t":118,"s":[19.535,19.535,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.207,0.207,0]},"t":119,"s":[9.356,9.356,100]},{"t":120,"s":[2.508,2.508,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.009,-0.047],[0.161,-0.105],[0,0],[0.198,-1.089],[0,0],[0.047,-0.011],[0.096,0.16],[0,0],[1.061,0.16],[0,0],[0.009,0.047],[-0.161,0.105],[0,0],[-0.198,1.088],[0,0],[-0.046,0.011],[-0.097,-0.16],[0,0],[-1.061,-0.16],[0,0]],"o":[[0.009,0.046],[0,0],[-0.913,0.623],[0,0],[-0.038,0.185],[-0.045,0.011],[0,0],[-0.576,-0.907],[0,0],[-0.181,-0.03],[-0.009,-0.046],[0,0],[0.913,-0.622],[0,0],[0.037,-0.185],[0.047,-0.01],[0,0],[0.575,0.908],[0,0],[0.18,0.031]],"v":[[27.579,-6.464],[27.445,-6.152],[10.893,5.182],[9.141,7.878],[5.499,27.627],[5.268,27.876],[4.969,27.751],[-5.51,11.308],[-8.089,9.627],[-27.344,6.683],[-27.579,6.458],[-27.445,6.147],[-10.891,-5.182],[-9.141,-7.877],[-5.499,-27.627],[-5.268,-27.876],[-4.967,-27.751],[5.516,-11.316],[8.094,-9.634],[27.35,-6.691]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":3,"k":{"a":0,"k":[0,1,0.916,0.753,0.147,1,0.787,0.376,0.998,1,0.659,0],"ix":9}},"s":{"a":0,"k":[0,0],"ix":5},"e":{"a":0,"k":[100,0],"ix":6},"t":2,"h":{"a":0,"k":0,"ix":7},"a":{"a":0,"k":0,"ix":8},"nm":"Gradient Fill 1","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[27.856,28.161],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":121,"st":-19,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"STAR Outlines 3","parent":3,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-2.921,100.753,0],"ix":2},"a":{"a":0,"k":[27.855,28.161,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.854,0.854,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0]},"t":0,"s":[70.102,70.102,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.872,0.872,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.193,0.193,0]},"t":1,"s":[83.663,83.663,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.922,0.922,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.238,0.238,0]},"t":2,"s":[93.923,93.923,100]},{"i":{"x":[0.833,0.833,0.833],"y":[-0.383,-0.383,1]},"o":{"x":[0.167,0.167,0.167],"y":[-1.301,-1.301,0]},"t":3,"s":[99.442,99.442,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.773,0.773,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.089,0.089,0]},"t":4,"s":[99.109,99.109,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.808,0.808,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.132,0.132,0]},"t":5,"s":[93.927,93.927,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.821,0.821,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.147,0.147,0]},"t":6,"s":[84.998,84.998,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.829,0.829,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.156,0.156,0]},"t":7,"s":[73.333,73.333,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.835,0.835,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.162,0.162,0]},"t":8,"s":[59.943,59.943,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.841,0.841,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.168,0.168,0]},"t":9,"s":[45.84,45.84,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.849,0.849,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.175,0.175,0]},"t":10,"s":[32.034,32.034,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.861,0.861,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.186,0.186,0]},"t":11,"s":[19.535,19.535,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.886,0.886,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.207,0.207,0]},"t":12,"s":[9.356,9.356,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.917,0.917,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.311,0.311,0]},"t":13,"s":[2.508,2.508,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[-0.209,-0.209,0]},"t":14,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":15,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":16,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.738,0.738,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":17,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.692,0.692,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.083,0.083,0]},"t":18,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.795,0.795,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.114,0.114,0]},"t":19,"s":[3.147,3.147,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.817,0.817,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.14,0.14,0]},"t":20,"s":[11.627,11.627,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.828,0.828,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.153,0.153,0]},"t":21,"s":[24.002,24.002,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.836,0.836,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.161,0.161,0]},"t":22,"s":[38.832,38.832,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.843,0.843,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.169,0.169,0]},"t":23,"s":[54.678,54.678,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.854,0.854,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.178,0.178,0]},"t":24,"s":[70.102,70.102,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.872,0.872,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.193,0.193,0]},"t":25,"s":[83.663,83.663,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.922,0.922,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.238,0.238,0]},"t":26,"s":[93.923,93.923,100]},{"i":{"x":[0.833,0.833,0.833],"y":[-0.383,-0.383,1]},"o":{"x":[0.167,0.167,0.167],"y":[-1.301,-1.301,0]},"t":27,"s":[99.442,99.442,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.773,0.773,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.089,0.089,0]},"t":28,"s":[99.109,99.109,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.808,0.808,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.132,0.132,0]},"t":29,"s":[93.927,93.927,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.821,0.821,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.147,0.147,0]},"t":30,"s":[84.998,84.998,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.829,0.829,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.156,0.156,0]},"t":31,"s":[73.333,73.333,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.835,0.835,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.162,0.162,0]},"t":32,"s":[59.943,59.943,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.841,0.841,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.168,0.168,0]},"t":33,"s":[45.84,45.84,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.849,0.849,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.175,0.175,0]},"t":34,"s":[32.034,32.034,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.861,0.861,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.186,0.186,0]},"t":35,"s":[19.535,19.535,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.886,0.886,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.207,0.207,0]},"t":36,"s":[9.356,9.356,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.917,0.917,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.311,0.311,0]},"t":37,"s":[2.508,2.508,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[-0.209,-0.209,0]},"t":38,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":39,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":40,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.738,0.738,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":41,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.692,0.692,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.083,0.083,0]},"t":42,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.795,0.795,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.114,0.114,0]},"t":43,"s":[3.147,3.147,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.817,0.817,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.14,0.14,0]},"t":44,"s":[11.627,11.627,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.828,0.828,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.153,0.153,0]},"t":45,"s":[24.002,24.002,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.836,0.836,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.161,0.161,0]},"t":46,"s":[38.832,38.832,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.843,0.843,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.169,0.169,0]},"t":47,"s":[54.678,54.678,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.854,0.854,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.178,0.178,0]},"t":48,"s":[70.102,70.102,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.872,0.872,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.193,0.193,0]},"t":49,"s":[83.663,83.663,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.922,0.922,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.238,0.238,0]},"t":50,"s":[93.923,93.923,100]},{"i":{"x":[0.833,0.833,0.833],"y":[-0.383,-0.383,1]},"o":{"x":[0.167,0.167,0.167],"y":[-1.301,-1.301,0]},"t":51,"s":[99.442,99.442,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.773,0.773,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.089,0.089,0]},"t":52,"s":[99.109,99.109,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.808,0.808,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.132,0.132,0]},"t":53,"s":[93.927,93.927,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.821,0.821,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.147,0.147,0]},"t":54,"s":[84.998,84.998,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.829,0.829,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.156,0.156,0]},"t":55,"s":[73.333,73.333,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.835,0.835,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.162,0.162,0]},"t":56,"s":[59.943,59.943,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.841,0.841,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.168,0.168,0]},"t":57,"s":[45.84,45.84,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.849,0.849,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.175,0.175,0]},"t":58,"s":[32.034,32.034,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.861,0.861,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.186,0.186,0]},"t":59,"s":[19.535,19.535,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.886,0.886,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.207,0.207,0]},"t":60,"s":[9.356,9.356,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.917,0.917,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.311,0.311,0]},"t":61,"s":[2.508,2.508,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[-0.209,-0.209,0]},"t":62,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":63,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":64,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.738,0.738,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":65,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.692,0.692,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.083,0.083,0]},"t":66,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.795,0.795,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.114,0.114,0]},"t":67,"s":[3.147,3.147,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.817,0.817,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.14,0.14,0]},"t":68,"s":[11.627,11.627,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.828,0.828,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.153,0.153,0]},"t":69,"s":[24.002,24.002,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.836,0.836,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.161,0.161,0]},"t":70,"s":[38.832,38.832,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.843,0.843,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.169,0.169,0]},"t":71,"s":[54.678,54.678,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.854,0.854,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.178,0.178,0]},"t":72,"s":[70.102,70.102,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.872,0.872,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.193,0.193,0]},"t":73,"s":[83.663,83.663,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.922,0.922,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.238,0.238,0]},"t":74,"s":[93.923,93.923,100]},{"i":{"x":[0.833,0.833,0.833],"y":[-0.383,-0.383,1]},"o":{"x":[0.167,0.167,0.167],"y":[-1.301,-1.301,0]},"t":75,"s":[99.442,99.442,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.773,0.773,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.089,0.089,0]},"t":76,"s":[99.109,99.109,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.808,0.808,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.132,0.132,0]},"t":77,"s":[93.927,93.927,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.821,0.821,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.147,0.147,0]},"t":78,"s":[84.998,84.998,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.829,0.829,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.156,0.156,0]},"t":79,"s":[73.333,73.333,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.835,0.835,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.162,0.162,0]},"t":80,"s":[59.943,59.943,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.841,0.841,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.168,0.168,0]},"t":81,"s":[45.84,45.84,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.849,0.849,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.175,0.175,0]},"t":82,"s":[32.034,32.034,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.861,0.861,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.186,0.186,0]},"t":83,"s":[19.535,19.535,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.886,0.886,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.207,0.207,0]},"t":84,"s":[9.356,9.356,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.917,0.917,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.311,0.311,0]},"t":85,"s":[2.508,2.508,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[-0.209,-0.209,0]},"t":86,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":87,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":88,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.738,0.738,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":89,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.692,0.692,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.083,0.083,0]},"t":90,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.795,0.795,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.114,0.114,0]},"t":91,"s":[3.147,3.147,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.817,0.817,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.14,0.14,0]},"t":92,"s":[11.627,11.627,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.828,0.828,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.153,0.153,0]},"t":93,"s":[24.002,24.002,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.836,0.836,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.161,0.161,0]},"t":94,"s":[38.832,38.832,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.843,0.843,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.169,0.169,0]},"t":95,"s":[54.678,54.678,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.854,0.854,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.178,0.178,0]},"t":96,"s":[70.102,70.102,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.872,0.872,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.193,0.193,0]},"t":97,"s":[83.663,83.663,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.922,0.922,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.238,0.238,0]},"t":98,"s":[93.923,93.923,100]},{"i":{"x":[0.833,0.833,0.833],"y":[-0.383,-0.383,1]},"o":{"x":[0.167,0.167,0.167],"y":[-1.301,-1.301,0]},"t":99,"s":[99.442,99.442,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.773,0.773,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.089,0.089,0]},"t":100,"s":[99.109,99.109,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.808,0.808,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.132,0.132,0]},"t":101,"s":[93.927,93.927,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.821,0.821,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.147,0.147,0]},"t":102,"s":[84.998,84.998,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.829,0.829,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.156,0.156,0]},"t":103,"s":[73.333,73.333,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.835,0.835,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.162,0.162,0]},"t":104,"s":[59.943,59.943,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.841,0.841,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.168,0.168,0]},"t":105,"s":[45.84,45.84,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.849,0.849,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.175,0.175,0]},"t":106,"s":[32.034,32.034,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.861,0.861,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.186,0.186,0]},"t":107,"s":[19.535,19.535,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.886,0.886,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.207,0.207,0]},"t":108,"s":[9.356,9.356,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.917,0.917,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.311,0.311,0]},"t":109,"s":[2.508,2.508,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[-0.209,-0.209,0]},"t":110,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":111,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":112,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.738,0.738,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":113,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.692,0.692,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.083,0.083,0]},"t":114,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.795,0.795,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.114,0.114,0]},"t":115,"s":[3.147,3.147,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.817,0.817,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.14,0.14,0]},"t":116,"s":[11.627,11.627,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.828,0.828,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.153,0.153,0]},"t":117,"s":[24.002,24.002,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.836,0.836,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.161,0.161,0]},"t":118,"s":[38.832,38.832,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.169,0.169,0]},"t":119,"s":[54.678,54.678,100]},{"t":120,"s":[70.102,70.102,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.009,-0.047],[0.161,-0.105],[0,0],[0.198,-1.089],[0,0],[0.047,-0.011],[0.096,0.16],[0,0],[1.061,0.16],[0,0],[0.009,0.047],[-0.161,0.105],[0,0],[-0.198,1.088],[0,0],[-0.046,0.011],[-0.097,-0.16],[0,0],[-1.061,-0.16],[0,0]],"o":[[0.009,0.046],[0,0],[-0.913,0.623],[0,0],[-0.038,0.185],[-0.045,0.011],[0,0],[-0.576,-0.907],[0,0],[-0.181,-0.03],[-0.009,-0.046],[0,0],[0.913,-0.622],[0,0],[0.037,-0.185],[0.047,-0.01],[0,0],[0.575,0.908],[0,0],[0.18,0.031]],"v":[[27.579,-6.464],[27.445,-6.152],[10.893,5.182],[9.141,7.878],[5.499,27.627],[5.268,27.876],[4.969,27.751],[-5.51,11.308],[-8.089,9.627],[-27.344,6.683],[-27.579,6.458],[-27.445,6.147],[-10.891,-5.182],[-9.141,-7.877],[-5.499,-27.627],[-5.268,-27.876],[-4.967,-27.751],[5.516,-11.316],[8.094,-9.634],[27.35,-6.691]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":3,"k":{"a":0,"k":[0,1,0.916,0.753,0.147,1,0.787,0.376,0.998,1,0.659,0],"ix":9}},"s":{"a":0,"k":[0,0],"ix":5},"e":{"a":0,"k":[68.335,2.111],"ix":6},"t":2,"h":{"a":0,"k":0,"ix":7},"a":{"a":0,"k":0,"ix":8},"nm":"Gradient Fill 1","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[27.856,28.161],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":121,"st":-6,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"STAR Outlines 2","parent":3,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[139.286,32.42,0],"ix":2},"a":{"a":0,"k":[27.855,28.161,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.841,0.841,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0]},"t":0,"s":[45.84,45.84,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.849,0.849,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.175,0.175,0]},"t":1,"s":[32.034,32.034,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.861,0.861,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.186,0.186,0]},"t":2,"s":[19.535,19.535,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.886,0.886,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.207,0.207,0]},"t":3,"s":[9.356,9.356,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.917,0.917,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.311,0.311,0]},"t":4,"s":[2.508,2.508,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[-0.209,-0.209,0]},"t":5,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":6,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":7,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.738,0.738,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":8,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.692,0.692,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.083,0.083,0]},"t":9,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.795,0.795,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.114,0.114,0]},"t":10,"s":[3.147,3.147,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.817,0.817,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.14,0.14,0]},"t":11,"s":[11.627,11.627,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.828,0.828,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.153,0.153,0]},"t":12,"s":[24.002,24.002,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.836,0.836,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.161,0.161,0]},"t":13,"s":[38.832,38.832,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.843,0.843,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.169,0.169,0]},"t":14,"s":[54.678,54.678,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.854,0.854,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.178,0.178,0]},"t":15,"s":[70.102,70.102,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.872,0.872,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.193,0.193,0]},"t":16,"s":[83.663,83.663,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.922,0.922,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.238,0.238,0]},"t":17,"s":[93.923,93.923,100]},{"i":{"x":[0.833,0.833,0.833],"y":[-0.383,-0.383,1]},"o":{"x":[0.167,0.167,0.167],"y":[-1.301,-1.301,0]},"t":18,"s":[99.442,99.442,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.773,0.773,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.089,0.089,0]},"t":19,"s":[99.109,99.109,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.808,0.808,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.132,0.132,0]},"t":20,"s":[93.927,93.927,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.821,0.821,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.147,0.147,0]},"t":21,"s":[84.998,84.998,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.829,0.829,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.156,0.156,0]},"t":22,"s":[73.333,73.333,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.835,0.835,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.162,0.162,0]},"t":23,"s":[59.943,59.943,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.841,0.841,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.168,0.168,0]},"t":24,"s":[45.84,45.84,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.849,0.849,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.175,0.175,0]},"t":25,"s":[32.034,32.034,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.861,0.861,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.186,0.186,0]},"t":26,"s":[19.535,19.535,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.886,0.886,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.207,0.207,0]},"t":27,"s":[9.356,9.356,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.917,0.917,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.311,0.311,0]},"t":28,"s":[2.508,2.508,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[-0.209,-0.209,0]},"t":29,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":30,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":31,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.738,0.738,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":32,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.692,0.692,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.083,0.083,0]},"t":33,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.795,0.795,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.114,0.114,0]},"t":34,"s":[3.147,3.147,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.817,0.817,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.14,0.14,0]},"t":35,"s":[11.627,11.627,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.828,0.828,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.153,0.153,0]},"t":36,"s":[24.002,24.002,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.836,0.836,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.161,0.161,0]},"t":37,"s":[38.832,38.832,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.843,0.843,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.169,0.169,0]},"t":38,"s":[54.678,54.678,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.854,0.854,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.178,0.178,0]},"t":39,"s":[70.102,70.102,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.872,0.872,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.193,0.193,0]},"t":40,"s":[83.663,83.663,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.922,0.922,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.238,0.238,0]},"t":41,"s":[93.923,93.923,100]},{"i":{"x":[0.833,0.833,0.833],"y":[-0.383,-0.383,1]},"o":{"x":[0.167,0.167,0.167],"y":[-1.301,-1.301,0]},"t":42,"s":[99.442,99.442,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.773,0.773,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.089,0.089,0]},"t":43,"s":[99.109,99.109,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.808,0.808,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.132,0.132,0]},"t":44,"s":[93.927,93.927,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.821,0.821,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.147,0.147,0]},"t":45,"s":[84.998,84.998,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.829,0.829,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.156,0.156,0]},"t":46,"s":[73.333,73.333,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.835,0.835,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.162,0.162,0]},"t":47,"s":[59.943,59.943,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.841,0.841,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.168,0.168,0]},"t":48,"s":[45.84,45.84,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.849,0.849,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.175,0.175,0]},"t":49,"s":[32.034,32.034,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.861,0.861,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.186,0.186,0]},"t":50,"s":[19.535,19.535,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.886,0.886,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.207,0.207,0]},"t":51,"s":[9.356,9.356,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.917,0.917,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.311,0.311,0]},"t":52,"s":[2.508,2.508,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[-0.209,-0.209,0]},"t":53,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":54,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":55,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.738,0.738,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":56,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.692,0.692,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.083,0.083,0]},"t":57,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.795,0.795,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.114,0.114,0]},"t":58,"s":[3.147,3.147,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.817,0.817,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.14,0.14,0]},"t":59,"s":[11.627,11.627,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.828,0.828,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.153,0.153,0]},"t":60,"s":[24.002,24.002,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.836,0.836,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.161,0.161,0]},"t":61,"s":[38.832,38.832,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.843,0.843,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.169,0.169,0]},"t":62,"s":[54.678,54.678,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.854,0.854,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.178,0.178,0]},"t":63,"s":[70.102,70.102,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.872,0.872,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.193,0.193,0]},"t":64,"s":[83.663,83.663,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.922,0.922,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.238,0.238,0]},"t":65,"s":[93.923,93.923,100]},{"i":{"x":[0.833,0.833,0.833],"y":[-0.383,-0.383,1]},"o":{"x":[0.167,0.167,0.167],"y":[-1.301,-1.301,0]},"t":66,"s":[99.442,99.442,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.773,0.773,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.089,0.089,0]},"t":67,"s":[99.109,99.109,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.808,0.808,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.132,0.132,0]},"t":68,"s":[93.927,93.927,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.821,0.821,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.147,0.147,0]},"t":69,"s":[84.998,84.998,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.829,0.829,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.156,0.156,0]},"t":70,"s":[73.333,73.333,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.835,0.835,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.162,0.162,0]},"t":71,"s":[59.943,59.943,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.841,0.841,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.168,0.168,0]},"t":72,"s":[45.84,45.84,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.849,0.849,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.175,0.175,0]},"t":73,"s":[32.034,32.034,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.861,0.861,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.186,0.186,0]},"t":74,"s":[19.535,19.535,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.886,0.886,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.207,0.207,0]},"t":75,"s":[9.356,9.356,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.917,0.917,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.311,0.311,0]},"t":76,"s":[2.508,2.508,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[-0.209,-0.209,0]},"t":77,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":78,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":79,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.738,0.738,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":80,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.692,0.692,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.083,0.083,0]},"t":81,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.795,0.795,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.114,0.114,0]},"t":82,"s":[3.147,3.147,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.817,0.817,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.14,0.14,0]},"t":83,"s":[11.627,11.627,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.828,0.828,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.153,0.153,0]},"t":84,"s":[24.002,24.002,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.836,0.836,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.161,0.161,0]},"t":85,"s":[38.832,38.832,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.843,0.843,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.169,0.169,0]},"t":86,"s":[54.678,54.678,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.854,0.854,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.178,0.178,0]},"t":87,"s":[70.102,70.102,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.872,0.872,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.193,0.193,0]},"t":88,"s":[83.663,83.663,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.922,0.922,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.238,0.238,0]},"t":89,"s":[93.923,93.923,100]},{"i":{"x":[0.833,0.833,0.833],"y":[-0.383,-0.383,1]},"o":{"x":[0.167,0.167,0.167],"y":[-1.301,-1.301,0]},"t":90,"s":[99.442,99.442,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.773,0.773,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.089,0.089,0]},"t":91,"s":[99.109,99.109,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.808,0.808,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.132,0.132,0]},"t":92,"s":[93.927,93.927,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.821,0.821,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.147,0.147,0]},"t":93,"s":[84.998,84.998,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.829,0.829,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.156,0.156,0]},"t":94,"s":[73.333,73.333,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.835,0.835,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.162,0.162,0]},"t":95,"s":[59.943,59.943,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.841,0.841,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.168,0.168,0]},"t":96,"s":[45.84,45.84,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.849,0.849,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.175,0.175,0]},"t":97,"s":[32.034,32.034,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.861,0.861,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.186,0.186,0]},"t":98,"s":[19.535,19.535,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.886,0.886,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.207,0.207,0]},"t":99,"s":[9.356,9.356,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.917,0.917,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.311,0.311,0]},"t":100,"s":[2.508,2.508,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[-0.209,-0.209,0]},"t":101,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":102,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":103,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.738,0.738,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":104,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.692,0.692,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.083,0.083,0]},"t":105,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.795,0.795,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.114,0.114,0]},"t":106,"s":[3.147,3.147,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.817,0.817,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.14,0.14,0]},"t":107,"s":[11.627,11.627,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.828,0.828,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.153,0.153,0]},"t":108,"s":[24.002,24.002,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.836,0.836,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.161,0.161,0]},"t":109,"s":[38.832,38.832,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.843,0.843,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.169,0.169,0]},"t":110,"s":[54.678,54.678,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.854,0.854,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.178,0.178,0]},"t":111,"s":[70.102,70.102,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.872,0.872,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.193,0.193,0]},"t":112,"s":[83.663,83.663,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.922,0.922,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.238,0.238,0]},"t":113,"s":[93.923,93.923,100]},{"i":{"x":[0.833,0.833,0.833],"y":[-0.383,-0.383,1]},"o":{"x":[0.167,0.167,0.167],"y":[-1.301,-1.301,0]},"t":114,"s":[99.442,99.442,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.773,0.773,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.089,0.089,0]},"t":115,"s":[99.109,99.109,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.808,0.808,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.132,0.132,0]},"t":116,"s":[93.927,93.927,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.821,0.821,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.147,0.147,0]},"t":117,"s":[84.998,84.998,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.829,0.829,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.156,0.156,0]},"t":118,"s":[73.333,73.333,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.162,0.162,0]},"t":119,"s":[59.943,59.943,100]},{"t":120,"s":[45.84,45.84,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.009,-0.047],[0.161,-0.105],[0,0],[0.198,-1.089],[0,0],[0.047,-0.011],[0.096,0.16],[0,0],[1.061,0.16],[0,0],[0.009,0.047],[-0.161,0.105],[0,0],[-0.198,1.088],[0,0],[-0.046,0.011],[-0.097,-0.16],[0,0],[-1.061,-0.16],[0,0]],"o":[[0.009,0.046],[0,0],[-0.913,0.623],[0,0],[-0.038,0.185],[-0.045,0.011],[0,0],[-0.576,-0.907],[0,0],[-0.181,-0.03],[-0.009,-0.046],[0,0],[0.913,-0.622],[0,0],[0.037,-0.185],[0.047,-0.01],[0,0],[0.575,0.908],[0,0],[0.18,0.031]],"v":[[27.579,-6.464],[27.445,-6.152],[10.893,5.182],[9.141,7.878],[5.499,27.627],[5.268,27.876],[4.969,27.751],[-5.51,11.308],[-8.089,9.627],[-27.344,6.683],[-27.579,6.458],[-27.445,6.147],[-10.891,-5.182],[-9.141,-7.877],[-5.499,-27.627],[-5.268,-27.876],[-4.967,-27.751],[5.516,-11.316],[8.094,-9.634],[27.35,-6.691]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":3,"k":{"a":0,"k":[0,1,0.916,0.753,0.147,1,0.787,0.376,0.998,1,0.659,0],"ix":9}},"s":{"a":0,"k":[0,0],"ix":5},"e":{"a":0,"k":[100,0],"ix":6},"t":2,"h":{"a":0,"k":0,"ix":7},"a":{"a":0,"k":0,"ix":8},"nm":"Gradient Fill 1","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[27.856,28.161],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":121,"st":-15,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"STAR Outlines","parent":3,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[33.092,6.565,0],"ix":2},"a":{"a":0,"k":[27.855,28.161,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.692,0.692,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0]},"t":0,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.795,0.795,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.114,0.114,0]},"t":1,"s":[3.147,3.147,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.817,0.817,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.14,0.14,0]},"t":2,"s":[11.627,11.627,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.828,0.828,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.153,0.153,0]},"t":3,"s":[24.002,24.002,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.836,0.836,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.161,0.161,0]},"t":4,"s":[38.832,38.832,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.843,0.843,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.169,0.169,0]},"t":5,"s":[54.678,54.678,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.854,0.854,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.178,0.178,0]},"t":6,"s":[70.102,70.102,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.872,0.872,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.193,0.193,0]},"t":7,"s":[83.663,83.663,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.922,0.922,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.238,0.238,0]},"t":8,"s":[93.923,93.923,100]},{"i":{"x":[0.833,0.833,0.833],"y":[-0.383,-0.383,1]},"o":{"x":[0.167,0.167,0.167],"y":[-1.301,-1.301,0]},"t":9,"s":[99.442,99.442,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.773,0.773,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.089,0.089,0]},"t":10,"s":[99.109,99.109,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.808,0.808,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.132,0.132,0]},"t":11,"s":[93.927,93.927,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.821,0.821,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.147,0.147,0]},"t":12,"s":[84.998,84.998,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.829,0.829,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.156,0.156,0]},"t":13,"s":[73.333,73.333,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.835,0.835,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.162,0.162,0]},"t":14,"s":[59.943,59.943,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.841,0.841,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.168,0.168,0]},"t":15,"s":[45.84,45.84,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.849,0.849,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.175,0.175,0]},"t":16,"s":[32.034,32.034,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.861,0.861,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.186,0.186,0]},"t":17,"s":[19.535,19.535,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.886,0.886,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.207,0.207,0]},"t":18,"s":[9.356,9.356,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.917,0.917,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.311,0.311,0]},"t":19,"s":[2.508,2.508,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[-0.209,-0.209,0]},"t":20,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":21,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":22,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.738,0.738,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":23,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.692,0.692,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.083,0.083,0]},"t":24,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.795,0.795,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.114,0.114,0]},"t":25,"s":[3.147,3.147,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.817,0.817,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.14,0.14,0]},"t":26,"s":[11.627,11.627,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.828,0.828,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.153,0.153,0]},"t":27,"s":[24.002,24.002,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.836,0.836,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.161,0.161,0]},"t":28,"s":[38.832,38.832,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.843,0.843,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.169,0.169,0]},"t":29,"s":[54.678,54.678,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.854,0.854,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.178,0.178,0]},"t":30,"s":[70.102,70.102,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.872,0.872,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.193,0.193,0]},"t":31,"s":[83.663,83.663,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.922,0.922,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.238,0.238,0]},"t":32,"s":[93.923,93.923,100]},{"i":{"x":[0.833,0.833,0.833],"y":[-0.383,-0.383,1]},"o":{"x":[0.167,0.167,0.167],"y":[-1.301,-1.301,0]},"t":33,"s":[99.442,99.442,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.773,0.773,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.089,0.089,0]},"t":34,"s":[99.109,99.109,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.808,0.808,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.132,0.132,0]},"t":35,"s":[93.927,93.927,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.821,0.821,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.147,0.147,0]},"t":36,"s":[84.998,84.998,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.829,0.829,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.156,0.156,0]},"t":37,"s":[73.333,73.333,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.835,0.835,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.162,0.162,0]},"t":38,"s":[59.943,59.943,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.841,0.841,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.168,0.168,0]},"t":39,"s":[45.84,45.84,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.849,0.849,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.175,0.175,0]},"t":40,"s":[32.034,32.034,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.861,0.861,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.186,0.186,0]},"t":41,"s":[19.535,19.535,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.886,0.886,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.207,0.207,0]},"t":42,"s":[9.356,9.356,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.917,0.917,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.311,0.311,0]},"t":43,"s":[2.508,2.508,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[-0.209,-0.209,0]},"t":44,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":45,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":46,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.738,0.738,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":47,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.692,0.692,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.083,0.083,0]},"t":48,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.795,0.795,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.114,0.114,0]},"t":49,"s":[3.147,3.147,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.817,0.817,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.14,0.14,0]},"t":50,"s":[11.627,11.627,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.828,0.828,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.153,0.153,0]},"t":51,"s":[24.002,24.002,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.836,0.836,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.161,0.161,0]},"t":52,"s":[38.832,38.832,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.843,0.843,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.169,0.169,0]},"t":53,"s":[54.678,54.678,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.854,0.854,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.178,0.178,0]},"t":54,"s":[70.102,70.102,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.872,0.872,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.193,0.193,0]},"t":55,"s":[83.663,83.663,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.922,0.922,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.238,0.238,0]},"t":56,"s":[93.923,93.923,100]},{"i":{"x":[0.833,0.833,0.833],"y":[-0.383,-0.383,1]},"o":{"x":[0.167,0.167,0.167],"y":[-1.301,-1.301,0]},"t":57,"s":[99.442,99.442,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.773,0.773,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.089,0.089,0]},"t":58,"s":[99.109,99.109,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.808,0.808,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.132,0.132,0]},"t":59,"s":[93.927,93.927,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.821,0.821,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.147,0.147,0]},"t":60,"s":[84.998,84.998,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.829,0.829,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.156,0.156,0]},"t":61,"s":[73.333,73.333,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.835,0.835,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.162,0.162,0]},"t":62,"s":[59.943,59.943,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.841,0.841,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.168,0.168,0]},"t":63,"s":[45.84,45.84,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.849,0.849,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.175,0.175,0]},"t":64,"s":[32.034,32.034,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.861,0.861,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.186,0.186,0]},"t":65,"s":[19.535,19.535,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.886,0.886,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.207,0.207,0]},"t":66,"s":[9.356,9.356,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.917,0.917,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.311,0.311,0]},"t":67,"s":[2.508,2.508,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[-0.209,-0.209,0]},"t":68,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":69,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":70,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.738,0.738,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":71,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.692,0.692,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.083,0.083,0]},"t":72,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.795,0.795,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.114,0.114,0]},"t":73,"s":[3.147,3.147,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.817,0.817,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.14,0.14,0]},"t":74,"s":[11.627,11.627,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.828,0.828,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.153,0.153,0]},"t":75,"s":[24.002,24.002,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.836,0.836,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.161,0.161,0]},"t":76,"s":[38.832,38.832,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.843,0.843,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.169,0.169,0]},"t":77,"s":[54.678,54.678,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.854,0.854,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.178,0.178,0]},"t":78,"s":[70.102,70.102,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.872,0.872,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.193,0.193,0]},"t":79,"s":[83.663,83.663,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.922,0.922,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.238,0.238,0]},"t":80,"s":[93.923,93.923,100]},{"i":{"x":[0.833,0.833,0.833],"y":[-0.383,-0.383,1]},"o":{"x":[0.167,0.167,0.167],"y":[-1.301,-1.301,0]},"t":81,"s":[99.442,99.442,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.773,0.773,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.089,0.089,0]},"t":82,"s":[99.109,99.109,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.808,0.808,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.132,0.132,0]},"t":83,"s":[93.927,93.927,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.821,0.821,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.147,0.147,0]},"t":84,"s":[84.998,84.998,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.829,0.829,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.156,0.156,0]},"t":85,"s":[73.333,73.333,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.835,0.835,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.162,0.162,0]},"t":86,"s":[59.943,59.943,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.841,0.841,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.168,0.168,0]},"t":87,"s":[45.84,45.84,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.849,0.849,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.175,0.175,0]},"t":88,"s":[32.034,32.034,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.861,0.861,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.186,0.186,0]},"t":89,"s":[19.535,19.535,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.886,0.886,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.207,0.207,0]},"t":90,"s":[9.356,9.356,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.917,0.917,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.311,0.311,0]},"t":91,"s":[2.508,2.508,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[-0.209,-0.209,0]},"t":92,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":93,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":94,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.738,0.738,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":95,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.692,0.692,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.083,0.083,0]},"t":96,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.795,0.795,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.114,0.114,0]},"t":97,"s":[3.147,3.147,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.817,0.817,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.14,0.14,0]},"t":98,"s":[11.627,11.627,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.828,0.828,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.153,0.153,0]},"t":99,"s":[24.002,24.002,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.836,0.836,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.161,0.161,0]},"t":100,"s":[38.832,38.832,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.843,0.843,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.169,0.169,0]},"t":101,"s":[54.678,54.678,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.854,0.854,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.178,0.178,0]},"t":102,"s":[70.102,70.102,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.872,0.872,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.193,0.193,0]},"t":103,"s":[83.663,83.663,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.922,0.922,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.238,0.238,0]},"t":104,"s":[93.923,93.923,100]},{"i":{"x":[0.833,0.833,0.833],"y":[-0.383,-0.383,1]},"o":{"x":[0.167,0.167,0.167],"y":[-1.301,-1.301,0]},"t":105,"s":[99.442,99.442,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.773,0.773,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.089,0.089,0]},"t":106,"s":[99.109,99.109,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.808,0.808,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.132,0.132,0]},"t":107,"s":[93.927,93.927,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.821,0.821,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.147,0.147,0]},"t":108,"s":[84.998,84.998,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.829,0.829,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.156,0.156,0]},"t":109,"s":[73.333,73.333,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.835,0.835,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.162,0.162,0]},"t":110,"s":[59.943,59.943,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.841,0.841,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.168,0.168,0]},"t":111,"s":[45.84,45.84,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.849,0.849,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.175,0.175,0]},"t":112,"s":[32.034,32.034,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.861,0.861,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.186,0.186,0]},"t":113,"s":[19.535,19.535,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.886,0.886,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.207,0.207,0]},"t":114,"s":[9.356,9.356,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.917,0.917,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.311,0.311,0]},"t":115,"s":[2.508,2.508,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[-0.209,-0.209,0]},"t":116,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":117,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":118,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":119,"s":[0,0,100]},{"t":120,"s":[0,0,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.009,-0.047],[0.161,-0.105],[0,0],[0.198,-1.089],[0,0],[0.047,-0.011],[0.096,0.16],[0,0],[1.061,0.16],[0,0],[0.009,0.047],[-0.161,0.105],[0,0],[-0.198,1.088],[0,0],[-0.046,0.011],[-0.097,-0.16],[0,0],[-1.061,-0.16],[0,0]],"o":[[0.009,0.046],[0,0],[-0.913,0.623],[0,0],[-0.038,0.185],[-0.045,0.011],[0,0],[-0.576,-0.907],[0,0],[-0.181,-0.03],[-0.009,-0.046],[0,0],[0.913,-0.622],[0,0],[0.037,-0.185],[0.047,-0.01],[0,0],[0.575,0.908],[0,0],[0.18,0.031]],"v":[[27.579,-6.464],[27.445,-6.152],[10.893,5.182],[9.141,7.878],[5.499,27.627],[5.268,27.876],[4.969,27.751],[-5.51,11.308],[-8.089,9.627],[-27.344,6.683],[-27.579,6.458],[-27.445,6.147],[-10.891,-5.182],[-9.141,-7.877],[-5.499,-27.627],[-5.268,-27.876],[-4.967,-27.751],[5.516,-11.316],[8.094,-9.634],[27.35,-6.691]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":3,"k":{"a":0,"k":[0,1,0.916,0.753,0.147,1,0.787,0.376,0.998,1,0.659,0],"ix":9}},"s":{"a":0,"k":[0,0],"ix":5},"e":{"a":0,"k":[100,0],"ix":6},"t":2,"h":{"a":0,"k":0,"ix":7},"a":{"a":0,"k":0,"ix":8},"nm":"Gradient Fill 1","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[27.856,28.161],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":121,"st":-24,"bm":0}],"markers":[]}')},907:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(1256),n=a(137),r=a(2843),o=a(250),l=a(895),d=a(27),b=a(629),u=a(619),j=a(116),m=a(22);const{Option:p}=c.a,h={isCaseSensitive:!1,findAllMatches:!0,keys:["name"]},O=e=>{let{showCreateButton:t,...a}=e;const[c,O]=Object(s.useState)(),_=Object(s.useRef)(null),x=Object(d.a)((e=>e.inventory_brands)),v=Object(d.a)((e=>e.current_user.permissions)),g=Object(s.useMemo)((()=>x.filter((e=>e.active))),[x]),y=Object(s.useMemo)((()=>{if(!a.value)return g;const e=g.some((e=>e.id===a.value));if(e)return g;const t=x.find((e=>e.id===a.value));return t?[t,...g]:g}),[g,x,a.value]),f=Object(s.useMemo)((()=>{if(!c)return y;return new u.a(y,h).search(c).map((e=>e.item))}),[y,c]),w=Object(s.useCallback)((()=>{var e;if(!v.can_create_product)return void j.b.warning(Object(i.b)("phrases.no_permission_to_do_this"));const t={name:c||"",active:!0};null===(e=_.current)||void 0===e||e.open(t)}),[v.can_create_product,c]),k=Object(s.useCallback)((e=>Object(m.jsxs)("div",{children:[e,t&&Object(m.jsx)(o.g,{$paddings:10,style:{borderTop:"1px solid #f0f0f0"},children:Object(m.jsx)(o.i,{onClick:w,children:Object(m.jsxs)(o.h,{$semibold:!0,children:[Object(m.jsx)(r.a,{})," ",Object(i.b)("phrases.click_to_create")," ",c||""]})})})]})),[w,t,c]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b.b,{showSearch:!0,filterOption:!1,onSearch:Object(n.debounce)(O,300),placeholder:Object(i.b)("words.brand"),allowClear:!0,dropdownRender:k,getPopupContainer:Object(s.useCallback)((e=>e.parentElement),[]),...a,children:f.map((e=>Object(m.jsx)(p,{value:e.id,children:e.name},e.id)))}),Object(m.jsx)(l.a,{ref:_})]})};t.a=Object(s.memo)(O)},908:function(e,t,a){"use strict";var s=a(0),i=a(547),c=a(250),n=a(50),r=a(117),o=a(22);const l=e=>{let{flow:t}=e;const a=Object(s.useMemo)((()=>{if(["Inventory::SaleItem","Inventory::SaleCompose"].includes(t.movement_type||""))return"-"===t.kind?{title:Object(n.b)("words.sale"),color:r.a.red}:{title:Object(n.b)("products.drawer.stock_movement.deleted_sale"),color:r.a.red};return["Inventory::PurchaseItem"].includes(t.movement_type||"")?"+"===t.kind?{title:Object(n.b)("words.purchase"),color:r.a.green_1}:{title:Object(n.b)("products.drawer.stock_movement.deleted_purchase"),color:r.a.red_2}:{title:Object(n.b)("products.drawer.stock_movement.manual_adjustment"),color:"#5bc0de"}}),[t.kind,t.movement_type]);return Object(o.jsx)(i.a,{color:a.color,children:Object(o.jsx)(c.h,{$semibold:!0,children:a.title})})};l.displayName="FlowLabel",t.a=Object(s.memo)(l)},909:function(e,t,a){"use strict";var s=a(116),i=a(0),c=a(37),n=a(1850),r=a(188),o=a(76),l=a(50);const d=c.e`
  mutation SaveService ($data: SaveInventoryProductInput!) {
    saveInventoryProduct (input: $data) {
      success
      errors

      service: inventory_product {
        ...InventoryProductsAttributes
      }
    }
  }

  ${r.b}
`;t.a=()=>{const[e,{loading:t}]=Object(n.a)(d,{context:{hasUpload:!0}});return[Object(i.useCallback)((async t=>{const a={...t,service:!0},i="image"in a&&a.image;try{const{data:t}=await e({variables:{data:a},context:{hasUpload:i}}),{success:c=!1,errors:n=[],service:r}=(null===t||void 0===t?void 0:t.saveInventoryProduct)||{};return c&&s.b.success(Object(l.b)("phrases.saved_successfully",{prefix:Object(l.b)("words.service")})),null===n||void 0===n||n.forEach((e=>s.b.error(e))),{success:c,service:r}}catch(c){return o.a.captureException(c),s.b.error(Object(l.b)("phrases.generic_save_error_message")),console.error(c),{success:!1,service:void 0}}}),[e]),{loading:t}]}},910:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var s=a(50),i=a(3052),c=a(250),n=a(159),r=a(1438),o=a(1809),l=a(852),d=a(53),b=a.n(d),u=a(0),j=a(636),m=a(22);const p={daily:{previous:{translation:Object(s.b)("words.yesterday"),date:b()().add(-1,"day")},current:{translation:Object(s.b)("words.today"),date:b()()},next:{translation:Object(s.b)("words.tomorrow"),date:b()().add(1,"day")}},weekly:{previous:{translation:Object(s.b)("date.last_week"),date:b()().add(-7,"day")},current:{translation:Object(s.b)("date.current_week"),date:b()()},next:{translation:Object(s.b)("date.next_week"),date:b()().add(7,"day")}},monthly:{previous:{translation:Object(s.b)("date.last_month"),date:b()().add(-1,"month")},current:{translation:Object(s.b)("date.current_month"),date:b()()},next:{translation:Object(s.b)("date.next_month"),date:b()().add(1,"month")}}},h=e=>{let{menu_items:t,onDateChange:a,position:d}=e;const b=Object(j.b)((e=>e.view_interval));return Object(m.jsxs)(c.g,{align:"middle",justify:"space-between",children:[Object(m.jsxs)(c.g,{$alignCenter:!0,children:[Object(m.jsx)(n.a,{type:"link",onClick:()=>a(p[b].previous.date),children:Object(m.jsx)(c.h,{$semibold:!0,children:p[b].previous.translation})}),Object(m.jsx)(r.a,{style:{margin:"0"},type:"vertical"}),Object(m.jsx)(n.a,{type:"link",onClick:()=>a(p[b].current.date),children:Object(m.jsx)(c.h,{$semibold:!0,children:p[b].current.translation})}),Object(m.jsx)(r.a,{style:{margin:"0"},type:"vertical"}),Object(m.jsx)(n.a,{type:"link",onClick:()=>a(p[b].next.date),children:Object(m.jsx)(c.h,{$semibold:!0,children:p[b].next.translation})})]}),Object(m.jsx)(o.a,{menu:{items:t,selectedKeys:[d]},trigger:["click"],placement:"topRight",getPopupContainer:e=>e.parentElement||document.body,children:Object(m.jsx)(l.a,{title:Object(s.b)("calendar.configure_position"),placement:"bottom",children:Object(m.jsx)(n.a,{type:"link",icon:Object(m.jsx)(i.a,{})})})})]})};h.displayName="Footer",t.b=Object(u.memo)(h)},911:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(116),n=a(37),r=a(1850),o=a(76);const l=n.e`
  mutation AdvancesDrawerDestroyAdvance($data: DestroyAdvanceInput!) {
    destroyAdvance(input: $data) {
      success errors
    }
  }
`;t.a=()=>{const[e,{loading:t}]=Object(r.a)(l);return[Object(s.useCallback)((async(t,a)=>{try{const{data:s}=await e({variables:{data:{id:t,affect_future_recurrences:a}}}),{success:i=!1,errors:n=[]}=(null===s||void 0===s?void 0:s.destroyAdvance)||{};return null===n||void 0===n||n.map((e=>c.b.error(e))),{success:i}}catch(s){return o.a.captureException(s),c.b.error(Object(i.b)("phrases.generic_delete_error_message")),console.error(s),{success:!1}}}),[e]),{loading:t}]}},912:function(e,t,a){"use strict";var s=a(0),i=a(582),c=a(232),n=a(22);const r=Object(s.lazy)((()=>Object(c.a)((()=>a.e(171).then(a.bind(null,1469)))))),o=Object(s.lazy)((()=>Object(c.a)((()=>a.e(172).then(a.bind(null,1470)))))),l=e=>Object(n.jsx)(i.a,{Desktop:r,Mobile:o,...e});l.displayName="Table",t.a=l},914:function(e,t,a){"use strict";const s=a(19).d.div.withConfig({componentId:"wb__sc-1yyj5fz-0"})(["padding:12px 8px;border-bottom:1px solid #f0f0f0;transition:background 0.3s;position:relative;"," "," ",""],(e=>e.$align&&`text-align: ${e.$align};`),(e=>e.$ellipsis&&"\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    word-break: keep-all;\n  "),(e=>e.$width?`flex: 0 0 ${e.$width};`:"flex: 1;"));t.a=s},915:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(116),n=a(37),r=a(1850),o=a(76);const l=n.e`
  mutation destroyScheduleGroupMutation($data: ScheduleGroupDestroyInput!) {
    scheduleGroupDestroy(input: $data) {
      success
      errors
    }
  }
`;t.a=()=>{const[e,{loading:t}]=Object(r.a)(l);return[Object(s.useCallback)((async(t,a)=>{try{var s;const n=await e({variables:{data:{id:t,with_next_ocurrences:a}}}),{success:r,errors:o}=(null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.scheduleGroupDestroy)||{};return r?(c.b.success(Object(i.b)("phrases.deleted_successfully",{prefix:Object(i.b)("words.scheduling")})),{success:!0}):(null===o||void 0===o||o.map((e=>c.b.error(e))),{success:!1})}catch(n){return o.a.captureException(n),console.error(n),c.b.error(Object(i.b)("phrases.generic_delete_error_message")),{success:!1}}}),[e]),{loading:t}]}},943:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(340),n=a(543),r=a(2937),o=a(2824),l=a(2883),d=a(1810),b=a(637),u=a(19),j=a(1227),m=a(2853),p=a(22);const h=e=>{let{title:t,content:a}=e;return Object(p.jsx)("div",{children:Object(p.jsxs)(j.a,{title:Object(p.jsx)("strong",{children:t}),content:Object(p.jsx)(_,{children:a}),children:[t,":\xa0",Object(p.jsx)(m.a,{style:{fontSize:"16rem"}})]})})};h.displayName="ItemLabel";var O=h;const _=u.d.div.withConfig({componentId:"wb__sc-def09g-0"})(["max-width:350px;width:350px;"]),x=e=>{let{setFieldsValue:t}=e;const a=Object(s.useRef)(null);return Object(p.jsxs)(n.a,{gutter:4,wrap:!0,style:{marginBottom:20},children:[Object(p.jsx)(r.a.Item,{name:["employee_fee_config_attributes","id"],noStyle:!0,children:Object(p.jsx)(o.a,{type:"hidden"})}),Object(p.jsx)(l.a,{xs:24,sm:12,children:Object(p.jsx)(r.a.Item,{name:["employee_fee_config_attributes","filter_date_by"],label:Object(p.jsx)(O,{title:Object(i.b)("employee_fee_config.date_filter"),content:Object(p.jsx)(c.a,{i18nKey:"employees.drawer.fee_settings.filter_by_date_description",components:[Object(p.jsx)("strong",{}),Object(p.jsx)("br",{})]})}),children:Object(p.jsxs)(d.a.Group,{children:[Object(p.jsx)(v,{value:"due_date",children:Object(i.b)("phrases.competence_date")}),Object(p.jsx)(v,{value:"available_date",children:Object(i.b)("phrases.availability_date")})]})})}),Object(p.jsx)(l.a,{xs:24,sm:12,children:Object(p.jsx)(r.a.Item,{name:["employee_fee_config_attributes","open_sales"],label:Object(p.jsx)(O,{title:Object(i.b)("employee_fee_config.sale_type"),content:Object(p.jsx)(c.a,{i18nKey:"employees.drawer.fee_settings.sale_type_description",components:[Object(p.jsx)("strong",{}),Object(p.jsx)("br",{})]})}),children:Object(p.jsxs)(d.a.Group,{children:[Object(p.jsx)(v,{value:!0,children:Object(i.b)("employee_fee_config.all_sales")}),Object(p.jsx)(v,{value:!1,children:Object(i.b)("employee_fee_config.only_finished")})]})})}),Object(p.jsx)(l.a,{xs:24,sm:12,children:Object(p.jsx)(r.a.Item,{name:["employee_fee_config_attributes","fee_payer"],label:Object(p.jsx)(O,{title:Object(i.b)("words.fee",{count:2}),content:Object(i.b)("employees.drawer.fee_settings.fee_description")}),children:Object(p.jsxs)(d.a.Group,{children:[Object(p.jsx)(v,{value:"both",children:Object(i.b)("employee_fee_config.fee_and_discount_payer.both")}),Object(p.jsx)(v,{value:"company",children:Object(i.b)("employee_fee_config.fee_and_discount_payer.company")}),Object(p.jsx)(v,{value:"employee",children:Object(i.b)("employee_fee_config.fee_and_discount_payer.employee")})]})})}),Object(p.jsx)(l.a,{xs:24,sm:12,children:Object(p.jsx)(r.a.Item,{name:["employee_fee_config_attributes","discount_payer"],label:Object(p.jsx)(O,{title:Object(i.b)("words.discount",{count:2}),content:Object(i.b)("employees.drawer.fee_settings.discount_description")}),children:Object(p.jsxs)(d.a.Group,{children:[Object(p.jsx)(v,{value:"both",children:Object(i.b)("employee_fee_config.fee_and_discount_payer.both")}),Object(p.jsx)(v,{value:"company",children:Object(i.b)("employee_fee_config.fee_and_discount_payer.company")}),Object(p.jsx)(v,{value:"employee",children:Object(i.b)("employee_fee_config.fee_and_discount_payer.employee")})]})})}),Object(p.jsx)(l.a,{xs:24,sm:12,children:Object(p.jsx)(r.a.Item,{name:["employee_fee_config_attributes","considers_additional_cost"],label:Object(p.jsx)(O,{title:Object(i.b)("employee_fee_config.variable_cost_of_services"),content:Object(p.jsx)(c.a,{i18nKey:"employees.drawer.fee_settings.variable_cost_of_services_description",components:[Object(p.jsx)("strong",{}),Object(p.jsx)("br",{})]})}),children:Object(p.jsxs)(d.a.Group,{children:[Object(p.jsx)(v,{value:!0,children:Object(i.b)("employee_fee_config.apply_discount")}),Object(p.jsx)(v,{value:!1,children:Object(i.b)("employee_fee_config.do_not_apply_discount")})]})})}),Object(p.jsx)(l.a,{xs:24,sm:12,children:Object(p.jsx)(r.a.Item,{name:["employee_fee_config_attributes","discount_consumed_products_on"],label:Object(p.jsx)(O,{title:Object(i.b)("employee_fee_config.deduct_consumed_products_from"),content:Object(p.jsx)(c.a,{i18nKey:"employees.drawer.fee_settings.deduct_from_commission_description",components:[Object(p.jsx)("strong",{}),Object(p.jsx)("br",{})]})}),children:Object(p.jsxs)(d.a.Group,{children:[Object(p.jsx)(v,{value:0,children:Object(i.b)("employee_fee_config.employee_commission")}),Object(p.jsx)(v,{value:1,children:Object(i.b)("employee_fee_config.service")})]})})}),Object(p.jsx)(l.a,{xs:24,sm:12,children:Object(p.jsx)(r.a.Item,{name:["employee_fee_config_attributes","product_consumed_price_by"],label:Object(p.jsx)(O,{title:Object(i.b)("words.consumed_product",{count:2}),content:Object(p.jsx)(c.a,{i18nKey:"employees.drawer.fee_settings.consumed_products_description",components:[Object(p.jsx)("strong",{}),Object(p.jsx)("br",{})]})}),children:Object(p.jsxs)(d.a.Group,{children:[Object(p.jsx)(v,{value:"i",children:Object(i.b)("employee_fee_config.no_discount")}),Object(p.jsx)(v,{value:"cost",children:Object(i.b)("employee_fee_config.cost_price")}),Object(p.jsx)(v,{value:"price",children:Object(i.b)("employee_fee_config.selling_price")}),Object(p.jsx)(v,{value:"pro",children:Object(i.b)("employee_fee_config.employee_price")})]})})}),Object(p.jsx)(l.a,{xs:24,sm:12,children:Object(p.jsx)(r.a.Item,{name:["employee_fee_config_attributes","show_total_gross_value"],label:Object(i.b)("employee_fee_config.display_gross_value_in_report"),children:Object(p.jsxs)(d.a.Group,{children:[Object(p.jsx)(v,{value:!0,children:Object(i.b)("words.yes")}),Object(p.jsx)(v,{value:!1,children:Object(i.b)("words.no")})]})})}),Object(p.jsxs)(l.a,{xs:24,children:[Object(p.jsx)(r.a.Item,{style:{margin:"10px 0"},name:["employee_fee_config_attributes","commission_message_received"],label:Object(p.jsx)(O,{title:Object(i.b)("employees.drawer.fee_settings.receiving_commission"),content:Object(p.jsx)(c.a,{i18nKey:"employees.drawer.fee_settings.receiving_commission_description",components:[Object(p.jsx)("br",{})]})}),children:Object(p.jsx)(o.a.TextArea,{maxLength:16777215,rows:3,style:{width:"100%"},autoComplete:"off",ref:a})}),Object(p.jsx)(b.a,{keys:["value","salon_name"],textAreaRef:a,fieldName:["employee_fee_config_attributes","commission_message_received"],setFieldsValue:t})]})]})};x.displayName="FeeConfigForm";t.a=x;const v=Object(u.d)(d.a).withConfig({componentId:"wb__sc-1ljnwmj-0"})(["display:block !important;height:30px;line-height:30px !important;"])},944:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(18),n=a(852),r=a(159),o=a(3024),l=a(2932),d=a(579),b=a(603);const u=e=>({id:e.id,key:e.id,src:e.link,width:e.size[0],height:e.size[1],salon:e.salon,created_at:e.created_at,blurhash:e.file_blurhash,selected:!1,original_size:e.size});var j=a(593),m=a(3062),p=a(3049),h=a(868),O=a(27),_=a(19),x=a(116),v=a(22);const g=e=>{let{client_id:t,selecting:a,only_images:l=!1,afterSave:_}=e;const[g,f]=Object(s.useState)(!1),[w,k]=Object(s.useState)(),[C,I]=Object(s.useState)([]),A=Object(O.a)((e=>e.is_mobile)),S=Object(O.a)((e=>{let{current_user:{addons:t}}=e;return t.has_upload_image})),$=Object(s.useRef)(null),[E,F]=Object(h.a)(),D=Object(j.b)(),z=Object(s.useCallback)((e=>{S||(D({is_addon:!0,title:Object(i.b)("clients.image_file.almost_there"),search:c.a.ID_UPLOAD_IMAGE}),e.stopPropagation())}),[D,S]),N=Object(s.useCallback)(((e,t,a)=>{null===a||void 0===a||a("Ok"),I((t=>t.filter((t=>t.uid!==e.uid)))),_([u(t)])}),[_]),q=Object(s.useCallback)((async e=>{if(!S)return;const{onSuccess:a,onError:s,onProgress:c}=e||{},n=e.file;if(t)try{const e=(e=>{const t=Object(d.n)(5);return Object(b.h)(e,t)})(n);if(!e){const e=Object(i.b)("clients.upload.file_limit_warning",{limit:5});return x.b.error(e),void(null===s||void 0===s||s({name:n.uid,message:e}))}const{success:r,file_link:o}=await E({file:n,client_id:t},c);if(!r)return;N(n,o,a)}catch(r){console.error("Erro durante o upload:",r),null===s||void 0===s||s(r)}}),[t,N,S,E]),B=Object(s.useMemo)((()=>C.some((e=>"uploading"===e.status))),[C]);return Object(v.jsxs)("div",{children:[Object(v.jsx)(y,{$only_images:l,id:"client_upload",customRequest:q,maxCount:12,openFileDialogOnClick:!0,accept:l?"image/png, image/jpeg, image/jpg, image/gif":void 0,listType:l?"picture-card":void 0,fileList:C,onPreview:e=>{e.url||e.preview||(e.preview=URL.createObjectURL(e.originFileObj)),k(e.url||e.preview),f(!0)},onChange:e=>{let{fileList:t}=e;S?I(t):D({is_addon:!0,title:Object(i.b)("clients.image_file.almost_there"),search:c.a.ID_UPLOAD_IMAGE})},showUploadList:!!l&&{showRemoveIcon:C.some((e=>"error"===e.status))},multiple:!0,disabled:B||a,itemRender:e=>Object(v.jsx)(n.a,{title:A?e.props.title:void 0,trigger:["click"],children:e}),children:l?Object(v.jsxs)("div",{ref:$,onClick:z,children:[Object(v.jsx)(m.a,{style:{fontSize:26}}),Object(v.jsx)("div",{style:{marginTop:8},children:Object(i.b)("verbs.upload")})]}):Object(v.jsx)(r.a,{type:"primary",icon:Object(v.jsx)(p.a,{}),onClick:z,block:A,size:A?"large":"middle",loading:F,children:Object(i.b)("phrases.send",{suffix:Object(i.b)("words.file").toLocaleLowerCase()})})}),Object(v.jsx)(o.a,{styles:{body:{padding:0,background:"transparent",boxShadow:"unset"}},maskClosable:!0,closable:!1,open:g,footer:null,onCancel:()=>{k(void 0),f(!1)},centered:!0,children:Object(v.jsx)("img",{alt:"example",loading:"lazy",style:{width:"100%"},src:w})})]})};g.displayName="Uploader";t.a=g;const y=Object(_.d)(l.a).withConfig({componentId:"wb__sc-15lxovx-0"})(["",""],(e=>!e.$only_images&&Object(_.c)([".ant-upload{display:block !important;}"])))},949:function(e,t,a){"use strict";a.r(t);var s=a(0),i=a(50),c=a(2824),n=a(137),r=a(250),o=a(894),l=a(1444),d=a(19),b=a(747),u=a(22);const j=e=>{const{BottomComponentMobile:t,title:a,onSearch:c,focusable:d,tabs:j,onTabClick:h,isTabSelected:_}=e,x=Object(s.useRef)(null);return Object(s.useEffect)((()=>{d&&setTimeout((()=>{var e;return null===(e=x.current)||void 0===e?void 0:e.focus()}),700)}),[d]),Object(u.jsxs)(r.g,{$column:!0,$paddings:[10,15],$isFlex:!1,children:[Object(u.jsx)(r.g,{$alignCenter:!0,$isFlex:!1,justify:"space-between",children:Object(u.jsxs)(r.h,{$size:24,$bold:!0,$color:"default_text",children:[a,Object(u.jsx)(b.a,{})]})}),t&&Object(u.jsx)(t,{}),j&&Object(u.jsx)(p,{children:j.map(((e,t)=>Object(u.jsx)(o.StyledBadge,{count:e.is_new?Object(i.b)("words.new"):"",size:"small",offset:[-35,0],children:Object(u.jsxs)(O,{onClick:()=>null===h||void 0===h?void 0:h(e),$selected:null===_||void 0===_?void 0:_(e),disabled:e.disabled,children:[e.icon&&Object(u.jsx)(r.d,{$color:e.disabled?"silver":null!==_&&void 0!==_&&_(e)?"primary":"default_text",as:e.icon,$size:20}),Object(u.jsx)(r.h,{$size:12,$bold:!0,$top:5,$alignCenter:!0,$textEllipsis:!0,children:e.label})]},e.path)},`mobile-${e.path}-${t}`)))}),!!c&&Object(u.jsx)(m,{ref:x,allowClear:!0,size:"large",placeholder:Object(i.b)("phrases.type_to_search"),enterKeyHint:"search",onChange:Object(n.debounce)((e=>c(e.target.value)),700),prefix:Object(u.jsx)(l.a,{style:{color:"lightgray"}})})]})};j.displayName="HeaderMobile",t.default=Object(s.memo)(j);const m=Object(d.d)(c.a).withConfig({componentId:"wb__sc-11qvk6f-0"})(["border-color:rgba(0,0,0,0.05);box-shadow:0 2px 9px rgba(83,83,83,0.06);margin-top:8px;padding:8px 12px;.ant-input-prefix{margin-right:10px;}"]),p=d.d.div.withConfig({componentId:"wb__sc-11qvk6f-1"})(["padding:10px 0;display:flex;overflow-x:auto;"]),h=Object(d.c)(["color:",";&::after{opacity:1;}"],(e=>e.theme.colors.primary)),O=Object(d.d)(r.i).withConfig({componentId:"wb__sc-11qvk6f-2"})(["color:rgba(0,0,0,.5);position:relative;padding:4px 0 13px;line-height:16px;transition:color 0.1s;margin-right:30px;&::after{position:absolute;bottom:0;left:0;backface-visibility:hidden;width:100%;display:block;height:2px;content:'';transition:opacity 0.1s linear 0s;background-color:",";border-radius:3px;opacity:0;}",";",";&:hover{","}"],(e=>e.theme.colors.primary),(e=>e.$is_active&&Object(d.c)([""," .wb-icon{color:","}"],r.h,e.theme.colors.gold)),(e=>e.$selected&&h),h)},954:function(e,t,a){"use strict";a.d(t,"b",(function(){return _})),a.d(t,"a",(function(){return x}));a(0);var s=a(583),i=a(658),c=a(250),n=a(19),r=a(50),o=a(852),l=a(159),d=a(27),b=a(53),u=a.n(b),j=a(116),m=a(857),p=a(22);const h=e=>{const{rent_due:t,handleClick:a,is_canceled:n,is_select:d,addon:b,handleSaveAddon:j}=e,{id:m="",value_cents:h=0,status:v="free",url_video:g}=b||{},{disabled:y,label:f,show_cancel:w,show_date:k}=_[v];return Object(p.jsxs)(O,{children:[Object(p.jsx)(x,{url_video:g}),Object(p.jsxs)("div",{style:{marginBottom:15},children:[Object(p.jsx)(s.b,{width:7,$size:20,$bold:!0,children:Object(i.d)(h)}),"/",Object(p.jsx)(s.b,{width:5,$size:12,$color:"gray_1",children:Object(r.b)("words.monthly").toLocaleLowerCase()})]}),Object(p.jsxs)(c.g,{$column:!0,$fullWidth:!0,$alignCenter:!0,children:[Object(p.jsx)(s.b,{$mBottom:5,width:20,children:k&&!!t&&Object(p.jsxs)(o.a,{trigger:["click","hover"],title:Object(r.b)("subscription.addons.card.active_until_the_next_renewal"),children:["*\xa0",Object(r.b)("subscription.addons.card.active_until"),"\xa0",u()(t).format("L")]})}),Object(p.jsx)(l.a,{onClick:e=>{e.preventDefault(),e.stopPropagation(),a()},style:n?{backgroundColor:"orange",border:"1px solid orange"}:void 0,disabled:y||!b,block:!0,type:"primary",children:n?Object(r.b)("verbs.reactive"):d?Object(r.b)("verbs.remove"):f}),Object(p.jsx)(s.b,{width:10,style:{marginTop:10,textAlign:"center",height:22},children:w&&Object(p.jsx)(c.h,{onClick:()=>null===j||void 0===j?void 0:j({addon_id:m,auto_charge:!1}),$link:!0,$color:"default_text",children:Object(r.b)("verbs.cancel")})})]})]})};h.displayName="AddonFooter",t.c=h;const O=n.d.div.withConfig({componentId:"wb__sc-1mec2oe-0"})(["display:flex;flex-direction:column;align-items:center;padding:15px;@media (min-width:768px){padding:20px;}"]),_={hired:{label:Object(r.b)("words.hired"),disabled:!0,show_cancel:!0,show_date:!0,card_selectable:!1},plan_included:{label:Object(r.b)("phrases.included_in_the_plan"),disabled:!0,show_cancel:!1,show_date:!0,card_selectable:!1},free:{label:Object(r.b)("verbs.select"),disabled:!1,show_cancel:!1,show_date:!1,card_selectable:!0},canceled:{label:Object(r.b)("verbs.reactive"),disabled:!1,show_cancel:!1,show_date:!0,card_selectable:!1}},x=e=>{let{url_video:t,...a}=e;const s=Object(d.a)((e=>e.is_mobile));if(!t)return null;return Object(p.jsx)(v,{onClick:e=>{var a;e.preventDefault(),e.stopPropagation(),a=t,j.c.info({className:"hide-buttons video",maskClosable:!0,centered:!0,closable:!0,icon:null,width:s?"100%":"80%",content:Object(p.jsx)(m.a,{video_id:a})})},...a,children:Object(p.jsx)("iframe",{title:"Addon Embedded youtube",src:`https://www.youtube.com/embed/${t}`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,style:{border:0}})})};x.displayName="AddonVideoPreview";const v=n.d.div.withConfig({componentId:"wb__sc-1mec2oe-1"})(["cursor:pointer;margin-bottom:15px;overflow:hidden;aspect-ratio:16/9;width:100%;height:100%;position:relative;border-radius:16px;iframe{left:0;top:0;height:100%;width:100%;position:absolute;pointer-events:none;}"])},955:function(e,t,a){"use strict";var s=a(0),i=a(603),c=a(599),n=a(19),r=a(116),o=a(22);const l=(e,t)=>{const a=Object(s.useRef)(null),{setImage:c,setPreview:n,...l}=e,b=Object(s.useCallback)((()=>{var e;null===(e=a.current)||void 0===e||e.click()}),[]);return Object(s.useImperativeHandle)(t,(()=>({open:b}))),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(d,{onClick:()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.click()},shape:"circle",size:120,onError:()=>(n(void 0),c(void 0),!1),...l}),Object(o.jsx)("input",{style:{display:"none"},type:"file",ref:a,onChange:async()=>{var e;const t=null===(e=a.current)||void 0===e?void 0:e.files;if(!t||!t[0])return;const s=t[0];let o=!1;try{await Object(i.g)(s,a),o=!0}catch(l){r.b.error(l)}o&&(e=>{c(e),n(URL.createObjectURL(e))})(s)},multiple:!1,accept:"image/png, image/jpeg, image/jpg"})]})};t.a=Object(s.forwardRef)(l);const d=Object(n.d)(c.a).withConfig({componentId:"wb__sc-1teu9cq-0"})(["box-shadow:0 0 20px 0 #e8e8e8;min-height:120px;cursor:pointer;"])},956:function(e,t,a){"use strict";var s=a(37),i=a(405),c=a(76);const n=s.e`
  query FlowsDrawer($id: ID, $page: Int, $results: Int, $sort_field: String, $sort_order: String) {
    product(id: $id) {
      id
      flows(page: $page, results: $results, sort_field: $sort_field, sort_order: $sort_order) {
        all {
          id
          kind
          created_at
          reason
          movement_type

          quantity
          current_quantity
          old_quantity

          quantity_normalized
          current_quantity_normalized
          old_quantity_normalized

          created_by {
            id name
          }

          product {
            id und
          }
        }
        total_count
      }
    }
  }
`;t.a=e=>Object(i.f)(n,{skip:!e.id,variables:e,fetchPolicy:"network-only",onError:e=>{c.a.captureException(e),console.log(e)}})},957:function(e,t,a){"use strict";var s=a(0),i=a(19),c=a(1079),n=a(53),r=a.n(n),o=a(253),l=a(22);const d=e=>{let{close:t,...a}=e;const{type:i,onConfirm:c}=a,n=Object(s.useCallback)((e=>{if(Array.isArray(e))return c(e[0],e[1]),void t();c(e),t()}),[t,c]);return Object(l.jsx)(b,{showNavigation:!0,locale:o.a.language,showFixedNumberOfWeeks:!0,view:"month",formatShortWeekday:(e,t)=>r()(t).format("ddd"),selectRange:"range"===i,activeStartDate:"range"===i?a.value:void 0,...a,onChange:n})};d.displayName="Calendar",t.a=d;const b=Object(i.d)(c.a).withConfig({componentId:"wb__sc-6cc5vm-0"})(["border:none !important;font-size:18rem !important;width:100%;.react-calendar__navigation{button{font-size:18rem !important;}}.react-calendar__tile--active{background:"," !important;}"],(e=>e.theme.color_primary))},958:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var s=a(0),i=a(50),c=a(1438),n=a(547),r=a(116),o=a(616),l=a(250),d=a(3053),b=a(2854),u=a(3034),j=a(599),m=a(27),p=a(591),h=a(914),O=a(19),_=a(22);const x=e=>{var t,a,n,j;let{employee:O,handleDestroyEmployees:x,openEmployeeDrawer:f}=e;const w=Object(m.a)((e=>e.theme)),k=Object(m.a)((e=>e.current_user.permissions)),C=!(null===(t=O.user)||void 0===t||null===(a=t.current_access_rule_user_salon)||void 0===a||!a.is_admin),I=!!!O.user||null!==(n=O.user)&&void 0!==n&&n.fake_email?O.email:null===(j=O.user)||void 0===j?void 0:j.email,A=Object(s.useCallback)((e=>{k.can_destroy_employee?r.c.confirm({centered:!0,className:"webook-modal",title:Object(i.b)("words.attention"),maskClosable:!0,content:Object(i.b)("phrases.confirm_delete",{model:Object(i.b)("words.employee").toLocaleLowerCase()}),okText:Object(i.b)("phrases.yes_delete"),okType:"danger",cancelText:Object(i.b)("verbs.cancel"),onOk:()=>x(e)}):r.b.warning(Object(i.b)("phrases.no_permission_to_do_this"))}),[x,k.can_destroy_employee]);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(g,{$width:"40px",children:Object(_.jsx)(l.i,{onClick:()=>f(O),children:Object(_.jsx)(v,{src:O.avatar_url,blurhash:O.avatar_blurhash})})}),Object(_.jsx)(h.a,{title:O.name,$ellipsis:!0,children:Object(_.jsx)(l.i,{style:{width:"100%"},onClick:()=>f(O),children:Object(_.jsxs)(l.g,{$alignCenter:!0,children:[Object(_.jsx)(l.h,{$block:!0,$textEllipsis:!0,children:O.name}),C&&Object(_.jsx)(y,{color:w.color_primary,children:Object(i.b)("words.admin")})]})})}),Object(_.jsx)(h.a,{title:O.cellphone,$width:"200px",children:O.cellphone?Object(_.jsx)(p.a,{hide_input_styles:!0,disabled:!0,value:O.cellphone},O.cellphone):""}),Object(_.jsx)(h.a,{title:I,$ellipsis:!0,children:Object(_.jsx)("span",{children:!!I&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(l.d,{title:Object(i.b)("employees.has_user"),$mRight:5,as:d.a,$color:"primary"}),I]})})}),Object(_.jsx)(h.a,{$width:"100px",children:Object(_.jsxs)(o.a,{width:100,style:{height:"45px",justifyContent:"flex-end"},children:[!C&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("button",{className:"link color-red",onClick:()=>A(O.id),children:Object(_.jsx)(b.a,{})}),Object(_.jsx)(c.a,{type:"vertical"})]}),Object(_.jsx)("button",{className:"link",onClick:()=>f(O),children:Object(_.jsx)(u.a,{})})]})})]})};t.b=Object(s.memo)(x);const v=Object(O.d)(j.a).withConfig({componentId:"wb__sc-1chf92v-0"})(["width:40px;height:40px;"]),g=Object(O.d)(h.a).withConfig({componentId:"wb__sc-1chf92v-1"})(["display:flex;justify-content:center;align-items:center;padding:0;"]),y=Object(O.d)(n.a).withConfig({componentId:"wb__sc-1chf92v-2"})(["margin:0 !important;font-size:10rem !important;margin-left:8px !important;"])},959:function(e,t,a){"use strict";var s=a(0),i=a(250),c=a(2845),n=a(19),r=a(22);const o=e=>{let{payment_name:t,payment_favorite:a}=e;const s=Object(n.f)();return Object(r.jsxs)(i.g,{$alignCenter:!0,justify:"space-between",children:[t,Object(r.jsx)(c.a,{style:{color:a?s.colors.gold:"lightgray",marginLeft:5}})]})};o.displayName="PaymentLabel",t.a=Object(s.memo)(o)},960:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(116),n=a(1850),r=a(961);t.a=()=>{const[e,{loading:t}]=Object(n.a)(r.b);return[Object(s.useCallback)((async t=>{var a;const s=await e({variables:{data:{id:t}}}),{success:n,deactivated:r,errors:o}=(null===(a=s.data)||void 0===a?void 0:a.destroyCustomerSubscriptionTemplate)||{};return n?(c.b.success(Object(i.b)("phrases.deleted_successfully",{prefix:Object(i.b)("words.customer_subscription_template")})),{success:!0}):r?(c.b.info(Object(i.b)("customer.subscription_template.deactivated_value")),{success:!0}):(null===o||void 0===o||o.map((e=>c.b.error(e))),{success:!1})}),[e]),{loading:t}]}},961:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return c}));var s=a(37);const i=s.e`
  query CustomerSubscriptionTemplates(
    $active: Boolean,
    $visible: Boolean,
    $page: Int,
    $results: Int,
    $search_query: String
  ) {
    all_customer_subscription_templates(
      active: $active,
      visible: $visible,
      page: $page,
      results: $results,
      search_term: $search_query
    ) {
      all {
        id
        name
        active
        total_cents
        image_url: small_thumb_url
        image_blurhash
        visible_in_online_scheduling

        subscription_template_items {
          id
          discount
          discount_type
          quantity
          total_cents
          value_cents
          inventory_product {
            id
            description
          }
        }
      }

      total_count
    }
  }
`,c=s.e`
  mutation DestroyCustomerSubscriptionTemplate($data: DestroyCustomerSubscriptionTemplateInput!) {
    destroyCustomerSubscriptionTemplate(input: $data) {
      success errors
    }
  }
`},962:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(250),n=a(2843),r=a(994),o=a(1256),l=a(996),d=a(963),b=a(19),u=a(116),j=a(22);const m=e=>{let{select_default:t,beforeCreate:a,...b}=e;const[m,h]=Object(s.useState)([]),O=Object(s.useRef)(null),[_,{loading:x}]=Object(d.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(h(e),b.value||!t)return;const a=e.find((e=>e.default));var s;a&&(null===(s=b.onChange)||void 0===s||s.call(b,a.id,{label:a.id,value:a.id,key:a.id,item:a}))}));Object(s.useEffect)((()=>{if(!b.value||!m.length)return;m.map((e=>e.id)).includes(b.value)||_()}),[b.value,_,m]),Object(s.useEffect)((()=>{_()}),[]);const v=Object(s.useCallback)((e=>Object(j.jsxs)("div",{children:[e,Object(j.jsx)(c.g,{$paddings:10,style:{borderTop:"1px solid #f0f0f0"},children:Object(j.jsx)(c.i,{onClick:async()=>{var e;a?a(O):null===(e=O.current)||void 0===e||e.open(!0)},children:Object(j.jsxs)(c.h,{$semibold:!0,children:[Object(j.jsx)(n.a,{})," ",Object(i.b)("input.click_to_create_a_card")]})})})]})),[a]),g=Object(s.useCallback)(((e,t)=>{var a;u.b.success(Object(i.b)("input.card_created_successfully")),null===(a=b.onChange)||void 0===a||a.call(b,e,{label:t.id,value:t.id,key:t.id,item:t}),_()}),[_,b]);return Object(j.jsxs)("div",{children:[Object(j.jsx)(o.a,{placeholder:Object(i.b)("input.select_a_card"),loading:x,dropdownRender:v,getPopupContainer:e=>e.parentNode||document.body,...b,children:m.map((e=>Object(j.jsx)(o.a.Option,{value:e.id,children:Object(j.jsxs)(c.g,{align:"middle",children:[Object(j.jsx)(p,{src:Object(r.a)(e.brand)}),Object(j.jsxs)(c.g,{style:{overflow:"hidden"},children:[Object(j.jsx)(c.h,{$mRight:5,$textEllipsis:!0,children:e.holder_name.toUpperCase()}),Object(j.jsxs)(c.h,{$size:16,children:["**** **** **** ",e.last_digits]})]})]})},e.id)))}),Object(j.jsx)(l.a,{ref:O,onSave:g})]})};m.displayName="SalonCardInput",t.a=m;const p=b.d.img.attrs({loading:"lazy"}).withConfig({componentId:"wb__sc-hitmyx-0"})(["width:40px;margin-right:5px;"])},963:function(e,t,a){"use strict";var s=a(37),i=a(2879),c=a(76);const n=s.e`
  query WebookSalonCards {
    current_company {
      id
      cards(valid: true) {
        id
        brand
        first_digits
        last_digits
        expiration_month
        expiration_year
        holder_name
        default
      }
    }
  }
`;t.a=e=>Object(i.a)(n,{fetchPolicy:"network-only",onCompleted:t=>{let{current_company:a}=t;null===e||void 0===e||e(a.cards)},onError:e=>{c.a.captureException(e),console.log(e)}})},964:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(116),n=a(37),r=a(1850);const o=n.e`
  mutation AnamnesisListDestroy($data: DestroyAnamnesisInput!) {
    destroyAnamnesis(input: $data) {
      success
      errors
    }
  }
`;t.a=()=>{const[e,{loading:t}]=Object(r.a)(o),a=Object(s.useCallback)((async t=>{const a=c.b.loading(`${Object(i.b)("verbs.wait")}...`,0);try{const{data:s}=await e({variables:{data:t}});let{success:i=!1,errors:n=[]}=(null===s||void 0===s?void 0:s.destroyAnamnesis)||{};return null===n||void 0===n||n.forEach((e=>c.b.error(e))),{success:i,errors:n}}catch(s){return c.b.error(Object(i.b)("phrases.generic_save_error_message")),console.error(s),{success:!1}}finally{a()}}),[e]);return[a,t]}},965:function(e,t,a){"use strict";var s=a(0),i=a(37),c=a(1850),n=a(116),r=a(50);const o=i.e`
  mutation DestroyPurchaseList($data: InventoryPurchaseDestroyInput!) {
    inventoryPurchaseDestroy(input: $data) {
      success errors
    }
  }
`;t.a=()=>{const[e,{loading:t}]=Object(c.a)(o),a=Object(s.useCallback)((async t=>{const a=n.b.loading(`${Object(r.b)("verbs.wait")}...`,0);try{const{data:s}=await e({variables:{data:t}});let{success:i=!1,errors:c=[]}=(null===s||void 0===s?void 0:s.inventoryPurchaseDestroy)||{};return{success:i,errors:c}}catch(s){return n.b.error(Object(r.b)("phrases.generic_save_error_message")),console.error(s),{success:!1}}finally{a()}}),[e]);return[a,t]}},966:function(e,t,a){"use strict";var s=a(37),i=a(1850),c=a(50),n=a(116);const r=s.e`
  mutation DestroySale($data: DestroySaleInput!) {
    destroySale(input: $data) {
      success errors
    }
  }
`;t.a=()=>{const[e,{loading:t}]=Object(i.a)(r);return[async t=>{const a=n.b.loading(`${Object(c.b)("verbs.wait")}...`,0);try{const{data:s}=await e({variables:{data:t}}),{success:i=!1,errors:c=[]}=(null===s||void 0===s?void 0:s.destroySale)||{};return null===c||void 0===c||c.map((e=>n.b.error(e))),{success:i}}catch(s){return n.b.error(Object(c.b)("phrases.generic_save_error_message")),console.error(s),{success:!1}}finally{a()}},t]}},993:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(137),n=a(2937),r=a(250);const o=e=>{const t=e.value_cents*e.quantity;if("value"===e.discount_type)return t-e.discount;return t-t*(e.discount/100)};var l=a(960),d=a(116),b=a(37),u=a(1850),j=a(188),m=a(76);const p=b.e`
  mutation SaveSubscriptionTemplate ($data: SaveCustomerSubscriptionTemplateInput!) {
    saveCustomerSubscriptionTemplate (input: $data) {
      success
      errors

      subscription_template {
        id name image_url separate_items

        subscription_template_items {
          id
          discount
          discount_type
          quantity
          value_cents
          total_cents
          inventory_product {
            ...InventoryProductsAttributes
          }
        }
      }
    }
  }

  ${j.b}
`;var h=()=>{const[e,{loading:t}]=Object(u.a)(p);return[Object(s.useCallback)((async t=>{try{const{data:a}=await e({variables:{data:t}}),{success:s=!1,errors:i=[],subscription_template:c}=(null===a||void 0===a?void 0:a.saveCustomerSubscriptionTemplate)||{};return null===i||void 0===i||i.forEach((e=>d.b.error(e))),{success:s,subscription_template:c}}catch(a){return m.a.captureException(a),d.b.error(Object(i.b)("phrases.generic_save_error_message")),console.error(a),{success:!1}}}),[e]),{loading:t}]},O=a(2879),_=a(27);const x=b.e`
  query CustomerSubscriptionTemplateDrawer ($id: ID) {
    customer_subscription_template (id: $id) {
      id active name image_url: large_thumb_url image_blurhash separate_items visible_in_online_scheduling description

      items_attributes: subscription_template_items {
        id inventory_product_id quantity value_cents discount discount_type
      }
    }
  }
`;var v=e=>{const{form:t,setPreview:a,setImageBlurhash:s}=e,i=Object(_.a)((e=>e.is_mobile));return Object(O.a)(x,{fetchPolicy:"network-only",onCompleted:e=>{const{customer_subscription_template:n}=e,{items_attributes:r,image_url:o,image_blurhash:l,separate_items:d,...b}=n,u=[...r,{id:Object(c.uniqueId)("items_attributes_"),value_cents:0,quantity:1,discount:0,discount_type:"value"}],j=i?d:[...d,""];t.setFieldsValue({...b,items_attributes:u,separate_items:j}),a(o),s(l)},onError:e=>{m.a.captureException(e),console.log(e)}})},g=a(582),y=a(2824),f=a(2883),w=a(3023),k=a(159),C=a(1227),I=a(3060),A=a(2843),S=a(3061),$=a(3048),E=a(446),F=a(356),D=a(831),z=a(762),N=a(832),q=a(19),B=a(543),P=a(2838),R=a(538),M=a(1256),T=a(579),L=a(584),V=a(22);const H=()=>{const e=Object(s.useCallback)(((e,t,a)=>{const s=t("quantity")||0,i=t("value_cents")||0;let c=t("discount")||0;if("percentage"===e)c/=100,c>100&&(c=100);else{const e=i*s;c*=100,c>e&&(c=e)}a("discount",c)}),[]);return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)(B.a,{gutter:8,children:[Object(V.jsx)(n.a.Item,{noStyle:!0,name:"id",children:Object(V.jsx)(y.a,{type:"hidden"})}),Object(V.jsx)(n.a.Item,{noStyle:!0,name:"inventory_product_id",children:Object(V.jsx)(y.a,{type:"hidden"})}),Object(V.jsx)(f.a,{span:24,children:Object(V.jsx)(n.a.Item,{label:Object(i.b)("words.name"),name:"item_name",children:Object(V.jsx)(y.a,{disabled:!0,size:"large"})})}),Object(V.jsx)(f.a,{span:12,children:Object(V.jsx)(n.a.Item,{name:"quantity",label:Object(i.b)("words.quantity"),rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],initialValue:0,children:Object(V.jsx)(P.a,{size:"large",type:"number",style:{width:"100%"}})})}),Object(V.jsx)(f.a,{span:12,children:Object(V.jsx)(n.a.Item,{name:"value_cents",label:Object(i.b)("words.value"),initialValue:0,children:Object(V.jsx)(L.a,{size:"large"})})}),Object(V.jsx)(f.a,{xs:12,sm:6,md:4,children:Object(V.jsx)(n.a.Item,{label:Object(i.b)("words.discount"),shouldUpdate:(e,t)=>e.value_cents!==t.value_cents||e.quantity!==t.quantity||e.discount_type!==t.discount_type,children:t=>{let{getFieldValue:a,setFieldValue:s}=t;const i=a("quantity"),c=a("value_cents"),r=a("discount_type"),o=i*c;return Object(V.jsxs)(R.a.Compact,{block:!0,children:[Object(V.jsx)(n.a.Item,{name:"discount_type",initialValue:"value",noStyle:!0,children:Object(V.jsx)(M.a,{style:{width:70},size:"large",onChange:t=>e(t,a,s),options:[{label:Object(T.h)(),value:"value"},{label:"%",value:"percentage"}]})}),Object(V.jsx)(n.a.Item,{noStyle:!0,name:"discount",initialValue:0,children:"percentage"===r?Object(V.jsx)(P.a,{min:0,max:100,size:"large",parser:T.t,formatter:e=>Object(T.s)(e),className:"hide-number-button",style:{width:"calc(100% - 70px)"}}):Object(V.jsx)(P.a,{min:0,max:o,size:"large",className:"hide-number-button",style:{width:"calc(100% - 70px)"},parser:e=>Object(T.t)(e,1),formatter:e=>Object(T.s)((e||0)/100)})})]})}})}),Object(V.jsx)(f.a,{span:12,children:Object(V.jsx)(n.a.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.value_cents!==t.value_cents||e.quantity!==t.quantity||e.discount_type!==t.discount_type||e.discount!==t.discount,children:e=>{let{getFieldsValue:t}=e;const a=t(!0),s=o(a);return Object(V.jsx)(n.a.Item,{label:Object(i.b)("words.total"),children:Object(V.jsx)(L.a,{size:"large",value:s,disabled:!0})})}})})]})})};var U=Object(s.memo)(H);const G=e=>{let{setFieldsValue:t,getFieldValue:a,close:c,submit:n,item:o}=e;const l=!(null===o||void 0===o||!o.id),b=Object(s.useCallback)((e=>{const s=(a("items_attributes")||[]).map((t=>t.id===e.id?{...t,_destroy:!0}:t));t({items_attributes:s})}),[t,a]),u=Object(s.useCallback)((()=>{d.c.confirm({centered:!0,className:"webook-modal",title:Object(i.b)("words.attention"),maskClosable:!0,content:Object(i.b)("phrases.confirm_delete",{model:Object(i.b)("words.item").toLocaleLowerCase()}),okText:Object(i.b)("phrases.yes_delete"),okType:"danger",cancelText:Object(i.b)("verbs.cancel"),onOk:()=>{b(o),c()}})}),[c,o,b]);return Object(V.jsxs)(Q,{children:[l&&Object(V.jsx)(k.a,{size:"large",block:!0,onClick:u,danger:!0,children:Object(V.jsx)(r.h,{$semibold:!0,$size:18,children:Object(i.b)("verbs.delete")})}),Object(V.jsx)(k.a,{size:"large",block:!0,onClick:c,children:Object(V.jsx)(r.h,{$semibold:!0,$size:18,children:Object(i.b)("verbs.cancel")})}),Object(V.jsx)(k.a,{size:"large",block:!0,type:"primary",onClick:n,children:Object(V.jsx)(r.h,{$semibold:!0,$size:18,children:Object(i.b)("verbs.save")})})]})};G.displayName="Footer";var Y=Object(s.memo)(G);const Q=q.d.div.withConfig({componentId:"wb__sc-8mvcsl-0"})(["display:flex;justify-content:flex-end;.ant-btn + .ant-btn{margin-left:8px;}"]),J=(e,t)=>{const{setFieldsValue:a,getFieldValue:c,onClose:o}=e,[l,d]=Object(s.useState)(!1),[b,u]=Object(s.useState)(),[j]=n.a.useForm(),m=Object(s.useCallback)(((e,t)=>{d(!0),u(e),j.setFieldsValue({id:e.id,inventory_product_id:e.inventory_product_id,value_cents:e.value_cents,discount:e.discount,discount_type:e.discount_type,quantity:e.quantity,item_name:t})}),[j]),p=Object(s.useCallback)((()=>{d(!1),o&&o()}),[o]);Object(s.useImperativeHandle)(t,(()=>({open:m,close:p})));const h=Object(s.useCallback)((e=>{const t=c("items_attributes")||[];if(e.id){const s=t.map((t=>t.id===e.id?e:t));a({items_attributes:s})}else e.id=`items_attributes_${t.length+1}`,a({items_attributes:[...t,e]})}),[a,c]),O=Object(s.useCallback)((e=>{const t={id:e.id,inventory_product_id:e.inventory_product_id,quantity:e.quantity,value_cents:e.value_cents,discount:e.discount,discount_type:e.discount_type};h(t),p()}),[p,h]),_=Object(s.useCallback)((e=>{e||j.resetFields()}),[j]),x=null===b||void 0===b?void 0:b.id;return Object(V.jsx)(r.a,{open:l,push:!1,onClose:p,afterOpenChange:_,height:"100%",placement:"bottom",title:x?`${Object(i.b)("verbs.edit")} ${Object(i.b)("words.item")}`:Object(i.b)("phrases.add_item"),footer:Object(V.jsx)(Y,{setFieldsValue:a,getFieldValue:c,item:b,close:p,submit:()=>j.submit()}),children:Object(V.jsx)(n.a,{form:j,layout:"vertical",onFinish:O,children:Object(V.jsx)(U,{})})})};J.displayName="EditSubscriptionItem";var W=Object(s.memo)(Object(s.forwardRef)(J));const Z=(e,t)=>{const{setFieldsValue:a,getFieldValue:c}=e,[n,o]=Object(s.useState)(!1),[l,d]=Object(s.useState)(),[b,u]=Object(s.useState)(),j=Object(s.useRef)(null),m=Object(s.useCallback)((()=>{o(!0)}),[]),p=Object(s.useCallback)((()=>{o(!1),u(void 0),d(void 0)}),[]);Object(s.useImperativeHandle)(t,(()=>({open:m,close:p})));const h=Object(s.useCallback)((()=>{u(!1)}),[]),O=Object(s.useCallback)((()=>{u(!0)}),[]),_=Object(s.useCallback)((()=>{u(void 0)}),[]),x=Object(s.useCallback)((e=>{var t;const a={inventory_product_id:e.id,value_cents:e.price_cents,discount:0,discount_type:"value",quantity:1};null===(t=j.current)||void 0===t||t.open(a,e.description),d(void 0)}),[]);return Object(V.jsxs)(X,{open:n,onClose:p,closable:!1,destroyOnClose:!0,height:"100%",placement:"bottom",push:!1,title:Object(V.jsx)(N.a,{search:l,step:"product",is_service:b,setSearch:d,back:_,close:p}),children:[Object(V.jsx)("div",{children:void 0===b?l?Object(V.jsx)(D.a,{search:l,handleChangeProduct:x}):Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(ee,{onClick:O,children:[Object(V.jsx)(r.h,{$size:16,$semibold:!0,children:Object(i.b)("words.service",{count:2})}),Object(V.jsx)(r.d,{as:F.a,$size:18})]}),Object(V.jsxs)(ee,{onClick:h,children:[Object(V.jsx)(r.h,{$size:16,$semibold:!0,children:Object(i.b)("words.product",{count:2})}),Object(V.jsx)(r.d,{as:F.a,$size:18})]})]}):Object(V.jsx)(z.a,{services:b,search:l,handleChangeProduct:x})}),Object(V.jsx)(W,{setFieldsValue:a,getFieldValue:c,onClose:p,ref:j})]})};Z.displayName="NewSubscriptionTemplateItemDrawer";var K=Object(s.memo)(Object(s.forwardRef)(Z));const X=Object(q.d)(E.a).withConfig({componentId:"wb__sc-16h6vu5-0"})([".ant-drawer-body{padding-left:0;padding-right:0;padding-top:10px !important;}"]),ee=Object(q.d)(r.g).attrs({$alignCenter:!0,justify:"space-between",$paddings:[10,15],$backgroundColor:"white"}).withConfig({componentId:"wb__sc-16h6vu5-1"})(["border-bottom:1px solid #f1f1f1;"]);var te=a(2854),ae=a(615),se=a(612);const ie=e=>{const{template_item:t,setFieldsValue:a,getFieldValue:c}=e,n=Object(_.a)((e=>e.inventory_products)).find((e=>e.id===t.inventory_product_id)),l=Object(s.useRef)(null),b=Object(s.useCallback)((e=>{const t=(c("items_attributes")||[]).map((t=>t.id===e.id?{...t,_destroy:!0}:t));a({items_attributes:t})}),[a,c]),u=Object(s.useCallback)((()=>{d.c.confirm({centered:!0,className:"webook-modal",title:Object(i.b)("phrases.confirm"),maskClosable:!0,content:Object(i.b)("phrases.confirm_delete",{model:Object(i.b)("words.item").toLocaleLowerCase()}),okText:Object(i.b)("phrases.yes_delete"),okType:"danger",cancelText:Object(i.b)("verbs.cancel"),onOk:()=>b(t)})}),[b,t]),j=Object(s.useMemo)((()=>({content:Object(V.jsx)(se.a,{icon:te.a,label:Object(i.b)("verbs.delete"),direction:"left",color:"red"}),action:()=>u()})),[u]),m=Object(s.useMemo)((()=>"value"===t.discount_type?Object(T.d)(t.discount):Object(T.u)(t.discount,{symbol_position:"right"})),[t.discount,t.discount_type]),p=o(t);return Object(V.jsxs)(ae.SwipeableListItem,{swipeLeft:j,children:[Object(V.jsxs)(r.g,{$alignCenter:!0,justify:"space-between",$paddings:[10,0],style:{borderBottom:"1px solid #f1f1f1"},onClick:()=>{var e;return null===(e=l.current)||void 0===e?void 0:e.open(t,null===n||void 0===n?void 0:n.description)},children:[Object(V.jsxs)(ne,{$column:!0,$right:10,children:[Object(V.jsx)(r.h,{$block:!0,$textEllipsis:!0,$semibold:!0,children:null===n||void 0===n?void 0:n.description}),Object(V.jsx)(r.h,{$block:!0,$size:12,children:null!==n&&void 0!==n&&n.is_service?`${t.quantity} ${Object(i.b)("words.item",{count:t.quantity}).toLocaleLowerCase()}`:Object(i.b)("phrases.number_of_units",{count:t.quantity,unit:null===n||void 0===n?void 0:n.und})}),Object(V.jsx)(r.h,{$block:!0,$size:12,children:Object(i.b)("customer.subscription_template.unit_value",{value:Object(T.d)(t.value_cents)})}),0!==t.discount&&Object(V.jsx)(r.h,{$block:!0,$size:12,children:Object(i.b)("customer.subscription_template.discount_value",{discount:m})})]}),Object(V.jsx)(re,{$column:!0,children:Object(V.jsx)(r.h,{$semibold:!0,$block:!0,$align:"end",children:Object(T.d)(p)})})]}),Object(V.jsx)(W,{setFieldsValue:a,getFieldValue:c,ref:l})]})};ie.displayName="SubscriptionTemplateItemMobile";var ce=Object(s.memo)(ie,c.isEqual);const ne=Object(q.d)(r.g).withConfig({componentId:"wb__sc-1cis001-0"})(["overflow:hidden;"]),re=Object(q.d)(r.g).withConfig({componentId:"wb__sc-1cis001-1"})(["flex:unset;width:auto;justify-content:flex-end;"]),oe=e=>{let{field_name:t,description:a,remove:c}=e;const[o,l]=Object(s.useState)(!a),b=Object(s.useRef)(null);Object(s.useEffect)((()=>{var e;null===(e=b.current)||void 0===e||e.focus()}),[]);const u=Object(s.useCallback)((()=>{d.c.confirm({centered:!0,className:"webook-modal",title:Object(i.b)("phrases.confirm"),maskClosable:!0,content:Object(i.b)("phrases.confirm_delete",{model:Object(i.b)("words.item").toLocaleLowerCase()}),okText:Object(i.b)("phrases.yes_delete"),okType:"danger",cancelText:Object(i.b)("verbs.cancel"),onOk:()=>c(t)})}),[t,c]),j=Object(s.useCallback)((()=>{l(!1),a||c(t)}),[a,t,c]),m=Object(s.useCallback)((()=>{l(!0),setTimeout((()=>{var e;return null===(e=b.current)||void 0===e?void 0:e.focus()}),200)}),[]),p=Object(s.useMemo)((()=>({content:Object(V.jsx)(se.a,{icon:te.a,label:Object(i.b)("verbs.delete"),direction:"left",color:"red"}),action:()=>u()})),[u]);return Object(V.jsx)(ae.SwipeableListItem,{swipeLeft:p,children:Object(V.jsxs)(r.g,{$alignCenter:!0,justify:"space-between",$paddings:[10,0],style:{borderBottom:"1px solid #f1f1f1",height:60},children:[Object(V.jsx)(n.a.Item,{name:[t],noStyle:!0,children:Object(V.jsx)(y.a,{ref:b,placeholder:Object(i.b)("customer.subscription_template.drawer.type_to_add"),onBlur:j,type:o?void 0:"hidden"})}),!o&&Object(V.jsx)(r.h,{$block:!0,$textEllipsis:!0,$semibold:!0,$fullWidth:!0,onClick:m,children:a})]})})};oe.displayName="SeparateItemMobile";var le=oe,de=a(595),be=a(590),ue=a(692),je=a(82);const me=e=>{let{image_url:t,image_blurhash:a,setImage:s,setPreview:i}=e;const c=t||je.a.DEFAULT_PLACEHOLDER;return Object(V.jsx)(r.g,{justify:"center",children:Object(V.jsx)(ue.a,{shape:"square",type:"image",image_url:c,blurhash:a,setImage:s,setPreview:i})})};me.displayName="TemplateImage";var pe=me;var he=e=>{const{setFieldsValue:t,getFieldValue:a,...c}=e,o=Object(s.useRef)(null),l=Object(s.useCallback)((()=>{var e;null===(e=o.current)||void 0===e||e.open()}),[]);return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(be.a,{children:[Object(V.jsxs)(de.a,{style:{padding:20},children:[Object(V.jsx)(n.a.Item,{name:"id",noStyle:!0,children:Object(V.jsx)(y.a,{type:"hidden"})}),Object(V.jsxs)(r.g,{$column:!0,children:[Object(V.jsx)(f.a,{span:24,style:{display:"flex",justifyContent:"center"},children:Object(V.jsx)(pe,{...c})}),Object(V.jsx)(f.a,{span:24,children:Object(V.jsx)(n.a.Item,{label:Object(V.jsx)(r.h,{$semibold:!0,$size:16,children:Object(i.b)("words.name")}),name:"name",rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(V.jsx)(y.a,{size:"large",placeholder:Object(i.b)("words.name")})})}),Object(V.jsx)(f.a,{span:24,children:Object(V.jsx)(n.a.Item,{label:Object(V.jsx)(r.h,{$semibold:!0,$size:16,children:Object(i.b)("words.description")}),name:"description",children:Object(V.jsx)(y.a.TextArea,{size:"large",placeholder:Object(i.b)("customer.subscription_template.drawer.sort_description")})})})]})]}),Object(V.jsx)(de.a,{style:{padding:20},children:Object(V.jsxs)(r.g,{align:"middle",children:[Object(V.jsxs)("div",{style:{marginRight:15},children:[Object(V.jsx)(r.h,{$size:16,$semibold:!0,$block:!0,children:Object(i.b)("words.active")}),Object(V.jsx)(r.h,{$align:"justify",$block:!0,children:Object(i.b)("customer.subscription_template.disable")})]}),Object(V.jsx)(n.a.Item,{name:"active",valuePropName:"checked",initialValue:!0,children:Object(V.jsx)(w.a,{})})]})}),Object(V.jsx)(de.a,{style:{padding:20},children:Object(V.jsxs)(r.g,{align:"middle",children:[Object(V.jsxs)("div",{style:{marginRight:15},children:[Object(V.jsx)(r.h,{$size:16,$semibold:!0,$block:!0,children:Object(i.b)("words.visible")}),Object(V.jsx)(r.h,{$align:"justify",$block:!0,children:Object(i.b)("customer.subscription_template.drawer.show_in_online_booking")})]}),Object(V.jsx)(n.a.Item,{name:"visible_in_online_scheduling",valuePropName:"checked",initialValue:!1,children:Object(V.jsx)(w.a,{})})]})})]}),Object(V.jsx)(be.a,{children:Object(V.jsx)(r.g,{$column:!0,$paddings:20,children:Object(V.jsx)(de.a,{style:{padding:"5px"},children:Object(V.jsx)(r.g,{$column:!0,children:Object(V.jsx)(n.a.Item,{shouldUpdate:(e,t)=>e.items_attributes!==t.items_attributes,noStyle:!0,children:e=>{let{getFieldValue:a}=e;return(a("items_attributes")||[]).some((e=>!e._destroy&&!!e.inventory_product_id))?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(r.h,{$bold:!0,$size:16,children:Object(i.b)("words.customer_subscription_item",{count:2})}),Object(V.jsx)(n.a.List,{name:"items_attributes",children:e=>e.map((e=>{const s=a(["items_attributes",e.name,"_destroy"]);if(!a(["items_attributes",e.name,"inventory_product_id"])||s)return null;const i=a(["items_attributes",e.name]);return Object(V.jsx)(r.g,{children:Object(V.jsx)(ce,{setFieldsValue:t,getFieldValue:a,template_item:i})},e.key)}))}),Object(V.jsxs)(r.h,{$size:14,$color:"primary",$semibold:!0,$top:20,onClick:l,children:[Object(V.jsx)(A.a,{})," ",Object(i.b)("phrases.add_item")]})]}):Object(V.jsxs)(r.g,{$column:!0,$justifyCenter:!0,$alignCenter:!0,children:[Object(V.jsx)(r.d,{as:I.a,$top:20,$size:48}),Object(V.jsx)(r.h,{$block:!0,$top:10,$bottom:20,children:Object(i.b)("customer.subscription_template.empty")}),Object(V.jsx)(k.a,{type:"primary",block:!0,onClick:l,children:Object(i.b)("phrases.add_item")})]})}})})})})}),Object(V.jsx)(be.a,{children:Object(V.jsx)(r.g,{$column:!0,$paddings:20,children:Object(V.jsx)(de.a,{style:{padding:"5px"},children:Object(V.jsx)(r.g,{$column:!0,children:Object(V.jsx)(n.a.Item,{shouldUpdate:(e,t)=>e.separate_items!==t.separate_items,noStyle:!0,children:e=>{let{getFieldValue:t}=e;const a=(t("separate_items")||[]).length>0;return Object(V.jsx)(n.a.List,{name:"separate_items",children:(e,s)=>{let{remove:c,add:n}=s;return a?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(r.h,{$bold:!0,$size:16,$align:"start",$bottom:10,children:[Object(i.b)("customer.subscription_template.drawer.separate_items"),Object(V.jsx)(C.a,{title:Object(i.b)("customer.subscription_template.drawer.separate_items"),trigger:["hover","click"],overlayStyle:{maxWidth:300},content:Object(V.jsx)("span",{children:Object(i.b)("customer.subscription_template.drawer.separate_items_description")}),children:Object(V.jsx)(r.d,{as:$.a,$left:5})})]}),e.map((e=>{const a=t(["separate_items",e.name]);return Object(V.jsx)(r.g,{children:Object(V.jsx)(le,{description:a,field_name:e.name,remove:c})},e.key)})),Object(V.jsxs)(r.h,{$size:14,$color:"primary",$semibold:!0,$top:20,onClick:()=>n(""),children:[Object(V.jsx)(A.a,{})," ",Object(i.b)("phrases.add_item")]})]}):Object(V.jsxs)(r.g,{$column:!0,$justifyCenter:!0,$alignCenter:!0,children:[Object(V.jsx)(r.d,{as:S.a,$top:20,$size:48}),Object(V.jsx)(r.h,{$block:!0,$top:10,$bottom:20,children:Object(i.b)("customer.subscription_template.drawer.empty_separate_items")}),Object(V.jsx)(k.a,{type:"primary",block:!0,onClick:()=>n(""),children:Object(i.b)("phrases.add_item")})]})}})}})})})})}),Object(V.jsx)(K,{setFieldsValue:t,getFieldValue:a,ref:o})]})},Oe=a(1438),_e=a(622);var xe=e=>{const{setFieldsValue:t,getFieldValue:a,...l}=e,d=Object(s.useCallback)(((e,s)=>{const i=a(["items_attributes",s,"quantity"])||0,c=a(["items_attributes",s,"value_cents"])||0;let n=a(["items_attributes",s,"discount"])||0;const r=a("items_attributes");if("percentage"===e)n/=100,n>100&&(n=100);else{const e=c*i;n*=100,n>e&&(n=e)}r[s].discount=n,t({items_attributes:r})}),[a,t]);return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(n.a.Item,{name:"id",noStyle:!0,children:Object(V.jsx)(y.a,{type:"hidden"})}),Object(V.jsx)(r.g,{children:Object(V.jsx)(f.a,{style:{display:"flex",justifyContent:"center"},span:24,children:Object(V.jsx)(pe,{...l})})}),Object(V.jsx)(r.g,{gutter:[8,0],children:Object(V.jsx)(f.a,{span:24,children:Object(V.jsx)(n.a.Item,{name:"name",label:Object(i.b)("words.name"),rules:[{required:!0,message:Object(i.b)("phrases.required_field")}],children:Object(V.jsx)(y.a,{placeholder:Object(i.b)("words.name")})})})}),Object(V.jsx)(r.g,{gutter:[8,0],children:Object(V.jsx)(f.a,{span:24,children:Object(V.jsx)(n.a.Item,{label:Object(i.b)("words.description"),name:"description",children:Object(V.jsx)(y.a,{placeholder:Object(i.b)("customer.subscription_template.drawer.sort_description")})})})}),Object(V.jsxs)(r.g,{align:"middle",style:{marginBottom:15},children:[Object(V.jsx)(n.a.Item,{name:"active",noStyle:!0,valuePropName:"checked",initialValue:!0,children:Object(V.jsx)(w.a,{})}),Object(V.jsxs)("div",{style:{marginLeft:15},children:[Object(V.jsx)(r.h,{$size:16,$semibold:!0,$block:!0,children:Object(i.b)("words.active")}),Object(V.jsx)(r.h,{$block:!0,$align:"justify",children:Object(i.b)("customer.subscription_template.disable")})]})]}),Object(V.jsxs)(r.g,{align:"middle",style:{marginBottom:15},children:[Object(V.jsx)(n.a.Item,{name:"visible_in_online_scheduling",noStyle:!0,valuePropName:"checked",initialValue:!1,children:Object(V.jsx)(w.a,{})}),Object(V.jsxs)("div",{style:{marginLeft:15},children:[Object(V.jsx)(r.h,{$size:16,$semibold:!0,$block:!0,children:Object(i.b)("words.visible")}),Object(V.jsx)(r.h,{$block:!0,$align:"justify",children:Object(i.b)("customer.subscription_template.drawer.show_in_online_booking")})]})]}),Object(V.jsx)(ye,{orientation:"left",children:Object(i.b)("words.item_other")}),Object(V.jsx)(n.a.List,{name:"items_attributes",children:(e,s)=>{let{add:r,remove:l}=s;return e.map(((s,b)=>{const u=a(["items_attributes",s.name,"_destroy"]),j=0===b,m=e.length===b+1;return Object(V.jsxs)(ve,{$wrap:!0,gutter:[8,0],$hidden:u,children:[Object(V.jsx)(n.a.Item,{noStyle:!0,name:[s.name,"id"],children:Object(V.jsx)(y.a,{type:"hidden"})}),Object(V.jsx)(n.a.Item,{noStyle:!0,name:[s.name,"_destroy"],children:Object(V.jsx)(y.a,{type:"hidden"})}),Object(V.jsx)(f.a,{xs:24,sm:24,md:8,children:Object(V.jsx)(n.a.Item,{required:!1,label:j?`${Object(i.b)("words.service")}/${Object(i.b)("words.product")}`:void 0,name:[s.name,"inventory_product_id"],children:Object(V.jsx)(_e.a,{onChange:(e,i)=>{const n=i.item;if(m&&r({id:Object(c.uniqueId)("items_attributes_")}),!n)return;const o=a("items_attributes")||[];o[s.name].value_cents=n.price_cents,t({items_attributes:o})}})})}),Object(V.jsx)(f.a,{xs:12,sm:5,md:2,children:Object(V.jsx)(n.a.Item,{required:!1,label:j?Object(i.b)("acronyms.qty"):void 0,name:[s.name,"quantity"],rules:[{required:!m,message:Object(i.b)("phrases.required_field")}],initialValue:1,children:Object(V.jsx)(P.a,{style:{width:"100%"},min:0})})}),Object(V.jsx)(f.a,{xs:12,sm:6,md:4,children:Object(V.jsx)(n.a.Item,{required:!1,label:j?Object(i.b)("words.unitary_price"):void 0,name:[s.name,"value_cents"],rules:[{required:!m,message:Object(i.b)("phrases.required_field")}],initialValue:0,children:Object(V.jsx)(L.a,{})})}),Object(V.jsx)(f.a,{xs:12,sm:6,md:5,children:Object(V.jsx)(n.a.Item,{label:j?Object(i.b)("words.discount"):void 0,shouldUpdate:(e,t)=>{var a,i,c,n,r,o;const l=e.items_attributes||[],d=t.items_attributes||[];return(null===(a=l[s.name])||void 0===a?void 0:a.value_cents)!==(null===(i=d[s.name])||void 0===i?void 0:i.value_cents)||(null===(c=l[s.name])||void 0===c?void 0:c.quantity)!==(null===(n=d[s.name])||void 0===n?void 0:n.quantity)||(null===(r=l[s.name])||void 0===r?void 0:r.discount_type)!==(null===(o=d[s.name])||void 0===o?void 0:o.discount_type)},children:e=>{let{getFieldValue:t}=e;const a=t(["items_attributes",s.name,"quantity"]),i=t(["items_attributes",s.name,"value_cents"]),c=t(["items_attributes",s.name,"discount_type"]),r=a*i;return Object(V.jsxs)(R.a.Compact,{block:!0,children:[Object(V.jsx)(n.a.Item,{name:[s.name,"discount_type"],initialValue:"value",noStyle:!0,children:Object(V.jsx)(M.a,{style:{width:70},onChange:e=>d(e,s.name),options:[{label:Object(T.h)(),value:"value"},{label:"%",value:"percentage"}]})}),Object(V.jsx)(n.a.Item,{noStyle:!0,name:[s.name,"discount"],initialValue:0,children:"percentage"===c?Object(V.jsx)(P.a,{min:0,max:100,parser:T.t,formatter:e=>Object(T.s)(e),className:"hide-number-button",style:{width:"calc(100% - 70px)"}}):Object(V.jsx)(P.a,{min:0,max:r,className:"hide-number-button",style:{width:"calc(100% - 70px)"},parser:e=>Object(T.t)(e,1),formatter:e=>Object(T.s)((e||0)/100)})})]})}})}),Object(V.jsx)(f.a,{xs:12,sm:6,md:4,children:Object(V.jsx)(n.a.Item,{label:j?Object(i.b)("words.total"):void 0,shouldUpdate:(e,t)=>{var a,i,c,n,r,o,l,d;const b=e.items_attributes||[],u=t.items_attributes||[];return(null===(a=b[s.name])||void 0===a?void 0:a.value_cents)!==(null===(i=u[s.name])||void 0===i?void 0:i.value_cents)||(null===(c=b[s.name])||void 0===c?void 0:c.quantity)!==(null===(n=u[s.name])||void 0===n?void 0:n.quantity)||(null===(r=b[s.name])||void 0===r?void 0:r.discount)!==(null===(o=u[s.name])||void 0===o?void 0:o.discount)||(null===(l=b[s.name])||void 0===l?void 0:l.discount_type)!==(null===(d=u[s.name])||void 0===d?void 0:d.discount_type)},children:()=>{const e=a(["items_attributes",s.name]),t=o(e);return Object(V.jsx)(L.a,{value:t,disabled:!0})}})}),Object(V.jsx)(f.a,{sm:1,md:1,style:{marginTop:j?28:-5},children:Object(V.jsx)(k.a,{danger:!0,type:"text",size:"large",icon:Object(V.jsx)(te.a,{}),disabled:m,onClick:()=>(e=>{var s,i,c;const n=a("items_attributes")||[];null!==(s=n[e])&&void 0!==s&&s.id&&!(null===(i=n[e])||void 0===i||null===(c=i.id)||void 0===c?void 0:c.includes("items_attributes_"))?(n[e]={...n[e],_destroy:!0},t({items_attributes:n})):l(e)})(s.name)})})]},s.key)}))}}),Object(V.jsxs)(Oe.a,{orientation:"left",children:[Object(i.b)("customer.subscription_template.drawer.separate_items"),Object(V.jsx)(C.a,{title:Object(i.b)("customer.subscription_template.drawer.separate_items"),trigger:["hover","click"],overlayStyle:{maxWidth:320},content:Object(V.jsx)("span",{children:Object(i.b)("customer.subscription_template.drawer.separate_items_description")}),children:Object(V.jsx)(r.d,{as:$.a,$left:5})})]}),Object(V.jsx)(n.a.List,{name:"separate_items",children:(e,t)=>{let{add:a,remove:s}=t;return e.map(((t,c)=>{const r=e.length===c+1;return Object(V.jsxs)(ve,{$wrap:!0,gutter:[8,0],children:[Object(V.jsx)(f.a,{xs:23,sm:23,md:23,children:Object(V.jsx)(n.a.Item,{name:[t.name],children:Object(V.jsx)(y.a,{onChange:e=>{return t=e.target.value,void(r&&t&&a(""));var t},placeholder:Object(i.b)("customer.subscription_template.drawer.type_to_add")})})}),Object(V.jsx)(f.a,{sm:1,md:1,style:{marginTop:-5},children:Object(V.jsx)(k.a,{danger:!0,type:"text",size:"large",icon:Object(V.jsx)(te.a,{}),disabled:r,onClick:()=>s(t.name)})})]},t.key)}))}}),Object(V.jsx)(r.g,{$wrap:!0,gutter:8,justify:"end",children:Object(V.jsxs)(ge,{justify:"end",children:[Object(V.jsx)("div",{className:"label",children:Object(V.jsx)(r.h,{$semibold:!0,$size:15,children:Object(i.b)("words.total")})}),Object(V.jsx)(f.a,{xs:12,sm:7,md:5,children:Object(V.jsx)(n.a.Item,{shouldUpdate:!0,noStyle:!0,children:()=>{const e=a("items_attributes").reduce(((e,t)=>t._destroy?e:e+o(t)),0);return Object(V.jsx)(L.a,{value:e,disabled:!0})}})})]})})]})};const ve=Object(q.d)(r.g).withConfig({componentId:"wb__sc-ous7wu-0"})(["position:relative;padding-right:20px;.ant-form-item{margin-bottom:8px;.ant-form-item-explain{display:none;}}"]),ge=Object(q.d)(r.g).withConfig({componentId:"wb__sc-ous7wu-1"})(["display:flex;flex-flow:row nowrap;margin:22px 22px 0;.label{display:flex;align-items:center;margin-right:8px;}"]),ye=Object(q.d)(Oe.a).withConfig({componentId:"wb__sc-ous7wu-2"})(["margin:10px 0;"]),fe=e=>Object(V.jsx)(g.a,{Desktop:xe,Mobile:he,...e});fe.displayName="SubscriptionTemplateForm";var we=Object(s.memo)(fe),ke=a(339),Ce=a(586);const Ie=e=>{const{disabled:t,saving:a,destroing:s,show_delete:c,submit:n,close:o,destroy:l}=e,d=Object(_.a)((e=>e.is_mobile));return Object(V.jsxs)(Se,{children:[Object(V.jsx)(k.a,{size:d?"large":"middle",block:d,disabled:t||a||s,onClick:o,children:Object(V.jsx)(r.h,{$semibold:!0,children:Object(i.b)("verbs.cancel")})}),c&&Object(V.jsx)(k.a,{size:d?"large":"middle",block:d,loading:s,disabled:t||a||s,onClick:l,type:"primary",danger:!0,children:Object(V.jsx)(r.h,{$semibold:!0,children:Object(i.b)("verbs.delete")})}),Object(V.jsx)(k.a,{size:d?"large":"middle",block:d,disabled:t||s||a,loading:a,type:"primary",onClick:n,children:Object(V.jsx)(r.h,{$semibold:!0,children:Object(i.b)("verbs.save")})})]})};Ie.displayName="Footer";var Ae=Ie;const Se=q.d.div.withConfig({componentId:"wb__sc-1sfkop9-0"})(["display:flex;justify-content:flex-end;.ant-btn + .ant-btn{margin-left:8px;}"]),$e=(e,t)=>{let{afterSave:a}=e;const[r,o]=Object(s.useState)(!1),[b,u]=Object(s.useState)(),[j,m]=Object(s.useState)(),[p,O]=Object(s.useState)(),[x,g]=Object(s.useState)(),y=Object(_.a)((e=>e.is_mobile)),f=Object(_.a)((e=>e.current_user.permissions)),[w]=n.a.useForm(),{submit:k,setFieldsValue:C,getFieldValue:I,resetFields:A}=w,[S,{loading:$,error:E}]=v({form:w,setPreview:m,setImageBlurhash:O}),[F,{loading:D}]=h(),[z,{loading:N}]=Object(l.a)(),q=Object(s.useCallback)((e=>{g(e),e?S({variables:{id:e}}):C({items_attributes:[{id:Object(c.uniqueId)("items_attributes_")}]}),o(!0)}),[S,C]),B=Object(s.useCallback)((()=>{o(!1)}),[]);Object(s.useImperativeHandle)(t,(()=>({close:B,open:q})));const P=Object(s.useCallback)((async e=>{const t=((e,t)=>{const{items_attributes:a=[],separate_items:s=[],...i}=e;return{...i,subscription_template_items_attributes:a.reduce(((e,t)=>{var a,s;let{__typename:i,...c}=t;return(null===(a=c.id)||void 0===a?void 0:a.includes("items_attributes_"))&&c._destroy||!c.inventory_product_id?[...e]:(null!==(s=c.id)&&void 0!==s&&s.includes("items_attributes_")&&delete c.id,[...e,c])}),[]),separate_items:s.filter((e=>Boolean(e))),image:t}})(e,b);if(!(null===t||void 0===t?void 0:t.subscription_template_items_attributes.some((e=>!0!==e._destroy))))return void d.b.warning(Object(i.b)("customer.subscription_template.select_item"));const{success:s,subscription_template:c}=await F(t);s&&(d.b.success(Object(i.b)("phrases.saved_successfully",{prefix:Object(i.b)("words.customer_subscription_template")})),null===a||void 0===a||a(c),B())}),[a,B,b,F]),R=Object(s.useCallback)((async()=>{if(!f.can_destroy_subscription_template)return void d.b.warning(Object(i.b)("phrases.no_permission_to_do_this"));if(!x)return;const{success:e}=await z(x);e&&(null===a||void 0===a||a(),B())}),[a,B,z,f.can_destroy_subscription_template,x]),M=Object(s.useCallback)((e=>{e||(A(),m(void 0),u(void 0),O(void 0))}),[A]);return Object(V.jsxs)(Ee,{open:r,afterOpenChange:M,title:Object(i.b)("words.customer_subscription_template"),width:900,placement:y?"bottom":"right",height:"100%",onClose:B,closable:!0,destroyOnClose:!0,footer:Object(V.jsx)(Ae,{show_delete:!!x,destroy:R,close:B,submit:k,disabled:$,saving:D,destroing:N}),push:!1,children:[Object(V.jsx)(Ce.a,{visible:!!E}),Object(V.jsxs)(Fe,{children:[Object(V.jsx)(ke.a,{loading:$}),Object(V.jsx)(n.a,{form:w,layout:"vertical",onFinish:P,style:{width:"100%"},initialValues:{items_attributes:[{id:Object(c.uniqueId)("items_attributes_")}],separate_items:y?[]:[""]},children:Object(V.jsx)(we,{image_url:j,image_blurhash:p,setFieldsValue:C,getFieldValue:I,setImage:u,setPreview:m})})]})]})};$e.displayName="SubscriptionTemplateDrawer";t.a=Object(s.forwardRef)($e);const Ee=Object(q.d)(r.a).withConfig({componentId:"wb__sc-1t0ttpf-0"})([".ant-drawer-header,.ant-drawer-body{","}"],(e=>e.theme.is_mobile&&"background: #f8f8f8;")),Fe=q.d.div.withConfig({componentId:"wb__sc-1t0ttpf-1"})(["position:relative;width:100%;"])},994:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var s="data:image/png;base64,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",i="data:image/png;base64,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";const c=e=>({MASTERCARD:s,VISA:"data:image/png;base64,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",ELO:"data:image/png;base64,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",HIPER:"data:image/png;base64,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",HIPERCARD:"data:image/png;base64,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",AMEX:i,"AMERICAN EXPRESS":i,JCB:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAACECAMAAADiHJS7AAACVVBMVEVHcEzg4OAAAACqqqr9/f27u7vg4OD////6+vqpqakzMzP7+/ttbW34+PiPjo7Ly8vm5uZ5eXm2trawsLDh4eHw8PCioqKLi4ve4ena2tq4uLj///8nM3X///8Og0FAp0gUikNKrUgfQYYSSpIkOXwZRYsiPH8NTZhOs0gmNnmoHTShHDRHq0jKIDiUHTHQHzkaj0UvnkgflEYUarTWHzkjl0aQHTEmmUcYY7ASXasWYa0LVqIXZrI2o0gqm0cLUJsNWaULU5+EITF+JDGJHzF5JS90KC8MgEAMfT8WjUTu9/EyoEjx9vv1+/UcQ4kiPoEhP4NMsEgVSI4XRo3fHTrbHToQTJXcHTrt7vS2HzezHzf0prMRa7WxHzatHjVovl67Hze5Hze/HzikHDTBHzivHjXiGzkvgMDEHzjHIDieGzOaGzMoMXKYHDISiEPYHjopL28ckkUbkkU/RX5FqkiNHjIPW6cRh0I6pEg8pUi/n6Emi1RwKi/o7/f46+38/f3++PlThLlfsH378/Qkcrmu2Lcrl1FqtYfcMkvg8ONTsVRUqXNuu363ZnRZkMb03+Lr9u3GZnY+o1rr0NSjKT84m17J5c6VzJ2ExomocHanVWJweqbowMWzMkfMLEMuVJVBp1JpfKpjhbUdU5fddYSj06jmm6a+KUDJSVyYttfosbrbV2pBTYdlt2sfbrbQ3eyjrMh6pM5SXZHf5/E+gL4wP34tbbHYvL7UrrO5eoOfP0/DiZG4v9XD0OSGREqmwt5vKS5FZJ2PLT2Lmb2QcYN2nZ/cHDrZ+XLKAAAAG3RSTlMAUgN3/E9R/tp9DvUg7DCXtD1yQa7GWUjoo2Gkxo5IAAAJQklEQVR42u2ciVdTVx7HM5nUUAmouB3neVBa7YrWFZRSbEWBxsSZdhiLdmxnprPXajelxSY3ECMhZDMJSQgxboAkAdl30Irn9O/qy/peXl7y7r15LzxovudwDhwOyfvwvb+7/H6/G4mES1JFadmm7UWi0wYJiqSKsu0lMoKQy+RyQlSSoYBIt2wrISGI2Je4JIcHkZZuLibEKjk8yMayEkLEggZRbAai5oAF2VpEiFtwINItJWLngANJ5wAqlSaLVGxvBnR6bTbpWP9IrbRTUqYJyREmh2r5xYPn9x7F9e6779+4caOmpubEidraJxHdejKVRgJscxbfgiuqy5cuXXwcVSCqY9eufdLc3PxpGoXa7e1w3I7q8OFz5957735UlZUVFaaYPlcnHPkdxHyVGh8tY8//9Mor5/fv3//xq69eeP31U6c++ICEef/GyZMRmBO1R4/+9T8MEJ3TslJ18Kuvvvz/229/8dZbn/3r8qWLf//bP/753/8dOPDOO8eOXfvLJ83/ZoIoB3oOfXjo0LffHDly/Hh1dV1dDOaHH/fs2fN9BOajN95IgBAQINJN9OVPNTb82h9jIH9mBalNBwFO3/XrVVUHD6KAqD23r+7dCwsC48hO+jI4OrHvtewg6Y7oF1fOnEEEkbt7rkY4+HNESh9YYGl6HxdImiNa3+nTqCDAcKi8FQUEwpEyamDJx6bfRAbR+uqRQcDA1XI0EG5HFDRDlqbfRAbR++qRQYCB5ODbkR0yKj6+240Mops/iw7ivllezrcj0s3UfDWxGxkEzJ5FB1H3NJbz7kgpNWWN7UYH0T7FAPE0NvLvyB+Sod4yjAHS1oAOYr/ZyL8j0k2UIVfQQfRPMUA8TQI4It2e3GRMYIDMNqCDgJ4mLEeybxoVyRCZnMYA6cUA6WrFc2QDZKyPfY0MAsiRhQ7iaWoSIEa2JlYR0IcOQjgb0EFANx1kL18x8pIsGSIYIP6f0EHUPVggXDGSBFENY4DM/pw3EAIWpOU7DJA2DBDlTWEdwQP5KW8gxHoBEbEjrQVHCjFScKTgyNpz5EPe91piB1lHjmwoOLJeHDlfcKQQIzmc2QvryLp2xLXg81ksdyx3SA2ReiwuRy7UtEdkpcQCsuBbnHVq9TqdDgA5IQcA6HR6rc0/2B8eCqQmHzq7Y+ro7qBk7jBHNTJyXzhH2mO9HckOD80tBoivzanXZar0kzz+wTA9ZUq1HgGC1jZC/kBKrXR7TQLFSDvj0VJB6nudOs6+Bb2RrTydSXbP98I4khnk54ZeJ0wvjg4JhACGijw78nRWB/VkiCAEcFfk1RGnjeUZ9DZ/aDAUctr0IDsIoJT+Kl7+HDnPCcIyqGxzlrsuch357PKlx0ND/X6bLiMI8HQnZXarGS9EWpJHR5jSLroYC2JgaDDCwgrS2Rpr4fiGXEeqzQwStSmfMcKQf4FtZQ+EQ3p2kJQzuye1HxSM8L/7hQXxr2TaooQ/5QZx2FN/a+b/PAIHApwraN1BDJC6LpE4ovdVYYBQe63DXRwxki+QuaqqXBypdqg5Zq08geh8uYHUGQRbR9BAnCtVOQyt4w5D6qJkqKxcJUfmkFsBCbchKbede6+VJ5BFdBBqj0IA+iIiV7LufvMDAiwYIKzbRaXbYxIoi5JXELvBM7JHoLxWXkEiA66L9GS1HJHPo4MAwL6RB5HWZtNqzVptyCDA2xOVI6LuAWXqP8a9Wiu7Hx0ksY2PbVG6u5hnRN4dscKAaHEWxJSW8g7AOHfx7kiQMbQnn7CAAEtuW5Tj1YfdjPnLxPMJ8dQy45mXj7JtGp0HcwSpNjCP7fw6cmGG+cxBVhDdfG7b+DQQwoMXI5kazy4EmYPIygpCaH2ZQYwQjtQxhhYxgOUIoVqaYAVpZ+Y3yBBhP+qSJKwgB4yDNiOnI3UOdTYQaEeiF5L6htNA2jXMW1vjtRlACP28Kx0kEA5pCYjkg4NpCIEXI7HscstS3/D0PgrkXjDtgUdvZQQhgNPiooM8DoSj2SD2BF3nkSO3E3KYu5gvpsSbtShfJpciN8VIPX/4TJP2rJp2Wn2EJV+qDS1a7kY0dKc/ZNOCLJlGZVdSdnt6ss+Ad0JkXt5r0bSwZadVVnqhZ24uDQVEkqbxu3oAO/cb6XP+vCI3R1gqF7RAtzIqVr22DH+eWxKbIOwjlXw4wi5VcCat9PZ00QZRV0DOxneN4GbjQYuK44FUz6aYt96iFauVXpueq85jQwIBdq8Jvz4yPNz3YqklA45Kszw+w14MbThbf3ph3q/Vg4yFt34juSD+kgBRZpe9a8BsyrGGeGX39PDEg74XY8uTZKxHpdFMjgbHrTM1Wau69afPrCxY5ttmbbSbuZFK6J2hQIBZ1e25GVdi6u25HT+UOByR+60/8FvVvRfVo0ePoMvT16N7LZfLFZ19717MXGdvJFXeWh4/jtDL0+eEqbN/jNUw8IVAPY3i7nzYu156UX6LjoixzalpLff9/pJbk3/htkIhRgq98b+ZnsZCjBRipOBIwZGCIwVHxOfIFA6IHwckkZyRvSQISKyuiAbSbMNY2b2JxJJsqyAgzzBAjHoMkGQZq7hUEJBRDJAwwBhayWpDyUYhQOLlETSQeKIR6aibjHWiSBCQcQIdxGgj0B3xJJOv26RCgIxigPQDdBBTcmTJyyQCgFgBBoiTQAfxJjPjxVsFAHkySqCDxA1BAqEM4QoRPJAgQAcxaglkkI8GqPrEyxL+QazJii48iNFJoINQA4trFcECmaJKvfAgVLEKHsRMa+HimLNwQGgc8CCDAB3ETGuhLVFI+Aax0jsFIEGMIXp1HRLES+vokG+S8gwyE0ypFMKBhFNK2HAgpgH6xb4iTkPQQGbGGZ0QMCDhUGpTAcym0eRJ6cwu3ilBA7mSDeTkVFDDLNyyfpoTvfQW6E+7pMjpyP0RgzKlMVvGPbDon6/VF9eDuB4+eBhX+0Pr+PizSZY2mtnehCy9lqhiF3Wj6u8fdLLUrNWdtJutHZ0dnRGZ4/J6Bwx2RruTfNdGCQJIahcuUxl7jWPSJXvck98QGdsP5Jnfhe2N5NtgONBaOFZDAMoP0YOQ8QHHIXaQoh1SyToAKd6lkEjWPohs+xapZM2DyEs279wokaxtEFlJ0a4dCqkESYqXxabf7yhVwHjxK2P3F4YUMDtXAAAAAElFTkSuQmCC",BANESCARD:"data:image/png;base64,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",AURA:"data:image/png;base64,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"}[e.toUpperCase()]||s)},996:function(e,t,a){"use strict";var s=a(0),i=a(50),c=a(2937),n=a(250),r=a(27),o=a(116),l=a(1850),d=a(37);const b=d.e`
  query OnlineBookingSystemConfiguration {
    system_configuration {
      key_token_cards belasis_marketplace_id stripe_public_key
    }
  }
`,u=d.e`
  mutation createSalonCardFromZoopToken($data: CreateCardInput!) {
    createCard(input: $data) {
      success errors
      card {
        id
        brand
        first_digits
        last_digits
        expiration_month
        expiration_year
        holder_name
        default
      }
    }
  }
`;var j=a(2926),m=a(148),p=a(76),h=a(1269),O=a.n(h);var _=()=>{const e=Object(m.a)();return async t=>{let{holder_name:a,due_date:s,card_number:c,security_code:n}=t;try{const{data:t}=await e.query({query:b}),{system_configuration:{stripe_public_key:r=null}={}}=t||{};if(!r)throw new Error(Object(i.b)("webook_pay_drawer.unable_to_fetch_tokens_for_salon_card_creation"));const o=O.a.stringify({card:{exp_year:`20${s.substring(3,5)}`,exp_month:s.substring(0,2),number:c,name:a,cvc:n}}),{data:l}=await j.a.post("https://api.stripe.com/v1/tokens",o,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/x-www-form-urlencoded"}});return{stripe_card_token:l.id}}catch(r){return console.log(r),p.a.captureException(r),void o.b.error(Object(i.b)("phrases.generic_save_error_message"))}}};var x=()=>async e=>{let{holder_name:t,due_date:a,card_number:s,security_code:c}=e;try{return{holder_name:t.toUpperCase(),expiration_month:a.substring(0,2),expiration_year:`20${a.substring(3,5)}`,card_number:s,security_code:c}}catch(n){return console.log(n),p.a.captureException(n),void o.b.error(Object(i.b)("phrases.generic_save_error_message"))}},v=a(82);var g=()=>{const[e]=Object(l.a)(u),t=x(),a=_();return async s=>{let{holder_name:c,security_code:n,due_date:r,card_number:l}=s;try{var d,b,u;const s={holder_name:c.toUpperCase(),due_date:r,card_number:l,security_code:n},i=v.a.IS_BELASIS?await t(s):await a(s),m=await e({variables:{data:i}});var j;return null!==(d=m.data)&&void 0!==d&&d.createCard.success?{success:!0,card:null===(j=m.data)||void 0===j?void 0:j.createCard.card}:(null===(b=m.data)||void 0===b||null===(u=b.createCard.errors)||void 0===u||u.map((e=>o.b.error(e))),{success:!1})}catch(m){return console.log(m),p.a.captureException(m),o.b.error(Object(i.b)("phrases.generic_save_error_message")),{success:!1}}}},y=a(18),f=a(543),w=a(2883),k=a(2824),C=a(1274),I=a(626),A=a.n(I),S=a(19),$=a(53),E=a.n($),F=(a(1275),a(22));const D=e=>{let{visible:t}=e;const[a,n]=Object(s.useState)("name"),r=Object(s.useRef)(null);return Object(s.useEffect)((()=>{if(!t)return;const e=setTimeout((()=>{var e;return null===(e=r.current)||void 0===e?void 0:e.focus()}),700);return()=>clearTimeout(e)}),[t]),Object(F.jsxs)(f.a,{gutter:12,children:[Object(F.jsx)(w.a,{span:24,children:Object(F.jsx)(c.a.Item,{shouldUpdate:!0,style:{padding:"10px 0"},children:e=>{var t,s,c,n,r;let{getFieldValue:o}=e;return Object(F.jsx)(C.a,{locale:{valid:Object(i.b)("credit_card.valid_thru")},number:null!==(t=o("card_number"))&&void 0!==t?t:"",expiry:null!==(s=o("due_date"))&&void 0!==s?s:"",cvc:null!==(c=o("security_code"))&&void 0!==c?c:"",name:null!==(n=o("holder_name"))&&void 0!==n?n:"",focused:a,placeholders:{name:null===(r=Object(i.b)("credit_card.full_name"))||void 0===r?void 0:r.toUpperCase()},acceptedCards:y.v?B:q})}})}),Object(F.jsx)(w.a,{span:24,children:Object(F.jsx)(N,{name:"card_number",label:Object(i.b)("words.number"),rules:[{required:!0},{min:15,max:16}],normalize:e=>e.replace(/\D/g,""),children:Object(F.jsx)(A.a,{placeholder:"9999 9999 9999 9999",mask:"9999 9999 9999 9999",maskPlaceholder:null,onFocus:()=>n("number"),children:Object(F.jsx)(k.a,{ref:r,autoFocus:!0,size:"large",autoComplete:"off"})})})}),Object(F.jsx)(w.a,{span:12,children:Object(F.jsx)(N,{name:"due_date",label:Object(i.b)("words.due"),validateTrigger:["onChange","onBlur"],rules:[{required:!0},{validateTrigger:"onBlur",validator:P}],children:Object(F.jsx)(A.a,{placeholder:"01/01",mask:"99/99",maskPlaceholder:null,onFocus:()=>n("expiry"),children:Object(F.jsx)(k.a,{size:"large",autoComplete:"off"})})})}),Object(F.jsx)(w.a,{span:12,children:Object(F.jsx)(N,{name:"security_code",label:"CVC",rules:[{required:!0},{min:3,max:4}],children:Object(F.jsx)(A.a,{placeholder:"CVC",mask:"9999",maskPlaceholder:null,onFocus:()=>n("cvc"),children:Object(F.jsx)(k.a,{size:"large",autoComplete:"off"})})})}),Object(F.jsx)(w.a,{span:24,children:Object(F.jsx)(N,{name:"holder_name",label:Object(i.b)("webook_pay_drawer.full_name"),rules:[{required:!0}],children:Object(F.jsx)(k.a,{size:"large",autoComplete:"off",placeholder:Object(i.b)("webook_pay_drawer.cardholder_name"),onFocus:()=>n("name")})})})]})};D.displayName="CardForm";var z=D;const N=Object(S.d)(c.a.Item).withConfig({componentId:"wb__sc-y7y80p-0"})(["&.ant-form-item-has-error{input{border-color:red;}}& .ant-form-item-explain{display:none;}"]),q=["visa","visaelectron","mastercard","maestro","elo","hiper","hipercard","jcb","banescard","amex","aura"],B=[...q,"discover"],P=(e,t)=>{if(!t)return Promise.reject(Object(i.b)("phrases.invalid_date"));const[a,s]=t.split("/"),c=`20${s}-${a}`,n=E()(c);return!n.isValid()||n.isBefore(E()())?Promise.reject(Object(i.b)("phrases.invalid_date")):Promise.resolve(!0)};var R=a(581);const M=(e,t)=>{const[a,l]=Object(s.useState)(!1),[d,b]=Object(s.useState)(!1),{onSave:u}=e,[j]=c.a.useForm(),m=Object(r.a)((e=>e.is_mobile)),p=g(),h=()=>{l(!0)},O=()=>{l(!1)};Object(s.useImperativeHandle)(t,(()=>({close:O,open:h})));return Object(F.jsx)(n.a,{open:a,title:Object(i.b)("webook_pay_drawer.new_card"),onClose:O,closable:!0,width:450,height:"100%",placement:m?"bottom":"right",afterOpenChange:e=>!e&&j.resetFields(),push:!1,footer:Object(F.jsx)(R.a,{submit:j.submit,loading:d,close:O}),children:Object(F.jsx)(c.a,{form:j,layout:"vertical",onFinish:async e=>{b(!0);const{success:t,card:a}=await p(e);b(!1),t&&a&&(o.b.success(Object(i.b)("input.card_created_successfully")),u(a.id,a),O())},children:Object(F.jsx)(z,{visible:a})})})};M.displayName="NewCardDrawer";t.a=Object(s.forwardRef)(M)}}]);
//# sourceMappingURL=42.3e1cecf9.chunk.js.map