(this["webpackJsonpwebook-react"]=this["webpackJsonpwebook-react"]||[]).push([[87,179],{1100:function(e,t,a){"use strict";var n=a(13),c=a(0),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},r=a(71),o=function(e,t){return c.createElement(r.a,Object(n.a)({},e,{ref:t,icon:s}))},i=c.forwardRef(o);t.a=i},1291:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));a(0);var n=a(50),c=a(250),s=a(2937),r=a(2883),o=a(1438),i=a(2824),l=a(2843),d=a(1100),b=a(137),j=a(19),u=a(584),h=a(642),p=a(22);const O=()=>{const e=Object(h.b)((e=>e.purchaseDispatch)),t=Object(h.b)((e=>e.inventory_purchase.freight_cents)),a=Object(h.b)((e=>e.inventory_purchase.discount_cents)),j=Object(h.b)((e=>e.inventory_purchase.other_expenses_cents)),O=Object(h.b)((e=>e.inventory_purchase.other_revenues_cents)),v=Object(h.b)((e=>e.inventory_purchase.sum_cents)),x=Object(h.b)((e=>e.inventory_purchase.comment)),_=Object(h.b)((e=>e.inventory_purchase.finished)),g=Object(h.b)((e=>!!e.inventory_purchase.imported_electronic_invoice_id));return Object(p.jsxs)(s.a,{layout:"vertical",children:[Object(p.jsx)(c.g,{gutter:8,children:Object(p.jsx)(r.a,{span:24,children:Object(p.jsx)(o.a,{orientation:"left",children:Object(n.b)("purchases.other_values")})})}),Object(p.jsxs)(c.g,{gutter:8,children:[Object(p.jsx)(r.a,{md:6,children:Object(p.jsx)(s.a.Item,{label:Object(n.b)("words.shipping"),children:Object(p.jsx)(m,{className:"has-error",addonBefore:Object(p.jsx)(l.a,{}),disabled:_||g,value:t,onChange:Object(b.debounce)((t=>{e({type:"change_value",payload:{key:"freight_cents",value:t}})}),500)})})}),Object(p.jsx)(r.a,{md:6,children:Object(p.jsx)(s.a.Item,{label:Object(n.b)("purchases.other_expenses"),children:Object(p.jsx)(m,{className:"has-error",addonBefore:Object(p.jsx)(l.a,{}),disabled:_,value:j,onChange:Object(b.debounce)((t=>{e({type:"change_value",payload:{key:"other_expenses_cents",value:t}})}),500)})})}),Object(p.jsx)(r.a,{md:6,children:Object(p.jsx)(s.a.Item,{label:Object(n.b)("words.discount"),children:Object(p.jsx)(m,{className:"has-success",disabled:_||g,addonBefore:Object(p.jsx)(d.a,{}),value:a,onChange:Object(b.debounce)((t=>{e({type:"change_value",payload:{key:"discount_cents",value:t}})}),500)})})}),Object(p.jsx)(r.a,{md:6,children:Object(p.jsx)(s.a.Item,{label:Object(n.b)("purchases.other_income"),children:Object(p.jsx)(m,{className:"has-success",addonBefore:Object(p.jsx)(d.a,{}),disabled:_,value:O,onChange:Object(b.debounce)((t=>{e({type:"change_value",payload:{key:"other_revenues_cents",value:t}})}),500)})})})]}),Object(p.jsx)(c.g,{gutter:8,justify:"end",children:Object(p.jsx)(s.a.Item,{layout:"horizontal",label:Object(n.b)("words.total"),children:Object(p.jsx)(u.a,{size:"large",value:v,disabled:!0})})}),Object(p.jsx)(c.g,{gutter:8,$wrap:!0,children:Object(p.jsx)(r.a,{span:24,children:Object(p.jsx)(s.a.Item,{label:Object(n.b)("words.observation"),children:Object(p.jsx)(i.a.TextArea,{rows:2,autoSize:{minRows:2,maxRows:5},placeholder:Object(n.b)("words.observation"),maxLength:16777215,style:{height:"100%",width:"100%"},value:x,onChange:t=>e({type:"set_comment",payload:null===t||void 0===t?void 0:t.target.value})})})})})]})};O.displayName="OtherValues",t.b=O;const m=Object(j.d)(u.a).withConfig({componentId:"wb__sc-1w9avao-0"})(["width:100%;&.has-error{.ant-input-number-group-addon{color:#a94442 !important;border-color:#a94442 !important;background-color:#f2dede !important;}.ant-input-number{border-color:#a94442 !important;}}&.has-success{.ant-input-number-group-addon{color:#3c763d !important;border-color:#3c763d !important;background-color:#dff0d8 !important;}.ant-input-number{border-color:#3c763d !important;}}.ant-input-number{border-bottom-left-radius:0 !important;border-top-left-radius:0 !important;}"])},3005:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(50),s=a(749),r=a(2937),o=a(2883),i=a(1438),l=a(2838),d=a(159),b=a(2854),j=a(250),u=a(447),h=a(642),p=a(622),O=a(584),m=a(19),v=a(22);const x=()=>{const e=Object(h.b)((e=>e.purchaseDispatch)),t=Object(h.b)((e=>e.inventory_purchase.purchase_items_attributes.filter((e=>!e._destroy)))),a=Object(h.b)((e=>e.inventory_purchase.finished)),m=Object(h.b)((e=>!!e.inventory_purchase.imported_electronic_invoice_id)),x=Object(n.useCallback)(((t,a,n)=>{const c={...a,product_id:n.id,cost_cents:n.cost_cents,value_cents:n.price_cents,quantity:1,sum_cents:n.cost_cents,und:n.und,product_unit_quantity:n.unit_quantity};e({type:"update_purchase_item",payload:c}),t&&e({type:"add_purchase_item",payload:{...s.a,id:Object(u.a)()}})}),[e]);return Object(v.jsxs)(r.a,{layout:"vertical",children:[Object(v.jsx)(j.g,{gutter:8,children:Object(v.jsx)(o.a,{span:24,children:Object(v.jsx)(i.a,{orientation:"left",children:Object(c.b)("words.item_other")})})}),Object(v.jsxs)(j.g,{gutter:8,children:[Object(v.jsx)(o.a,{span:7,children:Object(v.jsx)(g,{required:!0,label:Object(c.b)("words.product")})}),Object(v.jsx)(o.a,{span:3,children:Object(v.jsx)(g,{label:Object(c.b)("words.quantity")})}),Object(v.jsx)(o.a,{span:3,children:Object(v.jsx)(g,{label:Object(c.b)("purchases.entry_in_stock")})}),Object(v.jsx)(o.a,{span:3,children:Object(v.jsx)(g,{label:Object(c.b)("words.cost")})}),Object(v.jsx)(o.a,{span:3,children:Object(v.jsx)(g,{label:Object(c.b)("purchases.sale")})}),Object(v.jsx)(o.a,{flex:1,children:Object(v.jsx)(g,{label:Object(c.b)("words.total")})})]}),Object(v.jsx)(y,{children:t.map(((n,s)=>{var r;const i=t.length===s+1,u=n.quantity*n.product_unit_quantity;return Object(v.jsxs)(j.g,{gutter:8,children:[Object(v.jsx)(o.a,{span:7,children:Object(v.jsx)(p.a,{disabled:a||m,placeholder:Object(c.b)("purchases.inform_product"),style:{width:"100%"},is_service:!1,onChange:(e,t)=>{x(i,n,t.item)},value:n.product_id})}),Object(v.jsx)(o.a,{span:3,children:Object(v.jsx)(l.a,{disabled:a,value:n.quantity,min:1,style:{width:"100%"},onChange:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const a=n.cost_cents*t;e({type:"update_purchase_item",payload:{...n,quantity:t,sum_cents:a}})}})}),Object(v.jsx)(o.a,{span:3,children:Object(v.jsx)(l.a,{value:u,style:{width:"100%"},disabled:!0,addonAfter:null===(r=n.und)||void 0===r?void 0:r.toLocaleLowerCase()})}),Object(v.jsx)(o.a,{span:3,children:Object(v.jsx)(O.a,{value:n.cost_cents,disabled:a,onChange:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const a=n.quantity*t;e({type:"update_purchase_item",payload:{...n,cost_cents:t,sum_cents:a}})}})}),Object(v.jsx)(o.a,{span:3,children:Object(v.jsx)(O.a,{value:n.value_cents,onChange:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e({type:"update_purchase_item",payload:{...n,value_cents:t}})},disabled:a})}),Object(v.jsx)(o.a,{flex:1,children:Object(v.jsx)(O.a,{value:n.sum_cents,disabled:!0})}),Object(v.jsx)(o.a,{flex:"34px",children:Object(v.jsx)(d.a,{danger:!0,type:"primary",icon:Object(v.jsx)(b.a,{}),onClick:()=>{e({type:"remove_purchase_item",payload:n.id})},disabled:a||m||i})})]},n.id)}))})]})};x.displayName="PurchaseItems";var _=x;const g=Object(m.d)(r.a.Item).withConfig({componentId:"wb__sc-d80bc1-0"})([".ant-col.ant-form-item-control{display:none;}margin-bottom:0 !important;"]),y=m.d.div.withConfig({componentId:"wb__sc-d80bc1-1"})([".ant-row + .ant-row{margin-top:12px;}"]);var f=a(1291),w=a(2824),C=a(2934),I=a(772);const k=()=>{const e=Object(h.b)((e=>e.headerRef)),t=Object(h.b)((e=>e.inventory_purchase.date)),a=Object(h.b)((e=>e.inventory_purchase.number)),n=Object(h.b)((e=>e.inventory_purchase.vendor_id)),s=Object(h.b)((e=>e.inventory_purchase.finished||!!e.inventory_purchase.imported_electronic_invoice_id)),i=Object(h.b)((e=>e.purchaseDispatch));return Object(v.jsx)(r.a,{layout:"vertical",children:Object(v.jsxs)(j.g,{gutter:8,children:[Object(v.jsx)(o.a,{span:7,ref:e,children:Object(v.jsx)(r.a.Item,{label:Object(c.b)("words.number"),children:Object(v.jsx)(w.a,{className:"hide-number-button",placeholder:Object(c.b)("purchases.note_number"),style:{width:"100%"},disabled:s,onChange:e=>{i({type:"set_number",payload:e.target.value})},value:a})})}),Object(v.jsx)(o.a,{span:12,children:Object(v.jsx)(r.a.Item,{required:!0,label:Object(c.b)("words.vendor"),validateStatus:n?void 0:"error",children:Object(v.jsx)(I.a,{value:n,style:{width:"100%"},disabled:s,onChange:e=>i({type:"set_vendor_id",payload:e}),placeholder:Object(c.b)("purchases.inform_supplier")})})}),Object(v.jsx)(o.a,{span:5,children:Object(v.jsx)(r.a.Item,{label:Object(c.b)("words.date"),children:Object(v.jsx)(C.a,{allowClear:!1,format:"LL",value:t,style:{width:"100%"},disabled:s,onChange:e=>{e&&i({type:"set_date",payload:e})}})})})]})})};k.displayName="Header";var z=k,$=a(339),S=a(586);const V=e=>{const{loading:t,has_error:a}=e;return Object(v.jsxs)(q,{children:[Object(v.jsx)($.a,{loading:t}),Object(v.jsx)(S.a,{visible:a,small:!1,zIndex:1,$fullHeight:!0}),Object(v.jsx)(z,{}),Object(v.jsx)(_,{}),Object(v.jsx)(f.b,{})]})};V.displayName="PurchaseDesktop";t.default=V;const q=m.d.div.withConfig({componentId:"wb__sc-1qvyuvu-0"})(["position:relative;background-color:#FFFFFF;margin-bottom:61px;"])},701:function(e,t,a){"use strict";var n=a(0),c=a(250);var s=a(2937),r=a(50),o=a(27),i=a(339),l=a(586),d=a(37),b=a(1850),j=a(116),u=a(76);const h=d.e`
  mutation InventoryVendorDrawer ($data: SaveInventoryVendorInput!) {
    saveInventoryVendor (input: $data) {
      success
      errors
      inventory_vendor {
        id
        name
        phone2
      }
    }
  }
`;var p=()=>{const[e,{loading:t}]=Object(b.a)(h);return[async t=>{try{const{data:a}=await e({variables:{data:t}}),{success:n=!1,errors:c=[],inventory_vendor:s}=(null===a||void 0===a?void 0:a.saveInventoryVendor)||{};return null===c||void 0===c||c.forEach((e=>j.b.error(e))),{success:n,inventory_vendor:s}}catch(a){return u.a.captureException(a),j.b.error(Object(r.b)("phrases.generic_save_error_message")),console.error(a),{success:!1,inventory_vendor:void 0}}},{loading:t}]},O=a(2879);const m=d.e`
  query InventoryVendorDrawer ($id: ID) {
    inventory_vendor (id: $id) {
      id name active phone1 phone2 email cnpj insc
      city_id state_id address number complement district cep
    }
  }
`;var v=e=>{let{onCompleted:t}=e;return Object(O.a)(m,{fetchPolicy:"network-only",onCompleted:e=>{const{inventory_vendor:a}=e;t(a)},onError:e=>{u.a.captureException(e),console.log(e)}})},x=a(19),_=a(2824),g=a(2883),y=a(3023),f=a(603),w=a(806),C=a(807),I=a(591),k=a(626),z=a.n(k),$=a(22);var S=e=>{let{id:t,setFieldsValue:a}=e;const i=Object(n.useRef)(null),l=Object(o.a)((e=>e.is_mobile));return Object(n.useEffect)((()=>{let e;return t||(e=setTimeout((()=>{var e;return null===(e=i.current)||void 0===e?void 0:e.focus()}),700)),()=>clearTimeout(e)}),[t]),Object($.jsxs)($.Fragment,{children:[Object($.jsx)(s.a.Item,{name:"id",noStyle:!0,children:Object($.jsx)(_.a,{type:"hidden"})}),Object($.jsxs)(c.g,{gutter:8,$wrap:!0,children:[Object($.jsx)(g.a,{xs:24,sm:12,children:Object($.jsx)(s.a.Item,{name:"name",label:Object(r.b)("words.name"),rules:[{required:!0,message:Object(r.b)("phrases.required_field")}],children:Object($.jsx)(_.a,{size:l?"large":"middle",ref:i,placeholder:Object(r.b)("words.name"),autoComplete:"off"})})}),Object($.jsx)(g.a,{xs:24,sm:12,children:Object($.jsx)(s.a.Item,{name:"email",label:Object(r.b)("words.email"),rules:[{type:"email",message:Object(r.b)("phrases.invalid_email")}],children:Object($.jsx)(_.a,{placeholder:Object(r.b)("words.email"),autoComplete:"off",size:l?"large":"middle"})})}),Object($.jsx)(g.a,{xs:24,sm:12,children:Object($.jsx)(s.a.Item,{name:"phone2",label:Object(r.b)("words.cellphone"),validateTrigger:"onBlur",rules:[{validateTrigger:"onBlur",validator:f.i}],children:Object($.jsx)(I.a,{size:l?"large":"middle"})})}),Object($.jsx)(g.a,{xs:24,sm:12,children:Object($.jsx)(s.a.Item,{name:"phone1",label:Object(r.b)("words.phone"),validateTrigger:"onBlur",rules:[{validateTrigger:"onBlur",validator:f.i}],children:Object($.jsx)(I.a,{size:l?"large":"middle"})})}),Object($.jsx)(g.a,{xs:24,sm:12,children:Object($.jsx)(s.a.Item,{name:"insc",label:Object(r.b)("vendors.state_registration"),children:Object($.jsx)(_.a,{size:l?"large":"middle",placeholder:Object(r.b)("vendors.state_registration"),autoComplete:"off"})})}),Object($.jsx)(g.a,{xs:24,sm:12,children:Object($.jsx)(s.a.Item,{name:"cnpj",label:Object(r.b)("acronyms.cnpj"),children:Object($.jsx)(z.a,{mask:"**.***.***/****-99",maskPlaceholder:null,placeholder:Object(r.b)("acronyms.cnpj"),autoComplete:"off",maxLength:18,children:Object($.jsx)(_.a,{size:l?"large":"middle",style:{textTransform:"uppercase"}})})})}),Object($.jsx)(g.a,{span:24,children:Object($.jsx)(s.a.Item,{name:"active",valuePropName:"checked",initialValue:!0,label:Object(r.b)("words.active"),help:Object(r.b)("vendors.active_description"),children:Object($.jsx)(y.a,{})})})]}),Object($.jsx)(w.StyledCollapse,{ghost:!0,expandIconPosition:"end",items:[{key:"address",forceRender:!0,label:Object($.jsx)(c.h,{$size:20,$semibold:!0,children:Object(r.b)("words.address")}),children:Object($.jsx)(C.a,{setFieldsValue:a})}]})]})},V=a(581);const q=(e,t)=>{const[a,d]=Object(n.useState)(!1),[b,u]=Object(n.useState)(void 0),[h,O]=Object(n.useState)(void 0),m=Object(o.a)((e=>e.is_mobile)),{afterSave:x}=e,[_]=s.a.useForm(),{resetFields:g,setFieldsValue:y,submit:f}=_,[w,{loading:C}]=p(),I=Object(n.useCallback)((e=>{y(e)}),[y]),[k,{loading:z,error:q}]=v({onCompleted:I}),N=()=>{d(!1)},E=function(){let{id:e,initial_values:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e?(u(e),k({variables:{id:e}})):O(t),d(!0)};Object(n.useImperativeHandle)(t,(()=>({open:E,close:N})));const B=Object(n.useMemo)((()=>b?`${Object(r.b)("verbs.editing")} ${Object(r.b)("words.vendor").toLocaleLowerCase()}`:`${Object(r.b)("words.new")} ${Object(r.b)("words.vendor").toLocaleLowerCase()}`),[b]);return Object($.jsx)(c.a,{open:a,title:B,width:650,placement:m?"bottom":"right",height:"100%",onClose:N,closable:!0,destroyOnClose:!0,afterOpenChange:e=>{e||(g(),O(void 0),u(void 0))},footer:Object($.jsx)(V.a,{close:N,submit:f,loading:z||C,disabled:!1}),children:Object($.jsxs)(F,{children:[Object($.jsx)(i.a,{loading:z}),Object($.jsx)(s.a,{form:_,layout:"vertical",onFinish:async e=>{const t=(e=>({...e,phone2:e.phone2&&e.phone2.length<4?null:e.phone2,phone1:e.phone1&&e.phone1.length<4?null:e.phone1}))(e),{success:a,inventory_vendor:n}=await w(t);a&&(j.b.success(Object(r.b)("phrases.saved_successfully",{prefix:Object(r.b)("words.vendor")})),N(),null===x||void 0===x||x(n))},style:{width:"100%"},initialValues:h,children:Object($.jsx)(l.a,{visible:!!q,small:m,children:Object($.jsx)(S,{id:b,setFieldsValue:y})})})]})})};q.displayName="VendorDrawer";t.a=Object(n.memo)(Object(n.forwardRef)(q));const F=Object(x.d)(c.g).withConfig({componentId:"wb__sc-264ncu-0"})(["position:relative;"])},716:function(e,t,a){"use strict";var n=a(13),c=a(0),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-32 736H663.9V602.2h104l15.6-120.7H663.9v-77.1c0-35 9.7-58.8 59.8-58.8h63.9v-108c-11.1-1.5-49-4.8-93.2-4.8-92.2 0-155.3 56.3-155.3 159.6v89H434.9v120.7h104.3V848H176V176h672v672z"}}]},name:"facebook",theme:"outlined"},r=a(71),o=function(e,t){return c.createElement(r.a,Object(n.a)({},e,{ref:t,icon:s}))},i=c.forwardRef(o);t.a=i},717:function(e,t,a){"use strict";var n=a(13),c=a(0),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 306.9c-113.5 0-205.1 91.6-205.1 205.1S398.5 717.1 512 717.1 717.1 625.5 717.1 512 625.5 306.9 512 306.9zm0 338.4c-73.4 0-133.3-59.9-133.3-133.3S438.6 378.7 512 378.7 645.3 438.6 645.3 512 585.4 645.3 512 645.3zm213.5-394.6c-26.5 0-47.9 21.4-47.9 47.9s21.4 47.9 47.9 47.9 47.9-21.3 47.9-47.9a47.84 47.84 0 00-47.9-47.9zM911.8 512c0-55.2.5-109.9-2.6-165-3.1-64-17.7-120.8-64.5-167.6-46.9-46.9-103.6-61.4-167.6-64.5-55.2-3.1-109.9-2.6-165-2.6-55.2 0-109.9-.5-165 2.6-64 3.1-120.8 17.7-167.6 64.5C132.6 226.3 118.1 283 115 347c-3.1 55.2-2.6 109.9-2.6 165s-.5 109.9 2.6 165c3.1 64 17.7 120.8 64.5 167.6 46.9 46.9 103.6 61.4 167.6 64.5 55.2 3.1 109.9 2.6 165 2.6 55.2 0 109.9.5 165-2.6 64-3.1 120.8-17.7 167.6-64.5 46.9-46.9 61.4-103.6 64.5-167.6 3.2-55.1 2.6-109.8 2.6-165zm-88 235.8c-7.3 18.2-16.1 31.8-30.2 45.8-14.1 14.1-27.6 22.9-45.8 30.2C695.2 844.7 570.3 840 512 840c-58.3 0-183.3 4.7-235.9-16.1-18.2-7.3-31.8-16.1-45.8-30.2-14.1-14.1-22.9-27.6-30.2-45.8C179.3 695.2 184 570.3 184 512c0-58.3-4.7-183.3 16.1-235.9 7.3-18.2 16.1-31.8 30.2-45.8s27.6-22.9 45.8-30.2C328.7 179.3 453.7 184 512 184s183.3-4.7 235.9 16.1c18.2 7.3 31.8 16.1 45.8 30.2 14.1 14.1 22.9 27.6 30.2 45.8C844.7 328.7 840 453.7 840 512c0 58.3 4.7 183.2-16.2 235.8z"}}]},name:"instagram",theme:"outlined"},r=a(71),o=function(e,t){return c.createElement(r.a,Object(n.a)({},e,{ref:t,icon:s}))},i=c.forwardRef(o);t.a=i},750:function(e,t,a){"use strict";var n=a(0),c=a(583),s=a(19),r=a(591),o=a(117),i=a(22);const l=e=>{const{item:t}=e;return Object(i.jsxs)(d,{children:[Object(i.jsx)(c.b,{width:12,$block:!0,children:null===t||void 0===t?void 0:t.name}),Object(i.jsx)(c.b,{width:12,$block:!0,$color:"gray_1",$size:12,children:(!(null===t||void 0===t||!t.phone2)||!(null===t||void 0===t||!t.phone1))&&Object(i.jsx)(r.a,{hide_input_styles:!0,disabled:!0,value:(null===t||void 0===t?void 0:t.phone2)||(null===t||void 0===t?void 0:t.phone1),inputStyle:{fontSize:12,color:o.a.gray_2}},(null===t||void 0===t?void 0:t.phone2)||(null===t||void 0===t?void 0:t.phone1))})]})};l.displayName="VendorItemMobile",t.a=Object(n.memo)(l);const d=s.d.div.withConfig({componentId:"wb__sc-lot0ij-0"})(["overflow:hidden;padding-top:8px;"])},772:function(e,t,a){"use strict";var n=a(0),c=a(50),s=a(250),r=a(1256),o=a(696),i=a(680),l=a(701),d=a(750),b=a(37),j=a(2879),u=a(76),h=a(116);const p=b.e`
  query VendorsInput($actives: Boolean) {
    vendors(actives: $actives) {
      id name phone2 phone1
    }
  }
`;var O=e=>Object(j.a)(p,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,onError:e=>{u.a.captureException(e),console.log(e),h.b.error(Object(c.b)("phrases.generic_load_error_message"))},onCompleted:t=>{let{vendors:a=[]}=t;e(a)}}),m=a(22);const{Option:v}=r.a,x=e=>{const[t,a]=Object(n.useState)([]),{show_phone:r=!0,initial_values:b,initial_search:j,...u}=e,h=Object(n.useRef)(null),p=Object(n.useRef)(null),[x,{loading:_}]=O(a);Object(n.useEffect)((()=>{if(!u.value)return void x({variables:{actives:!0}});t.some((e=>String(e.id)===String(u.value)))||x({variables:{actives:null}})}),[x,u.value,t]),Object(n.useEffect)((()=>{if(!j)return;const e=t.find((e=>String(e.name)===j));var a;e&&(null===(a=u.onChange)||void 0===a||a.call(u,e.id,{label:e.id,value:e.id,key:e.id,name:e.name,item:e}))}),[j,u,t]);const g=Object(n.useMemo)((()=>{const e=[{key:"name",name:Object(c.b)("words.name"),full:!0}];return r&&e.push({key:"phone2",name:Object(c.b)("words.phone"),span:7}),e}),[r]),y=Object(i.a)(g),f=Object(n.useCallback)((e=>e.map((e=>Object(m.jsx)(v,{value:e.id,name:e.name,title:e.name,item:e,children:Object(m.jsx)(y.Item,{name:e.name,phone2:e.phone2||e.phone1})},e.id)))),[y]),w=Object(n.useCallback)((()=>Object(m.jsx)(s.g,{$column:!0,$left:10,children:Object(c.b)("input.no_vendor")})),[]),C=Object(n.useCallback)((t=>{var a,n,c;const s="multiple"===e.mode?[...e.value,t.id]:t.id;null===(a=e.onChange)||void 0===a||a.call(e,s,{label:t.id,value:t.id,key:t.id,name:t.name,item:t}),null===(n=h.current)||void 0===n||null===(c=n.closeDrawer)||void 0===c||c.call(n)}),[e]),I=Object(n.useCallback)((e=>{var t;const a={...b,name:e||(null===b||void 0===b?void 0:b.name)};null===(t=p.current)||void 0===t||t.open({initial_values:a})}),[b]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(o.a,{ref:h,model_name:Object(c.b)("words.vendor").toLocaleLowerCase(),loading:_,search_keys:Object(n.useMemo)((()=>["name","phone2"]),[]),items:t,SelectDropdown:y,renderOptions:f,popupClassName:"ant-select-dropdown-medium",placeholder:Object(c.b)("words.vendor"),MobileItem:d.a,openDrawer:I,EmptyItem:w,style:{width:"100%"},...u}),Object(m.jsx)(l.a,{ref:p,afterSave:C})]})};t.a=Object(n.memo)(x)}}]);
//# sourceMappingURL=87.7577e960.chunk.js.map