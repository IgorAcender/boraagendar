(this["webpackJsonpwebook-react"]=this["webpackJsonpwebook-react"]||[]).push([[220],{3086:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a(1813),r=a(50),s=a(596),l=a(613),c=a(2975),o=a(3025),d=a(116),b=a(250),j=a(599),p=a(27),_=a(53),m=a.n(_),h=a(22);var u=e=>{let{clientDrawerRef:t,saleDrawerRef:a,employeeDrawerRef:n}=e;const s=Object(p.a)((e=>e.current_user.permissions)),l=Object(p.a)((e=>e.theme));return Object(i.useMemo)((()=>[{title:Object(r.b)("words.date"),key:"created_at",dataIndex:"created_at",width:175,render:e=>m()(e,"YYYY-MM-DD HH:mm:ss").format("L, HH:mm[h]"),align:"left"},{title:Object(r.b)("words.sale"),key:"inventory_sale",dataIndex:"inventory_sale",align:"center",width:90,render:e=>Object(h.jsx)(b.i,{onClick:()=>{var t;s.can_edit_sale?null===(t=a.current)||void 0===t||t.open({sale_id:e.id}):d.b.warning(Object(r.b)("phrases.no_permission_to_do_this"))},children:`#${e.code}`})},{title:Object(r.b)("words.client"),key:"inventory_sale",ellipsis:!0,dataIndex:"inventory_sale",render:e=>Object(h.jsxs)(b.i,{className:"link text-overflow-ellipsis",onClick:()=>{var a;s.can_edit_client?null===(a=t.current)||void 0===a||a.open({id:e.client.id,initial_active_bar:"panel"}):d.b.warning(Object(r.b)("phrases.no_permission_to_do_this"))},children:[e.client.has_avatar?Object(h.jsx)(j.a,{size:"small",src:e.client.avatar_url,blurhash:e.client.avatar_blurhash}):Object(h.jsx)(c.a,{style:{backgroundColor:l.color_primary},size:"small",children:e.client.name_initials.toUpperCase()}),Object(h.jsx)(b.h,{$mLeft:6,children:e.client.name})]})},{title:Object(r.b)("words.employee"),key:"employee",dataIndex:"employee",ellipsis:!0,width:150,render:e=>Object(h.jsx)(b.i,{onClick:()=>{var t;s.can_edit_employee?null===(t=n.current)||void 0===t||t.open({id:e.id}):d.b.warning(Object(r.b)("phrases.no_permission_to_do_this"))},children:e.name.split(" ")[0]})},{title:Object(r.b)("words.review"),key:"rating",dataIndex:"rating",width:150,render:e=>Object(h.jsx)(o.a,{disabled:!0,value:e})},{title:Object(r.b)("words.comment"),key:"description",dataIndex:"description"}]),[t,n,s.can_edit_client,s.can_edit_employee,s.can_edit_sale,a,l.color_primary])},O=a(616),w=a(690);const y=e=>{const{reviews:t,total_count:a,loading:c,handleChangeFilters:o,filters:d}=e,j=Object(i.useRef)(null),p=Object(i.useRef)(null),_=Object(i.useRef)(null),m=u({saleDrawerRef:p,clientDrawerRef:j,employeeDrawerRef:_});return Object(h.jsxs)(b.g,{children:[Object(h.jsx)(O.b,{columns:m,dataSource:t,loading:c,tableLayout:"fixed",rowKey:"id",size:"middle",locale:{emptyText:Object(h.jsx)(n.a,{description:Object(r.b)("phrases.empty"),image:n.a.PRESENTED_IMAGE_SIMPLE})},pagination:{current:d.page,pageSize:d.results,showSizeChanger:!1,hideOnSinglePage:!0,showTotal:e=>Object(r.b)("phrases.in_total",{count:e}),onChange:e=>o({page:e}),total:a}}),Object(h.jsx)(l.a,{ref:p}),Object(h.jsx)(s.a,{ref:j}),Object(h.jsx)(w.a,{ref:_})]})};y.displayName="RatingsDesktop";t.default=Object(i.memo)(y)}}]);
//# sourceMappingURL=220.596cdb7a.chunk.js.map